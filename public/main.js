!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=361)}([function(t,e,n){"use strict";t.exports=n(362)},function(t,e,n){t.exports=n(432)()},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(368),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var r=arguments[e];if(r){var o=typeof r;if("string"===o||"number"===o)t.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&t.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)}()},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(49),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,o.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){var r=n(429),i=n(62)(r);t.exports=i},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(242),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(396)),i=a(n(400)),o=a(n(49));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,o.default)(e)));t.prototype=(0,i.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){var r=n(47),i=n(35),o=n(296),a=n(18);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(256),i=n(62),o=n(132),a=i((function(t,e){return o(t)?r(t,e):[]}));t.exports=a},function(t,e){function n(t,e){return{type:"Feature",properties:e||{},geometry:t}}t.exports.feature=n,t.exports.point=function(t,e){if(!Array.isArray(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return n({type:"Point",coordinates:t.slice()},e)},t.exports.polygon=function(t,e){if(!t)throw new Error("No coordinates passed");for(var r=0;r<t.length;r++){var i=t[r];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<i[i.length-1].length;o++)if(i[i.length-1][o]!==i[0][o])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e)},t.exports.lineString=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"LineString",coordinates:t},e)},t.exports.featureCollection=function(t){return{type:"FeatureCollection",features:t}},t.exports.multiLineString=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:t},e)},t.exports.multiPoint=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:t},e)},t.exports.multiPolygon=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:t},e)},t.exports.geometryCollection=function(t,e){return n({type:"GeometryCollection",geometries:t},e)};var r={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373};t.exports.radiansToDistance=function(t,e){var n=r[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t*n},t.exports.distanceToRadians=function(t,e){var n=r[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n},t.exports.distanceToDegrees=function(t,e){var n=r[e||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return t/n*57.2958}},function(t,e){t.exports={}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(484),i=n(486);t.exports=function(t,e,n){return r(i,t,e,n)}},function(t,e,n){var r=n(126);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=n(130),i=n(39),o=n(107),a=n(52),s=n(64),l=Math.max;t.exports=function(t,e,n,u){t=i(t)?t:s(t),n=n&&!u?a(n):0;var c=t.length;return n<0&&(n=l(c+n,0)),o(t)?n<=c&&t.indexOf(e,n)>-1:!!c&&r(t,e,n)>-1}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(477),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o.default)(t)}},function(t,e,n){var r=n(101),i=n(76),o=n(277),a=n(18);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){var r=n(261),i=n(137),o=n(39);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(e.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(403),i=n(247);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(248),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(466)),i=o(n(469));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var s,l=(0,i.default)(t);!(r=(s=l.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}n.d(e,"a",(function(){return r}))},function(t,e,n){var r=n(446),i=n(459),o=n(51),a=n(18),s=n(461);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(148).getCoord,i=n(16).radiansToDistance;t.exports=function(t,e,n){var o=Math.PI/180,a=r(t),s=r(e),l=o*(s[1]-a[1]),u=o*(s[0]-a[0]),c=o*a[1],p=o*s[1],h=Math.pow(Math.sin(l/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(c)*Math.cos(p);return i(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),n)}},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var r="undefined"!=typeof window?window:t,i=(void 0!==t||window,"undefined"!=typeof document?document:{})}).call(this,n(60))},function(t,e,n){var r=n(19)("map",n(14));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(54),i=n(192);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e){t.exports={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1}},function(t,e,n){var r=n(137),i=n(63),o=n(124),a=n(18),s=n(39),l=n(99),u=n(100),c=n(135),p=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||c(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(u(t))return!r(t).length;for(var n in t)if(p.call(t,n))return!1;return!0}},function(t,e,n){var r=n(19)("flow",n(540));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(180)("wks"),i=n(116),o=n(57).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(73),i=n(404),o=n(405),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){"use strict";n.r(e);var r=n(34),i=n(12);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=n(7);function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?Object(a.a)(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(11);function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}var h=n(4),f=n(0),d=n.n(f),g=n(1),m=n.n(g);function v(t){if(!t)return null;if("string"==typeof t)return t;t.toJS&&(t=t.toJS());var e=t.layers.reduce((function(t,e){return Object.assign(t,Object(h.a)({},e.id,e))}),{});return t.layers=t.layers.map((function(t){delete(t=Object.assign({},t)).interactive;var n=e[t.ref];return n&&(delete t.ref,void 0!==n.type&&(t.type=n.type),void 0!==n.source&&(t.source=n.source),void 0!==n["source-layer"]&&(t["source-layer"]=n["source-layer"]),void 0!==n.minzoom&&(t.minzoom=n.minzoom),void 0!==n.maxzoom&&(t.maxzoom=n.maxzoom),void 0!==n.filter&&(t.filter=n.filter),void 0!==n.layout&&(t.layout=t.layout||{},t.layout=Object.assign({},t.layout,n.layout))),t})),t}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var b,x;b=new _(4),_!=Float32Array&&(b[0]=0,b[1]=0,b[2]=0,b[3]=0),x=b;function w(t,e){var n=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}([],e,t);return function(t,e,n){t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n}(n,n,1/n[3]),n}function E(t,e){var n=t%e;return n<0?e+n:n}function C(t,e,n){return n*e+(1-n)*t}function S(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],h=e[10],f=e[11],d=e[12],g=e[13],m=e[14],v=e[15],y=n*s-r*a,_=n*l-i*a,b=n*u-o*a,x=r*l-i*s,w=r*u-o*s,E=i*u-o*l,C=c*g-p*d,S=c*m-h*d,T=c*v-f*d,k=p*m-h*g,O=p*v-f*g,I=h*v-f*m,P=y*I-_*O+b*k+x*T-w*S+E*C;return P?(P=1/P,t[0]=(s*I-l*O+u*k)*P,t[1]=(i*O-r*I-o*k)*P,t[2]=(g*E-m*w+v*x)*P,t[3]=(h*w-p*E-f*x)*P,t[4]=(l*T-a*I-u*S)*P,t[5]=(n*I-i*T+o*S)*P,t[6]=(m*b-d*E-v*_)*P,t[7]=(c*E-h*b+f*_)*P,t[8]=(a*O-s*T+u*C)*P,t[9]=(r*T-n*O-o*C)*P,t[10]=(d*w-g*b+v*y)*P,t[11]=(p*b-c*w-f*y)*P,t[12]=(s*S-a*k-l*C)*P,t[13]=(n*k-r*S+i*C)*P,t[14]=(g*_-d*x-m*y)*P,t[15]=(c*x-p*_+h*y)*P,t):null}function T(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=e[9],f=e[10],d=e[11],g=e[12],m=e[13],v=e[14],y=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*p+w*g,t[1]=_*i+b*l+x*h+w*m,t[2]=_*o+b*u+x*f+w*v,t[3]=_*a+b*c+x*d+w*y,_=n[4],b=n[5],x=n[6],w=n[7],t[4]=_*r+b*s+x*p+w*g,t[5]=_*i+b*l+x*h+w*m,t[6]=_*o+b*u+x*f+w*v,t[7]=_*a+b*c+x*d+w*y,_=n[8],b=n[9],x=n[10],w=n[11],t[8]=_*r+b*s+x*p+w*g,t[9]=_*i+b*l+x*h+w*m,t[10]=_*o+b*u+x*f+w*v,t[11]=_*a+b*c+x*d+w*y,_=n[12],b=n[13],x=n[14],w=n[15],t[12]=_*r+b*s+x*p+w*g,t[13]=_*i+b*l+x*h+w*m,t[14]=_*o+b*u+x*f+w*v,t[15]=_*a+b*c+x*d+w*y,t}function k(t,e,n){var r,i,o,a,s,l,u,c,p,h,f,d,g=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=e[9],f=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=h,t[10]=f,t[11]=d,t[12]=r*g+s*m+p*v+e[12],t[13]=i*g+l*m+h*v+e[13],t[14]=o*g+u*m+f*v+e[14],t[15]=a*g+c*m+d*v+e[15]),t}function O(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function I(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],p=t[9],h=t[10],f=t[11],d=t[12],g=t[13],m=t[14],v=t[15],y=e[0],_=e[1],b=e[2],x=e[3],w=e[4],E=e[5],C=e[6],S=e[7],T=e[8],k=e[9],O=e[10],I=e[11],P=e[12],N=e[13],M=e[14],A=e[15];return Math.abs(n-y)<=1e-6*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-_)<=1e-6*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-b)<=1e-6*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-x)<=1e-6*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-w)<=1e-6*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-E)<=1e-6*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(l-C)<=1e-6*Math.max(1,Math.abs(l),Math.abs(C))&&Math.abs(u-S)<=1e-6*Math.max(1,Math.abs(u),Math.abs(S))&&Math.abs(c-T)<=1e-6*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(p-k)<=1e-6*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(h-O)<=1e-6*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(f-I)<=1e-6*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(d-P)<=1e-6*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(g-N)<=1e-6*Math.max(1,Math.abs(g),Math.abs(N))&&Math.abs(m-M)<=1e-6*Math.max(1,Math.abs(m),Math.abs(M))&&Math.abs(v-A)<=1e-6*Math.max(1,Math.abs(v),Math.abs(A))}function P(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function N(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function M(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function A(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}var L=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t};!function(){var t=function(){var t=new _(2);return _!=Float32Array&&(t[0]=0,t[1]=0),t}()}();!function(){var t=function(){var t=new _(3);return _!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}()}();function R(t,e){if(!t)throw new Error(e||"viewport-mercator-project: assertion failed.")}var D=Math.PI,z=D/4,F=D/180,j=180/D;function B(t){return Math.pow(2,t)}function U(t){return Math.log2(t)}function V(t,e){var n=y(t,2),r=n[0],i=n[1];R(Number.isFinite(r)&&Number.isFinite(e)),R(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude");var o=i*F;return[(e*=512)*(r*F+D)/(2*D),e*(D-Math.log(Math.tan(z+.5*o)))/(2*D)]}function q(t,e){var n=y(t,2),r=n[0],i=n[1],o=r/(e*=512)*(2*D)-D,a=2*(Math.atan(Math.exp(D-i/e*(2*D)))-z);return[o*j,a*j]}function G(t){var e=t.latitude,n=t.longitude,r=t.zoom,i=t.scale,o=t.highPrecision,a=void 0!==o&&o;i=void 0!==i?i:B(r),R(Number.isFinite(e)&&Number.isFinite(n)&&Number.isFinite(i));var s={},l=512*i,u=Math.cos(e*F),c=l/360,p=c/u,h=l/4003e4/u;if(s.pixelsPerMeter=[h,-h,h],s.metersPerPixel=[1/h,-1/h,1/h],s.pixelsPerDegree=[c,-p,h],s.degreesPerPixel=[1/c,-1/p,1/h],a){var f=F*Math.tan(e*F)/u,d=c*f/2,g=l/4003e4*f,m=g/p*h;s.pixelsPerDegree2=[0,-d,g],s.pixelsPerMeter2=[m,0,m]}return s}function W(t){var e=t.height,n=t.pitch,r=t.bearing,i=t.altitude,o=t.center,a=void 0===o?null:o,s=t.flipY,l=void 0!==s&&s,u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return k(u,u,[0,0,-i]),O(u,u,[1,1,1/e]),function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],h=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+p*r,t[7]=l*i+h*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=p*i-s*r,t[11]=h*i-l*r}(u,u,-n*F),function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],p=e[6],h=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+p*r,t[3]=l*i+h*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=p*i-s*r,t[7]=h*i-l*r}(u,u,r*F),l&&O(u,u,[1,-1,1]),a&&k(u,u,function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}([],a)),u}function H(t){var e=t.width,n=t.height,r=t.pitch,i=function(t){var e=t.width,n=t.height,r=t.altitude,i=void 0===r?1.5:r,o=t.pitch,a=void 0===o?0:o,s=t.nearZMultiplier,l=void 0===s?1:s,u=t.farZMultiplier,c=void 0===u?1:u,p=a*F,h=Math.atan(.5/i),f=Math.sin(h)*i/Math.sin(Math.PI/2-p-h),d=Math.cos(Math.PI/2-p)*f+i;return{fov:2*Math.atan(n/2/i),aspect:e/n,focalDistance:i,near:l,far:d*c}}({width:e,height:n,altitude:t.altitude,pitch:r,nearZMultiplier:t.nearZMultiplier,farZMultiplier:t.farZMultiplier});return function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}([],i.fov,i.aspect,i.near,i.far)}function Y(t,e){var n=y(t,3),r=n[0],i=n[1],o=n[2],a=void 0===o?0:o;return R(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(a)),w(e,[r,i,a,1])}function X(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=y(t,3),i=r[0],o=r[1],a=r[2];if(R(Number.isFinite(i)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a)){var s=w(e,[i,o,a,1]);return s}var l=w(e,[i,o,0,1]),u=w(e,[i,o,1,1]),c=l[2],p=u[2],h=c===p?0:((n||0)-c)/(p-c);return A([],l,u,h)}var Z=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function K(t){var e=t.width,n=t.height,r=t.bounds,i=t.minExtent,o=void 0===i?0:i,a=t.maxZoom,s=void 0===a?24:a,l=t.padding,u=void 0===l?0:l,c=t.offset,p=void 0===c?[0,0]:c,h=y(r,2),f=y(h[0],2),d=f[0],g=f[1],m=y(h[1],2),v=m[0],_=m[1];if(Number.isFinite(u)){u={top:u,bottom:u,left:u,right:u}}else R(Number.isFinite(u.top)&&Number.isFinite(u.bottom)&&Number.isFinite(u.left)&&Number.isFinite(u.right));var b=new $({width:e,height:n,longitude:0,latitude:0,zoom:0}),x=b.project([d,_]),w=b.project([v,g]),E=[Math.max(Math.abs(w[0]-x[0]),o),Math.max(Math.abs(w[1]-x[1]),o)],C=[e-u.left-u.right-2*Math.abs(p[0]),n-u.top-u.bottom-2*Math.abs(p[1])];R(C[0]>0&&C[1]>0);var S=C[0]/E[0],T=C[1]/E[1],k=(u.right-u.left)/2/S,O=(u.bottom-u.top)/2/T,I=[(w[0]+x[0])/2+k,(w[1]+x[1])/2+O],P=b.unproject(I),N=b.zoom+Math.log2(Math.abs(Math.min(S,T)));return{longitude:P[0],latitude:P[1],zoom:Math.min(N,s)}}var $=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.width,o=n.height,u=n.latitude,c=void 0===u?0:u,p=n.longitude,h=void 0===p?0:p,f=n.zoom,d=void 0===f?0:f,g=n.pitch,m=void 0===g?0:g,v=n.bearing,y=void 0===v?0:v,_=n.altitude,b=void 0===_?1.5:_,x=n.nearZMultiplier,w=n.farZMultiplier;Object(i.a)(this,e),r=r||1,o=o||1;var E=B(d);b=Math.max(.75,b);var C=V([h,c],E);C[2]=0;var S=H({width:r,height:o,pitch:m,bearing:y,altitude:b,nearZMultiplier:x||1/o,farZMultiplier:w||1.01}),T=W({height:o,center:C,pitch:m,bearing:y,altitude:b,flipY:!0});return(t=s(this,l(e).call(this,{width:r,height:o,viewMatrix:T,projectionMatrix:S}))).latitude=c,t.longitude=h,t.zoom=d,t.pitch=m,t.bearing=y,t.altitude=b,t.scale=E,t.center=C,t.pixelsPerMeter=G(Object(a.a)(Object(a.a)(t))).pixelsPerMeter[2],Object.freeze(Object(a.a)(Object(a.a)(t))),t}return p(e,t),Object(u.a)(e,[{key:"projectFlat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return V(t,e)}},{key:"unprojectFlat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return q(t,e)}},{key:"getMapCenterByLngLatPosition",value:function(t){var e=t.lngLat,n=X(t.pos,this.pixelUnprojectionMatrix),r=P([],V(e,this.scale),function(t,e){return t[0]=-e[0],t[1]=-e[1],t}([],n));return q(P([],this.center,r),this.scale)}},{key:"getLocationAtPoint",value:function(t){var e=t.lngLat,n=t.pos;return this.getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"fitBounds",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.width,i=this.height,o=K(Object.assign({width:r,height:i,bounds:t},n)),a=o.longitude,s=o.latitude,l=o.zoom;return new e({width:r,height:i,longitude:a,latitude:s,zoom:l})}}]),e}(function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=e.height,o=e.viewMatrix,a=void 0===o?Z:o,s=e.projectionMatrix,l=void 0===s?Z:s;Object(i.a)(this,t),this.width=n||1,this.height=r||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=a,this.projectionMatrix=l;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];T(u,u,this.projectionMatrix),T(u,u,this.viewMatrix),this.viewProjectionMatrix=u;var c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];O(c,c,[this.width/2,-this.height/2,1]),k(c,c,[1,-1,0]),T(c,c,this.viewProjectionMatrix);var p=S([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],c);if(!p)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=c,this.pixelUnprojectionMatrix=p,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return Object(u.a)(t,[{key:"equals",value:function(e){return e instanceof t&&(e.width===this.width&&e.height===this.height&&I(e.projectionMatrix,this.projectionMatrix)&&I(e.viewMatrix,this.viewMatrix))}},{key:"project",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=this.projectPosition(t),o=Y(i,this.pixelProjectionMatrix),a=y(o,2),s=a[0],l=a[1],u=r?l:this.height-l;return 2===t.length?[s,u]:[s,u,o[2]]}},{key:"unproject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.topLeft,r=void 0===n||n,i=e.targetZ,o=y(t,3),a=o[0],s=o[1],l=o[2],u=r?s:this.height-s,c=i&&i*this.pixelsPerMeter,p=X([a,u,l],this.pixelUnprojectionMatrix,c),h=this.unprojectPosition(p),f=y(h,3),d=f[0],g=f[1],m=f[2];return Number.isFinite(l)?[d,g,m]:Number.isFinite(i)?[d,g,i]:[d,g]}},{key:"projectPosition",value:function(t){var e=y(this.projectFlat(t),2);return[e[0],e[1],(t[2]||0)*this.pixelsPerMeter]}},{key:"unprojectPosition",value:function(t){var e=y(this.unprojectFlat(t),2);return[e[0],e[1],(t[2]||0)/this.pixelsPerMeter]}},{key:"projectFlat",value:function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return t}},{key:"unprojectFlat",value:function(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale;return t}}]),t}()),J=n(356),Q=n(173),tt=n(211),et=n.n(tt);function nt(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function rt(t,e){if(t===e)return!0;if(nt(t)&&nt(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!rt(t[n],e[n]))return!1;return!0}return Math.abs(t-e)<=1e-7}function it(t,e,n){return Math.max(e,Math.min(n,t))}function ot(t,e,n){return nt(t)?t.map((function(t,r){return ot(t,e[r],n)})):n*e+(1-n)*t}function at(t,e){if(!t)throw new Error(e||"react-map-gl: assertion failed.")}var st=function(){function t(){Object(i.a)(this,t),Object(h.a)(this,"propNames",[])}return Object(u.a)(t,[{key:"arePropsEqual",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=(this.propNames||[])[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!rt(t[s],e[s]))return!1}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0}},{key:"initializeProps",value:function(t,e){return{start:t,end:e}}},{key:"interpolateProps",value:function(t,e,n){at(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(t,e){return e.transitionDuration}}]),t}(),lt=["longitude","latitude","zoom"],ut={curve:1.414,speed:1.2};function ct(t,e,n){var r=(n=Object.assign({},ut,n)).curve,i=t.zoom,o=[t.longitude,t.latitude],a=B(i),s=e.zoom,l=[e.longitude,e.latitude],u=B(s-i),c=V(o,a),p=V(l,a),h=L([],p,c),f=Math.max(t.width,t.height),d=f/u,g=M(h),m=Math.max(g,.01),v=r*r,y=(d*d-f*f+v*v*m*m)/(2*f*v*m),_=(d*d-f*f-v*v*m*m)/(2*d*v*m),b=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(_*_+1)-_);return{startZoom:i,startCenterXY:c,uDelta:h,w0:f,u1:g,S:(x-b)/r,rho:r,rho2:v,r0:b,r1:x}}var pt={longitude:1,bearing:1};function ht(t){return Number.isFinite(t)||Array.isArray(t)}function ft(t,e,n){return function(t){return t in pt}(t)&&Math.abs(n-e)>180&&(n=n<0?n+360:n-360),n}var dt=["longitude","latitude","zoom","bearing","pitch"],gt=["latitude","longitude","zoom","width","height"],mt=["bearing","pitch"],vt={speed:1.2,curve:1.414},yt=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,e),t=s(this,l(e).call(this)),Object(h.a)(Object(a.a)(t),"speed",void 0),Object(h.a)(Object(a.a)(t),"propNames",dt),Object(h.a)(Object(a.a)(t),"props",void 0),t.props=Object.assign({},vt,n),t}return p(e,t),Object(u.a)(e,[{key:"initializeProps",value:function(t,e){var n={},r={},i=!0,o=!1,a=void 0;try{for(var s,l=gt[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=t[u],p=e[u];at(ht(c)&&ht(p),"".concat(u," must be supplied for transition")),n[u]=c,r[u]=ft(u,c,p)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}var h=!0,f=!1,d=void 0;try{for(var g,m=mt[Symbol.iterator]();!(h=(g=m.next()).done);h=!0){var v=g.value,y=t[v]||0,_=e[v]||0;n[v]=y,r[v]=ft(v,y,_)}}catch(t){f=!0,d=t}finally{try{h||null==m.return||m.return()}finally{if(f)throw d}}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){var r=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={},o=ct(t,e,r),a=o.startZoom,s=o.startCenterXY,l=o.uDelta,u=o.w0,c=o.u1,p=o.S,h=o.rho,f=o.rho2,d=o.r0;if(c<.01){for(var g=0;g<lt.length;g++){var m=lt[g],v=t[m],y=e[m];i[m]=C(v,y,n)}return i}var _=n*p,b=Math.cosh(d)/Math.cosh(d+h*_),x=u*((Math.cosh(d)*Math.tanh(d+h*_)-Math.sinh(d))/f)/c,w=1/b,E=a+U(w),S=N([],l,x);P(S,S,s),N(S,S,w);var T=q(S,B(E));return i.longitude=T[0],i.latitude=T[1],i.zoom=E,i}(t,e,n,this.props),i=!0,o=!1,a=void 0;try{for(var s,l=mt[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r[u]=ot(t[u],e[u],n)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}return r}},{key:"getDuration",value:function(t,e){var n=e.transitionDuration;return"auto"===n&&(n=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r=Object.assign({},ut,r),o=i.screenSpeed,a=i.speed,s=i.maxDuration,l=ct(t,e,r),u=l.S,c=l.rho,p=1e3*u;return n=Number.isFinite(o)?p/(o/c):p/a,Number.isFinite(s)&&n>s?0:n}(t,e,this.props)),n}}]),e}(st),_t=["longitude","latitude","zoom","bearing","pitch"],bt=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(this,e),t=s(this,l(e).call(this)),Object(h.a)(Object(a.a)(t),"around",void 0),Array.isArray(n)&&(n={transitionProps:n}),t.propNames=n.transitionProps||_t,n.around&&(t.around=n.around),t}return p(e,t),Object(u.a)(e,[{key:"initializeProps",value:function(t,e){var n={},r={};if(this.around){n.around=this.around;var i=new $(t).unproject(this.around);Object.assign(r,e,{around:new $(e).project(i),aroundLngLat:i})}var o=!0,a=!1,s=void 0;try{for(var l,u=this.propNames[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,p=t[c],h=e[c];at(ht(p)&&ht(h),"".concat(c," must be supplied for transition")),n[c]=p,r[c]=ft(c,p,h)}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return{start:n,end:r}}},{key:"interpolateProps",value:function(t,e,n){var r={},i=!0,o=!1,a=void 0;try{for(var s,l=this.propNames[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;r[u]=ot(t[u],e[u],n)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}if(e.around){var c=y(new $(Object.assign({},e,r)).getMapCenterByLngLatPosition({lngLat:e.aroundLngLat,pos:ot(t.around,e.around,n)}),2),p=c[0],h=c[1];r.longitude=p,r.latitude=h}return r}}]),e}(st),xt={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},wt=0,Et=0,Ct=1.5,St=function(){function t(e){var n=e.width,r=e.height,o=e.latitude,a=e.longitude,s=e.zoom,l=e.bearing,u=void 0===l?Et:l,c=e.pitch,p=void 0===c?wt:c,f=e.altitude,d=void 0===f?Ct:f,g=e.maxZoom,m=void 0===g?xt.maxZoom:g,v=e.minZoom,y=void 0===v?xt.minZoom:v,_=e.maxPitch,b=void 0===_?xt.maxPitch:_,x=e.minPitch,w=void 0===x?xt.minPitch:x,E=e.transitionDuration,C=e.transitionEasing,S=e.transitionInterpolator,T=e.transitionInterruption,k=e.startPanLngLat,O=e.startZoomLngLat,I=e.startBearing,P=e.startPitch,N=e.startZoom;Object(i.a)(this,t),Object(h.a)(this,"_viewportProps",void 0),Object(h.a)(this,"_interactiveState",void 0),at(Number.isFinite(n),"`width` must be supplied"),at(Number.isFinite(r),"`height` must be supplied"),at(Number.isFinite(a),"`longitude` must be supplied"),at(Number.isFinite(o),"`latitude` must be supplied"),at(Number.isFinite(s),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:r,latitude:o,longitude:a,zoom:s,bearing:u,pitch:p,altitude:d,maxZoom:m,minZoom:y,maxPitch:b,minPitch:w,transitionDuration:E,transitionEasing:C,transitionInterpolator:S,transitionInterruption:T}),this._interactiveState={startPanLngLat:k,startZoomLngLat:O,startBearing:I,startPitch:P,startZoom:N}}return Object(u.a)(t,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(e)})}},{key:"pan",value:function(t){var e=t.pos,n=t.startPos,r=this._interactiveState.startPanLngLat||this._unproject(n);if(!r)return this;var i=y(this._calculateNewLngLat({startPanLngLat:r,pos:e}),2),o=i[0],a=i[1];return this._getUpdatedMapState({longitude:o,latitude:a})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(t){t.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(t){var e=t.deltaScaleX,n=void 0===e?0:e,r=t.deltaScaleY,i=void 0===r?0:r,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var l=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:i,startBearing:a||0,startPitch:s||0}),u=l.pitch,c=l.bearing;return this._getUpdatedMapState({bearing:c,pitch:u})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(t){var e=t.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(e),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(t){var e=t.pos,n=t.startPos,r=t.scale;at(r>0,"`scale` must be a positive number");var i=this._interactiveState,o=i.startZoom,a=i.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(e)),at(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:r,startZoom:o||0}),l=y(new $(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:e}),2),u=l[0],c=l[1];return this._getUpdatedMapState({zoom:s,longitude:u,latitude:c})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(e){return new t(Object.assign({},this._viewportProps,this._interactiveState,e))}},{key:"_applyConstraints",value:function(t){var e=t.maxZoom,n=t.minZoom,r=t.zoom;t.zoom=it(r,n,e);var i=t.maxPitch,o=t.minPitch,a=t.pitch;return t.pitch=it(a,o,i),Object.assign(t,function(t){var e=t.width,n=t.height,r=t.longitude,i=t.latitude,o=t.zoom,a=t.pitch,s=void 0===a?0:a,l=t.bearing,u=void 0===l?0:l;(r<-180||r>180)&&(r=E(r+180,360)-180),(u<-180||u>180)&&(u=E(u+180,360)-180);var c=new $({width:e,height:n,longitude:r,latitude:i,zoom:o}),p=c.project([r,85.05113])[1],h=c.project([r,-85.05113])[1],f=0;return h-p<n&&(o+=Math.log2(n/(h-p)),p=(c=new $({width:e,height:n,longitude:r,latitude:i,zoom:o})).project([r,85.05113])[1],h=c.project([r,-85.05113])[1]),p>0?f=p:h<n&&(f=h-n),f&&(i=c.unproject([e/2,n/2+f])[1]),{width:e,height:n,longitude:r,latitude:i,zoom:o,pitch:s,bearing:u}}(t)),t}},{key:"_unproject",value:function(t){var e=new $(this._viewportProps);return t&&e.unproject(t)}},{key:"_calculateNewLngLat",value:function(t){var e=t.startPanLngLat,n=t.pos;return new $(this._viewportProps).getMapCenterByLngLatPosition({lngLat:e,pos:n})}},{key:"_calculateNewZoom",value:function(t){var e=t.scale,n=t.startZoom,r=this._viewportProps,i=r.maxZoom,o=r.minZoom;return it(n+Math.log2(e),o,i)}},{key:"_calculateNewPitchAndBearing",value:function(t){var e=t.deltaScaleX,n=t.deltaScaleY,r=t.startBearing,i=t.startPitch;n=it(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,l=i;return n>0?l=i+n*(s-i):n<0&&(l=i-n*(a-i)),{pitch:l,bearing:r+180*e}}}]),t}();function Tt(t){return t[0].toLowerCase()+t.slice(1)}var kt=Object(f.createContext)({viewport:null,map:null,mapContainer:null,onViewportChange:null,onViewStateChange:null,eventManager:null,isDragging:!1});function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(n,!0).forEach((function(e){Object(h.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Pt="A valid API access token is required to use Mapbox data";var Nt={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},Mt=Object.assign({},Q.a.propTypes,{width:m.a.oneOfType([m.a.number,m.a.string]),height:m.a.oneOfType([m.a.number,m.a.string]),onResize:m.a.func,preventStyleDiffing:m.a.bool,disableTokenWarning:m.a.bool,visible:m.a.bool,className:m.a.string,style:m.a.object,visibilityConstraints:m.a.object}),At=Object.assign({},Q.a.defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:xt}),Lt=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=s(this,(t=l(e)).call.apply(t,[this].concat(o))),Object(h.a)(Object(a.a)(n),"state",{accessTokenInvalid:!1}),Object(h.a)(Object(a.a)(n),"_mapbox",null),Object(h.a)(Object(a.a)(n),"_map",null),Object(h.a)(Object(a.a)(n),"_mapboxMapRef",Object(f.createRef)()),Object(h.a)(Object(a.a)(n),"_mapContainerRef",Object(f.createRef)()),Object(h.a)(Object(a.a)(n),"_queryParams",{}),Object(h.a)(Object(a.a)(n),"_width",0),Object(h.a)(Object(a.a)(n),"_height",0),Object(h.a)(Object(a.a)(n),"getMap",(function(){return n._map})),Object(h.a)(Object(a.a)(n),"queryRenderedFeatures",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n._map.queryRenderedFeatures(t,e)})),Object(h.a)(Object(a.a)(n),"_mapboxMapError",(function(t){401!==(t.error&&t.error.status||t.status)||n.state.accessTokenInvalid||(console.error(Pt),n.setState({accessTokenInvalid:!0})),n.props.onError(t)})),n}return p(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){if(e.supported()){var t=this.props.mapStyle;this._mapbox=new Q.a(Object.assign({},this.props,{mapboxgl:et.a,width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:v(t)})),this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(t){this._mapbox&&(this._updateMapStyle(t,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._mapbox=null,this._map=null)}},{key:"_updateMapSize",value:function(t,e){this._width===t&&this._height===e||(this._width=t,this._height=e,this._updateMapProps(this.props))}},{key:"_updateMapStyle",value:function(t,e){var n=e.mapStyle;n!==t.mapStyle&&this._map.setStyle(v(n),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(t){this._mapbox&&this._mapbox.setProps(Object.assign({},t,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid&&!this.props.disableTokenWarning){return d.a.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},d.a.createElement("h3",{key:"header"},"NO_TOKEN_WARNING"),d.a.createElement("div",{key:"text"},"For information on setting up your basemap, read"),d.a.createElement("a",{key:"link",href:"https://uber.github.io/react-map-gl/#/Documentation/getting-started/about-mapbox-tokens"},"Note on Map Tokens"))}return null}},{key:"_renderOverlays",value:function(t){var e=this,n=t.width,r=void 0===n?Number(this.props.width):n,i=t.height,o=void 0===i?Number(this.props.height):i;return this._updateMapSize(r,o),d.a.createElement(kt.Consumer,null,(function(t){var n=It({},t,{viewport:new $(It({},e.props,{},e.props.viewState,{width:r,height:o})),map:e._map,mapContainer:t.mapContainer||e._mapContainerRef.current});return d.a.createElement(kt.Provider,{value:n},d.a.createElement("div",{key:"map-overlays",className:"overlays",style:Nt},e.props.children))}))}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.width,r=t.height,i=t.style,o=t.visibilityConstraints,a=Object.assign({position:"relative"},i,{width:n,height:r}),s=this.props.visible&&function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt;for(var n in e){var r=n.slice(0,3),i=Tt(n.slice(3));if("min"===r&&t[i]<e[n])return!1;if("max"===r&&t[i]>e[n])return!1}return!0}(this.props.viewState||this.props,o),l=Object.assign({},Nt,{visibility:s?"inherit":"hidden"});return d.a.createElement("div",{key:"map-container",style:a,ref:this._mapContainerRef},d.a.createElement("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:l,className:e}),d.a.createElement(J.a,{key:"autosizer",disableWidth:Number.isFinite(n),disableHeight:Number.isFinite(r),onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return et.a&&et.a.supported()}}]),e}(f.PureComponent);Object(h.a)(Lt,"propTypes",Mt),Object(h.a)(Lt,"defaultProps",At);var Rt=function(){};var Dt={BREAK:1,SNAP_TO_END:2,IGNORE:3,UPDATE:4},zt={transitionDuration:0,transitionEasing:function(t){return t},transitionInterpolator:new bt,transitionInterruption:Dt.BREAK,onTransitionStart:Rt,onTransitionInterrupt:Rt,onTransitionEnd:Rt,onViewportChange:Rt,onStateChange:Rt},Ft=function(){function t(e,n){var r=this;Object(i.a)(this,t),Object(h.a)(this,"props",void 0),Object(h.a)(this,"state",void 0),Object(h.a)(this,"time",void 0),Object(h.a)(this,"time",void 0),Object(h.a)(this,"_animationFrame",null),Object(h.a)(this,"_onTransitionFrame",(function(){r._animationFrame=requestAnimationFrame(r._onTransitionFrame),r._updateViewport()})),e&&(this.props=e),this.time=n||Date.now}return Object(u.a)(t,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(t){var e=this.props;if(this.props=t,this._shouldIgnoreViewportChange(e,t))return!1;if(this._isTransitionEnabled(t)){var n=Object.assign({},e),r=Object.assign({},t);if(this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this.state.interruption===Dt.SNAP_TO_END?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===Dt.UPDATE)){var i=this.time(),o=(i-this.state.startTime)/this.state.duration;r.transitionDuration=this.state.duration-(i-this.state.startTime),r.transitionEasing=function(t,e){var n=t(e);return function(r){return 1/(1-n)*(t(r*(1-e)+e)-n)}}(this.state.easing,o),r.transitionInterpolator=n.transitionInterpolator}return r.onTransitionStart(),this._triggerTransition(n,r),!0}return this._isTransitionInProgress()&&(e.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(t){var e=t.transitionDuration,n=t.transitionInterpolator;return(e>0||"auto"===e)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(t){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(t,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(t,e){return!t||(this._isTransitionInProgress()?this.state.interruption===Dt.IGNORE||this._isUpdateDueToCurrentTransition(e):!this._isTransitionEnabled(e)||e.transitionInterpolator.arePropsEqual(t,e))}},{key:"_triggerTransition",value:function(t,e){at(this._isTransitionEnabled(e),"Transition is not enabled"),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=e.transitionInterpolator.getDuration(t,e),r=e.transitionInterpolator.initializeProps(t,e),i={inTransition:!0,isZooming:t.zoom!==e.zoom,isPanning:t.longitude!==e.longitude||t.latitude!==e.latitude,isRotating:t.bearing!==e.bearing||t.pitch!==e.pitch};this.state={duration:n,easing:e.transitionEasing,interpolator:e.transitionInterpolator,interruption:e.transitionInterruption,startTime:this.time(),startProps:r.start,endProps:r.end,animation:null,propsInTransition:{},interactionState:i},this._onTransitionFrame(),this.props.onStateChange(i)}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.props.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var t=this.time(),e=this.state,n=e.startTime,r=e.duration,i=e.easing,o=e.interpolator,a=e.startProps,s=e.endProps,l=!1,u=(t-n)/r;u>=1&&(u=1,l=!0),u=i(u);var c=o.interpolateProps(a,s,u),p=new St(Object.assign({},this.props,c));this.state.propsInTransition=p.getViewportProps(),this.props.onViewportChange(this.state.propsInTransition,this.state.interactionState,this.props),l&&(this._endTransition(),this.props.onTransitionEnd())}}]),t}();Object(h.a)(Ft,"defaultProps",zt);var jt,Bt,Ut=n(113),Vt=n.n(Ut),qt={mousedown:1,mousemove:2,mouseup:4};jt=Vt.a.PointerEventInput,Bt=jt.prototype.handler,jt.prototype.handler=function(t){var e=this.store;t.button>0&&(function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}(e,(function(e){return e.pointerId===t.pointerId}))||e.push(t)),Bt.call(this,t)},Vt.a.MouseInput.prototype.handler=function(t){var e=qt[t.type];1&e&&t.button>=0&&(this.pressed=!0),2&e&&0===t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))};var Gt=Vt.a.Manager,Wt=Vt.a,Ht=Wt?[[Wt.Rotate,{enable:!1}],[Wt.Pinch,{enable:!1}],[Wt.Swipe,{enable:!1}],[Wt.Pan,{threshold:0,enable:!1}],[Wt.Press,{enable:!1}],[Wt.Tap,{event:"doubletap",taps:2,enable:!1}],[Wt.Tap,{event:"anytap",enable:!1}],[Wt.Tap,{enable:!1}]]:null,Yt={rotate:["pinch"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Xt={doubletap:["tap"]},Zt={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},Kt=["keydown","keyup"],$t=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],Jt=["wheel","mousewheel","DOMMouseScroll"],Qt={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},te={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},ee=n(80),ne=-1!==ee.b.indexOf("firefox"),re=Jt,ie=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},o),this.events=re.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent,!!ee.a&&{passive:!1})}))}return Object(u.a)(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){"wheel"===t&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){if(this.options.enable){var e=t.deltaY;ee.c.WheelEvent&&(ne&&t.deltaMode===ee.c.WheelEvent.DOM_DELTA_PIXEL&&(e/=ee.c.devicePixelRatio),t.deltaMode===ee.c.WheelEvent.DOM_DELTA_LINE&&(e*=40));var n={x:t.clientX,y:t.clientY};0!==e&&e%4.000244140625==0&&(e=Math.floor(e/4.000244140625)),t.shiftKey&&e&&(e*=.25),this._onWheel(t,-e,n)}}},{key:"_onWheel",value:function(t,e,n){this.callback({type:"wheel",center:n,delta:e,srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),oe=$t,ae=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,t),this.element=e,this.callback=n,this.pressed=!1,this.options=Object.assign({enable:!0},o),this.enableMoveEvent=this.options.enable,this.enableLeaveEvent=this.options.enable,this.enableOutEvent=this.options.enable,this.enableOverEvent=this.options.enable,this.events=oe.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return Object(u.a)(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){"pointermove"===t&&(this.enableMoveEvent=e),"pointerover"===t&&(this.enableOverEvent=e),"pointerout"===t&&(this.enableOutEvent=e),"pointerleave"===t&&(this.enableLeaveEvent=e)}},{key:"handleEvent",value:function(t){this.handleOverEvent(t),this.handleOutEvent(t),this.handleLeaveEvent(t),this.handleMoveEvent(t)}},{key:"handleOverEvent",value:function(t){this.enableOverEvent&&"mouseover"===t.type&&this.callback({type:"pointerover",srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleOutEvent",value:function(t){this.enableOutEvent&&"mouseout"===t.type&&this.callback({type:"pointerout",srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleLeaveEvent",value:function(t){this.enableLeaveEvent&&"mouseleave"===t.type&&this.callback({type:"pointerleave",srcEvent:t,pointerType:"mouse",target:t.target})}},{key:"handleMoveEvent",value:function(t){if(this.enableMoveEvent)switch(t.type){case"mousedown":t.button>=0&&(this.pressed=!0);break;case"mousemove":0===t.which&&(this.pressed=!1),this.pressed||this.callback({type:"pointermove",srcEvent:t,pointerType:"mouse",target:t.target});break;case"mouseup":this.pressed=!1}}}]),t}(),se=Kt,le=function(){function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},o),this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=se.concat(o.events||[]),this.handleEvent=this.handleEvent.bind(this),e.tabIndex=1,e.style.outline="none",this.events.forEach((function(t){return e.addEventListener(t,r.handleEvent)}))}return Object(u.a)(t,[{key:"destroy",value:function(){var t=this;this.events.forEach((function(e){return t.element.removeEventListener(e,t.handleEvent)}))}},{key:"enableEventType",value:function(t,e){"keydown"===t&&(this.enableDownEvent=e),"keyup"===t&&(this.enableUpEvent=e)}},{key:"handleEvent",value:function(t){var e=t.target||t.srcElement;"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName||(this.enableDownEvent&&"keydown"===t.type&&this.callback({type:"keydown",srcEvent:t,key:t.key,target:t.target}),this.enableUpEvent&&"keyup"===t.type&&this.callback({type:"keyup",srcEvent:t,key:t.key,target:t.target}))}}]),t}(),ue=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(i.a)(this,t),this.element=e,this.callback=n,this.options=Object.assign({enable:!0},r),this.handleEvent=this.handleEvent.bind(this),e.addEventListener("contextmenu",this.handleEvent)}return Object(u.a)(t,[{key:"destroy",value:function(){this.element.removeEventListener("contextmenu",this.handleEvent)}},{key:"enableEventType",value:function(t,e){"contextmenu"===t&&(this.options.enable=e)}},{key:"handleEvent",value:function(t){this.options.enable&&this.callback({type:"contextmenu",center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}]),t}(),ce={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};var pe={srcElement:"root",priority:0},he=function(){function t(e){Object(i.a)(this,t),this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this.handleEvent=this.handleEvent.bind(this)}return Object(u.a)(t,[{key:"isEmpty",value:function(){return 0===this.handlers.length}},{key:"add",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.handlers,a=this.handlersByElement;n&&("object"!==o(n)||n.addEventListener)&&(n={srcElement:n}),n=n?Object.assign({},pe,n):pe;var s=a.get(n.srcElement);s||(s=[],a.set(n.srcElement,s));var l={type:t,handler:e,srcElement:n.srcElement,priority:n.priority,once:r};i.push(l);for(var u=s.length-1;u>=0&&!(s[u].priority>=l.priority);)u--;s.splice(u+1,0,l)}},{key:"remove",value:function(t,e){for(var n=this.handlers,r=this.handlersByElement,i=n.length-1;i>=0;i--){var o=n[i];if(o.type===t&&o.handler===e){n.splice(i,1);var a=r.get(o.srcElement);a.splice(a.indexOf(o),1),0===a.length&&r.delete(o.srcElement)}}}},{key:"handleEvent",value:function(t){if(!this.isEmpty()){for(var e=this._normalizeEvent(t),n=t.srcEvent.target;n&&n!==e.rootElement;){if(this._emit(e,n),e.handled)return;n=n.parentNode}this._emit(e,"root")}}},{key:"_emit",value:function(t,e){var n=this.handlersByElement.get(e);if(n){for(var r=!1,i=function(){t.handled=!0},o=function(){t.handled=!0,r=!0},a=[],s=0;s<n.length;s++){var l=n[s],u=l.type,c=l.handler,p=l.once;if(c(Object.assign({},t,{type:u,stopPropagation:i,stopImmediatePropagation:o})),p&&a.push(n[s]),r)break}for(var h=0;h<a.length;h++){var f=a[h];u=f.type,c=f.handler;this.remove(u,c)}}}},{key:"_normalizeEvent",value:function(t){var e=this.eventManager.element;return Object.assign({},t,function(t){var e=ce[t.srcEvent.type];if(!e)return null;var n=t.srcEvent,r=n.buttons,i=n.button,o=n.which,a=!1,s=!1,l=!1;return 4===e||2===e&&!Number.isFinite(r)?(a=1===o,s=2===o,l=3===o):2===e?(a=Boolean(1&r),s=Boolean(4&r),l=Boolean(2&r)):1===e&&(a=0===i,s=1===i,l=2===i),{leftButton:a,middleButton:s,rightButton:l}}(t),function(t,e){var n=t.srcEvent;if(!t.center&&!Number.isFinite(n.clientX))return null;var r=t.center||{x:n.clientX,y:n.clientY},i=e.getBoundingClientRect(),o=i.width/e.offsetWidth,a=i.height/e.offsetHeight;return{center:r,offsetCenter:{x:(r.x-i.left-e.clientLeft)/o,y:(r.y-i.top-e.clientTop)/a}}}(t,e),{handled:!1,rootElement:e})}}]),t}(),fe={events:null,recognizers:null,recognizerOptions:{},Manager:Gt,touchAction:"none"},de=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,t),this.options=Object.assign({},fe,n),this.events=new Map,this._onBasicInput=this._onBasicInput.bind(this),this._onOtherEvent=this._onOtherEvent.bind(this),this.setElement(e);var r=n.events;r&&this.on(r)}return Object(u.a)(t,[{key:"setElement",value:function(t){var e=this;if(this.element&&this.destroy(),this.element=t,t){var n=this.options,r=n.Manager;for(var i in this.manager=new r(t,{touchAction:n.touchAction,recognizers:n.recognizers||Ht}).on("hammer.input",this._onBasicInput),n.recognizers||Object.keys(Yt).forEach((function(t){var n=e.manager.get(t);n&&Yt[t].forEach((function(t){n.recognizeWith(t)}))})),n.recognizerOptions){var o=this.manager.get(i);if(o){var a=n.recognizerOptions[i];delete a.enable,o.set(a)}}this.wheelInput=new ie(t,this._onOtherEvent,{enable:!1}),this.moveInput=new ae(t,this._onOtherEvent,{enable:!1}),this.keyInput=new le(t,this._onOtherEvent,{enable:!1}),this.contextmenuInput=new ue(t,this._onOtherEvent,{enable:!1});var s=!0,l=!1,u=void 0;try{for(var c,p=this.events[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var h=y(c.value,2),f=h[0],d=h[1];d.isEmpty()||(this._toggleRecognizer(d.recognizerName,!0),this.manager.on(f,d.handleEvent))}}catch(t){l=!0,u=t}finally{try{s||null==p.return||p.return()}finally{if(l)throw u}}}}},{key:"destroy",value:function(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}},{key:"on",value:function(t,e,n){this._addEventHandler(t,e,n,!1)}},{key:"once",value:function(t,e,n){this._addEventHandler(t,e,n,!0)}},{key:"off",value:function(t,e){this._removeEventHandler(t,e)}},{key:"_toggleRecognizer",value:function(t,e){var n=this.manager;if(n){var r=n.get(t);if(r&&r.options.enable!==e){r.set({enable:e});var i=Xt[t];i&&!this.options.recognizers&&i.forEach((function(i){var o=n.get(i);e?(o.requireFailure(t),r.dropRequireFailure(i)):o.dropRequireFailure(t)}))}this.wheelInput.enableEventType(t,e),this.moveInput.enableEventType(t,e),this.keyInput.enableEventType(t,e),this.contextmenuInput.enableEventType(t,e)}}},{key:"_addEventHandler",value:function(t,e,n,r){if("string"==typeof t){var i=this.manager,o=this.events,a=te[t]||t,s=o.get(a);s||(s=new he(this),o.set(a,s),s.recognizerName=Qt[a]||a,i&&i.on(a,s.handleEvent)),this._toggleRecognizer(s.recognizerName,!0),s.add(t,e,n,r)}else for(var l in n=e,t)this._addEventHandler(l,t[l],n,r)}},{key:"_removeEventHandler",value:function(t,e){if("string"==typeof t){var n=this.events,r=te[t]||t,i=n.get(r);if(i&&(i.remove(t,e),i.isEmpty())){var o=i.recognizerName,a=!1,s=!0,l=!1,u=void 0;try{for(var c,p=n.values()[Symbol.iterator]();!(s=(c=p.next()).done);s=!0){var h=c.value;if(h.recognizerName===o&&!h.isEmpty()){a=!0;break}}}catch(t){l=!0,u=t}finally{try{s||null==p.return||p.return()}finally{if(l)throw u}}a||this._toggleRecognizer(o,!1)}}else for(var f in t)this._removeEventHandler(f,t[f])}},{key:"_onBasicInput",value:function(t){var e=t.srcEvent,n=Zt[e.type];n&&this.manager.emit(n,t)}},{key:"_onOtherEvent",value:function(t){this.manager.emit(t.type,t)}}]),t}();var ge={transitionDuration:0},me={transitionDuration:300,transitionEasing:function(t){return t},transitionInterpolator:new bt,transitionInterruption:Dt.BREAK},ve=["wheel"],ye=["panstart","panmove","panend"],_e=["pinchstart","pinchmove","pinchend","pinchcancel"],be=["doubletap"],xe=["keydown"],we=function(){function t(){var e=this;Object(i.a)(this,t),Object(h.a)(this,"events",[]),Object(h.a)(this,"mapState",void 0),Object(h.a)(this,"onViewportChange",void 0),Object(h.a)(this,"onStateChange",void 0),Object(h.a)(this,"mapStateProps",void 0),Object(h.a)(this,"eventManager",void 0),Object(h.a)(this,"scrollZoom",!0),Object(h.a)(this,"dragPan",!0),Object(h.a)(this,"dragRotate",!0),Object(h.a)(this,"doubleClickZoom",!0),Object(h.a)(this,"touchZoom",!0),Object(h.a)(this,"touchRotate",!1),Object(h.a)(this,"keyboard",!0),Object(h.a)(this,"_state",{isDragging:!1}),Object(h.a)(this,"_events",{}),Object(h.a)(this,"_transitionManager",new Ft),Object(h.a)(this,"setState",(function(t){Object.assign(e._state,t),e.onStateChange&&e.onStateChange(e._state)})),this.handleEvent=this.handleEvent.bind(this),this._onWheelEnd=function(t,e){var n,r,i,o=function(){return i=null,t.apply(n,r)};return function(){n=this,r=arguments,i&&clearTimeout(i),i=setTimeout(o,e)}}(this._onWheelEnd,100)}return Object(u.a)(t,[{key:"handleEvent",value:function(t){switch(this.mapState=this.getMapState(),t.type){case"panstart":return this._onPanStart(t);case"panmove":return this._onPan(t);case"panend":return this._onPanEnd(t);case"pinchstart":return this._onPinchStart(t);case"pinchmove":return this._onPinch(t);case"pinchcancel":case"pinchend":return this._onPinchEnd(t);case"doubletap":return this._onDoubleTap(t);case"wheel":return this._onWheel(t);case"keydown":return this._onKeyDown(t);default:return!1}}},{key:"getCenter",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"isFunctionKeyPressed",value:function(t){var e=t.srcEvent;return Boolean(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}},{key:"updateViewport",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.mapState?this.mapState.getViewportProps():{},i=Object.assign({},t.getViewportProps(),e),o=Object.keys(i).some((function(t){return r[t]!==i[t]}));o&&this.onViewportChange(i,n,r),this.setState(Object.assign({},t.getInteractiveState(),n))}},{key:"getMapState",value:function(t){return new St(Object.assign({},this.mapStateProps,this._state,t))}},{key:"setOptions",value:function(t){var e=t.onViewportChange,n=t.onStateChange,r=t.eventManager,i=void 0===r?this.eventManager:r,o=t.isInteractive,a=void 0===o||o,s=t.scrollZoom,l=void 0===s?this.scrollZoom:s,u=t.dragPan,c=void 0===u?this.dragPan:u,p=t.dragRotate,h=void 0===p?this.dragRotate:p,f=t.doubleClickZoom,d=void 0===f?this.doubleClickZoom:f,g=t.touchZoom,m=void 0===g?this.touchZoom:g,v=t.touchRotate,y=void 0===v?this.touchRotate:v,_=t.keyboard,b=void 0===_?this.keyboard:_;this.onViewportChange=e,this.onStateChange=n,this.mapStateProps&&this.mapStateProps.height===t.height||this.updateViewport(new St(t)),this.mapStateProps=t,this._transitionManager.processViewportChange(Object.assign({},t,{onStateChange:this.setState})),this.eventManager!==i&&(this.eventManager=i,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(ve,a&&l),this.toggleEvents(ye,a&&(c||h)),this.toggleEvents(_e,a&&(m||y)),this.toggleEvents(be,a&&d),this.toggleEvents(xe,a&&b),this.scrollZoom=l,this.dragPan=c,this.dragRotate=h,this.doubleClickZoom=d,this.touchZoom=m,this.touchRotate=y,this.keyboard=b}},{key:"toggleEvents",value:function(t,e){var n=this;this.eventManager&&t.forEach((function(t){n._events[t]!==e&&(n._events[t]=e,e?n.eventManager.on(t,n.handleEvent):n.eventManager.off(t,n.handleEvent))}))}},{key:"_onPanStart",value:function(t){var e=this.getCenter(t),n=this.mapState.panStart({pos:e}).rotateStart({pos:e});return this.updateViewport(n,ge,{isDragging:!0}),!0}},{key:"_onPan",value:function(t){return this.isFunctionKeyPressed(t)||t.rightButton?this._onPanRotate(t):this._onPanMove(t)}},{key:"_onPanEnd",value:function(t){var e=this.mapState.panEnd().rotateEnd();return this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(t){if(!this.dragPan)return!1;var e=this.getCenter(t),n=this.mapState.pan({pos:e});return this.updateViewport(n,ge,{isPanning:!0}),!0}},{key:"_onPanRotate",value:function(t){if(!this.dragRotate)return!1;var e=t.deltaX,n=t.deltaY,r=y(this.getCenter(t),2)[1],i=r-n,o=this.mapState.getViewportProps(),a=o.width,s=o.height,l=e/a,u=0;n>0?Math.abs(s-i)>5&&(u=n/(i-s)*1.2):n<0&&i>5&&(u=1-r/i),u=Math.min(1,Math.max(-1,u));var c=this.mapState.rotate({deltaScaleX:l,deltaScaleY:u});return this.updateViewport(c,ge,{isRotating:!0}),!0}},{key:"_onWheel",value:function(t){if(!this.scrollZoom)return!1;t.preventDefault();var e=this.getCenter(t),n=t.delta,r=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==r&&(r=1/r);var i=this.mapState.zoom({pos:e,scale:r});return this.updateViewport(i,ge,{isZooming:!0}),this._onWheelEnd(),!0}},{key:"_onWheelEnd",value:function(){this.setState({isZooming:!1})}},{key:"_onPinchStart",value:function(t){var e=this.getCenter(t),n=this.mapState.zoomStart({pos:e}).rotateStart({pos:e});return this._state.startPinchRotation=t.rotation,this.updateViewport(n,ge,{isDragging:!0}),!0}},{key:"_onPinch",value:function(t){if(!this.touchZoom&&!this.touchRotate)return!1;var e=this.mapState;if(this.touchZoom){var n=t.scale,r=this.getCenter(t);e=e.zoom({pos:r,scale:n})}if(this.touchRotate){var i=t.rotation,o=this._state.startPinchRotation;e=e.rotate({deltaScaleX:-(i-o)/180})}return this.updateViewport(e,ge,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(t){var e=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(t){if(!this.doubleClickZoom)return!1;var e=this.getCenter(t),n=this.isFunctionKeyPressed(t),r=this.mapState.zoom({pos:e,scale:n?.5:2});return this.updateViewport(r,Object.assign({},me,{transitionInterpolator:new bt({around:e})})),!0}},{key:"_onKeyDown",value:function(t){if(!this.keyboard)return!1;var e,n=this.isFunctionKeyPressed(t),r=this.mapStateProps;switch(t.srcEvent.keyCode){case 189:e=n?this.getMapState({zoom:r.zoom-2}):this.getMapState({zoom:r.zoom-1});break;case 187:e=n?this.getMapState({zoom:r.zoom+2}):this.getMapState({zoom:r.zoom+1});break;case 37:e=n?this.getMapState({bearing:r.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:e=n?this.getMapState({bearing:r.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:e=n?this.getMapState({pitch:r.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:e=n?this.getMapState({pitch:r.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(e,me)}}]),t}(),Ee=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"},{old:"mapControls",new:"controller"}];function Ce(t){return"react-map-gl: `".concat(t,"` is removed.")}function Se(t){return"Use `".concat(t,"` instead.")}function Te(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ee.forEach((function(e){if(t.hasOwnProperty(e.old)){var n=Ce(e.old);e.new&&(n="".concat(n," ").concat(Se(e.new))),console.warn(n)}}))}var ke=Object.assign({},Lt.propTypes,{maxZoom:m.a.number,minZoom:m.a.number,maxPitch:m.a.number,minPitch:m.a.number,onViewStateChange:m.a.func,onViewportChange:m.a.func,onInteractionStateChange:m.a.func,transitionDuration:m.a.oneOfType([m.a.number,m.a.string]),transitionInterpolator:m.a.object,transitionInterruption:m.a.number,transitionEasing:m.a.func,onTransitionStart:m.a.func,onTransitionInterrupt:m.a.func,onTransitionEnd:m.a.func,scrollZoom:m.a.bool,dragPan:m.a.bool,dragRotate:m.a.bool,doubleClickZoom:m.a.bool,touchZoom:m.a.bool,touchRotate:m.a.bool,keyboard:m.a.bool,onHover:m.a.func,onClick:m.a.func,onDblClick:m.a.func,onContextMenu:m.a.func,onMouseDown:m.a.func,onMouseMove:m.a.func,onMouseUp:m.a.func,onTouchStart:m.a.func,onTouchMove:m.a.func,onTouchEnd:m.a.func,onMouseEnter:m.a.func,onMouseLeave:m.a.func,onMouseOut:m.a.func,onWheel:m.a.func,touchAction:m.a.string,clickRadius:m.a.number,interactiveLayerIds:m.a.array,getCursor:m.a.func,controller:m.a.instanceOf(we)}),Oe=Object.assign({},Lt.defaultProps,xt,Ft.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(t){return t.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",clickRadius:0,getCursor:function(t){var e=t.isDragging,n=t.isHovering;return e?"grabbing":n?"pointer":"grab"}}),Ie=function(t){function e(t){var n;return Object(i.a)(this,e),n=s(this,l(e).call(this,t)),Object(h.a)(Object(a.a)(n),"state",{isLoaded:!1,isDragging:!1,isHovering:!1}),Object(h.a)(Object(a.a)(n),"_controller",void 0),Object(h.a)(Object(a.a)(n),"_eventManager",void 0),Object(h.a)(Object(a.a)(n),"_interactiveContext",void 0),Object(h.a)(Object(a.a)(n),"_width",0),Object(h.a)(Object(a.a)(n),"_height",0),Object(h.a)(Object(a.a)(n),"_eventCanvasRef",Object(f.createRef)()),Object(h.a)(Object(a.a)(n),"_staticMapRef",Object(f.createRef)()),Object(h.a)(Object(a.a)(n),"getMap",(function(){return n._staticMapRef.current?n._staticMapRef.current.getMap():null})),Object(h.a)(Object(a.a)(n),"queryRenderedFeatures",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.getMap();return r&&r.queryRenderedFeatures(t,e)})),Object(h.a)(Object(a.a)(n),"_onInteractionStateChange",(function(t){var e=t.isDragging,r=void 0!==e&&e;r!==n.state.isDragging&&(n._updateInteractiveContext({isDragging:r}),n.setState({isDragging:r}));var i=n.props.onInteractionStateChange;i&&i(t)})),Object(h.a)(Object(a.a)(n),"_onResize",(function(t){var e=t.width,r=t.height;n._width=e,n._height=r,n._setControllerProps(n.props),n.props.onResize({width:e,height:r})})),Object(h.a)(Object(a.a)(n),"_onViewportChange",(function(t,e,r){var i=n.props,o=i.onViewStateChange,a=i.onViewportChange;o&&o({viewState:t,interactionState:e,oldViewState:r}),a&&a(t,e,r)})),Object(h.a)(Object(a.a)(n),"_onLoad",(function(t){n.setState({isLoaded:!0}),n.props.onLoad(t)})),Object(h.a)(Object(a.a)(n),"_onEvent",(function(t,e){var r=n.props[t];r&&r(n._normalizeEvent(e))})),Object(h.a)(Object(a.a)(n),"_onPointerDown",(function(t){switch(t.pointerType){case"touch":n._onEvent("onTouchStart",t);break;default:n._onEvent("onMouseDown",t)}})),Object(h.a)(Object(a.a)(n),"_onPointerUp",(function(t){switch(t.pointerType){case"touch":n._onEvent("onTouchEnd",t);break;default:n._onEvent("onMouseUp",t)}})),Object(h.a)(Object(a.a)(n),"_onPointerMove",(function(t){switch(t.pointerType){case"touch":n._onEvent("onTouchMove",t);break;default:n._onEvent("onMouseMove",t)}if(!n.state.isDragging){var e,r=n.props,i=r.onHover,o=r.interactiveLayerIds;t=n._normalizeEvent(t),n.state.isLoaded&&(o||i)&&(e=n._getFeatures({pos:t.point,radius:n.props.clickRadius})),i&&(t.features=e,i(t));var a=Boolean(o&&e&&e.length>0),s=a&&!n.state.isHovering,l=!a&&n.state.isHovering;s&&n._onEvent("onMouseEnter",t),l&&n._onEvent("onMouseLeave",t),(s||l)&&n.setState({isHovering:a})}})),Object(h.a)(Object(a.a)(n),"_onClick",(function(t){var e=n.props,r=e.onClick,i=e.onNativeClick,o=e.onDblClick,a=e.doubleClickZoom,s=[],l=o||a;switch(t.type){case"anyclick":s.push(i),l||s.push(r);break;case"click":l&&s.push(r)}(s=s.filter(Boolean)).length&&((t=n._normalizeEvent(t)).features=n._getFeatures({pos:t.point,radius:n.props.clickRadius}),s.forEach((function(e){return e(t)})))})),Te(t),n._controller=t.controller||new we,n._eventManager=new de(null,{touchAction:t.touchAction}),n._updateInteractiveContext({isDragging:!1,eventManager:n._eventManager}),n}return p(e,t),Object(u.a)(e,null,[{key:"supported",value:function(){return Lt.supported()}}]),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this._eventManager,e=this._eventCanvasRef.current;t.setElement(e),t.on({pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerup:this._onPointerUp,pointerleave:this._onEvent.bind(this,"onMouseOut"),click:this._onClick,anyclick:this._onClick,dblclick:this._onEvent.bind(this,"onDblClick"),wheel:this._onEvent.bind(this,"onWheel"),contextmenu:this._onEvent.bind(this,"onContextMenu")}),this._setControllerProps(this.props),this._updateInteractiveContext({mapContainer:e})}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_setControllerProps",value:function(t){t=Object.assign({},t,t.viewState,{isInteractive:Boolean(t.onViewStateChange||t.onViewportChange),onViewportChange:this._onViewportChange,onStateChange:this._onInteractionStateChange,eventManager:this._eventManager,width:this._width,height:this._height}),this._controller.setOptions(t);var e=this._interactiveContext;e.onViewportChange=t.onViewportChange,e.onViewStateChange=t.onViewStateChange}},{key:"_getFeatures",value:function(t){var e,n=t.pos,r=t.radius,i={},o=this.getMap();if(this.props.interactiveLayerIds&&(i.layers=this.props.interactiveLayerIds),r){var a=r,s=[[n[0]-a,n[1]+a],[n[0]+a,n[1]-a]];e=o&&o.queryRenderedFeatures(s,i)}else e=o&&o.queryRenderedFeatures(n,i);return e}},{key:"_updateInteractiveContext",value:function(t){this._interactiveContext=Object.assign({},this._interactiveContext,t)}},{key:"_normalizeEvent",value:function(t){if(t.lngLat)return t;var e=t.offsetCenter,n=[e.x,e.y],r=new $(Object.assign({},this.props,{width:this._width,height:this._height}));return t.point=n,t.lngLat=r.unproject(n),t}},{key:"render",value:function(){this._setControllerProps(this.props);var t=this.props,e=t.width,n=t.height,i=t.style,o=t.getCursor,a=Object.assign({position:"relative"},i,{width:e,height:n,cursor:o(this.state)});return d.a.createElement(kt.Provider,{value:this._interactiveContext},d.a.createElement("div",{key:"event-canvas",ref:this._eventCanvasRef,style:a},d.a.createElement(Lt,Object(r.a)({},this.props,{width:"100%",height:"100%",style:null,onResize:this._onResize,onLoad:this._onLoad,ref:this._staticMapRef}),this.props.children)))}}]),e}(f.PureComponent);Object(h.a)(Ie,"propTypes",ke),Object(h.a)(Ie,"defaultProps",Oe);var Pe={type:m.a.string.isRequired,id:m.a.string},Ne=0,Me=function(t){function e(t){var n;return Object(i.a)(this,e),n=s(this,l(e).call(this,t)),Object(h.a)(Object(a.a)(n),"id",void 0),Object(h.a)(Object(a.a)(n),"type",void 0),Object(h.a)(Object(a.a)(n),"_map",null),Object(h.a)(Object(a.a)(n),"_sourceOptions",{}),n.id=t.id||"jsx-source-".concat(Ne++),n.type=t.type,n}return p(e,t),Object(u.a)(e,[{key:"componentWillUnmount",value:function(){this._map.removeSource(this.id)}},{key:"getSource",value:function(){return this._map.getSource(this.id)}},{key:"_createSource",value:function(){var t=this,e=this._map;e.style._loaded?e.addSource(this.id,this._sourceOptions):e.once("styledata",(function(){return t.forceUpdate()}))}},{key:"_updateSource",value:function(){var t=this._sourceOptions,e=this.props;at(!e.id||e.id===this.id,"source id changed"),at(e.type===this.type,"source type changed");var n=null,r=0;for(var i in e)"children"!==i&&"id"!==i&&t[i]!==e[i]&&(t[i]=e[i],n=i,r++);var o=this.type,a=this._map,s=this.getSource();s?r&&("geojson"===o?s.setData(t.data):"image"===o?s.updateImage({url:t.url,coordinates:t.coordinates}):"canvas"!==o&&"video"!==o||1!==r||"coordinates"!==n?(a.removeSource(this.id),a.addSource(t)):s.setCoordinates(t.coordinates)):this._createSource()}},{key:"_render",value:function(t){var e=this;return this._map=t.map,this._updateSource(),d.a.Children.map(this.props.children,(function(t){return Object(f.cloneElement)(t,{source:e.id})}))}},{key:"render",value:function(){return d.a.createElement(kt.Consumer,null,this._render.bind(this))}}]),e}(f.PureComponent);Object(h.a)(Me,"propTypes",Pe);var Ae=n(66);function Le(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Le(t[n],e[n]))return!1;return!0}if(Array.isArray(e))return!1;if("object"===o(t)&&"object"===o(e)){var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(var a=0,s=r;a<s.length;a++){var l=s[a];if(!e.hasOwnProperty(l))return!1;if(!Le(t[l],e[l]))return!1}return!0}return!1}var Re={type:m.a.string.isRequired,id:m.a.string,source:m.a.string,beforeId:m.a.string};function De(t,e,n,r){var i=n.layout,o=void 0===i?{}:i,a=n.paint,s=void 0===a?{}:a,l=n.filter,u=n.minzoom,c=n.maxzoom,p=n.beforeId,h=function(t,e){if(null==t)return{};var n,r,i=Object(Ae.a)(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(p!==r.beforeId&&t.moveLayer(e,p),o!==r.layout)for(var f in o)Le(o[f],r.layout[f])||t.setLayoutProperty(e,f,o[f]);if(s!==r.paint)for(var d in s)Le(s[d],r.paint[d])||t.setPaintProperty(e,d,s[d]);for(var g in Le(l,r.filter)||t.setFilter(e,l),u===r.minzoom&&c===r.maxzoom||t.setLayerZoomRange(e,u,c),h)Le(h[g],r[g])||t.setLayerProperty(e,g,h[g])}var ze=0,Fe=function(t){function e(t){var n;return Object(i.a)(this,e),n=s(this,l(e).call(this,t)),Object(h.a)(Object(a.a)(n),"id",void 0),Object(h.a)(Object(a.a)(n),"type",void 0),Object(h.a)(Object(a.a)(n),"_map",null),n.id=t.id||"jsx-layer-".concat(ze++),n.type=t.type,n}return p(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this._createLayer()}},{key:"componentDidUpdate",value:function(t){this._updateLayer(t)}},{key:"componentWillUnmount",value:function(){this._map.removeLayer(this.id)}},{key:"_createLayer",value:function(){var t=this,e=this._map,n=Object.assign({},this.props);n.id=this.id,delete n.beforeId,e.style._loaded?e.addLayer(n,this.props.beforeId):e.once("styledata",(function(){return t.forceUpdate()}))}},{key:"_updateLayer",value:function(t){var e=this.props;at(!e.id||e.id===this.id,"layer id changed"),at(e.type===this.type,"layer type changed");var n=this._map;if(n.getLayer(this.id))try{De(n,this.id,e,t)}catch(t){console.warn(t)}else this._createLayer()}},{key:"_render",value:function(t){return this._map=t.map,null}},{key:"render",value:function(){return d.a.createElement(kt.Consumer,null,this._render.bind(this))}}]),e}(f.PureComponent);Object(h.a)(Fe,"propTypes",Re);var je={captureScroll:m.a.bool,captureDrag:m.a.bool,captureClick:m.a.bool,captureDoubleClick:m.a.bool},Be=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=s(this,(t=l(e)).call.apply(t,[this].concat(o))),Object(h.a)(Object(a.a)(n),"_context",{}),Object(h.a)(Object(a.a)(n),"_events",null),Object(h.a)(Object(a.a)(n),"_containerRef",Object(f.createRef)()),Object(h.a)(Object(a.a)(n),"_onScroll",(function(t){n.props.captureScroll&&t.stopPropagation()})),Object(h.a)(Object(a.a)(n),"_onDragStart",(function(t){n.props.captureDrag&&t.stopPropagation()})),Object(h.a)(Object(a.a)(n),"_onDblClick",(function(t){n.props.captureDoubleClick&&t.stopPropagation()})),Object(h.a)(Object(a.a)(n),"_onClick",(function(t){n.props.captureClick&&t.stopPropagation()})),n}return p(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this._containerRef.current;if(t){var e=this._context.eventManager;e&&(this._events={wheel:this._onScroll,panstart:this._onDragStart,anyclick:this._onClick,click:this._onClick,dblclick:this._onDblClick},e.on(this._events,t))}}},{key:"componentWillUnmount",value:function(){var t=this._context.eventManager;t&&this._events&&t.off(this._events)}},{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){var t=this;return d.a.createElement(kt.Consumer,null,(function(e){return t._context=e,t._render()}))}}]),e}(f.PureComponent);function Ue(t,e,n){return(Ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}Object(h.a)(Be,"propTypes",je),Object(h.a)(Be,"defaultProps",{captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0});var Ve=Object.assign({},Be.propTypes,{draggable:m.a.bool,onDrag:m.a.func,onDragEnd:m.a.func,onDragStart:m.a.func,offsetLeft:m.a.number,offsetTop:m.a.number}),qe=Object.assign({},Be.defaultProps,{draggable:!1,offsetLeft:0,offsetTop:0}),Ge=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=s(this,(t=l(e)).call.apply(t,[this].concat(o))),Object(h.a)(Object(a.a)(n),"state",{dragPos:null,dragOffset:null}),Object(h.a)(Object(a.a)(n),"_dragEvents",null),Object(h.a)(Object(a.a)(n),"_onDragStart",(function(t){var e=n.props,r=e.draggable,i=e.captureDrag;if((r||i)&&t.stopPropagation(),r){var o=n._getDragEventPosition(t),a=n._getDragEventOffset(t);n.setState({dragPos:o,dragOffset:a}),n._setupDragEvents();var s=n.props.onDragStart;if(s&&a){var l=Object.assign({},t);l.lngLat=n._getDragLngLat(o,a),s(l)}}})),Object(h.a)(Object(a.a)(n),"_onDrag",(function(t){t.stopPropagation();var e=n._getDragEventPosition(t);n.setState({dragPos:e});var r=n.props.onDrag,i=n.state.dragOffset;if(r&&i){var o=Object.assign({},t);o.lngLat=n._getDragLngLat(e,i),r(o)}})),Object(h.a)(Object(a.a)(n),"_onDragEnd",(function(t){var e=n.state,r=e.dragPos,i=e.dragOffset;t.stopPropagation(),n.setState({dragPos:null,dragOffset:null}),n._removeDragEvents();var o=n.props.onDragEnd;if(o&&r&&i){var a=Object.assign({},t);a.lngLat=n._getDragLngLat(r,i),o(a)}})),Object(h.a)(Object(a.a)(n),"_onDragCancel",(function(t){t.stopPropagation(),n.setState({dragPos:null,dragOffset:null}),n._removeDragEvents()})),n}return p(e,t),Object(u.a)(e,[{key:"componentWillUnmount",value:function(){Ue(l(e.prototype),"componentWillUnmount",this).call(this),this._removeDragEvents()}},{key:"_setupDragEvents",value:function(){var t=this._context.eventManager;t&&(this._dragEvents={panmove:this._onDrag,panend:this._onDragEnd,pancancel:this._onDragCancel},t.on(this._dragEvents))}},{key:"_removeDragEvents",value:function(){var t=this._context.eventManager;t&&this._dragEvents&&(t.off(this._dragEvents),this._dragEvents=null)}},{key:"_getDragEventPosition",value:function(t){var e=t.offsetCenter;return[e.x,e.y]}},{key:"_getDragEventOffset",value:function(t){var e=t.center,n=e.x,r=e.y,i=this._containerRef.current;if(i){var o=i.getBoundingClientRect();return[o.left-n,o.top-r]}return null}},{key:"_getDraggedPosition",value:function(t,e){return[t[0]+e[0],t[1]+e[1]]}},{key:"_getDragLngLat",value:function(t,e){var n=this.props,r=n.offsetLeft,i=n.offsetTop,o=y(this._getDraggedPosition(t,e),2),a=o[0],s=o[1];return this._context.viewport.unproject([a-r,s-i])}}]),e}(Be);Object(h.a)(Ge,"propTypes",Ve),Object(h.a)(Ge,"defaultProps",qe);var We=Object.assign({},Ge.propTypes,{className:m.a.string,longitude:m.a.number.isRequired,latitude:m.a.number.isRequired}),He=Object.assign({},Ge.defaultProps,{className:""}),Ye=function(t){function e(){return Object(i.a)(this,e),s(this,l(e).apply(this,arguments))}return p(e,t),Object(u.a)(e,[{key:"_getPosition",value:function(){var t=this.props,e=t.longitude,n=t.latitude,r=t.offsetLeft,i=t.offsetTop,o=this.state,a=o.dragPos,s=o.dragOffset;if(a&&s)return this._getDraggedPosition(a,s);var l=y(this._context.viewport.project([e,n]),2),u=l[0],c=l[1];return[u+=r,c+=i]}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.draggable,r=this.state.dragPos,i=y(this._getPosition(),2),o={position:"absolute",left:i[0],top:i[1],cursor:n?r?"grabbing":"grab":"auto"};return d.a.createElement("div",{className:"mapboxgl-marker ".concat(e),ref:this._containerRef,style:o},this.props.children)}}]),e}(Ge);Object(h.a)(Ye,"propTypes",We),Object(h.a)(Ye,"defaultProps",He);var Xe={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},Ze=Object.keys(Xe);var Ke=Object.assign({},Be.propTypes,{className:m.a.string,longitude:m.a.number.isRequired,latitude:m.a.number.isRequired,altitude:m.a.number,offsetLeft:m.a.number,offsetTop:m.a.number,tipSize:m.a.number,closeButton:m.a.bool,closeOnClick:m.a.bool,anchor:m.a.oneOf(Object.keys(Xe)),dynamicPosition:m.a.bool,sortByDepth:m.a.bool,onClose:m.a.func}),$e=Object.assign({},Be.defaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}}),Je=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=s(this,(t=l(e)).call.apply(t,[this].concat(o))),Object(h.a)(Object(a.a)(n),"_closeOnClick",!1),Object(h.a)(Object(a.a)(n),"_contentRef",Object(f.createRef)()),Object(h.a)(Object(a.a)(n),"_onClick",(function(t){if(n.props.captureClick&&t.stopPropagation(),n.props.closeOnClick||"mapboxgl-popup-close-button"===t.target.className){n.props.onClose();var e=n._context.eventManager;e&&e.once("click",(function(t){return t.stopPropagation()}),t.target)}})),n}return p(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){Ue(l(e.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"_getPosition",value:function(t,e){var n=this._context.viewport,r=this.props,i=r.anchor,o=r.dynamicPosition,a=r.tipSize,s=this._contentRef.current;return s&&o?function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.selfWidth,a=t.selfHeight,s=t.anchor,l=t.padding,u=void 0===l?0:l,c=Xe[s],p=c.x,h=c.y,f=n-h*a,d=f+a;if(f<u)for(;f<u&&h>=.5;)h-=.5,f+=.5*a;else if(d>i-u)for(;d>i-u&&h<=.5;)h+=.5,d-=.5*a;var g=e-p*o,m=g+o,v=.5;if(.5===h&&(p=Math.floor(p),v=1),g<u)for(;g<u&&p>=v;)p-=v,g+=v*o;else if(m>r-u)for(;m>r-u&&p<=1-v;)p+=v,m-=v*o;return Ze.find((function(t){var e=Xe[t];return e.x===p&&e.y===h}))||s}({x:t,y:e,anchor:i,padding:a,width:n.width,height:n.height,selfWidth:s.clientWidth,selfHeight:s.clientHeight}):i}},{key:"_getContainerStyle",value:function(t,e,n,r){var i=this._context.viewport,o=this.props,a=o.offsetLeft,s=o.offsetTop,l=o.sortByDepth,u=Xe[r],c=t+a,p=e+s,h={position:"absolute",transform:"\n        translate(".concat(100*-u.x,"%, ").concat(100*-u.y,"%)\n        translate(").concat(c,"px, ").concat(p,"px)\n      "),display:void 0,zIndex:void 0};return l?(n>1||n<-1||t<0||t>i.width||e<0||e>i.height?h.display="none":h.zIndex=Math.floor((1-n)/2*1e5),h):h}},{key:"_renderTip",value:function(t){var e=this.props.tipSize;return d.a.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:e}})}},{key:"_renderContent",value:function(){var t=this.props,e=t.closeButton,n=t.children,r=this._context.eventManager?null:this._onClick;return d.a.createElement("div",{key:"content",ref:this._contentRef,className:"mapboxgl-popup-content",onClick:r},e&&d.a.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"×"),n)}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.longitude,r=t.latitude,i=t.altitude,o=y(this._context.viewport.project([n,r,i]),3),a=o[0],s=o[1],l=o[2],u=this._getPosition(a,s),c=this._getContainerStyle(a,s,l,u);return d.a.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(u," ").concat(e),style:c,ref:this._containerRef},this._renderTip(u),this._renderContent())}}]),e}(Be);Object(h.a)(Je,"propTypes",Ke),Object(h.a)(Je,"defaultProps",$e);var Qe,tn=n(37),en=Object.assign({},Be.propTypes,{className:m.a.string,container:m.a.object}),nn=Object.assign({},Be.defaultProps,{className:"",container:null}),rn=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=s(this,(t=l(e)).call.apply(t,[this].concat(o))),Object(h.a)(Object(a.a)(n),"state",{isFullscreen:!1,showButton:!1}),Object(h.a)(Object(a.a)(n),"_mapboxFullscreenControl",null),Object(h.a)(Object(a.a)(n),"_onFullscreenChange",(function(){var t=!n._mapboxFullscreenControl._fullscreen;n._mapboxFullscreenControl._fullscreen=t,n.setState({isFullscreen:t})})),Object(h.a)(Object(a.a)(n),"_onClickFullscreen",(function(){n._mapboxFullscreenControl._onClickFullscreen()})),n}return p(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.container||this._context.mapContainer;this._mapboxFullscreenControl=new et.a.FullscreenControl({container:t}),this.setState({showButton:this._mapboxFullscreenControl._checkFullscreenSupport()}),tn.a.addEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"componentWillUnmount",value:function(){tn.a.removeEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"_renderButton",value:function(t,e,n){return d.a.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n})}},{key:"_render",value:function(){if(!this.state.showButton)return null;var t=this.props.className,e=this.state.isFullscreen?"shrink":"fullscreen";return d.a.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef},this._renderButton(e,"Toggle fullscreen",this._onClickFullscreen))}}]),e}(Be);Object(h.a)(rn,"propTypes",en),Object(h.a)(rn,"defaultProps",nn);var on=Object.assign({},Ft.defaultProps,{transitionDuration:500}),an=function(){},sn=Object.assign({},Be.propTypes,{className:m.a.string,style:m.a.object,positionOptions:m.a.object,fitBoundsOptions:m.a.object,trackUserLocation:m.a.bool,showUserLocation:m.a.bool,onViewStateChange:m.a.func,onViewportChange:m.a.func}),ln=Object.assign({},Be.defaultProps,{className:"",style:{},positionOptions:null,fitBoundsOptions:null,trackUserLocation:!1,showUserLocation:!0}),un=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=s(this,(t=l(e)).call.apply(t,[this].concat(o))),Object(h.a)(Object(a.a)(n),"state",{supportsGeolocation:!1,markerPosition:null}),Object(h.a)(Object(a.a)(n),"_mapboxGeolocateControl",null),Object(h.a)(Object(a.a)(n),"_geolocateButtonRef",Object(f.createRef)()),Object(h.a)(Object(a.a)(n),"_markerRef",Object(f.createRef)()),Object(h.a)(Object(a.a)(n),"_setupMapboxGeolocateControl",(function(t){if(t){var e={};["positionOptions","fitBoundsOptions","trackUserLocation","showUserLocation"].forEach((function(t){t in n.props&&null!==n.props[t]&&(e[t]=n.props[t])})),n._mapboxGeolocateControl=new et.a.GeolocateControl(e),n._mapboxGeolocateControl._watchState="OFF",n._mapboxGeolocateControl._geolocateButton=n._geolocateButtonRef.current,n._mapboxGeolocateControl._updateMarker=n._updateMarker,n._mapboxGeolocateControl._updateCamera=n._updateCamera,n._mapboxGeolocateControl._setup=!0}else console.warn("Geolocation support is not available, the GeolocateControl will not be visible.")})),Object(h.a)(Object(a.a)(n),"_onClickGeolocate",(function(){return n._mapboxGeolocateControl.trigger()})),Object(h.a)(Object(a.a)(n),"_updateMarker",(function(t){t&&n.setState({markerPosition:t.coords})})),Object(h.a)(Object(a.a)(n),"_getBounds",(function(t){var e=new et.a.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,r=e.toBounds(n);return[[r._ne.lng,r._ne.lat],[r._sw.lng,r._sw.lat]]})),Object(h.a)(Object(a.a)(n),"_updateCamera",(function(t){var e=n._context.viewport,r=n._getBounds(t),i=new $(e).fitBounds(r),o=i.longitude,a=i.latitude,s=i.zoom,l=Object.assign({},e,{longitude:o,latitude:a,zoom:s}),u=new St(l),c=Object.assign({},u.getViewportProps(),on),p=n.props.onViewportChange||n._context.onViewportChange||an;(n.props.onViewStateChange||n._context.onViewStateChange||an)({viewState:c}),p(c)})),Object(h.a)(Object(a.a)(n),"_renderButton",(function(t,e,r){return d.a.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),ref:n._geolocateButtonRef,type:"button",title:e,onClick:r})})),Object(h.a)(Object(a.a)(n),"_renderMarker",(function(){var t=n.props.showUserLocation,e=n.state.markerPosition;return t&&e?d.a.createElement(Ye,{key:"location-maker",ref:n._markerRef,className:"mapboxgl-user-location-dot",longitude:e.longitude,latitude:e.latitude,onContextMenu:function(t){return t.preventDefault()},captureDrag:!1,captureDoubleClick:!1}):null})),n}return p(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;(void 0!==Qe?Promise.resolve(Qe):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(t){return Qe="denied"!==t.state})):(Qe=Boolean(window.navigator.geolocation),Promise.resolve(Qe))).then((function(e){t.setState({supportsGeolocation:e}),t._setupMapboxGeolocateControl(e)}))}},{key:"componentDidUpdate",value:function(){var t=this._markerRef.current;this._mapboxGeolocateControl&&t&&(this._mapboxGeolocateControl._dotElement=t._containerRef.current)}},{key:"componentWillUnmount",value:function(){var t=this._mapboxGeolocateControl._geolocationWatchID;void 0!==t&&(window.navigator.geolocation.clearWatch(t),this._mapboxGeolocateControl._geolocationWatchID=void 0)}},{key:"_render",value:function(){if(!this.state.supportsGeolocation)return null;var t=this.props,e=t.className,n=t.style;return d.a.createElement("div",null,this._renderMarker(),d.a.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef,style:n,onContextMenu:function(t){return t.preventDefault()}},this._renderButton("geolocate","Geolocate",this._onClickGeolocate)))}}]),e}(Be);Object(h.a)(un,"propTypes",sn),Object(h.a)(un,"defaultProps",ln);var cn=function(){},pn=Object.assign({},Be.propTypes,{className:m.a.string,onViewStateChange:m.a.func,onViewportChange:m.a.func,showCompass:m.a.bool,showZoom:m.a.bool}),hn=Object.assign({},Be.defaultProps,{className:"",showCompass:!0,showZoom:!0}),fn=function(t){function e(t){var n;return Object(i.a)(this,e),n=s(this,l(e).call(this,t)),Object(h.a)(Object(a.a)(n),"_onZoomIn",(function(){n._updateViewport({zoom:n._context.viewport.zoom+1})})),Object(h.a)(Object(a.a)(n),"_onZoomOut",(function(){n._updateViewport({zoom:n._context.viewport.zoom-1})})),Object(h.a)(Object(a.a)(n),"_onResetNorth",(function(){n._updateViewport({bearing:0,pitch:0})})),Te(t),n}return p(e,t),Object(u.a)(e,[{key:"_updateViewport",value:function(t){var e=this._context.viewport,n=new St(Object.assign({},e,t)),r=Object.assign({},n.getViewportProps(),me),i=this.props.onViewportChange||this._context.onViewportChange||cn;(this.props.onViewStateChange||this._context.onViewStateChange||cn)({viewState:r}),i(r)}},{key:"_renderCompass",value:function(){var t=this._context.viewport.bearing;return d.a.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:{transform:"rotate(".concat(-t,"deg)")}})}},{key:"_renderButton",value:function(t,e,n,r){return d.a.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:e,onClick:n},r)}},{key:"_render",value:function(){var t=this.props,e=t.className,n=t.showCompass,r=t.showZoom;return d.a.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(e),ref:this._containerRef},r&&this._renderButton("zoom-in","Zoom In",this._onZoomIn),r&&this._renderButton("zoom-out","Zoom Out",this._onZoomOut),n&&this._renderButton("compass","Reset North",this._onResetNorth,this._renderCompass()))}}]),e}(Be);Object(h.a)(fn,"propTypes",pn),Object(h.a)(fn,"defaultProps",hn);var dn=Object.assign({},Be.propTypes,{redraw:m.a.func.isRequired}),gn=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=s(this,(t=l(e)).call.apply(t,[this].concat(o))),Object(h.a)(Object(a.a)(n),"_canvas",void 0),Object(h.a)(Object(a.a)(n),"_ctx",void 0),Object(h.a)(Object(a.a)(n),"_redraw",(function(){var t=n._ctx;if(t){var e=tn.b.devicePixelRatio||1;t.save(),t.scale(e,e);var r=n._context,i=r.viewport,o=r.isDragging;n.props.redraw({width:i.width,height:i.height,ctx:t,isDragging:o,project:i.project.bind(i),unproject:i.unproject.bind(i)}),t.restore()}})),n}return p(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this._containerRef.current;t&&(this._canvas=t,this._ctx=t.getContext("2d")),this._redraw()}},{key:"_render",value:function(){var t=tn.b.devicePixelRatio||1,e=this._context.viewport,n=e.width,r=e.height;return this._redraw(),d.a.createElement("canvas",{ref:this._containerRef,width:n*t,height:r*t,style:{width:"".concat(n,"px"),height:"".concat(r,"px"),position:"absolute",left:0,top:0}})}}]),e}(Be);Object(h.a)(gn,"propTypes",dn),Object(h.a)(gn,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1});var mn=Object.assign({},Be.propTypes,{redraw:m.a.func.isRequired,style:m.a.object}),vn=function(t){function e(){return Object(i.a)(this,e),s(this,l(e).apply(this,arguments))}return p(e,t),Object(u.a)(e,[{key:"_render",value:function(){var t=this._context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0,width:e.width,height:e.height},this.props.style);return d.a.createElement("div",{ref:this._containerRef,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),e}(Be);Object(h.a)(vn,"propTypes",mn),Object(h.a)(vn,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1});var yn=Object.assign({},Be.propTypes,{redraw:m.a.func.isRequired,style:m.a.object}),_n=function(t){function e(){return Object(i.a)(this,e),s(this,l(e).apply(this,arguments))}return p(e,t),Object(u.a)(e,[{key:"_render",value:function(){var t=this._context,e=t.viewport,n=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0},this.props.style);return d.a.createElement("svg",{width:e.width,height:e.height,ref:this._containerRef,style:r},this.props.redraw({width:e.width,height:e.height,isDragging:n,project:e.project.bind(e),unproject:e.unproject.bind(e)}))}}]),e}(Be);Object(h.a)(_n,"propTypes",yn),Object(h.a)(_n,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1}),n.d(e,"default",(function(){return Ie})),n.d(e,"InteractiveMap",(function(){return Ie})),n.d(e,"StaticMap",(function(){return Lt})),n.d(e,"Source",(function(){return Me})),n.d(e,"Layer",(function(){return Fe})),n.d(e,"BaseControl",(function(){return Be})),n.d(e,"Marker",(function(){return Ye})),n.d(e,"Popup",(function(){return Je})),n.d(e,"FullscreenControl",(function(){return rn})),n.d(e,"GeolocateControl",(function(){return un})),n.d(e,"NavigationControl",(function(){return fn})),n.d(e,"CanvasOverlay",(function(){return gn})),n.d(e,"HTMLOverlay",(function(){return vn})),n.d(e,"SVGOverlay",(function(){return _n})),n.d(e,"TRANSITION_EVENTS",(function(){return Dt})),n.d(e,"TransitionInterpolator",(function(){return st})),n.d(e,"LinearInterpolator",(function(){return bt})),n.d(e,"FlyToInterpolator",(function(){return yt})),n.d(e,"MapController",(function(){return we})),n.d(e,"_MapContext",(function(){return kt}))},function(t,e,n){var r=n(123);t.exports=function(t){return null==t?"":r(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}}(),t.exports=n(363)},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(377)),i=a(n(386)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===o(r.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":o(t)}},function(t,e,n){var r=n(265),i=n(35),o=n(476),a=n(18),s=n(85);t.exports=function(t,e,n){var l=a(t)?r:o;return n&&s(t,e,n)&&(e=void 0),l(t,i(e,3))}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(196);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){"use strict";t.exports={access_token:"pk.eyJ1IjoiaWxvdmVneXgxMzE0IiwiYSI6ImNpb2h6emI0ODAwNnR2ZWt4bDFncGI3ZjYifQ.Pu9l94qL1MEDdDim2-s6RA",server_url:"http://106.14.208.64:8083/geoserver/gwc/service/wmts",startViewport:{width:1600,height:758,latitude:26.00197,longitude:119.338782,zoom:12,pitch:50,bearing:-20},prefix:"http://localhost:3000",catalog:"guyuanimgs"}},function(t,e,n){var r=n(44),i=n(28);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}},function(t,e,n){var r=n(57),i=n(30),o=n(174),a=n(81),s=n(69),l=function(t,e,n){var u,c,p,h=t&l.F,f=t&l.G,d=t&l.S,g=t&l.P,m=t&l.B,v=t&l.W,y=f?i:i[e]||(i[e]={}),_=y.prototype,b=f?r:d?r[e]:(r[e]||{}).prototype;for(u in f&&(n=e),n)(c=!h&&b&&void 0!==b[u])&&s(y,u)||(p=c?b[u]:n[u],y[u]=f&&"function"!=typeof b[u]?n[u]:m&&c?o(p,r):v&&b[u]==p?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(p):g&&"function"==typeof p?o(Function.call,p):p,g&&((y.virtual||(y.virtual={}))[u]=p,t&l.R&&_&&!_[u]&&a(_,u,p)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(68),i=n(237),o=n(175),a=Object.defineProperty;e.f=n(59)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(83)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(72);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var r=n(51),i=n(253),o=n(193);t.exports=function(t,e){return o(i(t,e,r),t+"")}},function(t,e,n){var r=n(456),i=n(191),o=n(457),a=n(271),s=n(272),l=n(44),u=n(251),c=u(r),p=u(i),h=u(o),f=u(a),d=u(s),g=l;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case p:return"[object Map]";case h:return"[object Promise]";case f:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=g},function(t,e,n){var r=n(543),i=n(25);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(298),i=n(76),o=n(35),a=n(548),s=n(18);t.exports=function(t,e,n){var l=s(t)?r:a,u=arguments.length<3;return l(t,o(e,4),n,u,i)}},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}n.d(e,"a",(function(){return r}))},function(t,e,n){var r=n(44),i=n(27);t.exports=function(t){return"number"==typeof t||i(t)&&"[object Number]"==r(t)}},function(t,e,n){var r=n(82);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(240),i=n(177);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(18),i=n(189),o=n(249),a=n(46);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(44),i=n(27);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(31).Symbol;t.exports=r},function(t,e,n){var r=n(410),i=n(413);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){var r=n(197),i=n(445)(r);t.exports=i},function(t,e,n){var r=n(143),i=n(139);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var u=e[s],c=o?o(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),a?i(n,u,c):r(n,u,c)}return n}},function(t,e,n){var r=n(44),i=n(144),o=n(27),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},function(t,e,n){var r=n(260),i=n(439),o=n(35),a=n(18);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var r="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",i="undefined"!=typeof window?window:t,o=(void 0!==t||window,"undefined"!=typeof document&&document,!1);try{var a={get passive(){return o=!0,!0}};i.addEventListener("test",a,a),i.removeEventListener("test",a,a)}catch(t){}}).call(this,n(60))},function(t,e,n){var r=n(58),i=n(94);t.exports=n(59)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports={}},function(t,e,n){var r=n(96),i=n(39),o=n(97),a=n(28);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(148);function i(t,e){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var o=e[r][0],a=e[r][1],s=e[i][0],l=e[i][1];a>t[1]!=l>t[1]&&t[0]<(s-o)*(t[1]-a)/(l-a)+o&&(n=!n)}return n}t.exports=function(t,e){var n=r.getCoord(t),o=e.geometry.coordinates;"Polygon"===e.geometry.type&&(o=[o]);for(var a=0,s=!1;a<o.length&&!s;a++)if(i(n,o[a][0])){for(var l=!1,u=1;u<o[a].length&&!l;)i(n,o[a][u])&&(l=!0),u++;l||(s=!0)}return s}},function(t,e){function n(t,e,n){var r,i,o,a,s,l,u,c,p,h,f=0,d="FeatureCollection"===t.type,g="Feature"===t.type,m=d?t.features.length:1;for(r=0;r<m;r++)for(u=(h="GeometryCollection"===(p=d?t.features[r].geometry:g?t.geometry:t).type)?p.geometries.length:1,a=0;a<u;a++)if(c=(l=h?p.geometries[a]:p).coordinates,f=!n||"Polygon"!==l.type&&"MultiPolygon"!==l.type?0:1,"Point"===l.type)e(c);else if("LineString"===l.type||"MultiPoint"===l.type)for(i=0;i<c.length;i++)e(c[i]);else if("Polygon"===l.type||"MultiLineString"===l.type)for(i=0;i<c.length;i++)for(o=0;o<c[i].length-f;o++)e(c[i][o]);else{if("MultiPolygon"!==l.type)throw new Error("Unknown Geometry Type");for(i=0;i<c.length;i++)for(o=0;o<c[i].length;o++)for(s=0;s<c[i][o].length-f;s++)e(c[i][o][s])}}function r(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties);break;case"Feature":e(t.properties)}}t.exports.coordEach=n,t.exports.coordReduce=function(t,e,r,i){return n(t,(function(t){r=e(r,t)}),i),r},t.exports.propEach=r,t.exports.propReduce=function(t,e,n){return r(t,(function(t){n=e(n,t)})),n},t.exports.featureEach=function(t,e){if("Feature"===t.type)e(t);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n])},t.exports.coordAll=function(t){var e=[];return n(t,(function(t){e.push(t)})),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={tree:{base:{listStyle:"none",backgroundColor:"#21252B",margin:0,padding:0,color:"#9DA5AB",fontFamily:"lucida grande ,tahoma,verdana,arial,sans-serif",fontSize:"14px"},node:{base:{position:"relative"},link:{cursor:"pointer",position:"relative",padding:"0px 5px",display:"block"},activeLink:{background:"#31363F"},toggle:{base:{position:"relative",display:"inline-block",verticalAlign:"top",marginLeft:"-5px",height:"24px",width:"24px"},wrapper:{position:"absolute",top:"50%",left:"50%",margin:"-7px 0 0 -7px",height:"14px"},height:14,width:14,arrow:{fill:"#9DA5AB",strokeWidth:0}},header:{base:{display:"inline-block",verticalAlign:"top",color:"#9DA5AB"},connector:{width:"2px",height:"12px",borderLeft:"solid 2px black",borderBottom:"solid 2px black",position:"absolute",top:"0px",left:"-21px"},title:{lineHeight:"24px",verticalAlign:"middle"}},subtree:{listStyle:"none",paddingLeft:"19px"},loading:{color:"#E2C089"}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(652)),i=s(n(665)),o=s(n(666)),a=s(n(667));function s(t){return t&&t.__esModule?t:{default:t}}var l={Container:r.default,Header:i.default,Loading:o.default,Toggle:a.default};e.default=l},function(t,e,n){t.exports=n(23)},function(t,e,n){var r=n(199);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(19)("get",n(20));r.placeholder=n(17),t.exports=r},,function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(177);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(195),i=n(438);t.exports=function t(e,n,o,a,s){var l=-1,u=e.length;for(o||(o=i),s||(s=[]);++l<u;){var c=e[l];n>0&&o(c)?n>1?t(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},function(t,e,n){(function(t){var r=n(31),i=n(442),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l}).call(this,n(134)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(28),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=(r=o)&&r.__esModule?r:{default:r};n(161);var s=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"render",value:function(){var t=this;return a.default.createElement("div",{className:"ui right floated vertical buttons",style:{marginRight:"25px"}},a.default.createElement("div",{className:"ui positive circular icon button",onClick:this.props.onLoadStyle},a.default.createElement("i",{className:"edit icon"})),a.default.createElement("div",{className:"ui positive circular icon button",onClick:this.props.onShowModal},a.default.createElement("i",{className:"map icon"})),a.default.createElement("div",{className:"ui positive circular icon button",onClick:this.props.onFixedHere},a.default.createElement("i",{className:"circle icon"})),a.default.createElement("div",{className:"ui positive circular icon button",onClick:function(e){return t.props.onCrop(e)}},a.default.createElement("i",{className:"crop icon"})))}}]),e}(o.PureComponent);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(641),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ul=e.Div=void 0;var r,i=(r=n(162))&&r.__esModule?r:{default:r};var o=(0,i.default)("div",{shouldForwardProp:function(t){return-1!==["className","children"].indexOf(t)}})((function(t){return t.style}));e.Div=o;var a=(0,i.default)("ul",{shouldForwardProp:function(t){return-1!==["className","children"].indexOf(t)}})((function(t){return t.style}));e.Ul=a},function(t,e,n){var r=n(44),i=n(18),o=n(27);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},function(t,e,n){var r=n(256),i=n(98),o=n(62),a=n(132),s=o((function(t,e){return a(t)?r(t,i(e,1,a,!0)):[]}));t.exports=s},function(t,e,n){var r=n(529),i=n(145)((function(t,e){return null==t?{}:r(t,e)}));t.exports=i},function(t,e,n){var r=n(297);t.exports=function(t){return t&&t.length?r(t):[]}},function(t,e,n){var r=n(544),i=n(196),o=n(133);t.exports=function(t,e,n){return e=i(e),void 0===n?(n=e,e=0):n=i(n),t=o(t),r(t,e,n)}},function(t,e,n){var r=n(262),i=n(277),o=n(52),a=Math.min;t.exports=function(t,e){if((t=o(t))<1||t>9007199254740991)return[];var n=4294967295,s=a(t,4294967295);e=i(e),t-=4294967295;for(var l=r(s,e);++n<t;)e(n);return l}},function(t,e,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(i,o,a,s){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),p=Math.round,h=Math.abs,f=Date.now;function d(t,e,n){return setTimeout(x(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function v(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var y=v((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),_=v((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function b(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&l(r,n)}function x(t,e){return function(){return t.apply(e,arguments)}}function w(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function E(t,e){return void 0===t?e:t}function C(t,e,n){m(O(e),(function(e){t.addEventListener(e,n,!1)}))}function S(t,e,n){m(O(e),(function(e){t.removeEventListener(e,n,!1)}))}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function k(t,e){return t.indexOf(e)>-1}function O(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function P(t){return Array.prototype.slice.call(t,0)}function N(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];I(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function M(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:e)in t)return r;o++}}var A=1;function L(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var R="ontouchstart"in i,D=void 0!==M(i,"PointerEvent"),z=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),F=["x","y"],j=["clientX","clientY"];function B(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){w(t.options.enable,[t])&&n.handler(e)},this.init()}function U(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,a=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=V(e));i>1&&!n.firstMultiple?n.firstMultiple=V(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=e.center=q(r);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Y(s,l),e.distance=H(s,l),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y});e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=W(e.deltaX,e.deltaY);var u=G(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=h(u.x)>h(u.y)?u.x:u.y,e.scale=a?(c=a.pointers,p=r,H(p[0],p[1],j)/H(c[0],c[1],j)):1,e.rotation=a?function(t,e){return Y(e[1],e[0],j)+Y(t[1],t[0],j)}(a.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var l=e.deltaX-a.deltaX,u=e.deltaY-a.deltaY,c=G(s,l,u);r=c.x,i=c.y,n=h(c.x)>h(c.y)?c.x:c.y,o=W(l,u),t.lastInterval=e}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var c,p;var d=t.element;T(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function V(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:p(t.pointers[n].clientX),clientY:p(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:q(e),deltaX:t.deltaX,deltaY:t.deltaY}}function q(t){var e=t.length;if(1===e)return{x:p(t[0].clientX),y:p(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:p(n/e),y:p(r/e)}}function G(t,e,n){return{x:e/t||0,y:n/t||0}}function W(t,e){return t===e?1:h(t)>=h(e)?t<0?2:4:e<0?8:16}function H(t,e,n){n||(n=F);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function Y(t,e,n){n||(n=F);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(L(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4};function Z(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}b(Z,B,{handler:function(t){var e=X[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},$={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",Q="pointermove pointerup pointercancel";function tt(){this.evEl=J,this.evWin=Q,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(J="MSPointerDown",Q="MSPointerMove MSPointerUp MSPointerCancel"),b(tt,B,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=K[r],o=$[t.pointerType]||t.pointerType,a="touch"==o,s=I(e,t.pointerId,"pointerId");1&i&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&i&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function rt(t,e){var n=P(t.touches),r=P(t.changedTouches);return 12&e&&(n=N(n.concat(r),"identifier",!0)),[n,r]}b(nt,B,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var it={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function at(t,e){var n=P(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=P(t.changedTouches),s=[],l=this.target;if(o=n.filter((function(t){return T(t.target,l)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&e&&delete r[a[i].identifier],i++;return s.length?[N(o.concat(s),"identifier",!0),s]:void 0}b(ot,B,{handler:function(t){var e=it[t.type],n=at.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});function st(){B.apply(this,arguments);var t=x(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new Z(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function lt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ut.call(this,e)):12&t&&ut.call(this,e)}function ut(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function ct(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}b(st,B,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)lt.call(this,e,n);else if(i&&ct.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var pt=M(c.style,"touchAction"),ht=void 0!==pt,ft=function(){if(!ht)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function dt(t,e){this.manager=t,this.set(e)}dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ht&&this.manager.element.style&&ft[t]&&(this.manager.element.style[pt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,(function(e){w(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(k(t,"none"))return"none";var e=k(t,"pan-x"),n=k(t,"pan-y");if(e&&n)return"none";if(e||n)return e?"pan-x":"pan-y";if(k(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=k(r,"none")&&!ft.none,o=k(r,"pan-y")&&!ft["pan-y"],a=k(r,"pan-x")&&!ft["pan-x"];if(i){var s=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(s&&l&&u)return}if(!a||!o)return i||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function gt(t){this.options=l({},this.defaults,t||{}),this.id=A++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function mt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var n=e.manager;return n?n.get(t):t}function _t(){gt.apply(this,arguments)}function bt(){_t.apply(this,arguments),this.pX=null,this.pY=null}function xt(){_t.apply(this,arguments)}function wt(){gt.apply(this,arguments),this._timer=null,this._input=null}function Et(){_t.apply(this,arguments)}function Ct(){_t.apply(this,arguments)}function St(){gt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Tt(t,e){return(e=e||{}).recognizers=E(e.recognizers,Tt.defaults.preset),new kt(t,e)}gt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)?this:(t=yt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+mt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+mt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!w(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(_t,gt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),b(bt,_t,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return _t.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(xt,_t,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),b(wt,gt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(Et,_t,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),b(Ct,_t,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(St,gt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||H(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=d((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Tt.VERSION="2.0.7",Tt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Et,{enable:!1}],[xt,{enable:!1},["rotate"]],[Ct,{direction:6}],[bt,{direction:6},["swipe"]],[St],[St,{event:"doubletap",taps:2},["tap"]],[wt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function kt(t,e){var n;this.options=l({},Tt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(D?tt:z?ot:R?st:Z))(n,U),this.touchAction=new dt(this,this.options.touchAction),Ot(this,!0),m(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Ot(t,e){var n,r=t.element;r.style&&(m(t.options.cssProps,(function(i,o){n=M(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}kt.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof gt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return m(O(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return m(O(t),(function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&Ot(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Tt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:kt,Input:B,TouchAction:dt,TouchInput:ot,MouseInput:Z,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:gt,AttrRecognizer:_t,Tap:St,Pan:bt,Swipe:Ct,Pinch:xt,Rotate:Et,Press:wt,on:C,off:S,each:m,merge:_,extend:y,assign:l,inherit:b,bindFn:x,prefixed:M}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Tt,void 0===(r=function(){return Tt}.call(e,n,e,t))||(t.exports=r)}(window,document)},function(t,e,n){var r=n(239),i=n(181);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){t.exports=!0},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var r=n(379)(!0);n(243)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(74)(Object,"create");t.exports=r},function(t,e,n){var r=n(418),i=n(419),o=n(420),a=n(421),s=n(422);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var r=n(96);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(424);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(73),i=n(47),o=n(18),a=n(72),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e,n){var r=n(428),i=n(27),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(71),i=n(61);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e){t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},function(t,e,n){var r=n(190),i=n(434),o=n(435);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e,n){var r=n(130);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(257),i=n(436),o=n(437);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(39),i=n(27);t.exports=function(t){return i(t)&&r(t)}},function(t,e,n){var r=n(28),i=n(72),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var n=s.test(t);return n||l.test(t)?u(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r=n(443),i=n(75),o=n(136),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){(function(t){var r=n(248),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(134)(t))},function(t,e,n){var r=n(100),i=n(444),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(254);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(280),i=n(488),o=n(489),a=n(282),s=n(498),l=n(203),u=n(499),c=n(289),p=n(290),h=n(52),f=Math.max;t.exports=function(t,e,n,d,g,m,v,y){var _=2&e;if(!_&&"function"!=typeof t)throw new TypeError("Expected a function");var b=d?d.length:0;if(b||(e&=-97,d=g=void 0),v=void 0===v?v:f(h(v),0),y=void 0===y?y:h(y),b-=g?g.length:0,64&e){var x=d,w=g;d=g=void 0}var E=_?void 0:l(t),C=[t,e,n,d,g,x,w,m,v,y];if(E&&u(C,E),t=C[0],e=C[1],n=C[2],d=C[3],g=C[4],!(y=C[9]=void 0===C[9]?_?0:t.length:f(C[9]-b,0))&&24&e&&(e&=-25),e&&1!=e)S=8==e||16==e?o(t,e,y):32!=e&&33!=e||g.length?a.apply(void 0,C):s(t,e,n,d);else var S=i(t,e,n);return p((E?r:c)(S,C),t,e)}},function(t,e,n){var r=n(102),i=n(28);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=r(t.prototype),o=t.apply(n,e);return i(o)?o:n}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&"__lodash_placeholder__"!==a||(t[n]="__lodash_placeholder__",o[i++]=n)}return o}},function(t,e,n){var r=n(139),i=n(96),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(263)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(522),i=n(253),o=n(193);t.exports=function(t){return o(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(527),i=n(147),o=n(528);t.exports=function(t){return i(t)?o(t):r(t)}},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e){t.exports.geojsonType=function(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)},t.exports.collectionOf=function(t,e,n){if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<t.features.length;r++){var i=t.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+i.geometry.type)}},t.exports.featureOf=function(t,e,n){if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)},t.exports.getCoord=function(t){if(Array.isArray(t)&&"number"==typeof t[0]&&"number"==typeof t[1])return t;if(t){if("Feature"===t.type&&t.geometry&&"Point"===t.geometry.type&&Array.isArray(t.geometry.coordinates))return t.geometry.coordinates;if("Point"===t.type&&Array.isArray(t.coordinates))return t.coordinates}throw new Error("A coordinate, feature, or point geometry is required")}},function(t,e,n){var r=n(87).coordEach;t.exports=function(t){var e=[1/0,1/0,-1/0,-1/0];return r(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}},function(t,e,n){!function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function n(){}function r(){}function i(){}function o(){}function a(){}function s(){}function l(){}function u(t){this.message=t}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function p(){if(0===arguments.length)u.call(this);else if(1===arguments.length){var t=arguments[0];u.call(this,t)}}function h(){}function f(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)f.call(this,0,0);else if(1===arguments.length){var t=arguments[0];f.call(this,t.x,t.y,t.z)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];f.call(this,e,n,f.NULL_ORDINATE)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this.x=r,this.y=i,this.z=o}}function d(){if(this.dimensionsToTest=2,0===arguments.length)d.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new r("only 2 or 3 dimensions may be specified");this.dimensionsToTest=t}}function g(){}function m(){}function v(t){this.message=t||""}function y(){}function _(t){this.message=t||""}function b(t){this.message=t||""}function x(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function w(){if(x.apply(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}function E(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof f){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof E){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.init(i,o,a,s)}}function C(){}function S(){C.call(this,"Projective point not representable on the Cartesian plane.")}function T(){}function k(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1}function O(){}function I(t){this.str=t}function P(t){this.value=t}function N(){}function M(){if(this.hi=0,this.lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof M){var e=arguments[0];this.init(e)}else if("string"==typeof arguments[0]){var n=arguments[0];M.call(this,M.parse(n))}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r,i)}}function A(){}function L(){}function R(){}function D(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];this.x=e,this.y=n,this.w=1}else if(arguments[0]instanceof D&&arguments[1]instanceof D){var r=arguments[0],i=arguments[1];this.x=r.y*i.w-i.y*r.w,this.y=i.x*r.w-r.x*i.w,this.w=r.x*i.y-i.x*r.y}else if(arguments[0]instanceof f&&arguments[1]instanceof f){var o=arguments[0],a=arguments[1];this.x=o.y-a.y,this.y=a.x-o.x,this.w=o.x*a.y-a.x*o.y}}else if(3===arguments.length){var s=arguments[0],l=arguments[1],u=arguments[2];this.x=s,this.y=l,this.w=u}else if(4===arguments.length){var c=arguments[0],p=arguments[1],h=arguments[2],d=arguments[3],g=c.y-p.y,m=p.x-c.x,v=c.x*p.y-p.x*c.y,y=h.y-d.y,_=d.x-h.x,b=h.x*d.y-d.x*h.y;this.x=m*b-_*v,this.y=y*v-g*b,this.w=g*_-y*m}}function z(){}function F(){}function j(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var t=arguments[0];this.factory=t,this.SRID=t.getSRID()}function B(){}function U(){}function V(){}function q(){}function G(){}function W(){}function H(){}function Y(){}function X(){}function Z(){}function K(){}function $(){}function J(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function Q(t){return null==t?Uo:t.color}function tt(t){return null==t?null:t.parent}function et(t,e){null!==t&&(t.color=e)}function nt(t){return null==t?null:t.left}function rt(t){return null==t?null:t.right}function it(){this.root_=null,this.size_=0}function ot(){}function at(){}function st(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function lt(){}function ut(){}function ct(){}function pt(){}function ht(){this.geometries=null;var t=arguments[0],e=arguments[1];if(j.call(this,e),null===t&&(t=[]),j.hasNullElements(t))throw new r("geometries must not contain null elements");this.geometries=t}function ft(){var t=arguments[0],e=arguments[1];ht.call(this,t,e)}function dt(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length){var t=arguments[0];dt.call(this,t,U.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.geom=e,this.geomFact=e.getFactory(),this.bnRule=n}}function gt(){this.count=null}function mt(){}function vt(){}function yt(){}function _t(){}function bt(){}function xt(){}function wt(){}function Et(){this.points=null;var t=arguments[0],e=arguments[1];j.call(this,e),this.init(t)}function Ct(){}function St(){this.coordinates=null;var t=arguments[0],e=arguments[1];j.call(this,e),this.init(t)}function Tt(){}function kt(){this.shell=null,this.holes=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(j.call(this,n),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),j.hasNullElements(e))throw new r("holes must not contain null elements");if(t.isEmpty()&&j.hasNonEmptyElements(e))throw new r("shell is empty but holes are not");this.shell=t,this.holes=e}function Ot(){var t=arguments[0],e=arguments[1];ht.call(this,t,e)}function It(){if(arguments[0]instanceof f&&arguments[1]instanceof Ht){var t=arguments[0],e=arguments[1];It.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if(k(arguments[0],L)&&arguments[1]instanceof Ht){var n=arguments[0],r=arguments[1];Et.call(this,n,r),this.validateConstruction()}}function Pt(){var t=arguments[0],e=arguments[1];ht.call(this,t,e)}function Nt(){if(this.factory=null,this.isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.factory=t}}function Mt(){}function At(){}function Lt(){}function Rt(){}function Dt(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];Dt.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.coordinates=new Array(e).fill(null);for(var n=0;e>n;n++)this.coordinates[n]=new f}else if(k(arguments[0],L)){var r=arguments[0];if(null===r)return this.coordinates=new Array(0).fill(null),null;for(this.dimension=r.getDimension(),this.coordinates=new Array(r.size()).fill(null),n=0;n<this.coordinates.length;n++)this.coordinates[n]=r.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this.coordinates=i,this.dimension=o,null===i&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];for(this.coordinates=new Array(a).fill(null),this.dimension=s,n=0;a>n;n++)this.coordinates[n]=new f}}function zt(){}function Ft(t,e){return t===e||t!=t&&e!=e}function jt(t){this.add?t.forEach(this.add,this):t.forEach((function(t){this.set(t[0],t[1])}),this)}function Bt(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(qo=t.length;qo--&&!Ft(t[qo],e););else qo=t.indexOf(e);return qo>-1}function Ut(t,e,n){var r=[0],i=!1;return t.push(r),{next:function(){var o,a=r[0];return!i&&a<e.length?(o=n?[e[a],n[a]]:e[a],r[0]++):(i=!0,t.splice(t.indexOf(r),1)),{done:i,value:o}}}}function Vt(){return this._values.length}function qt(){this.map_=new Ho}function Gt(){if(this.modelType=null,this.scale=null,0===arguments.length)this.modelType=Gt.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Wt){var t=arguments[0];this.modelType=t,t===Gt.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this.modelType=Gt.FIXED,this.setScale(e)}else if(arguments[0]instanceof Gt){var n=arguments[0];this.modelType=n.modelType,this.scale=n.scale}}function Wt(){this.name=null;var t=arguments[0];this.name=t,Wt.nameToTypeMap.put(t,this)}function Ht(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length)Ht.call(this,new Gt,0);else if(1===arguments.length){if(k(arguments[0],z)){var t=arguments[0];Ht.call(this,new Gt,0,t)}else if(arguments[0]instanceof Gt){var e=arguments[0];Ht.call(this,e,0,Ht.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];Ht.call(this,n,r,Ht.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.precisionModel=i,this.coordinateSequenceFactory=a,this.SRID=o}}function Yt(t){this.geometryFactory=t||new Ht}function Xt(t){this.parser=new Yt(t)}function Zt(){this.result=null,this.inputLines=Array(2).fill().map((function(){return Array(2)})),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new f,this.intPt[1]=new f,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function Kt(){Zt.apply(this)}function $t(){}function Jt(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var t=arguments[0];this.p=t}function Qt(){}function te(){if(this.p0=null,this.p1=null,0===arguments.length)te.call(this,new f,new f);else if(1===arguments.length){var t=arguments[0];te.call(this,t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0=e,this.p1=n}else if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3];te.call(this,new f(r,i),new f(o,a))}}function ee(){if(this.matrix=null,0===arguments.length)this.matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(ut.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];ee.call(this),this.set(t)}else if(arguments[0]instanceof ee){var e=arguments[0];ee.call(this),this.matrix[T.INTERIOR][T.INTERIOR]=e.matrix[T.INTERIOR][T.INTERIOR],this.matrix[T.INTERIOR][T.BOUNDARY]=e.matrix[T.INTERIOR][T.BOUNDARY],this.matrix[T.INTERIOR][T.EXTERIOR]=e.matrix[T.INTERIOR][T.EXTERIOR],this.matrix[T.BOUNDARY][T.INTERIOR]=e.matrix[T.BOUNDARY][T.INTERIOR],this.matrix[T.BOUNDARY][T.BOUNDARY]=e.matrix[T.BOUNDARY][T.BOUNDARY],this.matrix[T.BOUNDARY][T.EXTERIOR]=e.matrix[T.BOUNDARY][T.EXTERIOR],this.matrix[T.EXTERIOR][T.INTERIOR]=e.matrix[T.EXTERIOR][T.INTERIOR],this.matrix[T.EXTERIOR][T.BOUNDARY]=e.matrix[T.EXTERIOR][T.BOUNDARY],this.matrix[T.EXTERIOR][T.EXTERIOR]=e.matrix[T.EXTERIOR][T.EXTERIOR]}}function ne(){this.areaBasePt=null,this.triangleCent3=new f,this.areasum2=0,this.cg3=new f,this.lineCentSum=new f,this.totalLength=0,this.ptCount=0,this.ptCentSum=new f;var t=arguments[0];this.areaBasePt=null,this.add(t)}function re(t){this.message=t||""}function ie(){this.array_=[]}function oe(){this.treeSet=new st,this.list=new x}function ae(){if(this.geomFactory=null,this.inputPts=null,1===arguments.length){var t=arguments[0];ae.call(this,ae.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputPts=oe.filterCoordinates(e),this.geomFactory=n}}function se(){this.origin=null;var t=arguments[0];this.origin=t}function le(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function ue(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new te,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Et&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];ue.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.srcPts=n,this._isClosed=ue.isClosed(n),this.snapTolerance=r}}function ce(){this.srcGeom=null;var t=arguments[0];this.srcGeom=t}function pe(){if(le.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this.snapTolerance=t,this.snapPts=e}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.snapTolerance=n,this.snapPts=r,this.isSelfSnap=i}}function he(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function fe(){this.commonCoord=null,this.ccFilter=new de}function de(){this.commonBitsX=new he,this.commonBitsY=new he}function ge(){this.trans=null;var t=arguments[0];this.trans=t}function me(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var t=arguments[0];this.parent=t,this.atStart=!0,this.index=0,this.max=t.getNumGeometries()}function ve(){if(this.boundaryRule=U.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new r("Rule must be non-null");this.boundaryRule=t}}function ye(){}function _e(){}function be(){this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function xe(){}function we(){this.bounds=null,this.item=null;var t=arguments[0],e=arguments[1];this.bounds=t,this.item=e}function Ee(){this._size=null,this.items=null,this._size=0,this.items=new x,this.items.add(null)}function Ce(){}function Se(){}function Te(){if(this.childBoundables=new x,this.bounds=null,this.level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.level=t}}function ke(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.boundable1=t,this.boundable2=e,this.itemDistance=n,this._distance=this.distance()}function Oe(){if(this.root=null,this.built=!1,this.itemBoundables=new x,this.nodeCapacity=null,0===arguments.length)Oe.call(this,Oe.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];h.isTrue(t>1,"Node capacity must be greater than 1"),this.nodeCapacity=t}}function Ie(){}function Pe(){if(0===arguments.length)Pe.call(this,Pe.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];Oe.call(this,t)}}function Ne(){var t=arguments[0];Te.call(this,t)}function Me(){}function Ae(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.segString=t,this.coord=new f(e),this.segmentIndex=n,this.segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))}function Le(){this.nodeMap=new it,this.edge=null;var t=arguments[0];this.edge=t}function Re(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var t=arguments[0];this.nodeList=t,this.edge=t.getEdge(),this.nodeIt=t.iterator(),this.readNextNode()}function De(){}function ze(){this.nodeList=new Le(this),this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function Fe(){this.tempEnv1=new E,this.tempEnv2=new E,this.overlapSeg1=new te,this.overlapSeg2=new te}function je(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.pts=t,this.start=e,this.end=n,this.context=r}function Be(){}function Ue(){}function Ve(){}function qe(){if(this.segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}function Ge(){if(this.monoChains=new x,this.index=new Pe,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];qe.call(this,t)}}function We(){Fe.apply(this),this.si=null;var t=arguments[0];this.si=t}function He(){if(this.pt=null,1===arguments.length){var t=arguments[0];u.call(this,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];u.call(this,He.msgWithCoord(e,n)),this.pt=new f(n)}}function Ye(){}function Xe(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new x,this.intersectionCount=0,this.keepIntersections=!0;var t=arguments[0];this.li=t,this.interiorIntersection=null}function Ze(){this.li=new Kt,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var t=arguments[0];this.segStrings=t}function Ke(){this.nv=null;var t=arguments[0];this.nv=new Ze(Ke.toSegmentStrings(t))}function $e(){this.mapOp=null;var t=arguments[0];this.mapOp=t}function Je(){}function Qe(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[Je.ON]=e}else if(arguments[0]instanceof Qe){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var r=0;r<this.location.length;r++)this.location[r]=n.location[r]}}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.init(3),this.location[Je.ON]=i,this.location[Je.LEFT]=o,this.location[Je.RIGHT]=a}}function tn(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Qe(t),this.elt[1]=new Qe(t)}else if(arguments[0]instanceof tn){var e=arguments[0];this.elt[0]=new Qe(e.elt[0]),this.elt[1]=new Qe(e.elt[1])}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.elt[0]=new Qe(T.NONE),this.elt[1]=new Qe(T.NONE),this.elt[n].setLocation(r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.elt[0]=new Qe(i,o,a),this.elt[1]=new Qe(i,o,a)}else if(4===arguments.length){var s=arguments[0],l=arguments[1],u=arguments[2],c=arguments[3];this.elt[0]=new Qe(T.NONE,T.NONE,T.NONE),this.elt[1]=new Qe(T.NONE,T.NONE,T.NONE),this.elt[s].setLocations(l,u,c)}}function en(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new x,this.pts=new x,this.label=new tn(T.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new x,this.geometryFactory=null;var t=arguments[0],e=arguments[1];this.geometryFactory=e,this.computePoints(t),this.computeRing()}function nn(){var t=arguments[0],e=arguments[1];en.call(this,t,e)}function rn(){var t=arguments[0],e=arguments[1];en.call(this,t,e)}function on(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.label=t}}function an(){on.apply(this),this.coord=null,this.edges=null;var t=arguments[0],e=arguments[1];this.coord=t,this.edges=e,this.label=new tn(0,T.NONE)}function sn(){this.nodeMap=new it,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}function ln(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length){var t=arguments[0];this.edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];ln.call(this,e,n,r,null)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];ln.call(this,i),this.init(o,a),this.label=s}}function un(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(ln.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}function cn(){}function pn(){if(this.edges=new x,this.nodes=null,this.edgeEndList=new x,0===arguments.length)this.nodes=new sn(new cn);else if(1===arguments.length){var t=arguments[0];this.nodes=new sn(t)}}function hn(){this.geometryFactory=null,this.shellList=new x;var t=arguments[0];this.geometryFactory=t}function fn(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new x,this.resultLineList=new x;var t=arguments[0],e=arguments[1],n=arguments[2];this.op=t,this.geometryFactory=e,this.ptLocator=n}function dn(){this.op=null,this.geometryFactory=null,this.resultPointList=new x;var t=arguments[0],e=arguments[1];arguments[2],this.op=t,this.geometryFactory=e}function gn(){}function mn(){this.geom=null;var t=arguments[0];this.geom=t}function vn(){this.edgeMap=new it,this.edgeList=null,this.ptInAreaLocation=[T.NONE,T.NONE]}function yn(){vn.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function _n(){cn.apply(this)}function bn(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}function xn(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.eventType=xn.DELETE,this.xValue=t,this.insertEvent=e}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.eventType=xn.INSERT,this.label=n,this.xValue=r,this.obj=i}}function wn(){}function En(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.li=t,this.includeProper=e,this.recordIsolated=n}function Cn(){wn.apply(this),this.events=new x,this.nOverlaps=null}function Sn(){this.min=i.POSITIVE_INFINITY,this.max=i.NEGATIVE_INFINITY}function Tn(){}function kn(){Sn.apply(this),this.item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.min=t,this.max=e,this.item=n}function On(){Sn.apply(this),this.node1=null,this.node2=null;var t=arguments[0],e=arguments[1];this.node1=t,this.node2=e,this.buildExtent(this.node1,this.node2)}function In(){this.leaves=new x,this.root=null,this.level=0}function Pn(){if(this.lines=null,this.isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this.lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.lines=e,this.isForcedToLineString=n}}function Nn(){this.items=new x}function Mn(){this.index=null;var t=arguments[0];if(!k(t,Tt))throw new r("Argument must be Polygonal");this.index=new Ln(t)}function An(){this.counter=null;var t=arguments[0];this.counter=t}function Ln(){this.index=new In;var t=arguments[0];this.init(t)}function Rn(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new f(t),this.segmentIndex=e,this.dist=n}function Dn(){this.nodeMap=new it,this.edge=null;var t=arguments[0];this.edge=t}function zn(){}function Fn(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new E,this.env2=new E;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new zn;this.startIndex=e.getChainStartIndices(this.pts)}function jn(){this.depth=Array(2).fill().map((function(){return Array(3)}));for(var t=0;2>t;t++)for(var e=0;3>e;e++)this.depth[t][e]=jn.NULL_VALUE}function Bn(){if(on.apply(this),this.pts=null,this.env=null,this.eiList=new Dn(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new jn,this.depthDelta=0,1===arguments.length){var t=arguments[0];Bn.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this.label=n}}function Un(){if(pn.apply(this),this.parentGeom=null,this.lineEdgeMap=new qt,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new ve,2===arguments.length){var t=arguments[0],e=arguments[1];Un.call(this,t,e,U.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.argIndex=n,this.parentGeom=r,this.boundaryNodeRule=i,null!==r&&this.add(r)}}function Vn(){if(this.li=new Kt,this.resultPrecisionModel=null,this.arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new Un(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Vn.call(this,e,n,U.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];r.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new Un(0,r,o),this.arg[1]=new Un(1,i,o)}}function qn(){this.pts=null,this._orientation=null;var t=arguments[0];this.pts=t,this._orientation=qn.orientation(t)}function Gn(){this.edges=new x,this.ocaMap=new it}function Wn(){this.ptLocator=new ve,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new Gn,this.resultPolyList=new x,this.resultLineList=new x,this.resultPointList=new x;var t=arguments[0],e=arguments[1];Vn.call(this,t,e),this.graph=new pn(new _n),this.geomFact=t.getFactory()}function Hn(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e,this.computeSnapTolerance()}function Yn(){this.geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e}function Xn(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var t=arguments[0];this.factory=t.getFactory(),this.add(t)}function Zn(){this.poly=null,this.centreY=null,this.hiY=i.MAX_VALUE,this.loY=-i.MAX_VALUE;var t=arguments[0];this.poly=t,this.hiY=t.getEnvelopeInternal().getMaxY(),this.loY=t.getEnvelopeInternal().getMinY(),this.centreY=Xn.avg(this.loY,this.hiY)}function Kn(){this.centroid=null,this.minDistance=i.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this.interiorPoint&&this.addEndpoints(t)}function $n(){this.centroid=null,this.minDistance=i.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.add(t)}function Jn(){}function Qn(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}function tr(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0;var t=arguments[0];this.input=t}function er(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new te,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,1===arguments.length){var t=arguments[0];er.call(this,t,!1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isConvex=n}}function nr(){this.inputGeom=null,this.distanceTolerance=null;var t=arguments[0];this.inputGeom=t}function rr(){le.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}function ir(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}function or(){this._isMarked=!1;var t=arguments[0];ir.call(this,t)}function ar(){this.vertexMap=new qt}function sr(){this._isStart=!1;var t=arguments[0];or.call(this,t)}function lr(){ar.apply(this)}function ur(){this.result=null,this.factory=null,this.graph=null,this.lines=new x,this.nodeEdgeStack=new ie,this.ringStartEdge=null,this.graph=new lr}function cr(){this.items=new x,this.subnode=new Array(4).fill(null)}function pr(){}function hr(){this.pt=new f,this.level=0,this.env=null;var t=arguments[0];this.computeKey(t)}function fr(){cr.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var t=arguments[0],e=arguments[1];this.env=t,this.level=e,this.centrex=(t.getMinX()+t.getMaxX())/2,this.centrey=(t.getMinY()+t.getMaxY())/2}function dr(){}function gr(){cr.apply(this)}function mr(){this.root=null,this.minExtent=1,this.root=new gr}function vr(t){this.geometryFactory=t||new Ht}function yr(t){this.geometryFactory=t||new Ht,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new vr(this.geometryFactory)}function _r(){this.parser=new vr(this.geometryFactory)}function br(t){this.geometryFactory=t||new Ht,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Yt(this.geometryFactory)}function xr(t){return[t.x,t.y]}function wr(t){this.geometryFactory=t||new Ht}function Er(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];Er.call(this,t,e,0,0)}else if(4===arguments.length){var n=arguments[0],r=arguments[1];arguments[2],arguments[3],this.noder=n,this.scaleFactor=r,this.isScaled=!this.isIntegerPrecision()}}function Cr(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length){var t=arguments[0];this.inputGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isClosedEndpointsInInterior=!n.isInBoundary(2)}}function Sr(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}function Tr(){if(this.quadrantSegments=Tr.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=Tr.CAP_ROUND,this.joinStyle=Tr.JOIN_ROUND,this.mitreLimit=Tr.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=Tr.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(n)}else if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(i),this.setJoinStyle(o),this.setMitreLimit(a)}}function kr(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function Or(){this.array_=[]}function Ir(){this.finder=null,this.dirEdgeList=new x,this.nodes=new x,this.rightMostCoord=null,this.env=null,this.finder=new kr}function Pr(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=Qt.COUNTERCLOCKWISE;var t=arguments[0];this.inputLine=t}function Nr(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new x}function Mr(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new te,this.seg1=new te,this.offset0=new te,this.offset1=new te,this.side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.precisionModel=t,this.bufParams=e,this.li=new Kt,this.filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===Tr.JOIN_ROUND&&(this.closingSegLengthFactor=Mr.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}function Ar(){this.distance=0,this.precisionModel=null,this.bufParams=null;var t=arguments[0],e=arguments[1];this.precisionModel=t,this.bufParams=e}function Lr(){this.subgraphs=null,this.seg=new te,this.cga=new Qt;var t=arguments[0];this.subgraphs=t}function Rr(){this.upwardSeg=null,this.leftDepth=null;var t=arguments[0],e=arguments[1];this.upwardSeg=new te(t),this.leftDepth=e}function Dr(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new x;var t=arguments[0],e=arguments[1],n=arguments[2];this.inputGeom=t,this.distance=e,this.curveBuilder=n}function zr(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this.li=t}function Fr(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new Gn;var t=arguments[0];this.bufParams=t}function jr(){this.li=new Kt,this.segStrings=null;var t=arguments[0];this.segStrings=t}function Br(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this.originalPt=t,this.pt=t,this.scaleFactor=e,this.li=n,0>=e)throw new r("Scale factor must be non-zero");1!==e&&(this.pt=new f(this.scale(t.x),this.scale(t.y)),this.p0Scaled=new f,this.p1Scaled=new f),this.initCorners(this.pt)}function Ur(){this.tempEnv1=new E,this.selectedSegment=new te}function Vr(){this.index=null;var t=arguments[0];this.index=t}function qr(){Ur.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.hotPixel=t,this.parentEdge=e,this.hotPixelVertexIndex=n}function Gr(){this.li=null,this.interiorIntersections=null;var t=arguments[0];this.li=t,this.interiorIntersections=new x}function Wr(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var t=arguments[0];this.pm=t,this.li=new Kt,this.li.setPrecisionModel(t),this.scaleFactor=t.getScale()}function Hr(){if(this.argGeom=null,this.distance=null,this.bufParams=new Tr,this.resultGeometry=null,this.saveException=null,1===arguments.length){var t=arguments[0];this.argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.argGeom=e,this.bufParams=n}}function Yr(){this.comps=null;var t=arguments[0];this.comps=t}function Xr(){if(this.component=null,this.segIndex=null,this.pt=null,2===arguments.length){var t=arguments[0],e=arguments[1];Xr.call(this,t,Xr.INSIDE_AREA,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.component=n,this.segIndex=r,this.pt=i}}function Zr(){this.pts=null;var t=arguments[0];this.pts=t}function Kr(){this.locations=null;var t=arguments[0];this.locations=t}function $r(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new ve,this.minDistanceLocation=null,this.minDistance=i.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];$r.call(this,t,e,0)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=n,this.geom[1]=r,this.terminateDistance=o}}function Jr(){this.factory=null,this.directedEdges=new x,this.coordinates=null;var t=arguments[0];this.factory=t}function Qr(){this._isMarked=!1,this._isVisited=!1,this.data=null}function ti(){Qr.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.from=t,this.to=e,this.edgeDirection=r,this.p0=t.getCoordinate(),this.p1=n;var i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y;this.quadrant=Be.quadrant(i,o),this.angle=Math.atan2(o,i)}function ei(){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];ti.call(this,t,e,n,r)}function ni(){if(Qr.apply(this),this.dirEdge=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}}function ri(){this.outEdges=new x,this.sorted=!1}function ii(){if(Qr.apply(this),this.pt=null,this.deStar=null,1===arguments.length){var t=arguments[0];ii.call(this,t,new ri)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pt=e,this.deStar=n}}function oi(){ni.apply(this),this.line=null;var t=arguments[0];this.line=t}function ai(){this.nodeMap=new it}function si(){this.edges=new J,this.dirEdges=new J,this.nodeMap=new ai}function li(){si.apply(this)}function ui(){this.graph=new li,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function ci(){this.edgeRing=null,this.next=null,this.label=-1;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];ti.call(this,t,e,n,r)}function pi(){ni.apply(this),this.line=null;var t=arguments[0];this.line=t}function hi(){this.factory=null,this.deList=new x,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this.factory=t}function fi(){}function di(){si.apply(this),this.factory=null;var t=arguments[0];this.factory=t}function gi(){if(this.lineStringAdder=new mi(this),this.graph=null,this.dangles=new x,this.cutEdges=new x,this.invalidRingLines=new x,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,0===arguments.length)gi.call(this,!1);else if(1===arguments.length){var t=arguments[0];this.extractOnlyPolygonal=t}}function mi(){this.p=null;var t=arguments[0];this.p=t}function vi(){}function yi(){if(this.edgeEnds=new x,1===arguments.length){var t=arguments[0];yi.call(this,null,t)}else if(2===arguments.length){var e=(arguments[0],arguments[1]);ln.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new tn(e.getLabel())),this.insert(e)}}function _i(){vn.apply(this)}function bi(){var t=arguments[0],e=arguments[1];an.call(this,t,e)}function xi(){cn.apply(this)}function wi(){this.li=new Kt,this.ptLocator=new ve,this.arg=null,this.nodes=new sn(new xi),this.im=null,this.isolatedEdges=new x,this.invalidPoint=null;var t=arguments[0];this.arg=t}function Ei(){this.rectEnv=null;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal()}function Ci(){this.li=new Kt,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var t=arguments[0];this.rectEnv=t,this.diagUp0=new f(t.getMinX(),t.getMinY()),this.diagUp1=new f(t.getMaxX(),t.getMaxY()),this.diagDown0=new f(t.getMinX(),t.getMaxY()),this.diagDown1=new f(t.getMaxX(),t.getMinY())}function Si(){this._isDone=!1}function Ti(){this.rectangle=null,this.rectEnv=null;var t=arguments[0];this.rectangle=t,this.rectEnv=t.getEnvelopeInternal()}function ki(){Si.apply(this),this.rectEnv=null,this._intersects=!1;var t=arguments[0];this.rectEnv=t}function Oi(){Si.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var t=arguments[0];this.rectSeq=t.getExteriorRing().getCoordinateSequence(),this.rectEnv=t.getEnvelopeInternal()}function Ii(){Si.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new f,this.p1=new f;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal(),this.rectIntersector=new Ci(this.rectEnv)}function Pi(){if(this._relate=null,2===arguments.length){var t=arguments[0],e=arguments[1];Vn.call(this,t,e),this._relate=new wi(this.arg)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];Vn.call(this,n,r,i),this._relate=new wi(this.arg)}}function Ni(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var t=arguments[0];this.geomFactory=Ni.extractFactory(t),this.inputGeoms=t}function Mi(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var t=arguments[0],e=arguments[1];this.pointGeom=t,this.otherGeom=e,this.geomFact=e.getFactory()}function Ai(){this.sortIndex=-1,this.comps=null;var t=arguments[0],e=arguments[1];this.sortIndex=t,this.comps=e}function Li(){this.inputPolys=null,this.geomFactory=null;var t=arguments[0];this.inputPolys=t,null===this.inputPolys&&(this.inputPolys=new x)}function Ri(){if(this.polygons=new x,this.lines=new x,this.points=new x,this.geomFact=null,1===arguments.length){if(k(arguments[0],m)){var t=arguments[0];this.extract(t)}else if(arguments[0]instanceof j){var e=arguments[0];this.extract(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.geomFact=r,this.extract(n)}}function Di(){this.geometryFactory=new Ht,this.geomGraph=null,this.disconnectedRingcoord=null;var t=arguments[0];this.geomGraph=t}function zi(){this.items=new x,this.subnode=[null,null]}function Fi(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var t=arguments[0];this.init(t.min,t.max)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.init(e,n)}}function ji(){this.pt=0,this.level=0,this.interval=null;var t=arguments[0];this.computeKey(t)}function Bi(){zi.apply(this),this.interval=null,this.centre=null,this.level=null;var t=arguments[0],e=arguments[1];this.interval=t,this.level=e,this.centre=(t.getMin()+t.getMax())/2}function Ui(){zi.apply(this)}function Vi(){this.root=null,this.minExtent=1,this.root=new Ui}function qi(){}function Gi(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new Fi;var t=arguments[0];this.ring=t,this.buildIndex()}function Wi(){Ur.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}function Hi(){this.nodes=new sn(new xi)}function Yi(){this.li=new Kt,this.geomGraph=null,this.nodeGraph=new Hi,this.invalidPoint=null;var t=arguments[0];this.geomGraph=t}function Xi(){this.graph=null,this.rings=new x,this.totalEnv=new E,this.index=null,this.nestedPt=null;var t=arguments[0];this.graph=t}function Zi(){if(this.errorType=null,this.pt=null,1===arguments.length){var t=arguments[0];Zi.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.errorType=e,null!==n&&(this.pt=n.copy())}}function Ki(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var t=arguments[0];this.parentGeometry=t}function $i(){Nt.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var t=arguments[0],e=arguments[1];this.targetPM=t,this.removeCollapsed=e}function Ji(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var t=arguments[0];this.targetPM=t}function Qi(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new te;var t=arguments[0];this.pts=t}function to(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var t=arguments[0];this.inputGeom=t}function eo(){le.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var t=arguments[0],e=arguments[1];this.isEnsureValidTopology=t,this.distanceTolerance=e}function no(){if(this.parent=null,this.index=null,2===arguments.length){var t=arguments[0],e=arguments[1];no.call(this,t,e,null,-1)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];te.call(this,n,r),this.parent=i,this.index=o}}function ro(){if(this.parentLine=null,this.segs=null,this.resultSegs=new x,this.minimumSize=null,1===arguments.length){var t=arguments[0];ro.call(this,t,2)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.parentLine=e,this.minimumSize=n,this.init()}}function io(){this.index=new mr}function oo(){this.querySeg=null,this.items=new x;var t=arguments[0];this.querySeg=t}function ao(){this.li=new Kt,this.inputIndex=new io,this.outputIndex=new io,this.line=null,this.linePts=null,this.distanceTolerance=0;var t=arguments[0],e=arguments[1];this.inputIndex=t,this.outputIndex=e}function so(){this.inputIndex=new io,this.outputIndex=new io,this.distanceTolerance=0}function lo(){this.inputGeom=null,this.lineSimplifier=new so,this.linestringMap=null;var t=arguments[0];this.inputGeom=t}function uo(){le.apply(this),this.linestringMap=null;var t=arguments[0];this.linestringMap=t}function co(){this.tps=null;var t=arguments[0];this.tps=t}function po(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var t=arguments[0];this.seg=t,this.segLen=t.getLength()}function ho(){}function fo(){}function go(){}function mo(){if(this.p=null,1===arguments.length){var t=arguments[0];this.p=new f(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p=new f(e,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this.p=new f(r,i,o)}}function vo(){this._isOnConstraint=null,this.constraint=null;var t=arguments[0];mo.call(this,t)}function yo(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function _o(){this.subdiv=null,this.isUsingTolerance=!1;var t=arguments[0];this.subdiv=t,this.isUsingTolerance=t.getTolerance()>0}function bo(){}function xo(){this.subdiv=null,this.lastEdge=null;var t=arguments[0];this.subdiv=t,this.init()}function wo(){if(this.seg=null,1===arguments.length){if("string"==typeof arguments[0]){var t=arguments[0];u.call(this,t)}else if(arguments[0]instanceof te){var e=arguments[0];u.call(this,"Locate failed to converge (at edge: "+e+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new te(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];u.call(this,wo.msgWithSpatial(n,r)),this.seg=new te(r)}}function Eo(){}function Co(){this.visitedKey=0,this.quadEdges=new x,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new te,this.triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this.tolerance=e,this.edgeCoincidenceTolerance=e/Co.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this.startingEdge=this.initSubdiv(),this.locator=new xo(this)}function So(){}function To(){this.triList=new x}function ko(){this.triList=new x}function Oo(){this.coordList=new w,this.triCoords=new x}function Io(){if(this.ls=null,this.data=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.ls=new te(t,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.ls=new te(n,r),this.data=i}else if(6===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3],u=arguments[4],c=arguments[5];Io.call(this,new f(o,a,s),new f(l,u,c))}else if(7===arguments.length){var p=arguments[0],h=arguments[1],d=arguments[2],g=arguments[3],m=arguments[4],v=arguments[5],y=arguments[6];Io.call(this,new f(p,h,d),new f(g,m,v),y)}}function Po(){}function No(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.p=new f(t),this.left=null,this.right=null,this.count=1,this.data=e}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.p=new f(n,r),this.left=null,this.right=null,this.count=1,this.data=i}}function Mo(){if(this.root=null,this.numberOfNodes=null,this.tolerance=null,0===arguments.length)Mo.call(this,0);else if(1===arguments.length){var t=arguments[0];this.tolerance=t}}function Ao(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var t=arguments[0],e=arguments[1];this.p=t,this.tolerance=e}function Lo(){this.initialVertices=null,this.segVertices=null,this.segments=new x,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new fo,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var t=arguments[0],e=arguments[1];this.initialVertices=new x(t),this.tolerance=e,this.kdt=new Mo(e)}function Ro(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function Do(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new it}function zo(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Fo(){}Array.prototype.fill||(Array.prototype.fill=function(t){for(var e=Object(this),n=parseInt(e.length,10),r=arguments[1],i=parseInt(r,10)||0,o=0>i?Math.max(n+i,0):Math.min(i,n),a=arguments[2],s=void 0===a?n:parseInt(a,10)||0,l=0>s?Math.max(n+s,0):Math.min(s,n);l>o;o++)e[o]=t;return e}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return 0>t?Math.ceil(t):Math.floor(t)},e(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n},i.isNaN=function(t){return Number.isNaN(t)},i.doubleToLongBits=function(t){return t},i.longBitsToDouble=function(t){return t},i.isInfinite=function(t){return!Number.isFinite(t)},i.MAX_VALUE=Number.MAX_VALUE,c(p,u),e(p.prototype,{interfaces_:function(){return[]},getClass:function(){return p}}),e(h.prototype,{interfaces_:function(){return[]},getClass:function(){return h}}),h.shouldNeverReachHere=function(){if(0===arguments.length)h.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new p("Should never reach here"+(null!==t?": "+t:""))}},h.isTrue=function(){if(1===arguments.length){var t=arguments[0];h.isTrue(t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!e)throw null===n?new p:new p(n)}},h.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];h.equals(t,e,null)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(!r.equals(n))throw new p("Expected "+n+" but encountered "+r+(null!==i?": "+i:""))}},e(f.prototype,{setOrdinate:function(t,e){switch(t){case f.X:this.x=e;break;case f.Y:this.y=e;break;case f.Z:this.z=e;break;default:throw new r("Invalid ordinate index: "+t)}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],r=arguments[1];return!!n.equalsWithTolerance(this.x,e.x,r)&&!!n.equalsWithTolerance(this.y,e.y,r)}},getOrdinate:function(t){switch(t){case f.X:return this.x;case f.Y:return this.y;case f.Z:return this.z}throw new r("Invalid ordinate index: "+t)},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||i.isNaN(this.z)&&i.isNaN(t.z))},equals:function(t){return t instanceof f&&this.equals2D(t)},equalInZ:function(t,e){return n.equalsWithTolerance(this.z,t.z,e)},compareTo:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},clone:function(){try{var t=null;return null}catch(t){if(t instanceof CloneNotSupportedException)return h.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}},copy:function(){return new f(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},distance:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return 37*(t=37*t+f.hashCode(this.x))+f.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[o,a,l]},getClass:function(){return f}}),f.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=i.doubleToLongBits(t);return Math.trunc(e^e>>>32)}},e(d.prototype,{compare:function(t,e){var n=t,r=e,i=d.compare(n.x,r.x);if(0!==i)return i;var o=d.compare(n.y,r.y);return 0!==o?o:this.dimensionsToTest<=2?0:d.compare(n.z,r.z)},interfaces_:function(){return[s]},getClass:function(){return d}}),d.compare=function(t,e){return e>t?-1:t>e?1:i.isNaN(t)?i.isNaN(e)?0:-1:i.isNaN(e)?1:0},f.DimensionalComparator=d,f.serialVersionUID=0x5cbf2c235c7e5800,f.NULL_ORDINATE=i.NaN,f.X=0,f.Y=1,f.Z=2,g.prototype.hasNext=function(){},g.prototype.next=function(){},g.prototype.remove=function(){},m.prototype.add=function(){},m.prototype.addAll=function(){},m.prototype.isEmpty=function(){},m.prototype.iterator=function(){},m.prototype.size=function(){},m.prototype.toArray=function(){},m.prototype.remove=function(){},v.prototype=new Error,v.prototype.name="IndexOutOfBoundsException",y.prototype=Object.create(m.prototype),y.prototype.constructor=y,y.prototype.get=function(){},y.prototype.set=function(){},y.prototype.isEmpty=function(){},_.prototype=new Error,_.prototype.name="NoSuchElementException",b.prototype=new Error,b.prototype.name="OperationNotSupported",x.prototype=Object.create(y.prototype),x.prototype.constructor=x,x.prototype.ensureCapacity=function(){},x.prototype.interfaces_=function(){return[y,m]},x.prototype.add=function(t){return this.array_.push(t),!0},x.prototype.clear=function(){this.array_=[]},x.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},x.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},x.prototype.iterator=function(){return new jo(this)},x.prototype.get=function(t){if(0>t||t>=this.size())throw new v;return this.array_[t]},x.prototype.isEmpty=function(){return 0===this.array_.length},x.prototype.size=function(){return this.array_.length},x.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},x.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;r>n;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var jo=function(t){this.arrayList_=t,this.position_=0};jo.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new _;return this.arrayList_.get(this.position_++)},jo.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},jo.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},jo.prototype.remove=function(){throw new b},c(w,x),e(w.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=!1,r=t.iterator();r.hasNext();)this.add(r.next(),e),n=!0;return n}return x.prototype.addAll.apply(this,arguments)},clone:function(){for(var t=x.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},toCoordinateArray:function(){return this.toArray(w.coordArrayType)},add:function(){if(1===arguments.length){var t=arguments[0];x.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof f&&"boolean"==typeof arguments[1]){var r=arguments[0],i=arguments[1];if(!i&&this.size()>=1){var o=this.get(this.size()-1);if(o.equals2D(r))return null}x.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var a=arguments[0],s=arguments[1];return this.add(a,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var l=arguments[0],u=arguments[1],c=arguments[2];if(c)for(var p=0;p<l.length;p++)this.add(l[p],u);else for(p=l.length-1;p>=0;p--)this.add(l[p],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof f){var h=arguments[0],d=arguments[1],g=arguments[2];if(!g){var m=this.size();if(m>0){if(h>0){var v=this.get(h-1);if(v.equals2D(d))return null}if(m>h){var y=this.get(h);if(y.equals2D(d))return null}}}x.prototype.add.call(this,h,d)}}else if(4===arguments.length){var _=arguments[0],b=arguments[1],w=arguments[2],E=arguments[3],C=1;for(w>E&&(C=-1),p=w;p!==E;p+=C)this.add(_[p],b);return!0}},closeRing:function(){this.size()>0&&this.add(new f(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return w}}),w.coordArrayType=new Array(0).fill(null),e(E.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof E))return!1;var e=t;return this.isNull()?e.isNull():this.maxx===e.getMaxX()&&this.maxy===e.getMaxY()&&this.minx===e.getMinX()&&this.miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new E;var e=this.minx>t.minx?this.minx:t.minx,n=this.miny>t.miny?this.miny:t.miny;return new E(e,this.maxx<t.maxx?this.maxx:t.maxx,n,this.maxy<t.maxy?this.maxy:t.maxy)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof f){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof E){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this.minx&&e.getMaxX()<=this.maxx&&e.getMinY()>=this.miny&&e.getMaxY()<=this.maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this.minx&&n<=this.maxx&&r>=this.miny&&r<=this.maxy}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t.minx>this.maxx||t.maxx<this.minx||t.miny>this.maxy||t.maxy<this.miny)}if(arguments[0]instanceof f){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this.maxx||n<this.minx||r>this.maxy||r<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof f){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof E){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this.minx=e.getMinX(),this.maxx=e.getMaxX(),this.miny=e.getMinY(),this.maxy=e.getMaxY()):(e.minx<this.minx&&(this.minx=e.minx),e.maxx>this.maxx&&(this.maxx=e.maxx),e.miny<this.miny&&(this.miny=e.miny),e.maxy>this.maxy&&(this.maxy=e.maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this.minx=n,this.maxx=n,this.miny=r,this.maxy=r):(n<this.minx&&(this.minx=n),n>this.maxx&&(this.maxx=n),r<this.miny&&(this.miny=r),r>this.maxy&&(this.maxy=r))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return e>t?t:e},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this.minx<e.minx?-1:this.minx>e.minx?1:this.miny<e.miny?-1:this.miny>e.miny?1:this.maxx<e.maxx?-1:this.maxx>e.maxx?1:this.maxy<e.maxy?-1:this.maxy>e.maxy?1:0},translate:function(t,e){return this.isNull()?null:void this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this.minx-=e,this.maxx+=e,this.miny-=n,this.maxy+=n,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof f){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},centre:function(){return this.isNull()?null:new f((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof f){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof E){var e=arguments[0];this.minx=e.minx,this.maxx=e.maxx,this.miny=e.miny,this.maxy=e.maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];o>i?(this.minx=i,this.maxx=o):(this.minx=o,this.maxx=i),s>a?(this.miny=a,this.maxy=s):(this.miny=s,this.maxy=a)}},getMaxY:function(){return this.maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this.maxx<t.minx?e=t.minx-this.maxx:this.minx>t.maxx&&(e=this.minx-t.maxx);var n=0;return this.maxy<t.miny?n=t.miny-this.maxy:this.miny>t.maxy&&(n=this.miny-t.maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return 37*(t=37*(t=37*(t=37*t+f.hashCode(this.minx))+f.hashCode(this.maxx))+f.hashCode(this.miny))+f.hashCode(this.maxy)},interfaces_:function(){return[o,l]},getClass:function(){return E}}),E.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),l=Math.max(o.x,a.x),u=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(u>l||s>c||(s=Math.min(o.y,a.y),l=Math.max(o.y,a.y),u=Math.min(r.y,i.y),c=Math.max(r.y,i.y),u>l||s>c))}},E.serialVersionUID=0x51845cd552189800,c(S,C),e(S.prototype,{interfaces_:function(){return[]},getClass:function(){return S}}),e(T.prototype,{interfaces_:function(){return[]},getClass:function(){return T}}),T.toLocationSymbol=function(t){switch(t){case T.EXTERIOR:return"e";case T.BOUNDARY:return"b";case T.INTERIOR:return"i";case T.NONE:return"-"}throw new r("Unknown location value: "+t)},T.INTERIOR=0,T.BOUNDARY=1,T.EXTERIOR=2,T.NONE=-1,e(O.prototype,{interfaces_:function(){return[]},getClass:function(){return O}}),O.log10=function(t){var e=Math.log(t);return i.isInfinite(e)?e:i.isNaN(e)?e:e/O.LOG_10},O.min=function(t,e,n,r){var i=t;return i>e&&(i=e),i>n&&(i=n),i>r&&(i=r),i},O.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return e>t?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return i>r?i:r>o?o:r}},O.wrap=function(t,e){return 0>t?e- -t%e:t%e},O.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return e>(r=t)&&(r=e),n>r&&(r=n),r}if(4===arguments.length){var r,i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];return o>(r=i)&&(r=o),a>r&&(r=a),s>r&&(r=s),r}},O.average=function(t,e){return(t+e)/2},O.LOG_10=Math.log(10),I.prototype.append=function(t){this.str+=t},I.prototype.setCharAt=function(t,e){return this.str.substr(0,t)+e+this.str.substr(t+1)},I.prototype.toString=function(t){return this.str},P.prototype.intValue=function(){return this.value},P.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},P.isNaN=function(t){return Number.isNaN(t)},N.isWhitespace=function(t){return 32>=t&&t>=0||127==t},N.toUpperCase=function(t){return t.toUpperCase()},e(M.prototype,{le:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<=t.lo},extractSignificantDigits:function(t,e){var n=this.abs(),r=M.magnitude(n.hi),i=M.TEN.pow(r);(n=n.divide(i)).gt(M.TEN)?(n=n.divide(M.TEN),r+=1):n.lt(M.ONE)&&(n=n.multiply(M.TEN),r-=1);for(var o=r+1,a=new I,s=M.MAX_PRINT_DIGITS-1,l=0;s>=l;l++){t&&l===o&&a.append(".");var u=Math.trunc(n.hi);if(0>u)break;var c=!1,p=0;u>9?(c=!0,p="9"):p="0"+u,a.append(p),n=n.subtract(M.valueOf(u)).multiply(M.TEN),c&&n.selfAdd(M.TEN);var h=!0,f=M.magnitude(n.hi);if(0>f&&Math.abs(f)>=s-l&&(h=!1),!h)break}return e[0]=r,a.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof M){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},equals:function(){if(1===arguments.length){var t=arguments[0];return this.hi===t.hi&&this.lo===t.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof M){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t.hi,-t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof M){var t=arguments[0];return this.selfDivide(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,l=null,u=null,c=null,p=null;return l=this.hi/n,p=(i=(u=M.SPLIT*l)-(i=u-l))*(a=(p=M.SPLIT*n)-(a=p-n))-(c=l*n)+i*(s=n-a)+(o=l-i)*a+o*s,p=l+(u=(this.hi-c-p+this.lo-l*r)/n),this.hi=p,this.lo=l-p+u,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof M){var t=arguments[0],e=null,n=null,r=null,o=null,a=null,s=null,l=null,u=null;n=(a=this.hi/t.hi)-(e=(s=M.SPLIT*a)-(e=s-a)),u=e*(r=(u=M.SPLIT*t.hi)-(r=u-t.hi))-(l=a*t.hi)+e*(o=t.hi-r)+n*r+n*o;var c=u=a+(s=(this.hi-l-u+this.lo-a*t.lo)/t.hi),p=a-u+s;return new M(c,p)}if("number"==typeof arguments[0]){var h=arguments[0];return i.isNaN(h)?M.createNaN():M.copy(this).selfDivide(h,0)}},ge:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>=t.lo},pow:function(t){if(0===t)return M.valueOf(1);var e=new M(this),n=M.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return 0>t?n.reciprocal():n},ceil:function(){if(this.isNaN())return M.NaN;var t=Math.ceil(this.hi),e=0;return t===this.hi&&(e=Math.ceil(this.lo)),new M(t,e)},compareTo:function(t){var e=t;return this.hi<e.hi?-1:this.hi>e.hi?1:this.lo<e.lo?-1:this.lo>e.lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof M){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return M.valueOf(0);if(this.isNegative())return M.NaN;var t=1/Math.sqrt(this.hi),e=this.hi*t,n=M.valueOf(e),r=this.subtract(n.sqr()).hi*(.5*t);return n.add(r)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof M){var t=arguments[0];return this.selfAdd(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,a=null,s=null;return o=(i=this.hi+e)-(a=i-this.hi),r=(s=(o=e-a+(this.hi-o))+this.lo)+(i-(n=i+s)),this.hi=n+r,this.lo=r+(n-this.hi),this}}else if(2===arguments.length){var l=arguments[0],u=arguments[1],c=(n=null,r=null,null),p=null;i=null,o=null,a=null,s=null,i=this.hi+l,c=this.lo+u,o=i-(a=i-this.hi),p=c-(s=c-this.lo);var h=(n=i+(a=(o=l-a+(this.hi-o))+c))+(a=(p=u-s+(this.lo-p))+(r=a+(i-n))),f=a+(n-h);return this.hi=h,this.lo=f,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof M){var t=arguments[0];return this.selfMultiply(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,l=null,u=null;i=(l=M.SPLIT*this.hi)-this.hi,u=M.SPLIT*n,i=l-i,o=this.hi-i,a=u-n;var c=(l=this.hi*n)+(u=i*(a=u-a)-l+i*(s=n-a)+o*a+o*s+(this.hi*r+this.lo*n)),p=u+(i=l-c);return this.hi=c,this.lo=p,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return M.NaN;var t=Math.floor(this.hi),e=0;return t===this.hi&&(e=Math.floor(this.lo)),new M(t,e)},negate:function(){return this.isNaN()?this:new M(-this.hi,-this.lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}},multiply:function(){if(arguments[0]instanceof M){var t=arguments[0];return t.isNaN()?M.createNaN():M.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return i.isNaN(e)?M.createNaN():M.copy(this).selfMultiply(e,0)}},isNaN:function(){return i.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var t=M.magnitude(this.hi);return t>=-3&&20>=t?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(0>r)i="0."+M.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+M.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},reciprocal:function(){var t,e,n,r,i=null,o=null,a=null,s=null;t=(n=1/this.hi)-(i=(a=M.SPLIT*n)-(i=a-n)),o=(s=M.SPLIT*this.hi)-this.hi;var l=n+(a=(1-(r=n*this.hi)-(s=i*(o=s-o)-r+i*(e=this.hi-o)+t*o+t*e)-n*this.lo)/this.hi);return new M(l,n-l+a)},toSciNotation:function(){if(this.isZero())return M.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=M.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},abs:function(){return this.isNaN()?M.NaN:this.isNegative()?this.negate():new M(this)},isPositive:function(){return this.hi>0||0===this.hi&&this.lo>0},lt:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<t.lo},add:function(){if(arguments[0]instanceof M){var t=arguments[0];return M.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return M.copy(this).selfAdd(e)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.hi=t,this.lo=0}else if(arguments[0]instanceof M){var e=arguments[0];this.hi=e.hi,this.lo=e.lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.hi=n,this.lo=r}},gt:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>t.lo},isNegative:function(){return this.hi<0||0===this.hi&&this.lo<0},trunc:function(){return this.isNaN()?M.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[l,o,a]},getClass:function(){return M}}),M.sqr=function(t){return M.valueOf(t).selfMultiply(t)},M.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return M.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new M(e)}},M.sqrt=function(t){return M.valueOf(t).sqrt()},M.parse=function(t){for(var e=0,n=t.length;N.isWhitespace(t.charAt(e));)e++;var r=!1;if(n>e){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new M,a=0,s=0,l=0;!(e>=n);){var u=t.charAt(e);if(e++,N.isDigit(u)){var c=u-"0";o.selfMultiply(M.TEN),o.selfAdd(c),a++}else{if("."!==u){if("e"===u||"E"===u){var p=t.substring(e);try{l=P.parseInt(p)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+p+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+u+"' at position "+e+" in string "+t)}s=a}}var h=o,f=a-s-l;if(0===f)h=o;else if(f>0){var d=M.TEN.pow(f);h=o.divide(d)}else 0>f&&(d=M.TEN.pow(-f),h=o.multiply(d));return r?h.negate():h},M.createNaN=function(){return new M(i.NaN,i.NaN)},M.copy=function(t){return new M(t)},M.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return e>=10*Math.pow(10,r)&&(r+=1),r},M.stringOfChar=function(t,e){for(var n=new I,r=0;e>r;r++)n.append(t);return n.toString()},M.PI=new M(3.141592653589793,12246467991473532e-32),M.TWO_PI=new M(6.283185307179586,24492935982947064e-32),M.PI_2=new M(1.5707963267948966,6123233995736766e-32),M.E=new M(2.718281828459045,14456468917292502e-32),M.NaN=new M(i.NaN,i.NaN),M.EPS=123259516440783e-46,M.SPLIT=134217729,M.MAX_PRINT_DIGITS=32,M.TEN=M.valueOf(10),M.ONE=M.valueOf(1),M.SCI_NOT_EXPONENT_CHAR="E",M.SCI_NOT_ZERO="0.0E0",e(A.prototype,{interfaces_:function(){return[]},getClass:function(){return A}}),A.orientationIndex=function(t,e,n){var r=A.orientationIndexFilter(t,e,n);if(1>=r)return r;var i=M.valueOf(e.x).selfAdd(-t.x),o=M.valueOf(e.y).selfAdd(-t.y),a=M.valueOf(n.x).selfAdd(-e.x),s=M.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},A.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},A.intersection=function(t,e,n,r){var i=M.valueOf(r.y).selfSubtract(n.y).selfMultiply(M.valueOf(e.x).selfSubtract(t.x)),o=M.valueOf(r.x).selfSubtract(n.x).selfMultiply(M.valueOf(e.y).selfSubtract(t.y)),a=i.subtract(o),s=M.valueOf(r.x).selfSubtract(n.x).selfMultiply(M.valueOf(t.y).selfSubtract(n.y)),l=M.valueOf(r.y).selfSubtract(n.y).selfMultiply(M.valueOf(t.x).selfSubtract(n.x)),u=s.subtract(l).selfDivide(a).doubleValue(),c=M.valueOf(t.x).selfAdd(M.valueOf(e.x).selfSubtract(t.x).selfMultiply(u)).doubleValue(),p=M.valueOf(e.x).selfSubtract(t.x).selfMultiply(M.valueOf(t.y).selfSubtract(n.y)),h=M.valueOf(e.y).selfSubtract(t.y).selfMultiply(M.valueOf(t.x).selfSubtract(n.x)),d=p.subtract(h).selfDivide(a).doubleValue();return new f(c,M.valueOf(n.y).selfAdd(M.valueOf(r.y).selfSubtract(n.y).selfMultiply(d)).doubleValue())},A.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=i-o;if(i>0){if(0>=o)return A.signum(a);r=i+o}else{if(!(0>i))return A.signum(a);if(o>=0)return A.signum(a);r=-i-o}var s=A.DP_SAFE_EPSILON*r;return a>=s||-a>=s?A.signum(a):2},A.signum=function(t){return t>0?1:0>t?-1:0},A.DP_SAFE_EPSILON=1e-15,e(L.prototype,{setOrdinate:function(t,e,n){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[a]},getClass:function(){return L}}),L.X=0,L.Y=1,L.Z=2,L.M=3,R.arraycopy=function(t,e,n,r,i){for(var o=0,a=e;e+i>a;a++)n[r+o]=t[a],o++},R.getProperty=function(t){return{"line.separator":"\n"}[t]},e(D.prototype,{getY:function(){var t=this.y/this.w;if(i.isNaN(t)||i.isInfinite(t))throw new S;return t},getX:function(){var t=this.x/this.w;if(i.isNaN(t)||i.isInfinite(t))throw new S;return t},getCoordinate:function(){var t=new f;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return D}}),D.intersection=function(t,e,n,r){var o=t.y-e.y,a=e.x-t.x,s=t.x*e.y-e.x*t.y,l=n.y-r.y,u=r.x-n.x,c=n.x*r.y-r.x*n.y,p=o*u-l*a,h=(a*c-u*s)/p,d=(l*s-o*c)/p;if(i.isNaN(h)||i.isInfinite(h)||i.isNaN(d)||i.isInfinite(d))throw new S;return new f(h,d)},e(z.prototype,{create:function(){1===arguments.length?arguments[0]instanceof Array?arguments[0]:k(arguments[0],L)&&arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return z}}),e(F.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return F}}),e(j.prototype,{isGeometryCollection:function(){return this.getSortIndex()===j.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof j))return!1;var n=e;return this.equalsExact(n)}}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(j.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(t){return null!==t&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return e=n,this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,r)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===j.SORTINDEX_GEOMETRYCOLLECTION)throw new r("This method does not support GeometryCollection arguments")},equal:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new E(this.envelope)},setSRID:function(t){this.SRID=t},setUserData:function(t){this.userData=t},compare:function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===j.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===j.SORTINDEX_MULTIPOINT||this.getSortIndex()===j.SORTINDEX_MULTILINESTRING||this.getSortIndex()===j.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[a,o,l]},getClass:function(){return j}}),j.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},j.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},j.serialVersionUID=0x799ea46522854c00,j.SORTINDEX_POINT=0,j.SORTINDEX_MULTIPOINT=1,j.SORTINDEX_LINESTRING=2,j.SORTINDEX_LINEARRING=3,j.SORTINDEX_MULTILINESTRING=4,j.SORTINDEX_POLYGON=5,j.SORTINDEX_MULTIPOLYGON=6,j.SORTINDEX_GEOMETRYCOLLECTION=7,j.geometryChangedFilter={interfaces_:function(){return[F]},filter:function(t){t.geometryChangedAction()}},e(B.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return B}}),e(U.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return U}}),e(V.prototype,{isInBoundary:function(t){return t%2==1},interfaces_:function(){return[U]},getClass:function(){return V}}),e(q.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[U]},getClass:function(){return q}}),e(G.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[U]},getClass:function(){return G}}),e(W.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[U]},getClass:function(){return W}}),U.Mod2BoundaryNodeRule=V,U.EndPointBoundaryNodeRule=q,U.MultiValentEndPointBoundaryNodeRule=G,U.MonoValentEndPointBoundaryNodeRule=W,U.MOD2_BOUNDARY_RULE=new V,U.ENDPOINT_BOUNDARY_RULE=new q,U.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new G,U.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new W,U.OGC_SFS_BOUNDARY_RULE=U.MOD2_BOUNDARY_RULE,e(H.prototype,{interfaces_:function(){return[]},getClass:function(){return H}}),H.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},H.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(H.indexOf(r,e)<0)return r}return null},H.scroll=function(t,e){var n=H.indexOf(e,t);if(0>n)return null;var r=new Array(t.length).fill(null);R.arraycopy(t,n,r,0,t.length-n),R.arraycopy(t,0,r,t.length-n,n),R.arraycopy(r,0,t,0,t.length)},H.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(n=0;n<r.length;n++)if(0!==o.compare(r[n],i[n]))return!1;return!0}},H.intersection=function(t,e){for(var n=new w,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},H.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},H.removeRepeatedPoints=function(t){return H.hasRepeatedPoints(t)?new w(t,!1).toCoordinateArray():t},H.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;n>=r;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},H.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;var i=0;for(n=0;n<t.length;n++)null!==t[n]&&(r[i++]=t[n]);return r},H.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new f(t[n]);return e}if(5===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4];for(n=0;s>n;n++)o[a+n]=new f(r[i+n])}},H.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},H.envelope=function(t){for(var e=new E,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},H.toCoordinateArray=function(t){return t.toArray(H.coordArrayType)},H.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},H.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},H.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},H.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},H.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},H.extract=function(t,e,n){e=O.clamp(e,0,t.length);var r=(n=O.clamp(n,-1,t.length))-e+1;0>n&&(r=0),e>=t.length&&(r=0),e>n&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=e;n>=a;a++)i[o++]=t[a];return i},e(Y.prototype,{compare:function(t,e){var n=t,r=e;return H.compare(n,r)},interfaces_:function(){return[s]},getClass:function(){return Y}}),e(X.prototype,{compare:function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=H.compare(n,r);return H.isEqualReversed(n,r)?0:i},OLDcompare:function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=H.increasingDirection(n),o=H.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,l=0;l<n.length;l++){var u=n[a].compareTo(r[s]);if(0!==u)return u;a+=i,s+=o}return 0},interfaces_:function(){return[s]},getClass:function(){return X}}),H.ForwardComparator=Y,H.BidirectionalComparator=X,H.coordArrayType=new Array(0).fill(null),Z.prototype.get=function(){},Z.prototype.put=function(){},Z.prototype.size=function(){},Z.prototype.values=function(){},Z.prototype.entrySet=function(){},K.prototype=new Z,$.prototype=new m,$.prototype.contains=function(){},J.prototype=new $,J.prototype.contains=function(t){for(var e=0,n=this.array_.length;n>e;e++)if(this.array_[e]===t)return!0;return!1},J.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},J.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},J.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},J.prototype.size=function(){return this.array_.length},J.prototype.isEmpty=function(){return 0===this.array_.length},J.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},J.prototype.iterator=function(){return new Bo(this)};var Bo=function(t){this.hashSet_=t,this.position_=0};Bo.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new _;return this.hashSet_.array_[this.position_++]},Bo.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Bo.prototype.remove=function(){throw new b};var Uo=0;it.prototype=new K,it.prototype.get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(0>n)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},it.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Uo,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,0>(r=t.compareTo(i.key)))i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var a={key:t,left:null,right:null,value:e,parent:n,color:Uo,getValue:function(){return this.value},getKey:function(){return this.key}};return 0>r?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},it.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!=this.root_&&1==t.parent.color;)if(tt(t)==nt(tt(tt(t))))1==Q(e=rt(tt(tt(t))))?(et(tt(t),Uo),et(e,Uo),et(tt(tt(t)),1),t=tt(tt(t))):(t==rt(tt(t))&&(t=tt(t),this.rotateLeft(t)),et(tt(t),Uo),et(tt(tt(t)),1),this.rotateRight(tt(tt(t))));else{var e;1==Q(e=nt(tt(tt(t))))?(et(tt(t),Uo),et(e,Uo),et(tt(tt(t)),1),t=tt(tt(t))):(t==nt(tt(t))&&(t=tt(t),this.rotateRight(t)),et(tt(t),Uo),et(tt(tt(t)),1),this.rotateLeft(tt(tt(t))))}this.root_.color=Uo},it.prototype.values=function(){var t=new x,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=it.successor(e));)t.add(e.value);return t},it.prototype.entrySet=function(){var t=new J,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=it.successor(e));)t.add(e);return t},it.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},it.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},it.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},it.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}e=t.parent;for(var n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e},it.prototype.size=function(){return this.size_},e(ot.prototype,{interfaces_:function(){return[]},getClass:function(){return ot}}),at.prototype=new $,st.prototype=new at,st.prototype.contains=function(t){for(var e=0,n=this.array_.length;n>e;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},st.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;n>e;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},st.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},st.prototype.remove=function(t){throw new b},st.prototype.size=function(){return this.array_.length},st.prototype.isEmpty=function(){return 0===this.array_.length},st.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},st.prototype.iterator=function(){return new Vo(this)};var Vo=function(t){this.treeSet_=t,this.position_=0};Vo.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new _;return this.treeSet_.array_[this.position_++]},Vo.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Vo.prototype.remove=function(){throw new b},lt.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)return r=function(t,e){return t.compareTo(e)},void i.sort(r);if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else{if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t]);return}if(4===arguments.length){for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t]);return}}},lt.asList=function(t){for(var e=new x,n=0,r=t.length;r>n;n++)e.add(t[n]);return e},e(ut.prototype,{interfaces_:function(){return[]},getClass:function(){return ut}}),ut.toDimensionSymbol=function(t){switch(t){case ut.FALSE:return ut.SYM_FALSE;case ut.TRUE:return ut.SYM_TRUE;case ut.DONTCARE:return ut.SYM_DONTCARE;case ut.P:return ut.SYM_P;case ut.L:return ut.SYM_L;case ut.A:return ut.SYM_A}throw new r("Unknown dimension value: "+t)},ut.toDimensionValue=function(t){switch(N.toUpperCase(t)){case ut.SYM_FALSE:return ut.FALSE;case ut.SYM_TRUE:return ut.TRUE;case ut.SYM_DONTCARE:return ut.DONTCARE;case ut.SYM_P:return ut.P;case ut.SYM_L:return ut.L;case ut.SYM_A:return ut.A}throw new r("Unknown dimension symbol: "+t)},ut.P=0,ut.L=1,ut.A=2,ut.FALSE=-1,ut.TRUE=-2,ut.DONTCARE=-3,ut.SYM_FALSE="F",ut.SYM_TRUE="T",ut.SYM_DONTCARE="*",ut.SYM_P="0",ut.SYM_L="1",ut.SYM_A="2",e(ct.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return ct}}),e(pt.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return pt}}),c(ht,j),e(ht.prototype,{computeEnvelopeInternal:function(){for(var t=new E,e=0;e<this.geometries.length;e++)t.expandToInclude(this.geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this.geometries[t]},getSortIndex:function(){return j.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this.geometries.length;n++)for(var r=this.geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},getArea:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getArea();return t},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.geometries.length!==n.geometries.length)return!1;for(var r=0;r<this.geometries.length;r++)if(!this.geometries[r].equalsExact(n.geometries[r],e))return!1;return!0}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this.geometries.length;t++)this.geometries[t].normalize();lt.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=ut.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=ut.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getNumPoints();return t},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new st(lt.asList(this.geometries)),n=new st(lt.asList(t.geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=r,a=this.getNumGeometries(),s=o.getNumGeometries(),l=0;a>l&&s>l;){var u=this.getGeometryN(l),c=o.getGeometryN(l),p=u.compareToSameClass(c,i);if(0!==p)return p;l++}return a>l?1:s>l?-1:0}},apply:function(){if(k(arguments[0],B))for(var t=arguments[0],e=0;e<this.geometries.length;e++)this.geometries[e].apply(t);else if(k(arguments[0],pt)){var n=arguments[0];if(0===this.geometries.length)return null;for(e=0;e<this.geometries.length&&(this.geometries[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(k(arguments[0],ct)){var r=arguments[0];for(r.filter(this),e=0;e<this.geometries.length;e++)this.geometries[e].apply(r)}else if(k(arguments[0],F)){var i=arguments[0];for(i.filter(this),e=0;e<this.geometries.length;e++)this.geometries[e].apply(i)}},getBoundary:function(){return this.checkNotGeometryCollection(this),h.shouldNeverReachHere(),null},clone:function(){var t=j.prototype.clone.call(this);t.geometries=new Array(this.geometries.length).fill(null);for(var e=0;e<this.geometries.length;e++)t.geometries[e]=this.geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new ht(t,this.factory)},isEmpty:function(){for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return ht}}),ht.serialVersionUID=-0x4f07bcb1f857d800,c(ft,ht),e(ft.prototype,{getSortIndex:function(){return j.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ht.prototype.equalsExact.call(this,t,e)}return ht.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?ut.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[t-1-n]=this.geometries[n].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new dt(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new ft(t,this.factory)},interfaces_:function(){return[ot]},getClass:function(){return ft}}),ft.serialVersionUID=0x7155d2ab4afa8000,e(dt.prototype,{boundaryMultiLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this.geomFact.createPoint(e[0]):this.geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this.geom instanceof Et?this.boundaryLineString(this.geom):this.geom instanceof ft?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(t){return this.geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this.bnRule.isInBoundary(2)?t.getStartPoint():this.geomFact.createMultiPoint():this.geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new x;this.endpointMap=new it;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this.endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getValue().count;this.bnRule.isInBoundary(a)&&e.add(o.getKey())}return H.toCoordinateArray(e)},addEndpoint:function(t){var e=this.endpointMap.get(t);null===e&&(e=new gt,this.endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return dt}}),dt.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new dt(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new dt(e,n).getBoundary()}},e(gt.prototype,{interfaces_:function(){return[]},getClass:function(){return gt}}),e(xt.prototype,{interfaces_:function(){return[]},getClass:function(){return xt}}),xt.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;e>r;r++)n[r]=t;return new String(n)},xt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new yt,n=new mt(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",a=new vt(xt.getStackTrace(r)),s=new bt(a),l=0;i>l;l++)try{o+=s.readLine()+xt.NEWLINE}catch(t){if(!(t instanceof _t))throw t;h.shouldNeverReachHere()}return o}},xt.split=function(t,e){for(var n=e.length,r=new x,i=""+t,o=i.indexOf(e);o>=0;){var a=i.substring(0,o);r.add(a),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),l=0;l<s.length;l++)s[l]=r.get(l);return s},xt.toString=function(){if(1===arguments.length){var t=arguments[0];return xt.SIMPLE_ORDINATE_FORMAT.format(t)}},xt.spaces=function(t){return xt.chars(" ",t)},xt.NEWLINE=R.getProperty("line.separator"),xt.SIMPLE_ORDINATE_FORMAT=new function(){}("0.#"),e(wt.prototype,{interfaces_:function(){return[]},getClass:function(){return wt}}),wt.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;i>o;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},wt.isRing=function(t){var e=t.size();return 0===e||!(3>=e)&&t.getOrdinate(0,L.X)===t.getOrdinate(e-1,L.X)&&t.getOrdinate(0,L.Y)===t.getOrdinate(e-1,L.Y)},wt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),o=0;n>o;o++)for(var a=0;r>a;a++){var s=t.getOrdinate(o,a),l=e.getOrdinate(o,a);if(!(t.getOrdinate(o,a)===e.getOrdinate(o,a)||i.isNaN(s)&&i.isNaN(l)))return!1}return!0},wt.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(wt.copy(e,0,r,0,i),i>0)for(var o=i;n>o;o++)wt.copy(e,i-1,r,o,1);return r},wt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;n>=r;r++)wt.swap(t,r,e-r)},wt.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},wt.copy=function(t,e,n,r,i){for(var o=0;i>o;o++)wt.copyCoord(t,e+o,n,r+o)},wt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new I;r.append("(");for(var i=0;e>i;i++){i>0&&r.append(" ");for(var o=0;n>o;o++)o>0&&r.append(","),r.append(xt.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},wt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:3>=n?wt.createClosedRing(t,e,4):e.getOrdinate(0,L.X)===e.getOrdinate(n-1,L.X)&&e.getOrdinate(0,L.Y)===e.getOrdinate(n-1,L.Y)?e:wt.createClosedRing(t,e,n+1)},wt.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();wt.copy(e,0,r,0,i);for(var o=i;n>o;o++)wt.copy(e,0,r,o,1);return r},c(Et,j),e(Et.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new E:this.points.expandEnvelope(new E)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return j.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.points.size()!==n.points.size())return!1;for(var r=0;r<this.points.size();r++)if(!this.equal(this.points.getCoordinate(r),n.points.getCoordinate(r),e))return!1;return!0}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this.points.size()/2);t++){var e=this.points.size()-1-t;if(!this.points.getCoordinate(t).equals(this.points.getCoordinate(e)))return this.points.getCoordinate(t).compareTo(this.points.getCoordinate(e))>0&&wt.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?ut.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return Qt.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var t=this.points.copy();return wt.reverse(t),this.getFactory().createLineString(t)},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=t,n=0,r=0;n<this.points.size()&&r<e.points.size();){var i=this.points.getCoordinate(n).compareTo(e.points.getCoordinate(r));if(0!==i)return i;n++,r++}return n<this.points.size()?1:r<e.points.size()?-1:0}if(2===arguments.length){var o=arguments[0],a=arguments[1];return e=o,a.compare(this.points,e.points)}},apply:function(){if(k(arguments[0],B))for(var t=arguments[0],e=0;e<this.points.size();e++)t.filter(this.points.getCoordinate(e));else if(k(arguments[0],pt)){var n=arguments[0];if(0===this.points.size())return null;for(e=0;e<this.points.size()&&(n.filter(this.points,e),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(k(arguments[0],ct)){var r=arguments[0];r.filter(this)}else if(k(arguments[0],F)){var i=arguments[0];i.filter(this)}},getBoundary:function(){return new dt(this).getBoundary()},isEquivalentClass:function(t){return t instanceof Et},clone:function(){var t=j.prototype.clone.call(this);return t.points=this.points.clone(),t},getCoordinateN:function(t){return this.points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new Et(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new r("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this.points=t},isCoordinate:function(t){for(var e=0;e<this.points.size();e++)if(this.points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this.points.getCoordinate(t))},interfaces_:function(){return[ot]},getClass:function(){return Et}}),Et.serialVersionUID=0x2b2b51ba435c8e00,e(Ct.prototype,{interfaces_:function(){return[]},getClass:function(){return Ct}}),c(St,j),e(St.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new E;var t=new E;return t.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),t},getSortIndex:function(){return j.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this.coordinates.size()?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return ut.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var n=arguments[0],r=arguments[1];return e=n,r.compare(this.coordinates,e.coordinates)}},apply:function(){if(k(arguments[0],B)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(k(arguments[0],pt)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(k(arguments[0],ct)){var n=arguments[0];n.filter(this)}else if(k(arguments[0],F)){var r=arguments[0];r.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=j.prototype.clone.call(this);return t.coordinates=this.coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new St(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),h.isTrue(t.size()<=1),this.coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[Ct]},getClass:function(){return St}}),St.serialVersionUID=0x44077bad161cbc00,e(Tt.prototype,{interfaces_:function(){return[]},getClass:function(){return Tt}}),c(kt,j),e(kt.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return j.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this.shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this.holes.length;i++)for(var o=this.holes[i].getCoordinates(),a=0;a<o.length;a++)t[++e]=o[a];return t},getArea:function(){var t=0;t+=Math.abs(Qt.signedArea(this.shell.getCoordinateSequence()));for(var e=0;e<this.holes.length;e++)t-=Math.abs(Qt.signedArea(this.holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var t=this.shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;5>n;n++){if((o=t.getX(n))!==e.getMinX()&&o!==e.getMaxX())return!1;if((a=t.getY(n))!==e.getMinY()&&a!==e.getMaxY())return!1}var r=t.getX(0),i=t.getY(0);for(n=1;4>=n;n++){var o,a;if((o=t.getX(n))!==r==((a=t.getY(n))!==i))return!1;r=o,i=a}return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,r=this.shell,i=n.shell;if(!r.equalsExact(i,e))return!1;if(this.holes.length!==n.holes.length)return!1;for(var o=0;o<this.holes.length;o++)if(!this.holes[o].equalsExact(n.holes[o],e))return!1;return!0}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var t=0;t<this.holes.length;t++)this.normalize(this.holes[t],!1);lt.sort(this.holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);R.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=H.minCoordinate(e.getCoordinates());H.scroll(r,i),R.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],Qt.isCCW(e.getCoordinates())===n&&H.reverse(e.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this.shell.getLength();for(var e=0;e<this.holes.length;e++)t+=this.holes[e].getLength();return t},getNumPoints:function(){for(var t=this.shell.getNumPoints(),e=0;e<this.holes.length;e++)t+=this.holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t.shell=this.shell.copy().reverse(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=this.shell,n=t.shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],o=r,a=(e=this.shell,n=o.shell,e.compareToSameClass(n,i));if(0!==a)return a;for(var s=this.getNumInteriorRing(),l=o.getNumInteriorRing(),u=0;s>u&&l>u;){var c=this.getInteriorRingN(u),p=o.getInteriorRingN(u),h=c.compareToSameClass(p,i);if(0!==h)return h;u++}return s>u?1:l>u?-1:0}},apply:function(){if(k(arguments[0],B)){var t=arguments[0];this.shell.apply(t);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(t)}else if(k(arguments[0],pt)){var n=arguments[0];if(this.shell.apply(n),!n.isDone())for(e=0;e<this.holes.length&&(this.holes[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(k(arguments[0],ct)){var r=arguments[0];r.filter(this)}else if(k(arguments[0],F)){var i=arguments[0];for(i.filter(this),this.shell.apply(i),e=0;e<this.holes.length;e++)this.holes[e].apply(i)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this.holes.length+1).fill(null);t[0]=this.shell;for(var e=0;e<this.holes.length;e++)t[e+1]=this.holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=j.prototype.clone.call(this);t.shell=this.shell.clone(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this.shell.copy(),e=new Array(this.holes.length).fill(null),n=0;n<e.length;n++)e[n]=this.holes[n].copy();return new kt(t,e,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(t){return this.holes[t]},interfaces_:function(){return[Tt]},getClass:function(){return kt}}),kt.serialVersionUID=-0x307ffefd8dc97200,c(Ot,ht),e(Ot.prototype,{getSortIndex:function(){return j.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ht.prototype.equalsExact.call(this,t,e)}return ht.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.geometries[t].getCoordinate()}return ht.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return ut.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Ot(t,this.factory)},interfaces_:function(){return[Ct]},getClass:function(){return Ot}}),Ot.serialVersionUID=-0x6fb1ed4162e0fc00,c(It,Et),e(It.prototype,{getSortIndex:function(){return j.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return ut.FALSE},isClosed:function(){return!!this.isEmpty()||Et.prototype.isClosed.call(this)},reverse:function(){var t=this.points.copy();return wt.reverse(t),this.getFactory().createLinearRing(t)},validateConstruction:function(){if(!this.isEmpty()&&!Et.prototype.isClosed.call(this))throw new r("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<It.MINIMUM_VALID_SIZE)throw new r("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new It(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return It}}),It.MINIMUM_VALID_SIZE=4,It.serialVersionUID=-0x3b229e262367a600,c(Pt,ht),e(Pt.prototype,{getSortIndex:function(){return j.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ht.prototype.equalsExact.call(this,t,e)}return ht.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new x,e=0;e<this.geometries.length;e++)for(var n=this.geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Pt(t,this.factory)},interfaces_:function(){return[Tt]},getClass:function(){return Pt}}),Pt.serialVersionUID=-0x7a5aa1369171980,e(Nt.prototype,{setCopyUserData:function(t){this.isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this.isUserDataCopied&&n.setUserData(t.getUserData()),n},editInternal:function(t,e){return null===this.factory&&(this.factory=t.getFactory()),t instanceof ht?this.editGeometryCollection(t,e):t instanceof kt?this.editPolygon(t,e):t instanceof St?e.edit(t,this.factory):t instanceof Et?e.edit(t,this.factory):(h.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var n=e.edit(t,this.factory),r=new x,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===Ot?this.factory.createMultiPoint(r.toArray([])):n.getClass()===ft?this.factory.createMultiLineString(r.toArray([])):n.getClass()===Pt?this.factory.createMultiPolygon(r.toArray([])):this.factory.createGeometryCollection(r.toArray([]))},editPolygon:function(t,e){var n=e.edit(t,this.factory);if(null===n&&(n=this.factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this.factory.createPolygon();for(var i=new x,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||i.add(a)}return this.factory.createPolygon(r,i.toArray([]))},interfaces_:function(){return[]},getClass:function(){return Nt}}),Nt.GeometryEditorOperation=Mt,e(At.prototype,{edit:function(t,e){return t},interfaces_:function(){return[Mt]},getClass:function(){return At}}),e(Lt.prototype,{edit:function(t,e){if(t instanceof It)return e.createLinearRing(this.editCoordinates(t.getCoordinates(),t));if(t instanceof Et)return e.createLineString(this.editCoordinates(t.getCoordinates(),t));if(t instanceof St){var n=this.editCoordinates(t.getCoordinates(),t);return n.length>0?e.createPoint(n[0]):e.createPoint()}return t},interfaces_:function(){return[Mt]},getClass:function(){return Lt}}),e(Rt.prototype,{edit:function(t,e){return t instanceof It?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Et?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof St?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[Mt]},getClass:function(){return Rt}}),Nt.NoOpGeometryOperation=At,Nt.CoordinateOperation=Lt,Nt.CoordinateSequenceOperation=Rt,e(Dt.prototype,{setOrdinate:function(t,e,n){switch(e){case L.X:this.coordinates[t].x=n;break;case L.Y:this.coordinates[t].y=n;break;case L.Z:this.coordinates[t].z=n;break;default:throw new r("invalid ordinateIndex")}},size:function(){return this.coordinates.length},getOrdinate:function(t,e){switch(e){case L.X:return this.coordinates[t].x;case L.Y:return this.coordinates[t].y;case L.Z:return this.coordinates[t].z}return i.NaN},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this.coordinates[e].x,n.y=this.coordinates[e].y,n.z=this.coordinates[e].z}},getCoordinateCopy:function(t){return new f(this.coordinates[t])},getDimension:function(){return this.dimension},getX:function(t){return this.coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].clone();return new Dt(t,this.dimension)},expandEnvelope:function(t){for(var e=0;e<this.coordinates.length;e++)t.expandToInclude(this.coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].copy();return new Dt(t,this.dimension)},toString:function(){if(this.coordinates.length>0){var t=new I(17*this.coordinates.length);t.append("("),t.append(this.coordinates[0]);for(var e=1;e<this.coordinates.length;e++)t.append(", "),t.append(this.coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this.coordinates[t].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[L,l]},getClass:function(){return Dt}}),Dt.serialVersionUID=-0xcb44a778db18e00,e(zt.prototype,{readResolve:function(){return zt.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Dt(t)}if(k(arguments[0],L)){var e=arguments[0];return new Dt(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),2>r?new Dt(n):new Dt(n,r)}},interfaces_:function(){return[z,l]},getClass:function(){return zt}}),zt.instance=function(){return zt.instanceObject},zt.serialVersionUID=-0x38e49fa6cf6f2e00,zt.instanceObject=new zt;var qo,Go=Object.defineProperty,Wo=function(t,e){function n(t){return this&&this.constructor===n?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,void(t&&jt.call(this,t))):new n(t)}return e||Go(t,"size",{get:Vt}),t.constructor=n,n.prototype=t,n}({delete:function(t){return this.has(t)&&(this._keys.splice(qo,1),this._values.splice(qo,1),this._itp.forEach((function(t){qo<t[0]&&t[0]--}))),qo>-1},has:function(t){return Bt.call(this,this._keys,t)},get:function(t){return this.has(t)?this._values[qo]:void 0},set:function(t,e){return this.has(t)?this._values[qo]=e:this._values[this._keys.push(t)-1]=e,this},keys:function(){return Ut(this._itp,this._keys)},values:function(){return Ut(this._itp,this._values)},entries:function(){return Ut(this._itp,this._keys,this._values)},forEach:function(t,e){for(var n=this.entries();;){var r=n.next();if(r.done)break;t.call(e,r.value[1],r.value[0],this)}},clear:function(){(this._keys||0).length=this._values.length=0}}),Ho="undefined"!=typeof Map&&Map.prototype.values?Map:Wo;qt.prototype=new Z,qt.prototype.get=function(t){return this.map_.get(t)||null},qt.prototype.put=function(t,e){return this.map_.set(t,e),e},qt.prototype.values=function(){for(var t=new x,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},qt.prototype.entrySet=function(){var t=new J;return this.map_.entries().forEach((function(e){return t.add(e)})),t},qt.prototype.size=function(){return this.map_.size()},e(Gt.prototype,{equals:function(t){if(!(t instanceof Gt))return!1;var e=t;return this.modelType===e.modelType&&this.scale===e.scale},compareTo:function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new P(n).compareTo(new P(r))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===Gt.FLOATING||this.modelType===Gt.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var t="UNKNOWN";return this.modelType===Gt.FLOATING?t="Floating":this.modelType===Gt.FLOATING_SINGLE?t="Floating-Single":this.modelType===Gt.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];return i.isNaN(t)?t:this.modelType===Gt.FLOATING_SINGLE?t:this.modelType===Gt.FIXED?Math.round(t*this.scale)/this.scale:t}if(arguments[0]instanceof f){var e=arguments[0];if(this.modelType===Gt.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},getMaximumSignificantDigits:function(){var t=16;return this.modelType===Gt.FLOATING?t=16:this.modelType===Gt.FLOATING_SINGLE?t=6:this.modelType===Gt.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this.scale=Math.abs(t)},interfaces_:function(){return[l,o]},getClass:function(){return Gt}}),Gt.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},e(Wt.prototype,{readResolve:function(){return Wt.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[l]},getClass:function(){return Wt}}),Wt.serialVersionUID=-552860263173159e4,Wt.nameToTypeMap=new qt,Gt.Type=Wt,Gt.serialVersionUID=0x6bee6404e9a25c00,Gt.FIXED=new Wt("FIXED"),Gt.FLOATING=new Wt("FLOATING"),Gt.FLOATING_SINGLE=new Wt("FLOATING SINGLE"),Gt.maximumPreciseValue=9007199254740992,e(Ht.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new f(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new f(t.getMinX(),t.getMinY()),new f(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new f(t.getMinX(),t.getMinY()),new f(t.getMinX(),t.getMaxY()),new f(t.getMaxX(),t.getMaxY()),new f(t.getMaxX(),t.getMinY()),new f(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(k(arguments[0],L)){var e=arguments[0];return new Et(e,this)}}},createMultiLineString:function(){if(0===arguments.length)return new ft(null,this);if(1===arguments.length){var t=arguments[0];return new ft(t,this)}},buildGeometry:function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(Ht.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof kt)return this.createMultiPolygon(Ht.toPolygonArray(t));if(s instanceof Et)return this.createMultiLineString(Ht.toLineStringArray(t));if(s instanceof St)return this.createMultiPoint(Ht.toPointArray(t));h.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof f){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(k(arguments[0],L)){var e=arguments[0];return new St(e,this)}}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new kt(null,null,this);if(1===arguments.length){if(k(arguments[0],L)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof It){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new kt(r,i,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){if(0===arguments.length)return new ht(null,this);if(1===arguments.length){var t=arguments[0];return new ht(t,this)}},createGeometry:function(t){return new Nt(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return arguments[1],this.coordinateSequenceFactory.create(t)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(k(arguments[0],L)){var e=arguments[0];return new It(e,this)}}},createMultiPolygon:function(){if(0===arguments.length)return new Pt(null,this);if(1===arguments.length){var t=arguments[0];return new Pt(t,this)}},createMultiPoint:function(){if(0===arguments.length)return new Ot(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Ot(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(k(arguments[0],L)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),i=0;i<n.size();i++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());wt.copy(n,i,o,0,1),r[i]=this.createPoint(o)}return this.createMultiPoint(r)}}},interfaces_:function(){return[l]},getClass:function(){return Ht}}),Ht.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.getDefaultCoordinateSequenceFactory=function(){return zt.instance()},Ht.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ht.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Ht.serialVersionUID=-0x5ea75f2051eeb400;var Yo={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};e(Yt.prototype,{read:function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=Yo.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Yo.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],Zo[n]&&(e=Zo[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!Xo[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Xo[e].apply(this,[t])+")"}});var Xo={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Xo.coordinate.call(this,t.coordinates.coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t.geometries.length;r>n;++n)e.push("("+Xo.point.apply(this,[t.geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t.points.coordinates.length;r>n;++n)e.push(Xo.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t.points.coordinates.length;r>n;++n)e.push(Xo.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t.geometries.length;r>n;++n)e.push("("+Xo.linestring.apply(this,[t.geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Xo.linestring.apply(this,[t.shell])+")");for(var n=0,r=t.holes.length;r>n;++n)e.push("("+Xo.linestring.apply(this,[t.holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t.geometries.length;r>n;++n)e.push("("+Xo.polygon.apply(this,[t.geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t.geometries.length;r>n;++n)e.push(this.extractGeometry(t.geometries[n]));return e.join(",")}},Zo={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Yo.spaces);return this.geometryFactory.createPoint(new f(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;o>i;++i)e=n[i].replace(Yo.trimParens,"$1"),r.push(Zo.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;o>i;++i)e=n[i].trim().split(Yo.spaces),r.push(new f(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;o>i;++i)e=n[i].trim().split(Yo.spaces),r.push(new f(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Yo.parenComma),r=[],i=0,o=n.length;o>i;++i)e=n[i].replace(Yo.trimParens,"$1"),r.push(Zo.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(Yo.parenComma),a=[],s=0,l=o.length;l>s;++s)e=o[s].replace(Yo.trimParens,"$1"),n=Zo.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n.points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Yo.doubleParenComma),r=[],i=0,o=n.length;o>i;++i)e=n[i].replace(Yo.trimParens,"$1"),r.push(Zo.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;i>r;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}};e(Xt.prototype,{write:function(t){return this.parser.write(t)}}),e(Xt,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}),e(Zt.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intLineIndex[t][e]},getTopologySummary:function(){var t=new I;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,n,r){this.inputLines[0][0]=t,this.inputLines[0][1]=e,this.inputLines[1][0]=n,this.inputLines[1][1]=r,this.result=this.computeIntersect(t,e,n,r)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(0===arguments.length)null===this.intLineIndex&&(this.intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0],e=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);e>n?(this.intLineIndex[t][0]=0,this.intLineIndex[t][1]=1):(this.intLineIndex[t][0]=1,this.intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this.precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this.result;e++)if(!this.intPt[e].equals2D(this.inputLines[t][0])&&!this.intPt[e].equals2D(this.inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this.intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==Zt.NO_INTERSECTION},getEdgeDistance:function(t,e){return Zt.computeEdgeDistance(this.intPt[e],this.inputLines[t][0],this.inputLines[t][1])},isCollinear:function(){return this.result===Zt.COLLINEAR_INTERSECTION},toString:function(){return Xt.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+Xt.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this.inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this.result;e++)if(this.intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return Zt}}),Zt.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=r>i?a:s)||t.equals(e)||(o=Math.max(a,s))}return h.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Zt.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return h.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Zt.DONT_INTERSECT=0,Zt.DO_INTERSECT=1,Zt.COLLINEAR=2,Zt.NO_INTERSECTION=0,Zt.POINT_INTERSECTION=1,Zt.COLLINEAR_INTERSECTION=2,c(Kt,Zt),e(Kt.prototype,{isInSegmentEnvelopes:function(t){var e=new E(this.inputLines[0][0],this.inputLines[0][1]),n=new E(this.inputLines[1][0],this.inputLines[1][1]);return e.contains(t)&&n.contains(t)},computeIntersection:function(){if(3!==arguments.length)return Zt.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];return this._isProper=!1,E.intersects(e,n,t)&&0===Qt.orientationIndex(e,n,t)&&0===Qt.orientationIndex(n,e,t)?(this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this.result=Zt.POINT_INTERSECTION,null):void(this.result=Zt.NO_INTERSECTION)},normalizeToMinimum:function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},safeHCoordinateIntersection:function(t,e,n,r){var i=null;try{i=D.intersection(t,e,n,r)}catch(o){if(!(o instanceof S))throw o;i=Kt.nearestEndpoint(t,e,n,r)}return i},intersection:function(t,e,n,r){var i=this.intersectionWithNormalization(t,e,n,r);return this.isInSegmentEnvelopes(i)||(i=new f(Kt.nearestEndpoint(t,e,n,r))),null!==this.precisionModel&&this.precisionModel.makePrecise(i),i},smallestInAbsValue:function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},checkDD:function(t,e,n,r,i){var o=A.intersection(t,e,n,r),a=this.isInSegmentEnvelopes(o);R.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&R.out.println("Distance = "+i.distance(o))},intersectionWithNormalization:function(t,e,n,r){var i=new f(t),o=new f(e),a=new f(n),s=new f(r),l=new f;this.normalizeToEnvCentre(i,o,a,s,l);var u=this.safeHCoordinateIntersection(i,o,a,s);return u.x+=l.x,u.y+=l.y,u},computeCollinearIntersection:function(t,e,n,r){var i=E.intersects(t,e,n),o=E.intersects(t,e,r),a=E.intersects(n,r,t),s=E.intersects(n,r,e);return i&&o?(this.intPt[0]=n,this.intPt[1]=r,Zt.COLLINEAR_INTERSECTION):a&&s?(this.intPt[0]=t,this.intPt[1]=e,Zt.COLLINEAR_INTERSECTION):i&&a?(this.intPt[0]=n,this.intPt[1]=t,!n.equals(t)||o||s?Zt.COLLINEAR_INTERSECTION:Zt.POINT_INTERSECTION):i&&s?(this.intPt[0]=n,this.intPt[1]=e,!n.equals(e)||o||a?Zt.COLLINEAR_INTERSECTION:Zt.POINT_INTERSECTION):o&&a?(this.intPt[0]=r,this.intPt[1]=t,!r.equals(t)||i||s?Zt.COLLINEAR_INTERSECTION:Zt.POINT_INTERSECTION):o&&s?(this.intPt[0]=r,this.intPt[1]=e,!r.equals(e)||i||a?Zt.COLLINEAR_INTERSECTION:Zt.POINT_INTERSECTION):Zt.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,l=t.y>e.y?t.y:e.y,u=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,p=n.x>r.x?n.x:r.x,h=n.y>r.y?n.y:r.y,f=((o>u?o:u)+(p>s?s:p))/2,d=((a>c?a:c)+(h>l?l:h))/2;i.x=f,i.y=d,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},computeIntersect:function(t,e,n,r){if(this._isProper=!1,!E.intersects(t,e,n,r))return Zt.NO_INTERSECTION;var i=Qt.orientationIndex(t,e,n),o=Qt.orientationIndex(t,e,r);if(i>0&&o>0||0>i&&0>o)return Zt.NO_INTERSECTION;var a=Qt.orientationIndex(n,r,t),s=Qt.orientationIndex(n,r,e);return a>0&&s>0||0>a&&0>s?Zt.NO_INTERSECTION:0===i&&0===o&&0===a&&0===s?this.computeCollinearIntersection(t,e,n,r):(0===i||0===o||0===a||0===s?(this._isProper=!1,t.equals2D(n)||t.equals2D(r)?this.intPt[0]=t:e.equals2D(n)||e.equals2D(r)?this.intPt[0]=e:0===i?this.intPt[0]=new f(n):0===o?this.intPt[0]=new f(r):0===a?this.intPt[0]=new f(t):0===s&&(this.intPt[0]=new f(e))):(this._isProper=!0,this.intPt[0]=this.intersection(t,e,n,r)),Zt.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return Kt}}),Kt.nearestEndpoint=function(t,e,n,r){var i=t,o=Qt.distancePointLine(t,n,r),a=Qt.distancePointLine(e,n,r);return o>a&&(o=a,i=e),o>(a=Qt.distancePointLine(n,t,e))&&(o=a,i=n),o>(a=Qt.distancePointLine(r,t,e))&&(o=a,i=r),i},e($t.prototype,{interfaces_:function(){return[]},getClass:function(){return $t}}),$t.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,a=n.y-e.y;return $t.signOfDet2x2(r,i,o,a)},$t.signOfDet2x2=function(t,e,n,r){var i=null,o=null,a=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?r>=e||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):-r>=e?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?r>=-e?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(n>=t))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if(0>(r-=(a=Math.floor(n/t))*e))return-i;if(r>e)return i;if(t>(n-=a*t)+n){if(r+r>e)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if(0>(e-=(a=Math.floor(t/n))*r))return i;if(e>r)return-i;if(n>(t-=a*n)+t){if(e+e>r)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}},e(Jt.prototype,{countSegment:function(t,e){if(t.x<this.p.x&&e.x<this.p.x)return null;if(this.p.x===e.x&&this.p.y===e.y)return this.isPointOnSegment=!0,null;if(t.y===this.p.y&&e.y===this.p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this.p.x>=n&&this.p.x<=r&&(this.isPointOnSegment=!0),null}if(t.y>this.p.y&&e.y<=this.p.y||e.y>this.p.y&&t.y<=this.p.y){var i=t.x-this.p.x,o=t.y-this.p.y,a=e.x-this.p.x,s=e.y-this.p.y,l=$t.signOfDet2x2(i,o,a,s);if(0===l)return this.isPointOnSegment=!0,null;o>s&&(l=-l),l>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==T.EXTERIOR},getLocation:function(){return this.isPointOnSegment?T.BOUNDARY:this.crossingCount%2==1?T.INTERIOR:T.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return Jt}}),Jt.locatePointInRing=function(){if(arguments[0]instanceof f&&k(arguments[1],L)){for(var t=arguments[0],e=arguments[1],n=new Jt(t),r=new f,i=new f,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof f&&arguments[1]instanceof Array){var a=arguments[0],s=arguments[1];for(n=new Jt(a),o=1;o<s.length;o++)if(r=s[o],i=s[o-1],n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}},e(Qt.prototype,{interfaces_:function(){return[]},getClass:function(){return Qt}}),Qt.orientationIndex=function(t,e,n){return A.orientationIndex(t,e,n)},Qt.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y,a=t[r-1].y;e+=i*(a-o)}return e/2}if(k(arguments[0],L)){var s=arguments[0],l=s.size();if(3>l)return 0;var u=new f,c=new f,p=new f;for(s.getCoordinate(0,c),s.getCoordinate(1,p),n=c.x,p.x-=n,e=0,r=1;l-1>r;r++)u.y=c.y,c.x=p.x,c.y=p.y,s.getCoordinate(r+1,p),p.x-=n,e+=c.x*(u.y-p.y);return e/2}},Qt.distanceLineLine=function(t,e,n,r){if(t.equals(e))return Qt.distancePointLine(t,n,r);if(n.equals(r))return Qt.distancePointLine(r,t,e);var i=!1;if(E.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var a=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,l=a/o;(0>l||l>1||0>s||s>1)&&(i=!0)}}else i=!0;return i?O.min(Qt.distancePointLine(t,n,r),Qt.distancePointLine(e,n,r),Qt.distancePointLine(n,t,e),Qt.distancePointLine(r,t,e)):0},Qt.isPointInRing=function(t,e){return Qt.locatePointInRing(t,e)!==T.EXTERIOR},Qt.computeLength=function(t){var e=t.size();if(1>=e)return 0;var n=0,r=new f;t.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;e>a;a++){t.getCoordinate(a,r);var s=r.x,l=r.y,u=s-i,c=l-o;n+=Math.sqrt(u*u+c*c),i=s,o=l}return n},Qt.isCCW=function(t){var e=t.length-1;if(3>e)throw new r("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,o=1;e>=o;o++){var a=t[o];a.y>n.y&&(n=a,i=o)}var s=i;do{0>(s-=1)&&(s=e)}while(t[s].equals2D(n)&&s!==i);var l=i;do{l=(l+1)%e}while(t[l].equals2D(n)&&l!==i);var u=t[s],c=t[l];if(u.equals2D(n)||c.equals2D(n)||u.equals2D(c))return!1;var p=Qt.computeOrientation(u,n,c);return 0===p?u.x>c.x:p>0},Qt.locatePointInRing=function(t,e){return Jt.locatePointInRing(t,e)},Qt.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},Qt.computeOrientation=function(t,e,n){return Qt.orientationIndex(t,e,n)},Qt.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new r("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var o=Qt.distancePointLine(t,e[i],e[i+1]);n>o&&(n=o)}return n}if(3===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2];if(s.x===l.x&&s.y===l.y)return a.distance(s);var u=(l.x-s.x)*(l.x-s.x)+(l.y-s.y)*(l.y-s.y),c=((a.x-s.x)*(l.x-s.x)+(a.y-s.y)*(l.y-s.y))/u;if(0>=c)return a.distance(s);if(c>=1)return a.distance(l);var p=((s.y-a.y)*(l.x-s.x)-(s.x-a.x)*(l.y-s.y))/u;return Math.abs(p)*Math.sqrt(u)}},Qt.isOnLine=function(t,e){for(var n=new Kt,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},Qt.CLOCKWISE=-1,Qt.RIGHT=Qt.CLOCKWISE,Qt.COUNTERCLOCKWISE=1,Qt.LEFT=Qt.COUNTERCLOCKWISE,Qt.COLLINEAR=0,Qt.STRAIGHT=Qt.COLLINEAR,e(te.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof te){var t=arguments[0],e=Qt.orientationIndex(this.p0,this.p1,t.p0),n=Qt.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):0>=e&&0>=n?Math.max(e,n):0}if(arguments[0]instanceof f){var r=arguments[0];return Qt.orientationIndex(this.p0,this.p1,r)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof te))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new Kt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof f){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new f(t);var e=this.projectionFactor(t),n=new f;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof te){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(0>=i&&0>=o)return null;var a=this.project(r.p0);0>i&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return 0>o&&(s=this.p0),o>1&&(s=this.p1),new te(a,s)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return Qt.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return te.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return 0>=r?i.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=i.MAX_VALUE,o=null,a=this.closestPoint(t.p0);r=a.distance(t.p0),n[0]=a,n[1]=t.p0;var s=this.closestPoint(t.p1);r>(o=s.distance(t.p1))&&(r=o,n[0]=s,n[1]=t.p1);var l=t.closestPoint(this.p0);r>(o=l.distance(this.p0))&&(r=o,n[0]=this.p0,n[1]=l);var u=t.closestPoint(this.p1);return r>(o=u.distance(this.p1))&&(r=o,n[0]=this.p1,n[1]=u),n},closestPoint:function(t){var e=this.projectionFactor(t);if(e>0&&1>e)return this.project(t);var n=this.p0.distance(t);return this.p1.distance(t)>n?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{return D.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof S))throw t}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,l=0;if(0!==e){if(0>=a)throw new IllegalStateException("Cannot compute offset from zero-length line segment");s=e*i/a,l=e*o/a}return new f(n-l,r+s)},setCoordinates:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return 0>e?e=0:(e>1||i.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof te){var t=arguments[0];return Qt.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof f){var e=arguments[0];return Qt.distancePointLine(e,this.p0,this.p1)}},pointAlong:function(t){var e=new f;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);return n^=31*java.lang.Double.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},interfaces_:function(){return[o,l]},getClass:function(){return te}}),te.midPoint=function(t,e){return new f((t.x+e.x)/2,(t.y+e.y)/2)},te.serialVersionUID=0x2d2172135f411c00,e(ee.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(ee.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])||ee.isTrue(this.matrix[T.INTERIOR][T.BOUNDARY])||ee.isTrue(this.matrix[T.BOUNDARY][T.INTERIOR])||ee.isTrue(this.matrix[T.BOUNDARY][T.BOUNDARY]))&&this.matrix[T.EXTERIOR][T.INTERIOR]===ut.FALSE&&this.matrix[T.EXTERIOR][T.BOUNDARY]===ut.FALSE},isCoveredBy:function(){return(ee.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])||ee.isTrue(this.matrix[T.INTERIOR][T.BOUNDARY])||ee.isTrue(this.matrix[T.BOUNDARY][T.INTERIOR])||ee.isTrue(this.matrix[T.BOUNDARY][T.BOUNDARY]))&&this.matrix[T.INTERIOR][T.EXTERIOR]===ut.FALSE&&this.matrix[T.BOUNDARY][T.EXTERIOR]===ut.FALSE},set:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),r=e%3;this.matrix[n][r]=ut.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.matrix[i][o]=a}},isContains:function(){return ee.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&this.matrix[T.EXTERIOR][T.INTERIOR]===ut.FALSE&&this.matrix[T.EXTERIOR][T.BOUNDARY]===ut.FALSE},setAtLeast:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),r=e%3;this.setAtLeast(n,r,ut.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.matrix[i][o]<a&&(this.matrix[i][o]=a)}},setAtLeastIfValid:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)},isWithin:function(){return ee.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&this.matrix[T.INTERIOR][T.EXTERIOR]===ut.FALSE&&this.matrix[T.BOUNDARY][T.EXTERIOR]===ut.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):(t===ut.A&&e===ut.A||t===ut.L&&e===ut.L||t===ut.L&&e===ut.A||t===ut.P&&e===ut.A||t===ut.P&&e===ut.L)&&this.matrix[T.INTERIOR][T.INTERIOR]===ut.FALSE&&(ee.isTrue(this.matrix[T.INTERIOR][T.BOUNDARY])||ee.isTrue(this.matrix[T.BOUNDARY][T.INTERIOR])||ee.isTrue(this.matrix[T.BOUNDARY][T.BOUNDARY]))},isOverlaps:function(t,e){return t===ut.P&&e===ut.P||t===ut.A&&e===ut.A?ee.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&ee.isTrue(this.matrix[T.INTERIOR][T.EXTERIOR])&&ee.isTrue(this.matrix[T.EXTERIOR][T.INTERIOR]):t===ut.L&&e===ut.L&&1===this.matrix[T.INTERIOR][T.INTERIOR]&&ee.isTrue(this.matrix[T.INTERIOR][T.EXTERIOR])&&ee.isTrue(this.matrix[T.EXTERIOR][T.INTERIOR])},isEquals:function(t,e){return t===e&&ee.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&this.matrix[T.INTERIOR][T.EXTERIOR]===ut.FALSE&&this.matrix[T.BOUNDARY][T.EXTERIOR]===ut.FALSE&&this.matrix[T.EXTERIOR][T.INTERIOR]===ut.FALSE&&this.matrix[T.EXTERIOR][T.BOUNDARY]===ut.FALSE},toString:function(){for(var t=new I("123456789"),e=0;3>e;e++)for(var n=0;3>n;n++)t.setCharAt(3*e+n,ut.toDimensionSymbol(this.matrix[e][n]));return t.toString()},setAll:function(t){for(var e=0;3>e;e++)for(var n=0;3>n;n++)this.matrix[e][n]=t},get:function(t,e){return this.matrix[t][e]},transpose:function(){var t=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=t,t=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=t,t=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new r("Should be length 9: "+t);for(var e=0;3>e;e++)for(var n=0;3>n;n++)if(!ee.matches(this.matrix[e][n],t.charAt(3*e+n)))return!1;return!0},add:function(t){for(var e=0;3>e;e++)for(var n=0;3>n;n++)this.setAtLeast(e,n,t.get(e,n))},isDisjoint:function(){return this.matrix[T.INTERIOR][T.INTERIOR]===ut.FALSE&&this.matrix[T.INTERIOR][T.BOUNDARY]===ut.FALSE&&this.matrix[T.BOUNDARY][T.INTERIOR]===ut.FALSE&&this.matrix[T.BOUNDARY][T.BOUNDARY]===ut.FALSE},isCrosses:function(t,e){return t===ut.P&&e===ut.L||t===ut.P&&e===ut.A||t===ut.L&&e===ut.A?ee.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&ee.isTrue(this.matrix[T.INTERIOR][T.EXTERIOR]):t===ut.L&&e===ut.P||t===ut.A&&e===ut.P||t===ut.A&&e===ut.L?ee.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&ee.isTrue(this.matrix[T.EXTERIOR][T.INTERIOR]):t===ut.L&&e===ut.L&&0===this.matrix[T.INTERIOR][T.INTERIOR]},interfaces_:function(){return[a]},getClass:function(){return ee}}),ee.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===ut.SYM_DONTCARE||e===ut.SYM_TRUE&&(t>=0||t===ut.TRUE)||e===ut.SYM_FALSE&&t===ut.FALSE||e===ut.SYM_P&&t===ut.P||e===ut.SYM_L&&t===ut.L||e===ut.SYM_A&&t===ut.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=new ee(n);return i.matches(r)}},ee.isTrue=function(t){return t>=0||t===ut.TRUE};var Ko=Object.freeze({Coordinate:f,CoordinateList:w,Envelope:E,LineSegment:te,GeometryFactory:Ht,Geometry:j,Point:St,LineString:Et,LinearRing:It,Polygon:kt,GeometryCollection:ht,MultiPoint:Ot,MultiLineString:ft,MultiPolygon:Pt,Dimension:ut,IntersectionMatrix:ee});e(ne.prototype,{addPoint:function(t){this.ptCount+=1,this.ptCentSum.x+=t.x,this.ptCentSum.y+=t.y},setBasePoint:function(t){null===this.areaBasePt&&(this.areaBasePt=t)},addLineSegments:function(t){for(var e=0,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);if(0!==r){e+=r;var i=(t[n].x+t[n+1].x)/2;this.lineCentSum.x+=r*i;var o=(t[n].y+t[n+1].y)/2;this.lineCentSum.y+=r*o}}this.totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=Qt.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new f;if(Math.abs(this.areasum2)>0)t.x=this.cg3.x/3/this.areasum2,t.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)t.x=this.lineCentSum.x/this.totalLength,t.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;t.x=this.ptCentSum.x/this.ptCount,t.y=this.ptCentSum.y/this.ptCount}return t},addShell:function(t){t.length>0&&this.setBasePoint(t[0]);for(var e=!Qt.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},addTriangle:function(t,e,n,r){var i=r?1:-1;ne.centroid3(t,e,n,this.triangleCent3);var o=ne.area2(t,e,n);this.cg3.x+=i*o*this.triangleCent3.x,this.cg3.y+=i*o*this.triangleCent3.y,this.areasum2+=i*o},add:function(){if(arguments[0]instanceof kt){var t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof j){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof St)this.addPoint(n.getCoordinate());else if(n instanceof Et)this.addLineSegments(n.getCoordinates());else if(n instanceof kt){var r=n;this.add(r)}else if(n instanceof ht){var i=n;for(e=0;e<i.getNumGeometries();e++)this.add(i.getGeometryN(e))}}},interfaces_:function(){return[]},getClass:function(){return ne}}),ne.area2=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},ne.centroid3=function(t,e,n,r){return r.x=t.x+e.x+n.x,r.y=t.y+e.y+n.y,null},ne.getCentroid=function(t){return new ne(t).getCentroid()},re.prototype=new Error,re.prototype.name="EmptyStackException",ie.prototype=new y,ie.prototype.add=function(t){return this.array_.push(t),!0},ie.prototype.get=function(t){if(0>t||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},ie.prototype.push=function(t){return this.array_.push(t),t},ie.prototype.pop=function(t){if(0===this.array_.length)throw new re;return this.array_.pop()},ie.prototype.peek=function(){if(0===this.array_.length)throw new re;return this.array_[this.array_.length-1]},ie.prototype.empty=function(){return 0===this.array_.length},ie.prototype.isEmpty=function(){return this.empty()},ie.prototype.search=function(t){return this.array_.indexOf(t)},ie.prototype.size=function(){return this.array_.length},ie.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},e(oe.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[B]},getClass:function(){return oe}}),oe.filterCoordinates=function(t){for(var e=new oe,n=0;n<t.length;n++)e.filter(t[n]);return e.getCoordinates()},e(ae.prototype,{preSort:function(t){for(var e=null,n=1;n<t.length;n++)(t[n].y<t[0].y||t[n].y===t[0].y&&t[n].x<t[0].x)&&(e=t[0],t[0]=t[n],t[n]=e);return lt.sort(t,1,t.length,new se(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),n=new w;return n.add(e,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(t){if(3===(t=this.cleanRing(t)).length)return this.geomFactory.createLineString([t[0],t[1]]);var e=this.geomFactory.createLinearRing(t);return this.geomFactory.createPolygon(e,null)},cleanRing:function(t){h.equals(t[0],t[t.length-1]);for(var e=new x,n=null,r=0;r<=t.length-2;r++){var i=t[r],o=t[r+1];i.equals(o)||null!==n&&this.isBetween(n,i,o)||(e.add(i),n=i)}e.add(t[t.length-1]);var a=new Array(e.size()).fill(null);return e.toArray(a)},isBetween:function(t,e,n){if(0!==Qt.computeOrientation(t,e,n))return!1;if(t.x!==n.x){if(t.x<=e.x&&e.x<=n.x)return!0;if(n.x<=e.x&&e.x<=t.x)return!0}if(t.y!==n.y){if(t.y<=e.y&&e.y<=n.y)return!0;if(n.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var n=new st,r=0;r<e.length;r++)n.add(e[r]);for(r=0;r<t.length;r++)Qt.isPointInRing(t[r],e)||n.add(t[r]);var i=H.toCoordinateArray(n);return i.length<3?this.padArray3(i):i},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var t=this.inputPts;this.inputPts.length>50&&(t=this.reduce(this.inputPts));var e=this.preSort(t),n=this.grahamScan(e),r=this.toCoordinateArray(n);return this.lineOrPolygon(r)},padArray3:function(t){for(var e=new Array(3).fill(null),n=0;n<e.length;n++)n<t.length?e[n]=t[n]:e[n]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),n=0;n<e.length;n++)e[n]=t[0];for(var r=1;r<t.length;r++)t[r].x<e[0].x&&(e[0]=t[r]),t[r].x-t[r].y<e[1].x-e[1].y&&(e[1]=t[r]),t[r].y>e[2].y&&(e[2]=t[r]),t[r].x+t[r].y>e[3].x+e[3].y&&(e[3]=t[r]),t[r].x>e[4].x&&(e[4]=t[r]),t[r].x-t[r].y>e[5].x-e[5].y&&(e[5]=t[r]),t[r].y<e[6].y&&(e[6]=t[r]),t[r].x+t[r].y<e[7].x+e[7].y&&(e[7]=t[r]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var r=t.get(n);e[n]=r}return e},grahamScan:function(t){var e=null,n=new ie;e=n.push(t[0]),e=n.push(t[1]),e=n.push(t[2]);for(var r=3;r<t.length;r++){for(e=n.pop();!n.empty()&&Qt.computeOrientation(n.peek(),e,t[r])>0;)e=n.pop();e=n.push(e),e=n.push(t[r])}return e=n.push(t[0]),n},interfaces_:function(){return[]},getClass:function(){return ae}}),ae.extractCoordinates=function(t){var e=new oe;return t.apply(e),e.getCoordinates()},e(se.prototype,{compare:function(t,e){var n=t,r=e;return se.polarCompare(this.origin,n,r)},interfaces_:function(){return[s]},getClass:function(){return se}}),se.polarCompare=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-t.x,a=n.y-t.y,s=Qt.computeOrientation(t,e,n);if(s===Qt.COUNTERCLOCKWISE)return 1;if(s===Qt.CLOCKWISE)return-1;var l=r*r+i*i,u=o*o+a*a;return u>l?-1:l>u?1:0},ae.RadialComparator=se,e(le.prototype,{transformPoint:function(t,e){return this.factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof It&&!r.isEmpty()||(n=!1);for(var i=new x,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof It||(n=!1),i.add(a))}if(n)return this.factory.createPolygon(r,i.toArray([]));var s=new x;return null!==r&&s.add(r),s.addAll(i),this.factory.buildGeometry(s)},createCoordinateSequence:function(t){return this.factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(t,e){for(var n=new x,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this.factory.buildGeometry(n)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this.factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var n=new x,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this.factory.buildGeometry(n)},transformMultiPolygon:function(t,e){for(var n=new x,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this.factory.buildGeometry(n)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var n=new x,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this.pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(Ht.toGeometryArray(n)):this.factory.buildGeometry(n)},transform:function(t){if(this.inputGeom=t,this.factory=t.getFactory(),t instanceof St)return this.transformPoint(t,null);if(t instanceof Ot)return this.transformMultiPoint(t,null);if(t instanceof It)return this.transformLinearRing(t,null);if(t instanceof Et)return this.transformLineString(t,null);if(t instanceof ft)return this.transformMultiLineString(t,null);if(t instanceof kt)return this.transformPolygon(t,null);if(t instanceof Pt)return this.transformMultiPolygon(t,null);if(t instanceof ht)return this.transformGeometryCollection(t,null);throw new r("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this.factory.createLinearRing(null);var r=n.size();return r>0&&4>r&&!this.preserveType?this.factory.createLineString(n):this.factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return le}}),e(ue.prototype,{snapVertices:function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;n>r;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new f(o)),0===r&&this._isClosed&&t.set(t.size()-1,new f(o)))}},findSnapForVertex:function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this.snapTolerance)return e[n]}return null},snapTo:function(t){var e=new w(this.srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},snapSegments:function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;n>r;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new f(i),!1)}},findSegmentIndexToSnap:function(t,e){for(var n=i.MAX_VALUE,r=-1,o=0;o<e.size()-1;o++){if(this.seg.p0=e.get(o),this.seg.p1=e.get(o+1),this.seg.p0.equals2D(t)||this.seg.p1.equals2D(t)){if(this.allowSnappingToSourceVertices)continue;return-1}var a=this.seg.distance(t);a<this.snapTolerance&&n>a&&(n=a,r=o)}return r},setAllowSnappingToSourceVertices:function(t){this.allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return ue}}),ue.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])},e(ce.prototype,{snapTo:function(t,e){return new pe(e,this.extractTargetCoordinates(t)).transform(this.srcGeom)},snapToSelf:function(t,e){var n=new pe(t,this.extractTargetCoordinates(this.srcGeom),!0).transform(this.srcGeom),r=n;return e&&k(r,Tt)&&(r=n.buffer(0)),r},computeSnapTolerance:function(t){return this.computeMinimumSegmentLength(t)/10},extractTargetCoordinates:function(t){for(var e=new st,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=i.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);e>r&&(e=r)}return e},interfaces_:function(){return[]},getClass:function(){return ce}}),ce.snap=function(t,e,n){var r=new Array(2).fill(null),i=new ce(t);r[0]=i.snapTo(e,n);var o=new ce(e);return r[1]=o.snapTo(r[0],n),r},ce.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=ce.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Gt.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(ce.computeOverlaySnapTolerance(i),ce.computeOverlaySnapTolerance(o))}},ce.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*ce.SNAP_PRECISION_FACTOR},ce.snapToSelf=function(t,e,n){return new ce(t).snapToSelf(e,n)},ce.SNAP_PRECISION_FACTOR=1e-9,c(pe,le),e(pe.prototype,{snapLine:function(t,e){var n=new ue(t,this.snapTolerance);return n.setAllowSnappingToSourceVertices(this.isSelfSnap),n.snapTo(e)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(r)},interfaces_:function(){return[]},getClass:function(){return pe}}),e(he.prototype,{getCommon:function(){return i.longBitsToDouble(this.commonBits)},add:function(t){var e=i.doubleToLongBits(t);return this.isFirst?(this.commonBits=e,this.commonSignExp=he.signExpBits(this.commonBits),this.isFirst=!1,null):he.signExpBits(e)!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=he.numCommonMostSigMantissaBits(this.commonBits,e),void(this.commonBits=he.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var t=arguments[0],e=i.longBitsToDouble(t),n=Long.toBinaryString(t),r="0000000000000000000000000000000000000000000000000000000000000000"+n,o=r.substring(r.length-64),a=o.substring(0,1)+"  "+o.substring(1,12)+"(exp) "+o.substring(12)+" [ "+e+" ]";return a}},interfaces_:function(){return[]},getClass:function(){return he}}),he.getBit=function(t,e){return 0!=(t&1<<e)?1:0},he.signExpBits=function(t){return t>>52},he.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},he.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(he.getBit(t,r)!==he.getBit(e,r))return n;n++}return 52},e(fe.prototype,{addCommonBits:function(t){var e=new ge(this.commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this.commonCoord.x&&0===this.commonCoord.y)return t;var e=new f(this.commonCoord);e.x=-e.x,e.y=-e.y;var n=new ge(e);return t.apply(n),t.geometryChanged(),t},getCommonCoordinate:function(){return this.commonCoord},add:function(t){t.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return fe}}),e(de.prototype,{filter:function(t){this.commonBitsX.add(t.x),this.commonBitsY.add(t.y)},getCommonCoordinate:function(){return new f(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[B]},getClass:function(){return de}}),e(ge.prototype,{filter:function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[pt]},getClass:function(){return ge}}),fe.CommonCoordinateFilter=de,fe.Translater=ge,e(me.prototype,{next:function(){if(this.atStart)return this.atStart=!1,me.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new _;var t=this.parent.getGeometryN(this.index++);return t instanceof ht?(this.subcollectionIterator=new me(t),this.subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[g]},getClass:function(){return me}}),me.isAtomic=function(t){return!(t instanceof ht)},e(ve.prototype,{locateInternal:function(){if(arguments[0]instanceof f&&arguments[1]instanceof kt){var t=arguments[0],e=arguments[1];if(e.isEmpty())return T.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===T.EXTERIOR)return T.EXTERIOR;if(r===T.BOUNDARY)return T.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),a=this.locateInPolygonRing(t,o);if(a===T.INTERIOR)return T.EXTERIOR;if(a===T.BOUNDARY)return T.BOUNDARY}return T.INTERIOR}if(arguments[0]instanceof f&&arguments[1]instanceof Et){var s=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(s))return T.EXTERIOR;var u=l.getCoordinates();return l.isClosed()||!s.equals(u[0])&&!s.equals(u[u.length-1])?Qt.isOnLine(s,u)?T.INTERIOR:T.EXTERIOR:T.BOUNDARY}if(arguments[0]instanceof f&&arguments[1]instanceof St){var c=arguments[0],p=arguments[1],h=p.getCoordinate();return h.equals2D(c)?T.INTERIOR:T.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?Qt.locatePointInRing(t,e.getCoordinates()):T.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==T.EXTERIOR},updateLocationInfo:function(t){t===T.INTERIOR&&(this.isIn=!0),t===T.BOUNDARY&&this.numBoundaries++},computeLocation:function(t,e){if(e instanceof St&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Et)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof kt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof ft)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof Pt){var o=e;for(r=0;r<o.getNumGeometries();r++){var a=o.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,a))}}else if(e instanceof ht)for(var s=new me(e);s.hasNext();){var l=s.next();l!==e&&this.computeLocation(t,l)}},locate:function(t,e){return e.isEmpty()?T.EXTERIOR:e instanceof Et?this.locateInternal(t,e):e instanceof kt?this.locateInternal(t,e):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(t,e),this.boundaryRule.isInBoundary(this.numBoundaries)?T.BOUNDARY:this.numBoundaries>0||this.isIn?T.INTERIOR:T.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return ve}}),e(ye.prototype,{interfaces_:function(){return[]},getClass:function(){return ye}}),ye.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new r("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof f&&arguments[1]instanceof f){var o=arguments[0],a=arguments[1],s=a.x-o.x,l=a.y-o.y;if(0===s&&0===l)throw new r("Cannot compute the octant for two identical points "+o);return ye.octant(s,l)}},e(_e.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return _e}}),e(be.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:ye.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},getData:function(){return this.data},toString:function(){return Xt.toLineString(new Dt(this.pts))},interfaces_:function(){return[_e]},getClass:function(){return be}}),e(xe.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return xe}}),e(we.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[xe,l]},getClass:function(){return we}}),e(Ee.prototype,{poll:function(){if(this.isEmpty())return null;var t=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,n=this.items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this.items.get(e+1).compareTo(this.items.get(e))<0&&e++,this.items.get(e).compareTo(n)<0);t=e)this.items.set(t,this.items.get(e));this.items.set(t,n)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this.items.add(null),this._size+=1;var e=this._size;for(this.items.set(0,t);t.compareTo(this.items.get(Math.trunc(e/2)))<0;e/=2)this.items.set(e,this.items.get(Math.trunc(e/2)));this.items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return Ee}}),e(Ce.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return Ce}}),e(Se.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return Se}}),e(Te.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(t){h.isTrue(null===this.bounds),this.childBoundables.add(t)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[xe,l]},getClass:function(){return Te}}),Te.serialVersionUID=0x5a1e55ec41369800;var $o={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return $o.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?lt.sort(n,e):lt.sort(n);for(var r=t.iterator(),i=0,o=n.length;o>i;i++)r.next(),r.set(n[i])},singletonList:function(t){var e=new x;return e.add(t),e}};e(ke.prototype,{expandToQueue:function(t,e){var n=ke.isComposite(this.boundable1),i=ke.isComposite(this.boundable2);if(n&&i)return ke.area(this.boundable1)>ke.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,t,e),null):(this.expand(this.boundable2,this.boundable1,t,e),null);if(n)return this.expand(this.boundable1,this.boundable2,t,e),null;if(i)return this.expand(this.boundable2,this.boundable1,t,e),null;throw new r("neither boundable is composite")},isLeaves:function(){return!(ke.isComposite(this.boundable1)||ke.isComposite(this.boundable2))},compareTo:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},expand:function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=new ke(i.next(),e,this.itemDistance);o.getDistance()<r&&n.add(o)}},getBoundable:function(t){return 0===t?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[o]},getClass:function(){return ke}}),ke.area=function(t){return t.getBounds().getArea()},ke.isComposite=function(t){return t instanceof Te},e(Oe.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var r=n.next();r instanceof Te?e+=this.size(r):r instanceof we&&(e+=1)}return e}},removeItem:function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof we&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this.root);return null===t?new x:t}if(1===arguments.length){for(var e=arguments[0],n=new x,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Te){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof we?n.add(i.getItem()):h.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(t,e){h.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new we(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new x;return this.boundablesAtLevel(t,this.root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(h.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof Te?this.boundablesAtLevel(n,a,i):(h.isTrue(a instanceof we),-1===n&&i.add(a))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new x;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.query(t,this.root,e),e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),n)&&this.query(n,this.root,r)}else if(3===arguments.length)if(k(arguments[2],Ce)&&arguments[0]instanceof Object&&arguments[1]instanceof Te)for(var i=arguments[0],o=arguments[1],a=arguments[2],s=o.getChildBoundables(),l=0;l<s.size();l++){var u=s.get(l);this.getIntersectsOp().intersects(u.getBounds(),i)&&(u instanceof Te?this.query(i,u,a):u instanceof we?a.visitItem(u.getItem()):h.shouldNeverReachHere())}else if(k(arguments[2],y)&&arguments[0]instanceof Object&&arguments[1]instanceof Te){var c=arguments[0],p=arguments[1],f=arguments[2];for(s=p.getChildBoundables(),l=0;l<s.size();l++)u=s.get(l),this.getIntersectsOp().intersects(u.getBounds(),c)&&(u instanceof Te?this.query(c,u,f):u instanceof we?f.add(u.getItem()):h.shouldNeverReachHere())}},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.remove(t,this.root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var l=s.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof Te&&(o=this.remove(n,l,i))){a=l;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},createHigherLevels:function(t,e){h.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var r=n.next();if(r instanceof Te){var i=this.depth(r);i>e&&(e=i)}}return e+1}},createParentBoundables:function(t,e){h.isTrue(!t.isEmpty());var n=new x;n.add(this.createNode(e));var r=new x(t);$o.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[l]},getClass:function(){return Oe}}),Oe.compareDoubles=function(t,e){return t>e?1:e>t?-1:0},Oe.IntersectsOp=function(){},Oe.serialVersionUID=-0x35ef64c82d4c5400,Oe.DEFAULT_NODE_CAPACITY=10,e(Ie.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return Ie}}),c(Pe,Oe),e(Pe.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){h.isTrue(t.length>0);for(var n=new x,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},createNode:function(t){return new Ne(t)},size:function(){return 0===arguments.length?Oe.prototype.size.call(this):Oe.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return Oe.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];return t.isNull()?null:void Oe.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return Pe.intersectsOp},verticalSlices:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;e>o;o++){r[o]=new x;for(var a=0;i.hasNext()&&n>a;){var s=i.next();r[o].add(s),a++}}return r},query:function(){if(1===arguments.length){var t=arguments[0];return Oe.prototype.query.call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];Oe.prototype.query.call(this,e,n)}else if(3===arguments.length)if(k(arguments[2],Ce)&&arguments[0]instanceof Object&&arguments[1]instanceof Te){var r=arguments[0],i=arguments[1],o=arguments[2];Oe.prototype.query.call(this,r,i,o)}else if(k(arguments[2],y)&&arguments[0]instanceof Object&&arguments[1]instanceof Te){var a=arguments[0],s=arguments[1],l=arguments[2];Oe.prototype.query.call(this,a,s,l)}},getComparator:function(){return Pe.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return Oe.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return Oe.prototype.remove.call(this,t,e)}return Oe.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?Oe.prototype.depth.call(this):Oe.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){h.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new x(t);$o.sort(r,Pe.xComparator);var i=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(i,e)},nearestNeighbour:function(){if(1===arguments.length){if(k(arguments[0],Ie)){var t=arguments[0],e=new ke(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof ke){var n=arguments[0];return this.nearestNeighbour(n,i.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof Pe&&k(arguments[1],Ie)){var r=arguments[0],o=arguments[1];return e=new ke(this.getRoot(),r.getRoot(),o),this.nearestNeighbour(e)}if(arguments[0]instanceof ke&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],l=s,u=null,c=new Ee;for(c.add(a);!c.isEmpty()&&l>0;){var p=c.poll(),h=p.getDistance();if(h>=l)break;p.isLeaves()?(l=h,u=p):p.expandToQueue(c,l)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var f=arguments[0],d=arguments[1],g=arguments[2],m=new we(f,d);return e=new ke(this.getRoot(),m,g),this.nearestNeighbour(e)[0]}},interfaces_:function(){return[Se,l]},getClass:function(){return Pe}}),Pe.centreX=function(t){return Pe.avg(t.getMinX(),t.getMaxX())},Pe.avg=function(t,e){return(t+e)/2},Pe.centreY=function(t){return Pe.avg(t.getMinY(),t.getMaxY())},c(Ne,Te),e(Ne.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new E(n.getBounds()):t.expandToInclude(n.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return Ne}}),Pe.STRtreeNode=Ne,Pe.serialVersionUID=0x39920f7d5f261e0,Pe.xComparator={interfaces_:function(){return[s]},compare:function(t,e){return Oe.compareDoubles(Pe.centreX(t.getBounds()),Pe.centreX(e.getBounds()))}},Pe.yComparator={interfaces_:function(){return[s]},compare:function(t,e){return Oe.compareDoubles(Pe.centreY(t.getBounds()),Pe.centreY(e.getBounds()))}},Pe.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},Pe.DEFAULT_NODE_CAPACITY=10,e(Me.prototype,{interfaces_:function(){return[]},getClass:function(){return Me}}),Me.relativeSign=function(t,e){return e>t?-1:t>e?1:0},Me.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=Me.relativeSign(e.x,n.x),i=Me.relativeSign(e.y,n.y);switch(t){case 0:return Me.compareValue(r,i);case 1:return Me.compareValue(i,r);case 2:return Me.compareValue(i,-r);case 3:return Me.compareValue(-r,i);case 4:return Me.compareValue(-r,-i);case 5:return Me.compareValue(-i,-r);case 6:return Me.compareValue(-i,r);case 7:return Me.compareValue(r,-i)}return h.shouldNeverReachHere("invalid octant value"),0},Me.compareValue=function(t,e){return 0>t?-1:t>0?1:0>e?-1:e>0?1:0},e(Ae.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Me.compare(this.segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[o]},getClass:function(){return Ae}}),e(Le.prototype,{getSplitCoordinates:function(){var t=new w;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new x;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this.edge.getCoordinate(n),n)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this.edge.size()-2;e++){var n=this.edge.getCoordinate(e),r=(this.edge.getCoordinate(e+1),this.edge.getCoordinate(e+2));n.equals2D(r)&&t.add(new P(e+1))}},addEdgeCoordinates:function(t,e,n){e.segmentIndex,t.segmentIndex;var r=this.edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new f(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this.edge.getCoordinate(o));i&&n.add(new f(e.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},findCollapseIndex:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new P(e[0])),r=i}},getEdge:function(){return this.edge},addEndpoints:function(){var t=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new f(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this.edge.getCoordinate(s);return i&&(o[a]=new f(e.coord)),new ze(o,this.edge.getData())},add:function(t,e){var n=new Ae(this.edge,t,e,this.edge.getSegmentOctant(e)),r=this.nodeMap.get(n);return null!==r?(h.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this.nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(t){var e=this.edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new u("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new u("bad split edge end point at "+i)},interfaces_:function(){return[]},getClass:function(){return Le}}),e(Re.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex,this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[g]},getClass:function(){return Re}}),e(De.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[_e]},getClass:function(){return De}}),e(ze.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},safeOctant:function(t,e){return t.equals2D(e)?0:ye.octant(t,e)},getData:function(){return this.data},addIntersection:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=(arguments[2],arguments[3]),o=new f(n.getIntersection(i));this.addIntersection(o,r)}},toString:function(){return Xt.toLineString(new Dt(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(t,e){var n=e,r=n+1;if(r<this.pts.length){var i=this.pts[r];t.equals2D(i)&&(n=r)}return this.nodeList.add(t,n)},addIntersections:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},interfaces_:function(){return[De]},getClass:function(){return ze}}),ze.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new x;return ze.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();o.getNodeList().addSplitEdges(r)}},e(Fe.prototype,{overlap:function(){if(2===arguments.length)arguments[0],arguments[1];else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this.overlapSeg1),n.getLineSegment(r,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return Fe}}),e(je.prototype,{getLineSegment:function(t,e){e.p0=this.pts[t],e.p1=this.pts[t+1]},computeSelect:function(t,e,n,r){var i=this.pts[e],o=this.pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var a=Math.trunc((e+n)/2);a>e&&this.computeSelect(t,e,a,r),n>a&&this.computeSelect(t,a,n,r)},getCoordinates:function(){for(var t=new Array(this.end-this.start+1).fill(null),e=0,n=this.start;n<=this.end;n++)t[e++]=this.pts[n];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this.start,this.end,t,t.start,t.end,e)},setId:function(t){this.id=t},select:function(t,e){this.computeSelect(t,this.start,this.end,e)},getEnvelope:function(){if(null===this.env){var t=this.pts[this.start],e=this.pts[this.end];this.env=new E(t,e)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(t,e,n,r,i,o){var a=this.pts[t],s=this.pts[e],l=n.pts[r],u=n.pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(l,u),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),p=Math.trunc((r+i)/2);c>t&&(p>r&&this.computeOverlapsInternal(t,c,n,r,p,o),i>p&&this.computeOverlapsInternal(t,c,n,p,i,o)),e>c&&(p>r&&this.computeOverlapsInternal(c,e,n,r,p,o),i>p&&this.computeOverlapsInternal(c,e,n,p,i,o))},interfaces_:function(){return[]},getClass:function(){return je}}),e(Be.prototype,{interfaces_:function(){return[]},getClass:function(){return Be}}),Be.isNorthern=function(t){return t===Be.NE||t===Be.NW},Be.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Be.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=e>t?t:e;return 0===n&&3===(t>e?t:e)?3:n},Be.isInHalfPlane=function(t,e){return e===Be.SE?t===Be.SE||t===Be.SW:t===e||t===e+1},Be.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new r("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Be.NE:Be.SE:e>=0?Be.NW:Be.SW}if(arguments[0]instanceof f&&arguments[1]instanceof f){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new r("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?Be.NE:Be.SE:i.y>=n.y?Be.NW:Be.SW}},Be.NE=0,Be.NW=1,Be.SW=2,Be.SE=3,e(Ue.prototype,{interfaces_:function(){return[]},getClass:function(){return Ue}}),Ue.getChainStartIndices=function(t){var e=0,n=new x;n.add(new P(e));do{var r=Ue.findChainEnd(t,e);n.add(new P(r)),e=r}while(e<t.length-1);return Ue.toIntArray(n)},Ue.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Be.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||Be.quadrant(t[i-1],t[i])===r);)i++;return i-1},Ue.getChains=function(){if(1===arguments.length){var t=arguments[0];return Ue.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new x,i=Ue.getChainStartIndices(e),o=0;o<i.length-1;o++){var a=new je(e,i[o],i[o+1],n);r.add(a)}return r}},Ue.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e(Ve.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return Ve}}),e(qe.prototype,{setSegmentIntersector:function(t){this.segInt=t},interfaces_:function(){return[Ve]},getClass:function(){return qe}}),c(Ge,qe),e(Ge.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return ze.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(t){for(var e=Ue.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this.idCounter++),this.index.insert(n.getEnvelope(),n),this.monoChains.add(n)}},computeNodes:function(t){this.nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new We(this.segInt),e=this.monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this.index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return Ge}}),c(We,Fe),e(We.prototype,{overlap:function(){if(4!==arguments.length)return Fe.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3],i=t.getContext(),o=n.getContext();this.si.processIntersections(i,e,o,r)},interfaces_:function(){return[]},getClass:function(){return We}}),Ge.SegmentOverlapAction=We,c(He,u),e(He.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return He}}),He.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(Ye.prototype,{processIntersections:function(t,e,n,r){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return Ye}}),e(Xe.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(t){this.isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(t){this.findAllIntersections=t},setKeepIntersections:function(t){this.keepIntersections=t},processIntersections:function(t,e,n,r){if(!this.findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this.isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this.li.computeIntersection(i,o,a,s),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=i,this.intSegments[1]=o,this.intSegments[2]=a,this.intSegments[3]=s,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(t,e){return 0===e||e>=t.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return!this.findAllIntersections&&null!==this.interiorIntersection},interfaces_:function(){return[Ye]},getClass:function(){return Xe}}),Xe.createAllIntersectionsFinder=function(t){var e=new Xe(t);return e.setFindAllIntersections(!0),e},Xe.createAnyIntersectionFinder=function(t){return new Xe(t)},Xe.createIntersectionCounter=function(t){var e=new Xe(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e},e(Ze.prototype,{execute:function(){return null!==this.segInt?null:void this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this.findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new Xe(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var t=new Ge;return t.setSegmentIntersector(this.segInt),t.computeNodes(this.segStrings),this.segInt.hasIntersection()?(this._isValid=!1,null):void 0},checkValid:function(){if(this.execute(),!this._isValid)throw new He(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+Xt.toLineString(t[0],t[1])+" and "+Xt.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return Ze}}),Ze.computeIntersections=function(t){var e=new Ze(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()},e(Ke.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return Ke}}),Ke.toSegmentStrings=function(t){for(var e=new x,n=t.iterator();n.hasNext();){var r=n.next();e.add(new be(r.getCoordinates(),r))}return e},Ke.checkValid=function(t){new Ke(t).checkValid()},e($e.prototype,{map:function(t){for(var e=new x,n=0;n<t.getNumGeometries();n++){var r=this.mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(Ht.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return $e}}),$e.map=function(t,e){return new $e(e).map(t)},e(Je.prototype,{interfaces_:function(){return[]},getClass:function(){return Je}}),Je.opposite=function(t){return t===Je.LEFT?Je.RIGHT:t===Je.RIGHT?Je.LEFT:t},Je.ON=0,Je.LEFT=1,Je.RIGHT=2,e(Qe.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==T.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===T.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Je.ON]=this.location[Je.ON],e[Je.LEFT]=T.NONE,e[Je.RIGHT]=T.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===T.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[Je.LEFT];this.location[Je.LEFT]=this.location[Je.RIGHT],this.location[Je.RIGHT]=t},toString:function(){var t=new I;return this.location.length>1&&t.append(T.toLocationSymbol(this.location[Je.LEFT])),t.append(T.toLocationSymbol(this.location[Je.ON])),this.location.length>1&&t.append(T.toLocationSymbol(this.location[Je.RIGHT])),t.toString()},setLocations:function(t,e,n){this.location[Je.ON]=t,this.location[Je.LEFT]=e,this.location[Je.RIGHT]=n},get:function(t){return t<this.location.length?this.location[t]:T.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===T.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Je.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(T.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return Qe}}),e(tn.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;2>e;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Qe(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Je.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},toString:function(){var t=new I;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Je.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new Qe(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return tn}}),tn.toLineLabel=function(t){for(var e=new tn(T.NONE),n=0;2>n;n++)e.setLocation(n,t.getLocation(n));return e},e(en.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var t=new Array(this.pts.size()).fill(null),e=0;e<this.pts.size();e++)t[e]=this.pts.get(e);this.ring=this.geometryFactory.createLinearRing(t),this._isHole=Qt.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(t){this.startDe=t;var e=t,n=!0;do{if(null===e)throw new He("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new He("Directed Edge visited twice during ring-building at "+e.getCoordinate());this.edges.add(e);var r=e.getLabel();h.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(t){return this.pts.get(t)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var t=this.startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this.maxNodeDegree&&(this.maxNodeDegree=e),t=this.getNext(t)}while(t!==this.startDe);this.maxNodeDegree*=2},addPoints:function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this.pts.add(r[o])}else for(i=r.length-2,n&&(i=r.length-1),o=i;o>=0;o--)this.pts.add(r[o])},isHole:function(){return this._isHole},setInResult:function(){var t=this.startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this.startDe)},containsPoint:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Qt.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this.holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},addHole:function(t){this.holes.add(t)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,Je.RIGHT);if(r===T.NONE)return null;if(this.label.getLocation(n)===T.NONE)return this.label.setLocation(n,r),null}},setShell:function(t){this.shell=t,null!==t&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this.holes.size()).fill(null),n=0;n<this.holes.size();n++)e[n]=this.holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},interfaces_:function(){return[]},getClass:function(){return en}}),c(nn,en),e(nn.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return nn}}),c(rn,en),e(rn.prototype,{buildMinimalRings:function(){var t=new x,e=this.startDe;do{if(null===e.getMinEdgeRing()){var n=new nn(e,this.geometryFactory);t.add(n)}e=e.getNext()}while(e!==this.startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this.startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this.startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return rn}}),e(on.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){h.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return on}}),c(an,on),e(an.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(t){t.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(t){},computeMergedLocation:function(t,e){var n=T.NONE;if(n=this.label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==T.BOUNDARY&&(n=r)}return n},setLabel:function(){if(2!==arguments.length)return on.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this.label?this.label=new tn(t,e):this.label.setLocation(t,e)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof an){var t=arguments[0];this.mergeLabel(t.label)}else if(arguments[0]instanceof tn)for(var e=arguments[0],n=0;2>n;n++){var r=this.computeMergedLocation(e,n),i=this.label.getLocation(n);i===T.NONE&&this.label.setLocation(n,r)}},add:function(t){this.edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this.label)return null;var e=T.NONE;null!==this.label&&(e=this.label.getLocation(t));var n=null;switch(e){case T.BOUNDARY:n=T.INTERIOR;break;case T.INTERIOR:n=T.BOUNDARY;break;default:n=T.BOUNDARY}this.label.setLocation(t,n)},interfaces_:function(){return[]},getClass:function(){return an}}),e(sn.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof f){var t=arguments[0];return null===(e=this.nodeMap.get(t))&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof an){var e,n=arguments[0];return null===(e=this.nodeMap.get(n.getCoordinate()))?(this.nodeMap.put(n.getCoordinate(),n),n):(e.mergeLabel(n),e)}},print:function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new x,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===T.BOUNDARY&&e.add(r)}return e},add:function(t){var e=t.getCoordinate();this.addNode(e).add(t)},interfaces_:function(){return[]},getClass:function(){return sn}}),e(ln.prototype,{compareDirection:function(t){return this.dx===t.dx&&this.dy===t.dy?0:this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:Qt.computeOrientation(t.p0,t.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(t){this.node=t},print:function(t){var e=Math.atan2(this.dy,this.dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+e+"   "+this.label)},compareTo:function(t){var e=t;return this.compareDirection(e)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var t=Math.atan2(this.dy,this.dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+t+"   "+this.label},computeLabel:function(t){},init:function(t,e){this.p0=t,this.p1=e,this.dx=e.x-t.x,this.dy=e.y-t.y,this.quadrant=Be.quadrant(this.dx,this.dy),h.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[o]},getClass:function(){return ln}}),c(un,ln),e(un.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(t){return this.depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this.label=new tn(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(t,e){if(-999!==this.depth[t]&&this.depth[t]!==e)throw new He("assigned depths do not match",this.getCoordinate());this.depth[t]=e},isInteriorAreaEdge:function(){for(var t=!0,e=0;2>e;e++)this.label.isArea(e)&&this.label.getLocation(e,Je.LEFT)===T.INTERIOR&&this.label.getLocation(e,Je.RIGHT)===T.INTERIOR||(t=!1);return t},setNextMin:function(t){this.nextMin=t},print:function(t){ln.prototype.print.call(this,t),t.print(" "+this.depth[Je.LEFT]+"/"+this.depth[Je.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this.minEdgeRing=t},isLineEdge:function(){var t=this.label.isLine(0)||this.label.isLine(1),e=!this.label.isArea(0)||this.label.allPositionsEqual(0,T.EXTERIOR),n=!this.label.isArea(1)||this.label.allPositionsEqual(1,T.EXTERIOR);return t&&e&&n},setEdgeRing:function(t){this.edgeRing=t},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var t=this.edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this.edge.print(t):this.edge.printReverse(t)},setSym:function(t){this.sym=t},setVisitedEdge:function(t){this.setVisited(t),this.sym.setVisited(t)},setEdgeDepths:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Je.LEFT&&(r=-1);var i=Je.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this.next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return un}}),un.depthFactor=function(t,e){return t===T.EXTERIOR&&e===T.INTERIOR?1:t===T.INTERIOR&&e===T.EXTERIOR?-1:0},e(cn.prototype,{createNode:function(t){return new an(t,null)},interfaces_:function(){return[]},getClass:function(){return cn}}),e(pn.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this.edges.size();e++){t.println("edge "+e+":");var n=this.edges.get(e);n.print(t),n.eiList.print(t)}},find:function(t){return this.nodes.find(t)},addNode:function(){if(arguments[0]instanceof an){var t=arguments[0];return this.nodes.addNode(t)}if(arguments[0]instanceof f){var e=arguments[0];return this.nodes.addNode(e)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},debugPrintln:function(t){R.out.println(t)},isBoundaryNode:function(t,e){var n=this.nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===T.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},matchInSameDirection:function(t,e,n,r){return!!t.equals(n)&&Qt.computeOrientation(t,e,r)===Qt.COLLINEAR&&Be.quadrant(t,e)===Be.quadrant(n,r)},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(t){R.out.print(t)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(t,e){for(var n=0;n<this.edges.size();n++){var r=this.edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},insertEdge:function(t){this.edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.edges.add(n);var r=new un(n,!0),i=new un(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},add:function(t){this.nodes.add(t),this.edgeEndList.add(t)},getNodes:function(){return this.nodes.values()},findEdge:function(t,e){for(var n=0;n<this.edges.size();n++){var r=this.edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},interfaces_:function(){return[]},getClass:function(){return pn}}),pn.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},e(hn.prototype,{sortShellsAndHoles:function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},computePolygons:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this.geometryFactory);e.add(r)}return e},placeFreeHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new He("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},buildMinimalEdgeRings:function(t,e,n){for(var r=new x,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else r.add(o)}return r},containsPoint:function(t){for(var e=this.shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},buildMaximalEdgeRings:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new rn(r,this.geometryFactory);e.add(i),i.setInResult()}}return e},placePolygonHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},getPolygons:function(){return this.computePolygons(this.shellList)},findEdgeRingContaining:function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var l=s.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var p=!1;c.contains(r)&&Qt.isPointInRing(i,u.getCoordinates())&&(p=!0),p&&(null===o||a.contains(c))&&(o=l)}return o},findShell:function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return h.isTrue(1>=e,"found two shells in MinimalEdgeRing list"),n},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];pn.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new x,o=this.buildMinimalEdgeRings(r,this.shellList,i);this.sortShellsAndHoles(o,this.shellList,i),this.placeFreeHoles(this.shellList,i)}},interfaces_:function(){return[]},getClass:function(){return hn}}),e(fn.prototype,{collectLines:function(t){for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this.lineEdgesList),this.collectBoundaryTouchEdge(n,t,this.lineEdgesList)}},labelIsolatedLine:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.op.getArgGeometry(e));t.getLabel().setLocation(e,n)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this.resultLineList},collectLineEdge:function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Wn.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this.op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this.op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(t){for(var e=this.lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=(n.getLabel(),this.geometryFactory.createLineString(n.getCoordinates()));this.resultLineList.add(r),n.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,n){var r=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(h.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Wn.isResultOfOp(r,e)&&e===Wn.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return fn}}),e(dn.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this.op.isCoveredByLA(e)){var n=this.geometryFactory.createPoint(e);this.resultPointList.add(n)}},extractNonCoveredResultNodes:function(t){for(var e=this.op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Wn.INTERSECTION)){var r=n.getLabel();Wn.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return dn}}),e(gn.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return gn}}),e(mn.prototype,{locate:function(t){return mn.locate(t,this.geom)},interfaces_:function(){return[gn]},getClass:function(){return mn}}),mn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Qt.isPointInRing(t,e.getCoordinates())},mn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!mn.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(mn.isPointInRing(t,i))return!1}return!0},mn.containsPoint=function(t,e){if(e instanceof kt)return mn.containsPointInPolygon(t,e);if(e instanceof ht)for(var n=new me(e);n.hasNext();){var r=n.next();if(r!==e&&mn.containsPoint(t,r))return!0}return!1},mn.locate=function(t,e){return e.isEmpty()?T.EXTERIOR:mn.containsPoint(t,e)?T.INTERIOR:T.EXTERIOR},e(vn.prototype,{getNextCW:function(t){this.getEdges();var e=this.edgeList.indexOf(t),n=e-1;return 0===e&&(n=this.edgeList.size()-1),this.edgeList.get(n)},propagateSideLabels:function(t){for(var e=T.NONE,n=this.iterator();n.hasNext();)(o=(i=n.next()).getLabel()).isArea(t)&&o.getLocation(t,Je.LEFT)!==T.NONE&&(e=o.getLocation(t,Je.LEFT));if(e===T.NONE)return null;var r=e;for(n=this.iterator();n.hasNext();){var i,o;if((o=(i=n.next()).getLabel()).getLocation(t,Je.ON)===T.NONE&&o.setLocation(t,Je.ON,r),o.isArea(t)){var a=o.getLocation(t,Je.LEFT),s=o.getLocation(t,Je.RIGHT);if(s!==T.NONE){if(s!==r)throw new He("side location conflict",i.getCoordinate());a===T.NONE&&h.shouldNeverReachHere("found single null side (at "+i.getCoordinate()+")"),r=a}else h.isTrue(o.getLocation(t,Je.LEFT)===T.NONE,"found single null side"),o.setLocation(t,Je.RIGHT,r),o.setLocation(t,Je.LEFT,r)}}},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},print:function(t){R.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Je.LEFT);h.isTrue(r!==T.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();h.isTrue(a.isArea(t),"Found non-area edge");var s=a.getLocation(t,Je.LEFT),l=a.getLocation(t,Je.RIGHT);if(s===l)return!1;if(l!==i)return!1;i=s}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this.edgeList.size();e++)if(this.edgeList.get(e)===t)return e;return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new x(this.edgeMap.values())),this.edgeList},getLocation:function(t,e,n){return this.ptInAreaLocation[t]===T.NONE&&(this.ptInAreaLocation[t]=mn.locate(e,n[t].getGeometry())),this.ptInAreaLocation[t]},toString:function(){var t=new I;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=(o=n.next()).getLabel(),i=0;2>i;i++)r.isLine(i)&&r.getLocation(i)===T.BOUNDARY&&(e[i]=!0);for(n=this.iterator();n.hasNext();){var o;for(r=(o=n.next()).getLabel(),i=0;2>i;i++)if(r.isAnyNull(i)){var a=T.NONE;if(e[i])a=T.EXTERIOR;else{var s=o.getCoordinate();a=this.getLocation(i,s,t)}r.setAllLocationsIfNull(i,a)}}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(t,e){this.edgeMap.put(t,e),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return vn}}),c(yn,vn),e(yn.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this.SCANNING_FOR_INCOMING,r=0;r<this.resultAreaEdgeList.size();r++){var i=this.resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this.SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this.SCANNING_FOR_INCOMING}}if(n===this.LINKING_TO_OUTGOING){if(null===t)throw new He("no outgoing dirEdge found",this.getCoordinate());h.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){var e=t;this.insertEdgeEnd(e,e)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(1>e)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return Be.isNorthern(i)&&Be.isNorthern(o)?n:Be.isNorthern(i)||Be.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(h.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},print:function(t){R.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new x;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this.resultAreaEdgeList.add(e)}return this.resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,n=this.edgeList.size()-1;n>=0;n--){var r=this.edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=(t.getLabel(),t.getDepth(Je.LEFT)),r=t.getDepth(Je.RIGHT),i=this.computeDepths(e+1,this.edgeList.size(),n),o=this.computeDepths(0,e,i);if(o!==r)throw new He("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var a=arguments[0],s=arguments[1],l=arguments[2],u=l,c=a;s>c;c++){var p=this.edgeList.get(c);p.getLabel(),p.setEdgeDepths(Je.RIGHT,u),u=p.getDepth(Je.LEFT)}return u}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,n=null,r=this.SCANNING_FOR_INCOMING,i=this.resultAreaEdgeList.size()-1;i>=0;i--){var o=this.resultAreaEdgeList.get(i),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this.SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,r=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this.SCANNING_FOR_INCOMING}}r===this.LINKING_TO_OUTGOING&&(h.isTrue(null!==e,"found null for first outgoing dirEdge"),h.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){var n=arguments[0];for(t=0,e=this.iterator();e.hasNext();)e.next().getEdgeRing()===n&&t++;return t}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var t=T.NONE,e=this.iterator();e.hasNext();){var n=(i=e.next()).getSym();if(!i.isLineEdge()){if(i.isInResult()){t=T.INTERIOR;break}if(n.isInResult()){t=T.EXTERIOR;break}}}if(t===T.NONE)return null;var r=t;for(e=this.iterator();e.hasNext();){var i;n=(i=e.next()).getSym(),i.isLineEdge()?i.getEdge().setCovered(r===T.INTERIOR):(i.isInResult()&&(r=T.EXTERIOR),n.isInResult()&&(r=T.INTERIOR))}},computeLabelling:function(t){vn.prototype.computeLabelling.call(this,t),this.label=new tn(T.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next().getEdge().getLabel(),r=0;2>r;r++){var i=n.getLocation(r);i!==T.INTERIOR&&i!==T.BOUNDARY||this.label.setLocation(r,T.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return yn}}),c(_n,cn),e(_n.prototype,{createNode:function(t){return new an(t,new yn)},interfaces_:function(){return[]},getClass:function(){return _n}}),e(bn.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return bn}}),e(xn.prototype,{isDelete:function(){return this.eventType===xn.DELETE},setDeleteEventIndex:function(t){this.deleteEventIndex=t},getObject:function(){return this.obj},compareTo:function(t){var e=t;return this.xValue<e.xValue?-1:this.xValue>e.xValue?1:this.eventType<e.eventType?-1:this.eventType>e.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===xn.INSERT},isSameLabel:function(t){return null!==this.label&&this.label===t.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[o]},getClass:function(){return xn}}),xn.INSERT=1,xn.DELETE=2,e(wn.prototype,{interfaces_:function(){return[]},getClass:function(){return wn}}),e(En.prototype,{isTrivialIntersection:function(t,e,n,r){if(t===n&&1===this.li.getIntersectionNum()){if(En.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(t){this.isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=t,this.bdyNodes[1]=e},addIntersections:function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this.li.computeIntersection(i,o,a,s),this.li.hasIntersection()&&(this.recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(t.addIntersections(this.li,e,0),n.addIntersections(this.li,r,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return En}}),En.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},c(Cn,wn),e(Cn.prototype,{prepareEvents:function(){$o.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof En&&k(arguments[0],y)&&k(arguments[1],y)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&k(arguments[0],y)&&arguments[1]instanceof En){var a=arguments[0],s=arguments[1],l=arguments[2];l?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},addEdge:function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new bn(n,i),a=new xn(e,n.getMinX(i),o);this.events.add(a),this.events.add(new xn(n.getMaxX(i),a))}},processOverlaps:function(t,e,n,r){for(var i=n.getObject(),o=t;e>o;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.addEdge(n,n)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];for(e=r.iterator();e.hasNext();)n=e.next(),this.addEdge(n,i)}},interfaces_:function(){return[]},getClass:function(){return Cn}}),e(Sn.prototype,{getMin:function(){return this.min},intersects:function(t,e){return!(this.min>e||this.max<t)},getMax:function(){return this.max},toString:function(){return Xt.toLineString(new f(this.min,0),new f(this.max,0))},interfaces_:function(){return[]},getClass:function(){return Sn}}),e(Tn.prototype,{compare:function(t,e){var n=t,r=e,i=(n.min+n.max)/2,o=(r.min+r.max)/2;return o>i?-1:i>o?1:0},interfaces_:function(){return[s]},getClass:function(){return Tn}}),Sn.NodeComparator=Tn,c(kn,Sn),e(kn.prototype,{query:function(t,e,n){return this.intersects(t,e)?void n.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return kn}}),c(On,Sn),e(On.prototype,{buildExtent:function(t,e){this.min=Math.min(t.min,e.min),this.max=Math.max(t.max,e.max)},query:function(t,e,n){return this.intersects(t,e)?(null!==this.node1&&this.node1.query(t,e,n),void(null!==this.node2&&this.node2.query(t,e,n))):null},interfaces_:function(){return[]},getClass:function(){return On}}),e(In.prototype,{buildTree:function(){$o.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var t=this.leaves,e=null,n=new x;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},insert:function(t,e,n){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new kn(t,e,n))},query:function(t,e,n){this.init(),this.root.query(t,e,n)},buildRoot:function(){return null!==this.root?null:void(this.root=this.buildTree())},printNode:function(t){R.out.println(Xt.toLineString(new f(t.min,this.level),new f(t.max,this.level)))},init:function(){return null!==this.root?null:void this.buildRoot()},buildLevel:function(t,e){this.level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new On(t.get(n),t.get(n+1));e.add(i)}}},interfaces_:function(){return[]},getClass:function(){return In}}),e(Pn.prototype,{filter:function(t){if(this.isForcedToLineString&&t instanceof It){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this.lines.add(e),null}t instanceof Et&&this.lines.add(t)},setForceToLineString:function(t){this.isForcedToLineString=t},interfaces_:function(){return[F]},getClass:function(){return Pn}}),Pn.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Pn.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Pn.getLines(e,n))}},Pn.getLines=function(){if(1===arguments.length){var t=arguments[0];return Pn.getLines(t,!1)}if(2===arguments.length){if(k(arguments[0],m)&&k(arguments[1],m)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var i=r.next();Pn.getLines(i,n)}return n}if(arguments[0]instanceof j&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1],s=new x;return o.apply(new Pn(s,a)),s}if(arguments[0]instanceof j&&k(arguments[1],m)){var l=arguments[0],u=arguments[1];return l instanceof Et?u.add(l):l.apply(new Pn(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&k(arguments[0],m)&&k(arguments[1],m)){var c=arguments[0],p=arguments[1],h=arguments[2];for(r=c.iterator();r.hasNext();)i=r.next(),Pn.getLines(i,p,h);return p}if("boolean"==typeof arguments[2]&&arguments[0]instanceof j&&k(arguments[1],m)){var f=arguments[0],d=arguments[1],g=arguments[2];return f.apply(new Pn(d,g)),d}}},e(Nn.prototype,{visitItem:function(t){this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[Ce]},getClass:function(){return Nn}}),e(Mn.prototype,{locate:function(t){var e=new Jt(t),n=new An(e);return this.index.query(t.y,t.y,n),e.getLocation()},interfaces_:function(){return[gn]},getClass:function(){return Mn}}),e(An.prototype,{visitItem:function(t){var e=t;this.counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[Ce]},getClass:function(){return An}}),e(Ln.prototype,{init:function(t){for(var e=Pn.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},addLine:function(t){for(var e=1;e<t.length;e++){var n=new te(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this.index.insert(r,i,n)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Nn;return this.index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this.index.query(r,i,o)}},interfaces_:function(){return[]},getClass:function(){return Ln}}),Mn.SegmentVisitor=An,Mn.IntervalIndexedGeometry=Ln,e(Rn.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[o]},getClass:function(){return Rn}}),e(Dn.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new f(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this.edge.pts[s];return i&&(o[a]=e.coord),new Bn(o,new tn(this.edge.label))},add:function(t,e,n){var r=new Rn(t,e,n),i=this.nodeMap.get(r);return null!==i?i:(this.nodeMap.put(r,r),r)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},interfaces_:function(){return[]},getClass:function(){return Dn}}),e(zn.prototype,{getChainStartIndices:function(t){var e=0,n=new x;n.add(new P(e));do{var r=this.findChainEnd(t,e);n.add(new P(r)),e=r}while(e<t.length-1);return zn.toIntArray(n)},findChainEnd:function(t,e){for(var n=Be.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&Be.quadrant(t[r-1],t[r])===n;)r++;return r-1},interfaces_:function(){return[]},getClass:function(){return zn}}),zn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e(Fn.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return n>e?e:n},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4],u=arguments[5],c=this.pts[i],p=this.pts[o],h=a.pts[s],f=a.pts[l];if(o-i==1&&l-s==1)return u.addIntersections(this.e,i,a.e,s),null;if(this.env1.init(c,p),this.env2.init(h,f),!this.env1.intersects(this.env2))return null;var d=Math.trunc((i+o)/2),g=Math.trunc((s+l)/2);d>i&&(g>s&&this.computeIntersectsForChain(i,d,a,s,g,u),l>g&&this.computeIntersectsForChain(i,d,a,g,l,u)),o>d&&(g>s&&this.computeIntersectsForChain(d,o,a,s,g,u),l>g&&this.computeIntersectsForChain(d,o,a,g,l,u))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},interfaces_:function(){return[]},getClass:function(){return Fn}}),e(jn.prototype,{getDepth:function(t,e){return this.depth[t][e]},setDepth:function(t,e,n){this.depth[t][e]=n},isNull:function(){if(0===arguments.length){for(var t=0;2>t;t++)for(var e=0;3>e;e++)if(this.depth[t][e]!==jn.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this.depth[n][1]===jn.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this.depth[r][i]===jn.NULL_VALUE}},normalize:function(){for(var t=0;2>t;t++)if(!this.isNull(t)){var e=this.depth[t][1];this.depth[t][2]<e&&(e=this.depth[t][2]),0>e&&(e=0);for(var n=1;3>n;n++){var r=0;this.depth[t][n]>e&&(r=1),this.depth[t][n]=r}}},getDelta:function(t){return this.depth[t][Je.RIGHT]-this.depth[t][Je.LEFT]},getLocation:function(t,e){return this.depth[t][e]<=0?T.EXTERIOR:T.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(1===arguments.length)for(var t=arguments[0],e=0;2>e;e++)for(var n=1;3>n;n++){var r=t.getLocation(e,n);r!==T.EXTERIOR&&r!==T.INTERIOR||(this.isNull(e,n)?this.depth[e][n]=jn.depthAtLocation(r):this.depth[e][n]+=jn.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];a===T.INTERIOR&&this.depth[i][o]++}},interfaces_:function(){return[]},getClass:function(){return jn}}),jn.depthAtLocation=function(t){return t===T.EXTERIOR?0:t===T.INTERIOR?1:jn.NULL_VALUE},jn.NULL_VALUE=-1,c(Bn,on),e(Bn.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new Bn(t,tn.toLineLabel(this.label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this.name=t},equals:function(t){if(!(t instanceof Bn))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,r=!0,i=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(n=!1),this.pts[o].equals2D(e.pts[--i])||(r=!1),!n&&!r)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this.name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(t){Bn.updateIM(this.label,t)},isCollapsed:function(){return!!this.label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this.name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new Fn(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new E;for(var t=0;t<this.pts.length;t++)this.env.expandToInclude(this.pts[t])}return this.env},addIntersection:function(t,e,n,r){var i=new f(t.getIntersection(r)),o=e,a=t.getEdgeDistance(n,r),s=o+1;if(s<this.pts.length){var l=this.pts[s];i.equals2D(l)&&(o=s,a=0)}this.eiList.add(i,o,a)},toString:function(){var t=new I;t.append("edge "+this.name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this.label+" "+this.depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this.depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},interfaces_:function(){return[]},getClass:function(){return Bn}}),Bn.updateIM=function(){if(2!==arguments.length)return on.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,Je.ON),t.getLocation(1,Je.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,Je.LEFT),t.getLocation(1,Je.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,Je.RIGHT),t.getLocation(1,Je.RIGHT),2))},c(Un,pn),e(Un.prototype,{insertBoundaryPoint:function(t,e){var n=this.nodes.addNode(e).getLabel(),r=1;T.NONE,n.getLocation(t,Je.ON)===T.BOUNDARY&&r++;var i=Un.determineBoundary(this.boundaryNodeRule,r);n.setLocation(t,i)},computeSelfNodes:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new En(n,!0,!1);o.setIsDoneIfProperInt(i);var a=this.createEdgeSetIntersector(),s=this.parentGeom instanceof It||this.parentGeom instanceof kt||this.parentGeom instanceof Pt,l=r||!s;return a.computeIntersections(this.edges,o,l),this.addSelfIntersectionNodes(this.argIndex),o}},computeSplitEdges:function(t){for(var e=this.edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},computeEdgeIntersections:function(t,e,n){var r=new En(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this.edges,t.edges,r),r},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof St){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this.argIndex,e,T.INTERIOR)}else if(arguments[0]instanceof f){var n=arguments[0];this.insertPoint(this.argIndex,n,T.INTERIOR)}},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),T.EXTERIOR,T.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,T.INTERIOR,T.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this.argIndex,e[0],T.BOUNDARY),this.insertPoint(this.argIndex,e[e.length-1],T.BOUNDARY)},addLineString:function(t){var e=H.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=e[0],null;var n=new Bn(e,new tn(this.argIndex,T.INTERIOR));this.lineEdgeMap.put(t,n),this.insertEdge(n),h.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,e[0]),this.insertBoundaryPoint(this.argIndex,e[e.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(t,e,n){return this.isBoundaryNode(t,e)?null:void(n===T.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n))},addPolygonRing:function(t,e,n){if(t.isEmpty())return null;var r=H.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=r[0],null;var i=e,o=n;Qt.isCCW(r)&&(i=n,o=e);var a=new Bn(r,new tn(this.argIndex,T.BOUNDARY,i,o));this.lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this.argIndex,r[0],T.BOUNDARY)},insertPoint:function(t,e,n){var r=this.nodes.addNode(e),i=r.getLabel();null===i?r.label=new tn(t,n):i.setLocation(t,n)},createEdgeSetIntersector:function(){return new Cn},addSelfIntersectionNodes:function(t){for(var e=this.edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},add:function(){if(1!==arguments.length)return pn.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof Pt&&(this.useBoundaryDeterminationRule=!1),t instanceof kt)this.addPolygon(t);else if(t instanceof Et)this.addLineString(t);else if(t instanceof St)this.addPoint(t);else if(t instanceof Ot)this.addCollection(t);else if(t instanceof ft)this.addCollection(t);else if(t instanceof Pt)this.addCollection(t);else{if(!(t instanceof ht))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},locate:function(t){return k(this.parentGeom,Tt)&&this.parentGeom.getNumGeometries()>50?(null===this.areaPtLocator&&(this.areaPtLocator=new Mn(this.parentGeom)),this.areaPtLocator.locate(t)):this.ptLocator.locate(t,this.parentGeom)},findEdge:function(){if(1===arguments.length){var t=arguments[0];return this.lineEdgeMap.get(t)}return pn.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Un}}),Un.determineBoundary=function(t,e){return t.isInBoundary(e)?T.BOUNDARY:T.INTERIOR},e(Vn.prototype,{getArgGeometry:function(t){return this.arg[t].getGeometry()},setComputationPrecision:function(t){this.resultPrecisionModel=t,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return Vn}}),e(qn.prototype,{compareTo:function(t){var e=t;return qn.compareOriented(this.pts,this._orientation,e.pts,e._orientation)},interfaces_:function(){return[o]},getClass:function(){return qn}}),qn.orientation=function(t){return 1===H.increasingDirection(t)},qn.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,a=e?t.length:-1,s=r?n.length:-1,l=e?0:t.length-1,u=r?0:n.length-1;;){var c=t[l].compareTo(n[u]);if(0!==c)return c;var p=(l+=i)===a,h=(u+=o)===s;if(p&&!h)return-1;if(!p&&h)return 1;if(p&&h)return 0}},e(Gn.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this.edges.size();e++){var n=this.edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this.edges.size();e++)if(this.edges.get(e).equals(t))return e;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(t){return this.edges.get(t)},findEqualEdge:function(t){var e=new qn(t.getCoordinates());return this.ocaMap.get(e)},add:function(t){this.edges.add(t);var e=new qn(t.getCoordinates());this.ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return Gn}}),c(Wn,Vn),e(Wn.prototype,{insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new tn(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this.edgeList.add(t)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var t=this.graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this.resultLineList)||!!this.isCovered(t,this.resultPolyList)},computeGeometry:function(t,e,n,r){var i=new x;return i.addAll(t),i.addAll(e),i.addAll(n),i.isEmpty()?Wn.createEmptyResult(r,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(i)},mergeSymLabels:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},isCovered:function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this.ptLocator.locate(t,r)!==T.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new x,e=this.edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this.edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},getResultGeometry:function(t){return this.computeOverlay(t),this.resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var e=new x;this.arg[0].computeSplitEdges(e),this.arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Ke.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new hn(this.geomFact);n.add(this.graph),this.resultPolyList=n.getPolygons();var r=new fn(this,this.geomFact,this.ptLocator);this.resultLineList=r.build(t);var i=new dn(this,this.geomFact,this.ptLocator);this.resultPointList=i.build(t),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,t)},labelIncompleteNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setLocation(e,n)},copyPoints:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this.graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getLabel();r.isArea()&&!n.isInteriorAreaEdge()&&Wn.isResultOfOp(r.getLocation(0,Je.RIGHT),r.getLocation(1,Je.RIGHT),t)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this.edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;2>i;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(h.isTrue(!r.isNull(i,Je.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Je.LEFT,r.getLocation(i,Je.LEFT)),h.isTrue(!r.isNull(i,Je.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Je.RIGHT,r.getLocation(i,Je.RIGHT))))}}},computeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this.arg);this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},isCoveredByA:function(t){return!!this.isCovered(t,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return Wn}}),Wn.overlayOp=function(t,e,n){return new Wn(t,e).getResultGeometry(n)},Wn.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Wn.createEmptyResult(Wn.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return $e.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Yn.overlayOp(t,e,Wn.INTERSECTION)},Wn.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Wn.createEmptyResult(Wn.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Yn.overlayOp(t,e,Wn.SYMDIFFERENCE)},Wn.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Wn.INTERSECTION:o=Math.min(r,i);break;case Wn.UNION:o=Math.max(r,i);break;case Wn.DIFFERENCE:o=r;break;case Wn.SYMDIFFERENCE:o=Math.max(r,i)}return o},Wn.createEmptyResult=function(t,e,n,r){var i=null;switch(Wn.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Wn.difference=function(t,e){return t.isEmpty()?Wn.createEmptyResult(Wn.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Yn.overlayOp(t,e,Wn.DIFFERENCE))},Wn.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Wn.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];switch(i===T.BOUNDARY&&(i=T.INTERIOR),o===T.BOUNDARY&&(o=T.INTERIOR),a){case Wn.INTERSECTION:return i===T.INTERIOR&&o===T.INTERIOR;case Wn.UNION:return i===T.INTERIOR||o===T.INTERIOR;case Wn.DIFFERENCE:return i===T.INTERIOR&&o!==T.INTERIOR;case Wn.SYMDIFFERENCE:return i===T.INTERIOR&&o!==T.INTERIOR||i!==T.INTERIOR&&o===T.INTERIOR}return!1}},Wn.INTERSECTION=1,Wn.UNION=2,Wn.DIFFERENCE=3,Wn.SYMDIFFERENCE=4,e(Hn.prototype,{selfSnap:function(t){return new ce(t).snapTo(t,this.snapTolerance)},removeCommonBits:function(t){this.cbr=new fe,this.cbr.add(t[0]),this.cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this.cbr.removeCommonBits(t[0].copy()),e[1]=this.cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this.cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this.geom),n=Wn.overlayOp(e[0],e[1],t);return this.prepareResult(n)},checkValid:function(t){t.isValid()||R.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=ce.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(t){var e=this.removeCommonBits(t);return ce.snap(e[0],e[1],this.snapTolerance)},interfaces_:function(){return[]},getClass:function(){return Hn}}),Hn.overlayOp=function(t,e,n){return new Hn(t,e).getResultGeometry(n)},Hn.union=function(t,e){return Hn.overlayOp(t,e,Wn.UNION)},Hn.intersection=function(t,e){return Hn.overlayOp(t,e,Wn.INTERSECTION)},Hn.symDifference=function(t,e){return Hn.overlayOp(t,e,Wn.SYMDIFFERENCE)},Hn.difference=function(t,e){return Hn.overlayOp(t,e,Wn.DIFFERENCE)},e(Yn.prototype,{getResultGeometry:function(t){var e=null,n=!1,r=null;try{e=Wn.overlayOp(this.geom[0],this.geom[1],t),n=!0}catch(t){if(!(t instanceof u))throw t;r=t}if(!n)try{e=Hn.overlayOp(this.geom[0],this.geom[1],t)}catch(t){throw t instanceof u?r:t}return e},interfaces_:function(){return[]},getClass:function(){return Yn}}),Yn.overlayOp=function(t,e,n){return new Yn(t,e).getResultGeometry(n)},Yn.union=function(t,e){return Yn.overlayOp(t,e,Wn.UNION)},Yn.intersection=function(t,e){return Yn.overlayOp(t,e,Wn.INTERSECTION)},Yn.symDifference=function(t,e){return Yn.overlayOp(t,e,Wn.SYMDIFFERENCE)},Yn.difference=function(t,e){return Yn.overlayOp(t,e,Wn.DIFFERENCE)},e(Xn.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,n=0,r=this.horizontalBisector(t);if(0===r.getLength())n=0,e=r.getCoordinate();else{var i=Yn.overlayOp(r,t,Wn.INTERSECTION),o=this.widestGeometry(i);n=o.getEnvelopeInternal().getWidth(),e=Xn.centre(o.getEnvelopeInternal())}(null===this.interiorPoint||n>this.maxWidth)&&(this.interiorPoint=e,this.maxWidth=n)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function(){if(arguments[0]instanceof ht){var t=arguments[0];if(t.isEmpty())return t;for(var e=t.getGeometryN(0),n=1;n<t.getNumGeometries();n++)t.getGeometryN(n).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(n));return e}if(arguments[0]instanceof j){var r=arguments[0];return r instanceof ht?this.widestGeometry(r):r}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),n=Zn.getBisectorY(t);return this.factory.createLineString([new f(e.getMinX(),n),new f(e.getMaxX(),n)])},add:function(t){if(t instanceof kt)this.addPolygon(t);else if(t instanceof ht)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return Xn}}),Xn.centre=function(t){return new f(Xn.avg(t.getMinX(),t.getMaxX()),Xn.avg(t.getMinY(),t.getMaxY()))},Xn.avg=function(t,e){return(t+e)/2},e(Zn.prototype,{updateInterval:function(t){t<=this.centreY?t>this.loY&&(this.loY=t):t>this.centreY&&t<this.hiY&&(this.hiY=t)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var t=0;t<this.poly.getNumInteriorRing();t++)this.process(this.poly.getInteriorRingN(t));return Xn.avg(this.hiY,this.loY)},process:function(t){for(var e=t.getCoordinateSequence(),n=0;n<e.size();n++){var r=e.getY(n);this.updateInterval(r)}},interfaces_:function(){return[]},getClass:function(){return Zn}}),Zn.getBisectorY=function(t){return new Zn(t).getBisectorY()},Xn.SafeBisectorFinder=Zn,e(Kn.prototype,{addEndpoints:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t instanceof Et)this.addEndpoints(t.getCoordinates());else if(t instanceof ht)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addEndpoints(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var r=arguments[0];this.add(r[0]),this.add(r[r.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t instanceof Et)this.addInterior(t.getCoordinates());else if(t instanceof ht)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addInterior(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var r=arguments[0];for(n=1;n<r.length-1;n++)this.add(r[n])}},add:function(t){var e=t.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new f(t),this.minDistance=e)},interfaces_:function(){return[]},getClass:function(){return Kn}}),e($n.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t instanceof St)this.add(t.getCoordinate());else if(t instanceof ht)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))}else if(arguments[0]instanceof f){var r=arguments[0],i=r.distance(this.centroid);i<this.minDistance&&(this.interiorPoint=new f(r),this.minDistance=i)}},interfaces_:function(){return[]},getClass:function(){return $n}}),e(Jn.prototype,{interfaces_:function(){return[]},getClass:function(){return Jn}}),Jn.toDegrees=function(t){return 180*t/Math.PI},Jn.normalize=function(t){for(;t>Math.PI;)t-=Jn.PI_TIMES_2;for(;t<=-Math.PI;)t+=Jn.PI_TIMES_2;return t},Jn.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},Jn.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},Jn.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return 0>r*(n.x-e.x)+i*(n.y-e.y)},Jn.interiorAngle=function(t,e,n){var r=Jn.angle(e,t),i=Jn.angle(e,n);return Math.abs(i-r)},Jn.normalizePositive=function(t){if(0>t){for(;0>t;)t+=Jn.PI_TIMES_2;t>=Jn.PI_TIMES_2&&(t=0)}else{for(;t>=Jn.PI_TIMES_2;)t-=Jn.PI_TIMES_2;0>t&&(t=0)}return t},Jn.angleBetween=function(t,e,n){var r=Jn.angle(e,t),i=Jn.angle(e,n);return Jn.diff(r,i)},Jn.diff=function(t,e){var n=null;return(n=e>t?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Jn.toRadians=function(t){return t*Math.PI/180},Jn.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Jn.COUNTERCLOCKWISE:0>n?Jn.CLOCKWISE:Jn.NONE},Jn.angleBetweenOriented=function(t,e,n){var r=Jn.angle(e,t),i=Jn.angle(e,n)-r;return i<=-Math.PI?i+Jn.PI_TIMES_2:i>Math.PI?i-Jn.PI_TIMES_2:i},Jn.PI_TIMES_2=2*Math.PI,Jn.PI_OVER_2=Math.PI/2,Jn.PI_OVER_4=Math.PI/4,Jn.COUNTERCLOCKWISE=Qt.COUNTERCLOCKWISE,Jn.CLOCKWISE=Qt.CLOCKWISE,Jn.NONE=Qt.COLLINEAR,e(Qn.prototype,{area:function(){return Qn.area(this.p0,this.p1,this.p2)},signedArea:function(){return Qn.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new r("Supplied point is null.");return Qn.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return Qn.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return Qn.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return Qn.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return Qn.area3D(this.p0,this.p1,this.p2)},centroid:function(){return Qn.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return Qn.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return Qn}}),Qn.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Qn.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Qn.det=function(t,e,n,r){return t*r-e*n},Qn.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,a=n.x-i,s=r.x-i,l=n.y-o,u=r.y-o,c=a*u-s*l,p=t.x-i,h=t.y-o,f=(u*p-s*h)/c,d=(-l*p+a*h)/c;return e.z+f*(n.z-e.z)+d*(r.z-e.z)},Qn.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),a=r;return i>a&&(a=i),o>a&&(a=o),a},Qn.isAcute=function(t,e,n){return!(!Jn.isAcute(t,e,n)||!Jn.isAcute(e,n,t)||!Jn.isAcute(n,t,e))},Qn.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,a=t.y-i,s=e.x-r,l=e.y-i,u=2*Qn.det(o,a,s,l);return new f(r-Qn.det(a,o*o+a*a,l,s*s+l*l)/u,i+Qn.det(o,o*o+a*a,s,s*s+l*l)/u)},Qn.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new D(t.x+n/2,t.y+r/2,1),o=new D(t.x-r+n/2,t.y+n+r/2,1);return new D(i,o)},Qn.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,a=n.y-t.y;return new f(t.x+i*o,t.y+i*a)},Qn.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,l=n.z-t.z,u=i*l-o*s,c=o*a-r*l,p=r*s-i*a,h=u*u+c*c+p*p;return Math.sqrt(h)/2},Qn.centroid=function(t,e,n){return new f((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},Qn.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),a=r+i+o;return new f((r*t.x+i*e.x+o*n.x)/a,(r*t.y+i*e.y+o*n.y)/a)},e(tr.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[1];return this.input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(1===this.input.getNumPoints()){var t=this.input.getCoordinates();return this.extremalPts=[new f(t[0])],null}var e=this.input.convexHull().getCoordinates();if(t=e,e[0].equals2D(e[e.length-1])&&(t=new Array(e.length-1).fill(null),H.copyDeep(e,0,t,0,e.length-1)),t.length<=2)return this.extremalPts=H.copyDeep(t),null;for(var n=tr.lowestPoint(t),r=tr.pointWitMinAngleWithX(t,n),i=0;i<t.length;i++){var o=tr.pointWithMinAngleWithSegment(t,n,r);if(Jn.isObtuse(n,o,r))return this.extremalPts=[new f(n),new f(r)],null;if(Jn.isObtuse(o,n,r))n=o;else{if(!Jn.isObtuse(o,r,n))return this.extremalPts=[new f(n),new f(r),new f(o)],null;r=o}}h.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return null!==this.extremalPts?null:(this.computeCirclePoints(),this.computeCentre(),void(null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0]))))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon();var t=this.input.getFactory().createPoint(this.centre);return 0===this.radius?t:t.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new f((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=Qn.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return tr}}),tr.pointWitMinAngleWithX=function(t,e){for(var n=i.MAX_VALUE,r=null,o=0;o<t.length;o++){var a=t[o];if(a!==e){var s=a.x-e.x,l=a.y-e.y;0>l&&(l=-l);var u=l/Math.sqrt(s*s+l*l);n>u&&(n=u,r=a)}}return r},tr.lowestPoint=function(t){for(var e=t[0],n=1;n<t.length;n++)t[n].y<e.y&&(e=t[n]);return e},tr.pointWithMinAngleWithSegment=function(t,e,n){for(var r=i.MAX_VALUE,o=null,a=0;a<t.length;a++){var s=t[a];if(s!==e&&s!==n){var l=Jn.angleBetween(e,s,n);r>l&&(r=l,o=s)}}return o},e(er.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return this.inputGeom.getFactory().createLineString(null);var t=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([t,this.minWidthPt])},computeWidthConvex:function(t){this.convexHullPts=t instanceof kt?t.getExteriorRing().getCoordinates():t.getCoordinates(),0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(t){this.minWidth=i.MAX_VALUE;for(var e=1,n=new te,r=0;r<t.length-1;r++)n.p0=t[r],n.p1=t[r+1],e=this.findMaxPerpDistance(t,n,e)},computeMinimumDiameter:function(){if(null!==this.minWidthPt)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var t=new ae(this.inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(t,e,n){for(var r=e.distancePerpendicular(t[n]),i=r,o=n,a=o;i>=r;)r=i,o=a,a=er.nextIndex(t,o),i=e.distancePerpendicular(t[a]);return r<this.minWidth&&(this.minPtIndex=o,this.minWidth=r,this.minWidthPt=t[this.minPtIndex],this.minBaseSeg=new te(e)),o},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var t=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,e=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,n=i.MAX_VALUE,r=-i.MAX_VALUE,o=i.MAX_VALUE,a=-i.MAX_VALUE,s=0;s<this.convexHullPts.length;s++){var l=er.computeC(t,e,this.convexHullPts[s]);l>r&&(r=l),n>l&&(n=l);var u=er.computeC(-e,t,this.convexHullPts[s]);u>a&&(a=u),o>u&&(o=u)}var c=er.computeSegmentForLine(-t,-e,a),p=er.computeSegmentForLine(-t,-e,o),h=er.computeSegmentForLine(-e,t,r),f=er.computeSegmentForLine(-e,t,n),d=h.lineIntersection(c),g=f.lineIntersection(c),m=f.lineIntersection(p),v=h.lineIntersection(p),y=this.inputGeom.getFactory().createLinearRing([d,g,m,v,d]);return this.inputGeom.getFactory().createPolygon(y,null)},interfaces_:function(){return[]},getClass:function(){return er}}),er.nextIndex=function(t,e){return++e>=t.length&&(e=0),e},er.computeC=function(t,e,n){return t*n.y-e*n.x},er.getMinimumDiameter=function(t){return new er(t).getDiameter()},er.getMinimumRectangle=function(t){return new er(t).getMinimumRectangle()},er.computeSegmentForLine=function(t,e,n){var r=null,i=null;return Math.abs(e)>Math.abs(t)?(r=new f(0,n/e),i=new f(1,n/e-t/e)):(r=new f(n/t,0),i=new f(n/t-e/t,1)),new te(r,i)};var Jo=Object.freeze({Centroid:ne,CGAlgorithms:Qt,ConvexHull:ae,InteriorPointArea:Xn,InteriorPointLine:Kn,InteriorPointPoint:$n,RobustLineIntersector:Kt,MinimumBoundingCircle:tr,MinimumDiameter:er});e(nr.prototype,{getResultGeometry:function(){return new rr(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(0>=t)throw new r("Tolerance must be positive");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return nr}}),nr.densifyPoints=function(t,e,n){for(var r=new te,i=new w,o=0;o<t.length-1;o++){r.p0=t[o],r.p1=t[o+1],i.add(r.p0,!1);var a=r.getLength(),s=Math.trunc(a/e)+1;if(s>1)for(var l=a/s,u=1;s>u;u++){var c=u*l/a,p=r.pointAlong(c);n.makePrecise(p),i.add(p,!1)}}return i.add(t[t.length-1],!1),i.toCoordinateArray()},nr.densify=function(t,e){var n=new nr(t);return n.setDistanceTolerance(e),n.getResultGeometry()},c(rr,le),e(rr.prototype,{transformMultiPolygon:function(t,e){var n=le.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformPolygon:function(t,e){var n=le.prototype.transformPolygon.call(this,t,e);return e instanceof Pt?n:this.createValidArea(n)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),r=nr.densifyPoints(n,this.distanceTolerance,e.getPrecisionModel());return e instanceof Et&&1===r.length&&(r=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(r)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return rr}}),nr.DensifyTransformer=rr;var Qo=Object.freeze({Densifier:nr});e(ir.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),n=this;do{var r=n.oNext();if(r.compareTo(t)!==e||r===this)return n.insertAfter(t),null;n=r}while(n!==this);h.shouldNeverReachHere()},insertAfter:function(t){h.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function(){var t=0,e=this;do{t++,e=e.oNext()}while(e!==this);return t},equals:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),n=this.deltaY(),r=t.deltaX(),i=t.deltaY();if(e===r&&n===i)return 0;var o=Be.quadrant(e,n),a=Be.quadrant(r,i);return o>a?1:a>o?-1:Qt.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if((t=t.prev())===this)return null;return t},compareTo:function(t){var e=t;return this.compareAngularDirection(e)},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return ir}}),ir.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},ir.create=function(t,e){var n=new ir(t),r=new ir(e);return n.init(r),n},c(or,ir),e(or.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return or}}),or.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},or.isMarked=function(t){return t.isMarked()},or.setMark=function(t,e){t.setMark(e)},or.markBoth=function(t){t.mark(),t.sym().mark()},or.mark=function(t){t.mark()},e(ar.prototype,{insert:function(t,e,n){var r=this.create(t,e);null!==n?n.insert(r):this.vertexMap.put(t,r);var i=this.vertexMap.get(e);return null!==i?i.insert(r.sym()):this.vertexMap.put(e,r.sym()),r},create:function(t,e){var n=this.createEdge(t),r=this.createEdge(e);return ir.init(n,r),n},createEdge:function(t){return new ir(t)},addEdge:function(t,e){if(!ar.isValidEdge(t,e))return null;var n=this.vertexMap.get(t),r=null;return null!==n&&(r=n.find(e)),null!==r?r:this.insert(t,e,n)},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(t,e){var n=this.vertexMap.get(t);return null===n?null:n.find(e)},interfaces_:function(){return[]},getClass:function(){return ar}}),ar.isValidEdge=function(t,e){return 0!==e.compareTo(t)},c(sr,or),e(sr.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return sr}}),c(lr,ar),e(lr.prototype,{createEdge:function(t){return new sr(t)},interfaces_:function(){return[]},getClass:function(){return lr}}),e(ur.prototype,{addLine:function(t){this.lines.add(this.factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym()).isStart()?null===this.ringStartEdge?(this.ringStartEdge=t,null):void(t.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=t)):null},getResult:function(){return null===this.result&&this.computeResult(),this.result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new w,n=t;for(e.add(n.orig().copy(),!1);2===n.sym().degree();){var r=n.next();if(r===t)break;e.add(r.orig().copy(),!1),n=r}e.add(n.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new w,n=t;for(this.ringStartEdge=null,or.markBoth(n),e.add(n.orig().copy(),!1);2===n.sym().degree();){this.updateRingStartEdge(n);var r=n.next();if(r===t)return this.buildRing(this.ringStartEdge),null;e.add(r.orig().copy(),!1),n=r,or.markBoth(n)}e.add(n.dest().copy(),!1),this.stackEdges(n.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do{or.isMarked(e)||this.nodeEdgeStack.add(e),e=e.oNext()}while(e!==t)},computeResult:function(){for(var t=this.graph.getVertexEdges().iterator();t.hasNext();){var e=t.next();or.isMarked(e)||this.process(e)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var t=this.nodeEdgeStack.pop();or.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof j){var t=arguments[0];t.apply({interfaces_:function(){return[F]},filter:function(t){t instanceof Et&&this.add(t)}})}else if(k(arguments[0],m))for(var e=arguments[0],n=e.iterator();n.hasNext();){var r=n.next();this.add(r)}else if(arguments[0]instanceof Et){var i=arguments[0];null===this.factory&&(this.factory=i.getFactory());var o=i.getCoordinateSequence(),a=!1;for(n=1;n<o.size();n++){var s=this.graph.addEdge(o.getCoordinate(n-1),o.getCoordinate(n));null!==s&&(a||(s.setStart(),a=!0))}}},interfaces_:function(){return[]},getClass:function(){return ur}}),ur.dissolve=function(t){var e=new ur;return e.add(t),e.getResult()};var ta=Object.freeze({LineDissolver:ur});e(cr.prototype,{hasChildren:function(){for(var t=0;4>t;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;4>e;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;4>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+1},size:function(){for(var t=0,e=0;4>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this.items);for(var n=0;4>n;n++)null!==this.subnode[n]&&this.subnode[n].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var n=this.items.iterator();n.hasNext();)e.visitItem(n.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,r=0;4>r;r++)if(null!==this.subnode[r]&&(n=this.subnode[r].remove(t,e))){this.subnode[r].isPrunable()&&(this.subnode[r]=null);break}return n||(n=this.items.remove(e))},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var n=0;4>n;n++)null!==this.subnode[n]&&this.subnode[n].visit(t,e)},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;4>e;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},isEmpty:function(){var t=!0;this.items.isEmpty()||(t=!1);for(var e=0;4>e;e++)null!==this.subnode[e]&&(this.subnode[e].isEmpty()||(t=!1));return t},add:function(t){this.items.add(t)},interfaces_:function(){return[l]},getClass:function(){return cr}}),cr.getSubnodeIndex=function(t,e,n){var r=-1;return t.getMinX()>=e&&(t.getMinY()>=n&&(r=3),t.getMaxY()<=n&&(r=1)),t.getMaxX()<=e&&(t.getMinY()>=n&&(r=2),t.getMaxY()<=n&&(r=0)),r},pr.exponent=function(t){return function(t,e){var n,r,i,o,a={32:8,64:11}[t];if(o||(n=0>e||0>1/e,isFinite(e)||(o={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}}[t],n&&(o.d+=1<<t/4-1),r=Math.pow(2,a)-1,i=0)),!o){for(r={32:127,64:1023}[t],i=Math.abs(e);i>=2;)r++,i/=2;for(;1>i&&r>0;)r--,i*=2;0>=r&&(i/=2),32===t&&r>254&&(o={d:n?255:127,c:128,b:0,a:0},r=Math.pow(2,a)-1,i=0)}return r}(64,t)-1023},pr.powerOf2=function(t){return Math.pow(2,t)},e(hr.prototype,{getLevel:function(){return this.level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this.level=hr.computeQuadLevel(t),this.env=new E,this.computeKey(this.level,t);!this.env.contains(t);)this.level+=1,this.computeKey(this.level,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=pr.powerOf2(e);this.pt.x=Math.floor(n.getMinX()/r)*r,this.pt.y=Math.floor(n.getMinY()/r)*r,this.env.init(this.pt.x,this.pt.x+r,this.pt.y,this.pt.y+r)}},getEnvelope:function(){return this.env},getCentre:function(){return new f((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return hr}}),hr.computeQuadLevel=function(t){var e=t.getWidth(),n=t.getHeight(),r=e>n?e:n;return pr.exponent(r)+1},c(fr,cr),e(fr.prototype,{find:function(t){var e=cr.getSubnodeIndex(t,this.centrex,this.centrey);return-1===e?this:null!==this.subnode[e]?this.subnode[e].find(t):this},isSearchMatch:function(t){return this.env.intersects(t)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getEnvelope:function(){return this.env},getNode:function(t){var e=cr.getSubnodeIndex(t,this.centrex,this.centrey);return-1!==e?this.getSubnode(e).getNode(t):this},createSubnode:function(t){var e=0,n=0,r=0,i=0;switch(t){case 0:e=this.env.getMinX(),n=this.centrex,r=this.env.getMinY(),i=this.centrey;break;case 1:e=this.centrex,n=this.env.getMaxX(),r=this.env.getMinY(),i=this.centrey;break;case 2:e=this.env.getMinX(),n=this.centrex,r=this.centrey,i=this.env.getMaxY();break;case 3:e=this.centrex,n=this.env.getMaxX(),r=this.centrey,i=this.env.getMaxY()}return new fr(new E(e,n,r,i),this.level-1)},insertNode:function(t){h.isTrue(null===this.env||this.env.contains(t.env));var e=cr.getSubnodeIndex(t.env,this.centrex,this.centrey);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insertNode(t),this.subnode[e]=n}},interfaces_:function(){return[]},getClass:function(){return fr}}),fr.createNode=function(t){var e=new hr(t);return new fr(e.getEnvelope(),e.getLevel())},fr.createExpanded=function(t,e){var n=new E(e);null!==t&&n.expandToInclude(t.env);var r=fr.createNode(n);return null!==t&&r.insertNode(t),r},e(dr.prototype,{interfaces_:function(){return[]},getClass:function(){return dr}}),dr.isZeroWidth=function(t,e){var n=e-t;if(0===n)return!0;var r=n/Math.max(Math.abs(t),Math.abs(e));return pr.exponent(r)<=dr.MIN_BINARY_EXPONENT},dr.MIN_BINARY_EXPONENT=-50,c(gr,cr),e(gr.prototype,{insert:function(t,e){var n=cr.getSubnodeIndex(t,gr.origin.x,gr.origin.y);if(-1===n)return this.add(e),null;var r=this.subnode[n];if(null===r||!r.getEnvelope().contains(t)){var i=fr.createExpanded(r,t);this.subnode[n]=i}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){h.isTrue(t.getEnvelope().contains(e));var r=dr.isZeroWidth(e.getMinX(),e.getMaxX()),i=dr.isZeroWidth(e.getMinY(),e.getMaxY());(r||i?t.find(e):t.getNode(e)).add(n)},interfaces_:function(){return[]},getClass:function(){return gr}}),gr.origin=new f(0,0),e(mr.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=mr.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new Nn;return this.query(t,e),e.getItems()}if(2===arguments.length){var n=arguments[0],r=arguments[1];this.root.visit(n,r)}},queryAll:function(){var t=new x;return this.root.addAllItems(t),t},remove:function(t,e){var n=mr.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e);var n=t.getHeight();n<this.minExtent&&n>0&&(this.minExtent=n)},depth:function(){return null!==this.root?this.root.depth():0},isEmpty:function(){return null===this.root},interfaces_:function(){return[Se,l]},getClass:function(){return mr}}),mr.ensureExtent=function(t,e){var n=t.getMinX(),r=t.getMaxX(),i=t.getMinY(),o=t.getMaxY();return n!==r&&i!==o?t:(n===r&&(r=(n-=e/2)+e/2),i===o&&(o=(i-=e/2)+e/2),new E(n,r,i,o))},mr.serialVersionUID=-0x678b60c967a25400;var ea=Object.freeze({Quadtree:mr}),na=Object.freeze({STRtree:Pe}),ra=Object.freeze({quadtree:ea,strtree:na}),ia=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];e(vr.prototype,{read:function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!oa[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==ia.indexOf(n)?oa[n].apply(this,[e.coordinates]):"GeometryCollection"===n?oa[n].apply(this,[e.geometries]):oa[n].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!aa[e])throw new Error("Geometry is not supported");return aa[e].apply(this,[t])}});var oa={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!oa[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=oa.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new f(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new f(t[0],t[1]),new f(t[2],t[1]),new f(t[2],t[3]),new f(t[0],t[3]),new f(t[0],t[1])])},Point:function(t){var e=new f(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(oa.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=oa.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(oa.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=oa.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],a=oa.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(oa.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},aa={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:aa.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var r=t.geometries[n],i=aa.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(aa.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var r=t.geometries[n],i=aa.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=aa.LineString.apply(this,[t.shell]);e.push(n.coordinates);for(var r=0;r<t.holes.length;++r){var i=t.holes[r],o=aa.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var r=t.geometries[n],i=aa.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var r=t.geometries[n],i=r.getGeometryType();e.push(aa[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}};e(yr.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Gt.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;n>e;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;n>e;e++)this.reducePrecision(t.geometries[e])}}),e(_r.prototype,{write:function(t){return this.parser.write(t)}}),e(br.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Gt.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(var e=0,n=t.points.coordinates.length;n>e;e++)this.precisionModel.makePrecise(t.points.coordinates[e]);else if(t.geometries)for(var r=0,i=t.geometries.length;i>r;r++)this.reducePrecision(t.geometries[r])}}),e(wr.prototype,{read:function(t){return t instanceof ol.geom.Point?this.convertFromPoint(t):t instanceof ol.geom.LineString?this.convertFromLineString(t):t instanceof ol.geom.LinearRing?this.convertFromLinearRing(t):t instanceof ol.geom.Polygon?this.convertFromPolygon(t):t instanceof ol.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof ol.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof ol.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof ol.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new f(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map((function(t){return new f(t[0],t[1])})))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map((function(t){return new f(t[0],t[1])})))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),n=null,r=[],i=0;i<e.length;i++){var o=this.convertFromLinearRing(e[i]);0===i?n=o:r.push(o)}return this.geometryFactory.createPolygon(n,r)},convertFromMultiPoint:function(t){var e=t.getPoints().map((function(t){return this.convertFromPoint(t)}),this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map((function(t){return this.convertFromLineString(t)}),this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map((function(t){return this.convertFromPolygon(t)}),this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map((function(t){return this.read(t)}),this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(xr);return new ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(xr);return new ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(xr)],n=0;n<t.holes.length;n++)e.push(t.holes[n].points.coordinates.map(xr));return new ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new ol.geom.MultiPoint(t.getCoordinates().map(xr))},convertToMultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToLineString(t.geometries[n]).getCoordinates());return new ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToPolygon(t.geometries[n]).getCoordinates());return new ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],n=0;n<t.geometries.length;n++){var r=t.geometries[n];e.push(this.write(r))}return new ol.geom.GeometryCollection(e)}});var sa=Object.freeze({GeoJSONReader:yr,GeoJSONWriter:_r,OL3Parser:wr,WKTReader:br,WKTWriter:Xt});e(Er.prototype,{rescale:function(){if(k(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){var r=arguments[0];for(2===r.length&&(new f(r[0]),new f(r[1])),e=0;e<r.length;e++)r[e].x=r[e].x/this.scaleFactor+this.offsetX,r[e].y=r[e].y/this.scaleFactor+this.offsetY;2===r.length&&r[0].equals2D(r[1])&&R.out.println(r)}},scale:function(){if(k(arguments[0],m)){for(var t=arguments[0],e=new x,n=t.iterator();n.hasNext();){var r=n.next();e.add(new ze(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){var i=arguments[0],o=new Array(i.length).fill(null);for(n=0;n<i.length;n++)o[n]=new f(Math.round((i[n].x-this.offsetX)*this.scaleFactor),Math.round((i[n].y-this.offsetY)*this.scaleFactor),i[n].z);var a=H.removeRepeatedPoints(o);return a}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var t=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this.isScaled&&(e=this.scale(t)),this.noder.computeNodes(e)},interfaces_:function(){return[Ve]},getClass:function(){return Er}});var la=Object.freeze({MCIndexNoder:Ge,ScaledNoder:Er,SegmentString:_e});e(Cr.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new st,n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n).getCoordinate();if(e.contains(r))return this.nonSimpleLocation=r,!1;e.add(r)}return!0},isSimplePolygonal:function(t){for(var e=Pn.getLines(t).iterator();e.hasNext();){var n=e.next();if(!this.isSimpleLinearGeometry(n))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new it,n=t.getEdgeIterator();n.hasNext();){var r=n.next(),i=(r.getMaximumSegmentIndex(),r.isClosed()),o=r.getCoordinate(0);this.addEndpoint(e,o,i);var a=r.getCoordinate(r.getNumPoints()-1);this.addEndpoint(e,a,i)}for(n=e.values().iterator();n.hasNext();){var s=n.next();if(s.isClosed&&2!==s.degree)return this.nonSimpleLocation=s.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new Un(0,t),n=new Kt,r=e.computeSelfNodes(n,!0);return!(r.hasIntersection()&&(r.hasProperIntersection()?(this.nonSimpleLocation=r.getProperIntersectionPoint(),1):this.hasNonEndpointIntersection(e)||this.isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var n=e.next(),r=n.getMaximumSegmentIndex(),i=n.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next();if(!o.isEndPoint(r))return this.nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,n){var r=t.get(e);null===r&&(r=new Sr(e),t.put(e,r)),r.addEndpoint(n)},computeSimple:function(t){return this.nonSimpleLocation=null,!!t.isEmpty()||(t instanceof Et?this.isSimpleLinearGeometry(t):t instanceof ft?this.isSimpleLinearGeometry(t):t instanceof Ot?this.isSimpleMultiPoint(t):k(t,Tt)?this.isSimplePolygonal(t):!(t instanceof ht)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return Cr}}),e(Sr.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Sr}}),Cr.EndpointInfo=Sr,e(Tr.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this.quadrantSegments=t,0===this.quadrantSegments&&(this.joinStyle=Tr.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=Tr.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),0>=t&&(this.quadrantSegments=1),this.joinStyle!==Tr.JOIN_ROUND&&(this.quadrantSegments=Tr.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(t){this.joinStyle=t},setSimplifyFactor:function(t){this.simplifyFactor=0>t?0:t},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(t){this.endCapStyle=t},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(t){this.mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return Tr}}),Tr.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Tr.CAP_ROUND=1,Tr.CAP_FLAT=2,Tr.CAP_SQUARE=3,Tr.JOIN_ROUND=1,Tr.JOIN_MITRE=2,Tr.JOIN_BEVEL=3,Tr.DEFAULT_QUADRANT_SEGMENTS=8,Tr.DEFAULT_MITRE_LIMIT=5,Tr.DEFAULT_SIMPLIFY_FACTOR=.01,e(kr.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return 0>n&&(n=this.getRightmostSideOfSegment(t,e-1)),0>n&&(this.minCoord=null,this.checkForRightmostCoordinate(t)),n},findRightmostEdgeAtVertex:function(){var t=this.minDe.getEdge().getCoordinates();h.isTrue(this.minIndex>0&&this.minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this.minIndex-1],n=t[this.minIndex+1],r=Qt.computeOrientation(this.minCoord,n,e),i=!1;e.y<this.minCoord.y&&n.y<this.minCoord.y&&r===Qt.COUNTERCLOCKWISE?i=!0:e.y>this.minCoord.y&&n.y>this.minCoord.y&&r===Qt.CLOCKWISE&&(i=!0),i&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(t,e){var n=t.getEdge().getCoordinates();if(0>e||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Je.LEFT;return n[e].y<n[e+1].y&&(r=Je.RIGHT),r},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this.minCoord||e[n].x>this.minCoord.x)&&(this.minDe=t,this.minIndex=n,this.minCoord=e[n])},findRightmostEdgeAtNode:function(){var t=this.minDe.getNode().getEdges();this.minDe=t.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}h.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe,this.getRightmostSide(this.minDe,this.minIndex)===Je.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return kr}}),Or.prototype.addLast=function(t){this.array_.push(t)},Or.prototype.removeFirst=function(){return this.array_.shift()},Or.prototype.isEmpty=function(){return 0===this.array_.length},e(Ir.prototype,{clearVisitedEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();)if((r=n.next()).isVisited()||r.getSym().isVisited()){e=r;break}if(null===e)throw new He("unable to find edge to compute depths at "+t.getCoordinate());for(t.getEdges().computeDepths(e),n=t.getEdges().iterator();n.hasNext();){var r;(r=n.next()).setVisited(!0),this.copySymDepths(r)}},computeDepth:function(t){this.clearVisitedEdges();var e=this.finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(Je.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Je.RIGHT)>=1&&e.getDepth(Je.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new J,n=new Or,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();e.contains(s)||(n.addLast(s),e.add(s))}}}},compareTo:function(t){var e=t;return this.rightMostCoord.x<e.rightMostCoord.x?-1:this.rightMostCoord.x>e.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var t=new E,e=this.dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this.env=t}return this.env},addReachable:function(t){var e=new ie;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(Je.LEFT,t.getDepth(Je.RIGHT)),e.setDepth(Je.RIGHT,t.getDepth(Je.LEFT))},add:function(t,e){t.setVisited(!0),this.nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this.dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[o]},getClass:function(){return Ir}}),e(Pr.prototype,{isDeletable:function(t,e,n,r){var i=this.inputLine[t],o=this.inputLine[e],a=this.inputLine[n];return!(!this.isConcave(i,o,a)||!this.isShallow(i,o,a,r))&&this.isShallowSampled(i,o,t,n,r)},deleteShallowConcavities:function(){for(var t=1,e=(this.inputLine.length,this.findNextNonDeletedIndex(t)),n=this.findNextNonDeletedIndex(e),r=!1;n<this.inputLine.length;){var i=!1;this.isDeletable(t,e,n,this.distanceTol)&&(this.isDeleted[e]=Pr.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},isShallowConcavity:function(t,e,n,r){return Qt.computeOrientation(t,e,n)===this.angleOrientation&&r>Qt.distancePointLine(e,t,n)},isShallowSampled:function(t,e,n,r,i){var o=Math.trunc((r-n)/Pr.NUM_PTS_TO_CHECK);0>=o&&(o=1);for(var a=n;r>a;a+=o)if(!this.isShallow(t,e,this.inputLine[a],i))return!1;return!0},isConcave:function(t,e,n){var r=Qt.computeOrientation(t,e,n)===this.angleOrientation;return r},simplify:function(t){this.distanceTol=Math.abs(t),0>t&&(this.angleOrientation=Qt.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this.inputLine.length&&this.isDeleted[e]===Pr.DELETE;)e++;return e},isShallow:function(t,e,n,r){return r>Qt.distancePointLine(e,t,n)},collapseLine:function(){for(var t=new w,e=0;e<this.inputLine.length;e++)this.isDeleted[e]!==Pr.DELETE&&t.add(this.inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Pr}}),Pr.simplify=function(t,e){return new Pr(t).simplify(e)},Pr.INIT=0,Pr.DELETE=1,Pr.KEEP=1,Pr.NUM_PTS_TO_CHECK=10,e(Nr.prototype,{getCoordinates:function(){return this.ptList.toArray(Nr.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(t){this.precisionModel=t},addPt:function(t){var e=new f(t);return this.precisionModel.makePrecise(e),this.isRedundant(e)?null:void this.ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(n=t.length-1;n>=0;n--)this.addPt(t[n])},isRedundant:function(t){if(this.ptList.size()<1)return!1;var e=this.ptList.get(this.ptList.size()-1);return t.distance(e)<this.minimimVertexDistance},toString:function(){return(new Ht).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this.ptList.size()<1)return null;var t=new f(this.ptList.get(0)),e=this.ptList.get(this.ptList.size()-1);return this.ptList.size()>=2&&this.ptList.get(this.ptList.size()-2),t.equals(e)?null:void this.ptList.add(t)},setMinimumVertexDistance:function(t){this.minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return Nr}}),Nr.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),e(Mr.prototype,{addNextSegment:function(t,e){if(this.s0=this.s1,this.s1=this.s2,this.s2=t,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var n=Qt.computeOrientation(this.s0,this.s1,this.s2),r=n===Qt.CLOCKWISE&&this.side===Je.LEFT||n===Qt.COUNTERCLOCKWISE&&this.side===Je.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},addLineEndCap:function(t,e){var n=new te(t,e),r=new te;this.computeOffsetSegment(n,Je.LEFT,this.distance,r);var i=new te;this.computeOffsetSegment(n,Je.RIGHT,this.distance,i);var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o);switch(this.bufParams.getEndCapStyle()){case Tr.CAP_ROUND:this.segList.addPt(r.p1),this.addFilletArc(e,s+Math.PI/2,s-Math.PI/2,Qt.CLOCKWISE,this.distance),this.segList.addPt(i.p1);break;case Tr.CAP_FLAT:this.segList.addPt(r.p1),this.segList.addPt(i.p1);break;case Tr.CAP_SQUARE:var l=new f;l.x=Math.abs(this.distance)*Math.cos(s),l.y=Math.abs(this.distance)*Math.sin(s);var u=new f(r.p1.x+l.x,r.p1.y+l.y),c=new f(i.p1.x+l.x,i.p1.y+l.y);this.segList.addPt(u),this.segList.addPt(c)}},getCoordinates:function(){return this.segList.getCoordinates()},addMitreJoin:function(t,e,n,r){var i=!0,o=null;try{o=D.intersection(e.p0,e.p1,n.p0,n.p1),(0>=r?1:o.distance(t)/Math.abs(r))>this.bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof S))throw t;o=new f(0,0),i=!1}i?this.segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this.bufParams.getMitreLimit())},addFilletCorner:function(t,e,n,r,i){var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o),l=n.x-t.x,u=n.y-t.y,c=Math.atan2(u,l);r===Qt.CLOCKWISE?c>=s&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this.segList.addPt(e),this.addFilletArc(t,s,c,r,i),this.segList.addPt(n)},addOutsideTurn:function(t,e){return this.offset0.p1.distance(this.offset1.p0)<this.distance*Mr.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===Tr.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===Tr.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(e&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,t,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(t){this.segList.addPt(new f(t.x+this.distance,t.y+this.distance)),this.segList.addPt(new f(t.x+this.distance,t.y-this.distance)),this.segList.addPt(new f(t.x-this.distance,t.y-this.distance)),this.segList.addPt(new f(t.x-this.distance,t.y+this.distance)),this.segList.closeRing()},addSegments:function(t,e){this.segList.addPts(t,e)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(t,e,n){this.s1=t,this.s2=e,this.side=n,this.seg1.setCoordinates(t,e),this.computeOffsetSegment(this.seg1,n,this.distance,this.offset1)},addLimitedMitreJoin:function(t,e,n,r){var i=this.seg0.p1,o=Jn.angle(i,this.seg0.p0),a=(Jn.angle(i,this.seg1.p1),Jn.angleBetweenOriented(this.seg0.p0,i,this.seg1.p1)/2),s=Jn.normalize(o+a),l=Jn.normalize(s+Math.PI),u=r*n,c=n-u*Math.abs(Math.sin(a)),p=new te(i,new f(i.x+u*Math.cos(l),i.y+u*Math.sin(l))),h=p.pointAlongOffset(1,c),d=p.pointAlongOffset(1,-c);this.side===Je.LEFT?(this.segList.addPt(h),this.segList.addPt(d)):(this.segList.addPt(d),this.segList.addPt(h))},computeOffsetSegment:function(t,e,n,r){var i=e===Je.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),l=i*n*o/s,u=i*n*a/s;r.p0.x=t.p0.x-u,r.p0.y=t.p0.y+l,r.p1.x=t.p1.x-u,r.p1.y=t.p1.y+l},addFilletArc:function(t,e,n,r,i){var o,a=r===Qt.CLOCKWISE?-1:1,s=Math.abs(e-n),l=Math.trunc(s/this.filletAngleQuantum+.5);if(1>l)return null;o=s/l;for(var u=0,c=new f;s>u;){var p=e+a*u;c.x=t.x+i*Math.cos(p),c.y=t.y+i*Math.sin(p),this.segList.addPt(c),u+=o}},addInsideTurn:function(t,e){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*Mr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var n=new f((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(n);var r=new f((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(r)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(t){var e=new f(t.x+this.distance,t.y);this.segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(t,e){this.segList.addPt(t.p1),this.segList.addPt(e.p0)},init:function(t){this.distance=t,this.maxCurveSegmentError=t*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new Nr,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(t*Mr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2),this.li.getIntersectionNum()>=2&&(this.bufParams.getJoinStyle()===Tr.JOIN_BEVEL||this.bufParams.getJoinStyle()===Tr.JOIN_MITRE?(t&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,Qt.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return Mr}}),Mr.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Mr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Mr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Mr.MAX_CLOSING_SEG_LEN_FACTOR=80,e(Ar.prototype,{getOffsetCurve:function(t,e){if(this.distance=e,0===e)return null;var n=0>e,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&H.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,n){var r=this.simplifyTolerance(this.distance);if(e){n.addSegments(t,!0);var i=Pr.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Je.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(t,!1);var s=Pr.simplify(t,r),l=s.length-1;for(n.initSideSegments(s[0],s[1],Je.LEFT),n.addFirstSegment(),a=2;l>=a;a++)n.addNextSegment(s[a],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(t,e,n){var r=this.simplifyTolerance(this.distance);e===Je.RIGHT&&(r=-r);var i=Pr.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var a=1;o>=a;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()},computeLineBufferCurve:function(t,e){var n=this.simplifyTolerance(this.distance),r=Pr.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],Je.LEFT);for(var o=2;i>=o;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var a=Pr.simplify(t,-n),s=a.length-1;for(e.initSideSegments(a[s],a[s-1],Je.LEFT),o=s-2;o>=0;o--)e.addNextSegment(a[o],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},computePointCurve:function(t,e){switch(this.bufParams.getEndCapStyle()){case Tr.CAP_ROUND:e.createCircle(t);break;case Tr.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this.distance=e,0>e&&!this.bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this.bufParams.isSingleSided()){var i=0>e;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(t){return t*this.bufParams.getSimplifyFactor()},getRingCurve:function(t,e,n){if(this.distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Ar.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},computeOffsetCurve:function(t,e,n){var r=this.simplifyTolerance(this.distance);if(e){var i=Pr.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Je.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=Pr.simplify(t,r),l=s.length-1;for(n.initSideSegments(s[0],s[1],Je.LEFT),n.addFirstSegment(),a=2;l>=a;a++)n.addNextSegment(s[a],!0)}n.addLastSegment()},getSegGen:function(t){return new Mr(this.precisionModel,this.bufParams,t)},interfaces_:function(){return[]},getClass:function(){return Ar}}),Ar.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new f(t[n]);return e},e(Lr.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new x,n=this.subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(k(arguments[2],y)&&arguments[0]instanceof f&&arguments[1]instanceof un){var o=arguments[0],a=arguments[1],s=arguments[2],l=a.getEdge().getCoordinates();for(n=0;n<l.length-1;n++){this.seg.p0=l[n],this.seg.p1=l[n+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var u=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(u<o.x||this.seg.isHorizontal()||o.y<this.seg.p0.y||o.y>this.seg.p1.y||Qt.computeOrientation(this.seg.p0,this.seg.p1,o)===Qt.RIGHT)){var c=a.getDepth(Je.LEFT);this.seg.p0.equals(l[n])||(c=a.getDepth(Je.RIGHT));var p=new Rr(this.seg,c);s.add(p)}}}else if(k(arguments[2],y)&&arguments[0]instanceof f&&k(arguments[1],y)){var h=arguments[0],d=arguments[1],g=arguments[2];for(n=d.iterator();n.hasNext();){var m=n.next();m.isForward()&&this.findStabbedSegments(h,m,g)}}},getDepth:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:$o.min(e).leftDepth},interfaces_:function(){return[]},getClass:function(){return Lr}}),e(Rr.prototype,{compareTo:function(t){var e=t;if(this.upwardSeg.minX()>=e.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=e.upwardSeg.minX())return-1;var n=this.upwardSeg.orientationIndex(e.upwardSeg);return 0!==n?n:0!=(n=-1*e.upwardSeg.orientationIndex(this.upwardSeg))?n:this.upwardSeg.compareTo(e.upwardSeg)},compareX:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[o]},getClass:function(){return Rr}}),Lr.DepthSegment=Rr,e(Dr.prototype,{addPoint:function(t){if(this.distance<=0)return null;var e=t.getCoordinates(),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,T.EXTERIOR,T.INTERIOR)},addPolygon:function(t){var e=this.distance,n=Je.LEFT;this.distance<0&&(e=-this.distance,n=Je.RIGHT);var r=t.getExteriorRing(),i=H.removeRepeatedPoints(r.getCoordinates());if(this.distance<0&&this.isErodedCompletely(r,this.distance))return null;if(this.distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,T.EXTERIOR,T.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=H.removeRepeatedPoints(a.getCoordinates());this.distance>0&&this.isErodedCompletely(a,-this.distance)||this.addPolygonRing(s,e,Je.opposite(n),T.INTERIOR,T.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var n=new Qn(t[0],t[1],t[2]),r=n.inCentre();return Qt.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},addLineString:function(t){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var e=H.removeRepeatedPoints(t.getCoordinates()),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,T.EXTERIOR,T.INTERIOR)},addCurve:function(t,e,n){if(null===t||t.length<2)return null;var r=new ze(t,new tn(0,T.BOUNDARY,e,n));this.curveList.add(r)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(t,e,n,r,i){if(0===e&&t.length<It.MINIMUM_VALID_SIZE)return null;var o=r,a=i;t.length>=It.MINIMUM_VALID_SIZE&&Qt.isCCW(t)&&(o=i,a=r,n=Je.opposite(n));var s=this.curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},add:function(t){if(t.isEmpty())return null;if(t instanceof kt)this.addPolygon(t);else if(t instanceof Et)this.addLineString(t);else if(t instanceof St)this.addPoint(t);else if(t instanceof Ot)this.addCollection(t);else if(t instanceof ft)this.addCollection(t);else if(t instanceof Pt)this.addCollection(t);else{if(!(t instanceof ht))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var n=t.getCoordinates();if(n.length<4)return 0>e;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return 0>e&&2*Math.abs(e)>i},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return Dr}}),e(zr.prototype,{isTrivialIntersection:function(t,e,n,r){if(t===n&&1===this.li.getIntersectionNum()){if(zr.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this.li.computeIntersection(i,o,a,s),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this.li,e,0),n.addIntersections(this.li,r,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[Ye]},getClass:function(){return zr}}),zr.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},e(Fr.prototype,{setWorkingPrecisionModel:function(t){this.workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new tn(t.getLabel())).flip(),n.merge(r);var i=Fr.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this.edgeList.add(t),t.setDepthDelta(Fr.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var n=new x,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new Lr(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},createSubgraphs:function(t){for(var e=new x,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Ir;i.create(r),e.add(i)}}return $o.sort(e,$o.reverseOrder()),e},createEmptyResultGeometry:function(){return this.geomFact.createPolygon()},getNoder:function(t){if(null!==this.workingNoder)return this.workingNoder;var e=new Ge,n=new Kt;return n.setPrecisionModel(t),e.setSegmentIntersector(new zr(n)),e},buffer:function(t,e){var n=this.workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this.geomFact=t.getFactory();var r=new Dr(t,e,new Ar(n,this.bufParams)).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this.graph=new pn(new _n),this.graph.addEdges(this.edgeList.getEdges());var i=this.createSubgraphs(this.graph),o=new hn(this.geomFact);this.buildSubgraphs(i,o);var a=o.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this.geomFact.buildGeometry(a)},computeNodedEdges:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new Bn(i.getCoordinates(),new tn(a));this.insertUniqueEdge(s)}}},setNoder:function(t){this.workingNoder=t},interfaces_:function(){return[]},getClass:function(){return Fr}}),Fr.depthDelta=function(t){var e=t.getLocation(0,Je.LEFT),n=t.getLocation(0,Je.RIGHT);return e===T.INTERIOR&&n===T.EXTERIOR?1:e===T.EXTERIOR&&n===T.INTERIOR?-1:0},Fr.convertSegStrings=function(t){for(var e=new Ht,n=new x;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)},e(jr.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this.segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this.segStrings)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];for(t=r.iterator();t.hasNext();){e=t.next().getCoordinates();for(var i=1;i<e.length-1;i++)if(e[i].equals(n))throw new u("found endpt/interior pt intersection at index "+i+" :pt "+n)}}},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this.segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),l=0;l<a.length-1;l++)for(var c=0;c<s.length-1;c++)this.checkInteriorIntersections(i,l,o,c);else if(4===arguments.length){var p=arguments[0],h=arguments[1],f=arguments[2],d=arguments[3];if(p===f&&h===d)return null;var g=p.getCoordinates()[h],m=p.getCoordinates()[h+1],v=f.getCoordinates()[d],y=f.getCoordinates()[d+1];if(this.li.computeIntersection(g,m,v,y),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,g,m)||this.hasInteriorIntersection(this.li,v,y)))throw new u("found non-noded intersection at "+g+"-"+m+" and "+v+"-"+y)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length){var n=arguments[0],r=n.getCoordinates();for(t=0;t<r.length-2;t++)this.checkCollapse(r[t],r[t+1],r[t+2])}},hasInteriorIntersection:function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},checkCollapse:function(t,e,n){if(t.equals(n))throw new u("found non-noded collapse at "+jr.fact.createLineString([t,e,n]))},interfaces_:function(){return[]},getClass:function(){return jr}}),jr.fact=new Ht,e(Br.prototype,{intersectsScaled:function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this.maxx<n||this.minx>r||this.maxy<i||this.miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return h.isTrue(!(a&&s),"Found bad envelope test"),s},initCorners:function(t){this.minx=t.x-.5,this.maxx=t.x+.5,this.miny=t.y-.5,this.maxy=t.y+.5,this.corner[0]=new f(this.maxx,this.maxy),this.corner[1]=new f(this.minx,this.maxy),this.corner[2]=new f(this.minx,this.miny),this.corner[3]=new f(this.maxx,this.miny)},intersects:function(t,e){return 1===this.scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this.p0Scaled),this.copyScaled(e,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(t){return Math.round(t*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(null===this.safeEnv){var t=Br.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new E(this.originalPt.x-t,this.originalPt.x+t,this.originalPt.y-t,this.originalPt.y+t)}return this.safeEnv},intersectsPixelClosure:function(t,e){return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!(this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.hasIntersection()))))},intersectsToleranceSquare:function(t,e){var n=!1,r=!1;return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!(this.li.isProper()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.isProper()||(this.li.hasIntersection()&&(n=!0),this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.isProper()||(this.li.hasIntersection()&&(r=!0),this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.isProper()||n&&r||t.equals(this.pt)||e.equals(this.pt)))))},addSnappedNode:function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return Br}}),Br.SAFE_ENV_EXPANSION_FACTOR=.75,e(Ur.prototype,{select:function(){if(1===arguments.length)arguments[0];else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return Ur}}),e(Vr.prototype,{snap:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new qr(e,n,r);return this.index.query(i,{interfaces_:function(){return[Ce]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return Vr}}),c(qr,Ur),e(qr.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return Ur.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],n=t.getContext();return null!==this.parentEdge&&n===this.parentEdge&&e===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(n,e))},interfaces_:function(){return[]},getClass:function(){return qr}}),Vr.HotPixelSnapAction=qr,e(Gr.prototype,{processIntersections:function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this.li.computeIntersection(i,o,a,s),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var l=0;l<this.li.getIntersectionNum();l++)this.interiorIntersections.add(this.li.getIntersection(l));t.addIntersections(this.li,e,0),n.addIntersections(this.li,r,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[Ye]},getClass:function(){return Gr}}),e(Wr.prototype,{checkCorrectness:function(t){var e=new jr(ze.getNodedSubstrings(t));try{e.checkValid()}catch(t){if(!(t instanceof C))throw t;t.printStackTrace()}},getNodedSubstrings:function(){return ze.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var n=new Gr(e);return this.noder.setSegmentIntersector(n),this.noder.computeNodes(t),n.getInteriorIntersections()},computeVertexSnaps:function(){if(k(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof ze)for(var r=arguments[0],i=r.getCoordinates(),o=0;o<i.length;o++){var a=new Br(i[o],this.scaleFactor,this.li),s=this.pointSnapper.snap(a,r,o);s&&r.addIntersection(i[o],o)}},computeNodes:function(t){this.nodedSegStrings=t,this.noder=new Ge,this.pointSnapper=new Vr(this.noder.getIndex()),this.snapRound(t,this.li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var n=new Br(e.next(),this.scaleFactor,this.li);this.pointSnapper.snap(n)}},interfaces_:function(){return[Ve]},getClass:function(){return Wr}}),e(Hr.prototype,{bufferFixedPrecision:function(t){var e=new Er(new Wr(new Gt(1)),t.getScale()),n=new Fr(this.bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this.resultGeometry=n.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=Hr.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof He))throw t;this.saveException=t}if(null!==this.resultGeometry)return null}throw this.saveException}if(1===arguments.length){var e=arguments[0],n=Hr.precisionScaleFactor(this.argGeom,this.distance,e),r=new Gt(n);this.bufferFixedPrecision(r)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var t=this.argGeom.getFactory().getPrecisionModel();t.getType()===Gt.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this.bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new Fr(this.bufParams);this.resultGeometry=t.buffer(this.argGeom,this.distance)}catch(t){if(!(t instanceof u))throw t;this.saveException=t}},getResultGeometry:function(t){return this.distance=t,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(t){this.bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return Hr}}),Hr.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Hr(t);return n.getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof j&&"number"==typeof arguments[1]){var r=arguments[0],i=arguments[1],o=arguments[2];return(u=new Hr(r)).setQuadrantSegments(o),u.getResultGeometry(i)}if(arguments[2]instanceof Tr&&arguments[0]instanceof j&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],l=arguments[2];return(u=new Hr(a,l)).getResultGeometry(s)}}else if(4===arguments.length){var u,c=arguments[0],p=arguments[1],h=arguments[2],f=arguments[3];return(u=new Hr(c)).setQuadrantSegments(h),u.setEndCapStyle(f),u.getResultGeometry(p)}},Hr.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=O.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},Hr.CAP_ROUND=Tr.CAP_ROUND,Hr.CAP_BUTT=Tr.CAP_FLAT,Hr.CAP_FLAT=Tr.CAP_FLAT,Hr.CAP_SQUARE=Tr.CAP_SQUARE,Hr.MAX_PRECISION_DIGITS=12;var ua=Object.freeze({BufferOp:Hr,BufferParameters:Tr});e(Yr.prototype,{filter:function(t){t instanceof kt&&this.comps.add(t)},interfaces_:function(){return[ct]},getClass:function(){return Yr}}),Yr.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Yr.getPolygons(t,new x)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof kt?n.add(e):e instanceof ht&&e.apply(new Yr(n)),n}},e(Xr.prototype,{isInsideArea:function(){return this.segIndex===Xr.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return Xr}}),Xr.INSIDE_AREA=-1,e(Zr.prototype,{filter:function(t){t instanceof St&&this.pts.add(t)},interfaces_:function(){return[ct]},getClass:function(){return Zr}}),Zr.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof St?$o.singletonList(t):Zr.getPoints(t,new x)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof St?n.add(e):e instanceof ht&&e.apply(new Zr(n)),n}},e(Kr.prototype,{filter:function(t){(t instanceof St||t instanceof Et||t instanceof kt)&&this.locations.add(new Xr(t,0,t.getCoordinate()))},interfaces_:function(){return[ct]},getClass:function(){return Kr}}),Kr.getLocations=function(t){var e=new x;return t.apply(new Kr(e)),e},e($r.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=Yr.getPolygons(this.geom[e]);if(i.size()>0){var o=Kr.getLocations(this.geom[r]);if(this.computeContainmentDistance(o,i,n),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[r]=n[0],this.minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&k(arguments[0],y)&&k(arguments[1],y)){for(var a=arguments[0],s=arguments[1],l=arguments[2],u=0;u<a.size();u++)for(var c=a.get(u),p=0;p<s.size();p++)if(this.computeContainmentDistance(c,s.get(p),l),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Xr&&arguments[1]instanceof kt){var h=arguments[0],f=arguments[1],d=arguments[2],g=h.getCoordinate();if(T.EXTERIOR!==this.ptLocator.locate(g,f))return this.minDistance=0,d[0]=h,d[1]=new Xr(f,g),null}},computeMinDistanceLinesPoints:function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=Pn.getLines(this.geom[0]),n=Pn.getLines(this.geom[1]),r=Zr.getPoints(this.geom[0]),i=Zr.getPoints(this.geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(t,e){return null===t[0]?null:void(e?(this.minDistanceLocation[0]=t[1],this.minDistanceLocation[1]=t[0]):(this.minDistanceLocation[0]=t[0],this.minDistanceLocation[1]=t[1]))},nearestPoints:function(){return this.computeMinDistance(),[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Et&&arguments[1]instanceof St){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this.minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){if((f=Qt.distancePointLine(i,r[o],r[o+1]))<this.minDistance){this.minDistance=f;var a=new te(r[o],r[o+1]),s=a.closestPoint(i);n[0]=new Xr(t,o,s),n[1]=new Xr(e,0,i)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Et&&arguments[1]instanceof Et){var l=arguments[0],u=arguments[1],c=arguments[2];if(l.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this.minDistance)return null;r=l.getCoordinates();var p=u.getCoordinates();for(o=0;o<r.length-1;o++)for(var h=0;h<p.length-1;h++){var f;if((f=Qt.distanceLineLine(r[o],r[o+1],p[h],p[h+1]))<this.minDistance){this.minDistance=f;var d=new te(r[o],r[o+1]),g=new te(p[h],p[h+1]),m=d.closestPoints(g);c[0]=new Xr(l,o,m[0]),c[1]=new Xr(u,h,m[1])}if(this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o),s=i.getCoordinate().distance(a.getCoordinate());if(s<this.minDistance&&(this.minDistance=s,n[0]=new Xr(i,0,i.getCoordinate()),n[1]=new Xr(a,0,a.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new r("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return $r}}),$r.distance=function(t,e){return new $r(t,e).distance()},$r.isWithinDistance=function(t,e,n){return new $r(t,e,n).distance()<=n},$r.nearestPoints=function(t,e){return new $r(t,e).nearestPoints()};var ca=Object.freeze({DistanceOp:$r});e(Jr.prototype,{getCoordinates:function(){if(null===this.coordinates){for(var t=0,e=0,n=new w,r=this.directedEdges.iterator();r.hasNext();){var i=r.next();i.getEdgeDirection()?t++:e++,n.add(i.getEdge().getLine().getCoordinates(),!1,i.getEdgeDirection())}this.coordinates=n.toCoordinateArray(),e>t&&H.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(t){this.directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return Jr}}),e(Qr.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this.data=t},getData:function(){return this.data},setMarked:function(t){this._isMarked=t},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(t){this.data=t},interfaces_:function(){return[]},getClass:function(){return Qr}}),Qr.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var n=t.next();if(n.isVisited()===e)return n}return null},Qr.setVisited=function(t,e){for(;t.hasNext();)t.next().setVisited(e)},Qr.setMarked=function(t,e){for(;t.hasNext();)t.next().setMarked(e)},c(ti,Qr),e(ti.prototype,{isRemoved:function(){return null===this.parentEdge},compareDirection:function(t){return this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:Qt.computeOrientation(t.p0,t.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(t){var e=this.getClass().getName(),n=e.lastIndexOf("."),r=e.substring(n+1);t.print("  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(t){var e=t;return this.compareDirection(e)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(t){this.parentEdge=t},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(t){this.sym=t},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[o]},getClass:function(){return ti}}),ti.toEdges=function(t){for(var e=new x,n=t.iterator();n.hasNext();)e.add(n.next().parentEdge);return e},c(ei,ti),e(ei.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(h.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return ei}}),c(ni,Qr),e(ni.prototype,{isRemoved:function(){return null===this.dirEdge},setDirectedEdges:function(t,e){this.dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this.dirEdge[t]}if(arguments[0]instanceof ii){var e=arguments[0];return this.dirEdge[0].getFromNode()===e?this.dirEdge[0]:this.dirEdge[1].getFromNode()===e?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(t){return this.dirEdge[0].getFromNode()===t?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===t?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return ni}}),e(ri.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||($o.sort(this.outEdges),this.sorted=!0)},remove:function(t){this.outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof ni){var t=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++)if(this.outEdges.get(e).getEdge()===t)return e;return-1}if(arguments[0]instanceof ti){var n=arguments[0];for(this.sortEdges(),e=0;e<this.outEdges.size();e++)if(this.outEdges.get(e)===n)return e;return-1}if(Number.isInteger(arguments[0])){var r=arguments[0],i=r%this.outEdges.size();return 0>i&&(i+=this.outEdges.size()),i}},add:function(t){this.outEdges.add(t),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return ri}}),c(ii,Qr),e(ii.prototype,{isRemoved:function(){return null===this.pt},addOutEdge:function(t){this.deStar.add(t)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){if(0===arguments.length)this.pt=null;else if(1===arguments.length){var t=arguments[0];this.deStar.remove(t)}},getIndex:function(t){return this.deStar.getIndex(t)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return ii}}),ii.getEdgesBetween=function(t,e){var n=new J(ti.toEdges(t.getOutEdges().getEdges())),r=ti.toEdges(e.getOutEdges().getEdges());return n.retainAll(r),n},c(oi,ni),e(oi.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return oi}}),e(ai.prototype,{find:function(t){return this.nodeMap.get(t)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(t){return this.nodeMap.remove(t)},values:function(){return this.nodeMap.values()},add:function(t){return this.nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return ai}}),e(si.prototype,{findNodesOfDegree:function(t){for(var e=new x,n=this.nodeIterator();n.hasNext();){var r=n.next();r.getDegree()===t&&e.add(r)}return e},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof ni){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this.edges.remove(t),t.remove()}else if(arguments[0]instanceof ti){var e=arguments[0];null!==(o=e.getSym())&&o.setSym(null),e.getFromNode().remove(e),e.remove(),this.dirEdges.remove(e)}else if(arguments[0]instanceof ii){for(var n=arguments[0],r=n.getOutEdges().getEdges(),i=r.iterator();i.hasNext();){var o,a=i.next();null!==(o=a.getSym())&&this.remove(o),this.dirEdges.remove(a);var s=a.getEdge();null!==s&&this.edges.remove(s)}this.nodeMap.remove(n.getCoordinate()),n.remove()}},findNode:function(t){return this.nodeMap.find(t)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof ni){var t=arguments[0];return this.edges.contains(t)}if(arguments[0]instanceof ti){var e=arguments[0];return this.dirEdges.contains(e)}},add:function(){if(arguments[0]instanceof ii){var t=arguments[0];this.nodeMap.add(t)}else if(arguments[0]instanceof ni){var e=arguments[0];this.edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))}else if(arguments[0]instanceof ti){var n=arguments[0];this.dirEdges.add(n)}},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return si}}),c(li,si),e(li.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=H.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var n=e[0],r=e[e.length-1],i=this.getNode(n),o=this.getNode(r),a=new ei(i,o,e[1],!0),s=new ei(o,i,e[e.length-2],!1),l=new oi(t);l.setDirectedEdges(a,s),this.add(l)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new ii(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return li}}),e(ui.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(h.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var n=e.next();n.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(null!==this.mergedLineStrings)return null;Qr.setMarked(this.graph.nodeIterator(),!1),Qr.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new x,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new x;for(var t=this.edgeStrings.iterator();t.hasNext();){var e=t.next();this.mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new Jr(this.factory),n=t;do{e.add(n),n.getEdge().setMarked(!0),n=n.getNext()}while(null!==n&&n!==t);return e},add:function(){if(arguments[0]instanceof j){var t=arguments[0];t.apply({interfaces_:function(){return[F]},filter:function(t){t instanceof Et&&this.add(t)}})}else if(k(arguments[0],m)){var e=arguments[0];this.mergedLineStrings=null;for(var n=e.iterator();n.hasNext();){var r=n.next();this.add(r)}}else if(arguments[0]instanceof Et){var i=arguments[0];null===this.factory&&(this.factory=i.getFactory()),this.graph.addEdge(i)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return ui}});var pa=Object.freeze({LineMerger:ui}),ha=Object.freeze({OverlayOp:Wn});c(ci,ti),e(ci.prototype,{getNext:function(){return this.next},isInRing:function(){return null!==this.edgeRing},setRing:function(t){this.edgeRing=t},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setNext:function(t){this.next=t},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return ci}}),c(pi,ni),e(pi.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return pi}}),e(hi.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this.ringPts){for(var t=new w,e=this.deList.iterator();e.hasNext();){var n=e.next(),r=n.getEdge();hi.addEdge(r.getLine().getCoordinates(),n.getEdgeDirection(),t)}this.ringPts=t.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this.ringPts.length<=3)&&(this.getRing(),this.ring.isValid())},build:function(t){var e=t;do{this.add(e),e.setRing(this),e=e.getNext(),h.isTrue(null!==e,"found null DE in ring"),h.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(null!==this.holes){t=new Array(this.holes.size()).fill(null);for(var e=0;e<this.holes.size();e++)t[e]=this.holes.get(e)}return this.factory.createPolygon(this.ring,t)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof It){var t=arguments[0];null===this.holes&&(this.holes=new x),this.holes.add(t)}else if(arguments[0]instanceof hi){var e=arguments[0];e.setShell(this);var n=e.getRing();null===this.holes&&(this.holes=new x),this.holes.add(n)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t).getSym().getRing();if(e.isOuterHole())return e}return null},computeHole:function(){var t=this.getRing();this._isHole=Qt.isCCW(t.getCoordinates())},hasShell:function(){return null!==this.shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return Xt.toLineString(new Dt(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(t){this.deList.add(t)},getRing:function(){if(null!==this.ring)return this.ring;this.getCoordinates(),this.ringPts.length<3&&R.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(t){if(!(t instanceof C))throw t;R.out.println(this.ringPts)}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t).getSym().getRing().getShell();if(null!==e&&e.isIncludedSet())return this.setIncluded(!e.isIncluded()),null}},setShell:function(t){this.shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return hi}}),hi.findDirEdgesInRing=function(t){var e=t,n=new x;do{n.add(e),e=e.getNext(),h.isTrue(null!==e,"found null DE in ring"),h.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t);return n},hi.addEdge=function(t,e,n){if(e)for(var r=0;r<t.length;r++)n.add(t[r],!1);else for(r=t.length-1;r>=0;r--)n.add(t[r],!1)},hi.findEdgeRingContaining=function(t,e){for(var n=t.getRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var l=s.next(),u=l.getRing(),c=u.getEnvelopeInternal();if(!c.equals(r)&&c.contains(r)){i=H.ptNotInList(n.getCoordinates(),u.getCoordinates());var p=!1;Qt.isPointInRing(i,u.getCoordinates())&&(p=!0),p&&(null===o||a.contains(c))&&(a=(o=l).getRing().getEnvelopeInternal())}}return o},e(fi.prototype,{compare:function(t,e){var n=e;return t.getRing().getEnvelope().compareTo(n.getRing().getEnvelope())},interfaces_:function(){return[s]},getClass:function(){return fi}}),hi.EnvelopeComparator=fi,c(di,si),e(di.prototype,{findEdgeRing:function(t){var e=new hi(this.factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;){var t=null;if(null===t)return null;this.computeDepthParity(t)}else 1===arguments.length&&arguments[0]},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();di.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=H.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var n=e[0],r=e[e.length-1],i=this.getNode(n),o=this.getNode(r),a=new ci(i,o,e[1],!0),s=new ci(o,i,e[e.length-2],!1),l=new pi(t);l.setDirectedEdges(a,s),this.add(l)},deleteCutEdges:function(){this.computeNextCWEdges(),di.findLabeledEdgeRings(this.dirEdges);for(var t=new x,e=this.dirEdges.iterator();e.hasNext();){var n=e.next();if(!n.isMarked()){var r=n.getSym();if(n.getLabel()===r.getLabel()){n.setMarked(!0),r.setMarked(!0);var i=n.getEdge();t.add(i.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),di.label(this.dirEdges,-1);var t=di.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new x,n=this.dirEdges.iterator();n.hasNext();){var r=n.next();if(!r.isMarked()&&!r.isInRing()){var i=this.findEdgeRing(r);e.add(i)}}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new ii(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel(),i=di.findIntersectionNodes(n,r);if(null!==i)for(var o=i.iterator();o.hasNext();){var a=o.next();di.computeNextCCWEdges(a,r)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new J,n=new ie,r=t.iterator();r.hasNext();)n.push(r.next());for(;!n.isEmpty();){var i=n.pop();for(di.deleteAllEdges(i),r=i.getOutEdges().getEdges().iterator();r.hasNext();){var o=r.next();o.setMarked(!0);var a=o.getSym();null!==a&&a.setMarked(!0);var s=o.getEdge();e.add(s.getLine());var l=o.getToNode();1===di.getDegreeNonDeleted(l)&&n.push(l)}}return e},interfaces_:function(){return[]},getClass:function(){return di}}),di.findLabeledEdgeRings=function(t){for(var e=new x,n=1,r=t.iterator();r.hasNext();){var i=r.next();if(!(i.isMarked()||i.getLabel()>=0)){e.add(i);var o=hi.findDirEdgesInRing(i);di.label(o,n),n++}}return e},di.getDegreeNonDeleted=function(t){for(var e=0,n=t.getOutEdges().getEdges().iterator();n.hasNext();)n.next().isMarked()||e++;return e},di.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges().iterator();e.hasNext();){var n=e.next();n.setMarked(!0);var r=n.getSym();null!==r&&r.setMarked(!0)}},di.label=function(t,e){for(var n=t.iterator();n.hasNext();)n.next().setLabel(e)},di.computeNextCWEdges=function(t){for(var e=null,n=null,r=t.getOutEdges().getEdges().iterator();r.hasNext();){var i=r.next();i.isMarked()||(null===e&&(e=i),null!==n&&n.getSym().setNext(i),n=i)}null!==n&&n.getSym().setNext(e)},di.computeNextCCWEdges=function(t,e){for(var n=null,r=null,i=t.getOutEdges().getEdges(),o=i.size()-1;o>=0;o--){var a=i.get(o),s=a.getSym(),l=null;a.getLabel()===e&&(l=a);var u=null;s.getLabel()===e&&(u=s),null===l&&null===u||(null!==u&&(r=u),null!==l&&(null!==r&&(r.setNext(l),r=null),null===n&&(n=l)))}null!==r&&(h.isTrue(null!==n),r.setNext(n))},di.getDegree=function(t,e){for(var n=0,r=t.getOutEdges().getEdges().iterator();r.hasNext();)r.next().getLabel()===e&&n++;return n},di.findIntersectionNodes=function(t,e){var n=t,r=null;do{var i=n.getFromNode();di.getDegree(i,e)>1&&(null===r&&(r=new x),r.add(i)),n=n.getNext(),h.isTrue(null!==n,"found null DE in ring"),h.isTrue(n===t||!n.isInRing(),"found DE already in ring")}while(n!==t);return r},e(gi.prototype,{getGeometry:function(){return null===this.geomFactory&&(this.geomFactory=new Ht),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(Ht.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isValid()?e.add(i):n.add(i.getLineString())}},polygonize:function(){if(null!==this.polyList)return null;if(this.polyList=new x,null===this.graph)return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var t=this.graph.getEdgeRings(),e=new x;this.invalidRingLines=new x,this.isCheckingRingsValid?this.findValidRings(t,e,this.invalidRingLines):e=t,this.findShellsAndHoles(e),gi.assignHolesToShells(this.holeList,this.shellList),$o.sort(this.shellList,new hi.EnvelopeComparator);var n=!0;this.extractOnlyPolygonal&&(gi.findDisjointShells(this.shellList),n=!1),this.polyList=gi.extractPolygons(this.shellList,n)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(k(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof Et){var r=arguments[0];this.geomFactory=r.getFactory(),null===this.graph&&(this.graph=new di(this.geomFactory)),this.graph.addEdge(r)}else if(arguments[0]instanceof j){var i=arguments[0];i.apply(this.lineStringAdder)}},setCheckRingsValid:function(t){this.isCheckingRingsValid=t},findShellsAndHoles:function(t){this.holeList=new x,this.shellList=new x;for(var e=t.iterator();e.hasNext();){var n=e.next();n.computeHole(),n.isHole()?this.holeList.add(n):this.shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return gi}}),gi.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getOuterHole();null===r||r.isProcessed()||(n.setIncluded(!0),r.setProcessed(!0))}},gi.extractPolygons=function(t,e){for(var n=new x,r=t.iterator();r.hasNext();){var i=r.next();(e||i.isIncluded())&&n.add(i.getPolygon())}return n},gi.assignHolesToShells=function(t,e){for(var n=t.iterator();n.hasNext();){var r=n.next();gi.assignHoleToShell(r,e)}},gi.assignHoleToShell=function(t,e){var n=hi.findEdgeRingContaining(t,e);null!==n&&n.addHole(t)},gi.findDisjointShells=function(t){gi.findOuterShells(t);var e=null;do{e=!1;for(var n=t.iterator();n.hasNext();){var r=n.next();r.isIncludedSet()||(r.updateIncluded(),r.isIncludedSet()||(e=!0))}}while(e)},e(mi.prototype,{filter:function(t){t instanceof Et&&this.p.add(t)},interfaces_:function(){return[F]},getClass:function(){return mi}}),gi.LineStringAdder=mi;var fa=Object.freeze({Polygonizer:gi});e(vi.prototype,{createEdgeEndForNext:function(t,e,n,r){var i=n.segmentIndex+1;if(i>=t.getNumPoints()&&null===r)return null;var o=t.getCoordinate(i);null!==r&&r.segmentIndex===n.segmentIndex&&(o=r.coord);var a=new ln(t,n.coord,o,new tn(t.getLabel()));e.add(a)},createEdgeEndForPrev:function(t,e,n,r){var i=n.segmentIndex;if(0===n.dist){if(0===i)return null;i--}var o=t.getCoordinate(i);null!==r&&r.segmentIndex>=i&&(o=r.coord);var a=new tn(t.getLabel());a.flip();var s=new ln(t,n.coord,o,a);e.add(s)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new x,n=t;n.hasNext();){var r=n.next();this.computeEdgeEnds(r,e)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1],a=i.getEdgeIntersectionList();a.addEndpoints();var s=a.iterator(),l=null,u=null;if(!s.hasNext())return null;var c=s.next();do{l=u,u=c,c=null,s.hasNext()&&(c=s.next()),null!==u&&(this.createEdgeEndForPrev(i,o,u,l),this.createEdgeEndForNext(i,o,u,c))}while(null!==u)}},interfaces_:function(){return[]},getClass:function(){return vi}}),c(yi,ln),e(yi.prototype,{insert:function(t){this.edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--\x3e Label: "+this.label);for(var e=this.iterator();e.hasNext();)e.next().print(t),t.println()},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(t,e){for(var n=0,r=!1,i=this.iterator();i.hasNext();)(o=i.next().getLabel().getLocation(t))===T.BOUNDARY&&n++,o===T.INTERIOR&&(r=!0);var o=T.NONE;r&&(o=T.INTERIOR),n>0&&(o=Un.determineBoundary(e,n)),this.label.setLocation(t,o)},computeLabelSide:function(t,e){for(var n=this.iterator();n.hasNext();){var r=n.next();if(r.getLabel().isArea()){var i=r.getLabel().getLocation(t,e);if(i===T.INTERIOR)return this.label.setLocation(t,e,T.INTERIOR),null;i===T.EXTERIOR&&this.label.setLocation(t,e,T.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(t){this.computeLabelSide(t,Je.LEFT),this.computeLabelSide(t,Je.RIGHT)},updateIM:function(t){Bn.updateIM(this.label,t)},computeLabel:function(t){for(var e=!1,n=this.iterator();n.hasNext();)n.next().getLabel().isArea()&&(e=!0);this.label=e?new tn(T.NONE,T.NONE,T.NONE):new tn(T.NONE);for(var r=0;2>r;r++)this.computeLabelOn(r,t),e&&this.computeLabelSides(r)},interfaces_:function(){return[]},getClass:function(){return yi}}),c(_i,vn),e(_i.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();)e.next().updateIM(t)},insert:function(t){var e=this.edgeMap.get(t);null===e?(e=new yi(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return _i}}),c(bi,an),e(bi.prototype,{updateIMFromEdges:function(t){this.edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return bi}}),c(xi,cn),e(xi.prototype,{createNode:function(t){return new bi(t,new _i)},interfaces_:function(){return[]},getClass:function(){return xi}}),e(wi.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},computeProperIntersectionIM:function(t,e){var n=this.arg[0].getGeometry().getDimension(),r=this.arg[1].getGeometry().getDimension(),i=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===n&&2===r?i&&e.setAtLeast("212101212"):2===n&&1===r?(i&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===n&&2===r?(i&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===n&&1===r&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var n=this.arg[t].getEdgeIterator();n.hasNext();){var r=n.next();r.isIsolated()&&(this.labelIsolatedEdge(r,e,this.arg[e].getGeometry()),this.isolatedEdges.add(r))}},labelIsolatedEdge:function(t,e,n){if(n.getDimension()>0){var r=this.ptLocator.locate(t.getCoordinate(),n);t.getLabel().setAllLocations(e,r)}else t.getLabel().setAllLocations(e,T.EXTERIOR)},computeIM:function(){var t=new ee;if(t.set(T.EXTERIOR,T.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var e=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var n=new vi,r=n.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(r);var i=n.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(i),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this.nodes.iterator();t.hasNext();)t.next().getEdges().computeLabelling(this.arg)},copyNodesAndLabels:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next();this.nodes.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next(),a=this.nodes.find(o.coord);a.getLabel().isNull(t)&&(r===T.BOUNDARY?a.setLabelBoundary(t):a.setLabel(t,T.INTERIOR))}},labelIsolatedNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setAllLocations(e,n)},computeIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.getEdgeIntersectionList().iterator();i.hasNext();){var o=i.next(),a=this.nodes.addNode(o.coord);r===T.BOUNDARY?a.setLabelBoundary(t):a.getLabel().isNull(t)&&a.setLabel(t,T.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();h.isTrue(n.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this.isolatedEdges.iterator();e.hasNext();)e.next().updateIM(t);for(var n=this.nodes.iterator();n.hasNext();){var r=n.next();r.updateIM(t),r.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this.arg[0].getGeometry();e.isEmpty()||(t.set(T.INTERIOR,T.EXTERIOR,e.getDimension()),t.set(T.BOUNDARY,T.EXTERIOR,e.getBoundaryDimension()));var n=this.arg[1].getGeometry();n.isEmpty()||(t.set(T.EXTERIOR,T.INTERIOR,n.getDimension()),t.set(T.EXTERIOR,T.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return wi}}),e(Ei.prototype,{isContainedInBoundary:function(t){if(t instanceof kt)return!1;if(t instanceof St)return this.isPointContainedInBoundary(t);if(t instanceof Et)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this.rectEnv.getMinX()||t.x===this.rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this.rectEnv.getMinY()||t.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),n=new f,r=new f,i=0;i<e.size()-1;i++)if(e.getCoordinate(i,n),e.getCoordinate(i+1,r),!this.isLineSegmentContainedInBoundary(n,r))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof St){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof f){var e=arguments[0];return e.x===this.rectEnv.getMinX()||e.x===this.rectEnv.getMaxX()||e.y===this.rectEnv.getMinY()||e.y===this.rectEnv.getMaxY()}},contains:function(t){return!!this.rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return Ei}}),Ei.contains=function(t,e){return new Ei(t).contains(e)},e(Ci.prototype,{intersects:function(t,e){var n=new E(t,e);if(!this.rectEnv.intersects(n))return!1;if(this.rectEnv.intersects(t))return!0;if(this.rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var r=t;t=e,e=r}var i=!1;return e.y>t.y&&(i=!0),i?this.li.computeIntersection(t,e,this.diagDown0,this.diagDown1):this.li.computeIntersection(t,e,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return Ci}}),e(Si.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var n=t.getGeometryN(e);if(n instanceof ht)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return Si}}),e(Ti.prototype,{intersects:function(t){if(!this.rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new ki(this.rectEnv);if(e.applyTo(t),e.intersects())return!0;var n=new Oi(this.rectangle);if(n.applyTo(t),n.containsPoint())return!0;var r=new Ii(this.rectangle);return r.applyTo(t),!!r.intersects()},interfaces_:function(){return[]},getClass:function(){return Ti}}),Ti.intersects=function(t,e){return new Ti(t).intersects(e)},c(ki,Si),e(ki.prototype,{isDone:function(){return!0===this._intersects},visit:function(t){var e=t.getEnvelopeInternal();return this.rectEnv.intersects(e)?this.rectEnv.contains(e)?(this._intersects=!0,null):e.getMinX()>=this.rectEnv.getMinX()&&e.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):e.getMinY()>=this.rectEnv.getMinY()&&e.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return ki}}),c(Oi,Si),e(Oi.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(t){if(!(t instanceof kt))return null;var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;for(var n=new f,r=0;4>r;r++)if(this.rectSeq.getCoordinate(r,n),e.contains(n)&&mn.containsPointInPolygon(n,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return Oi}}),c(Ii,Si),e(Ii.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return!0===this.hasIntersection},visit:function(t){var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;var n=Pn.getLines(t);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();if(this.checkIntersectionWithSegments(n),this.hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),n=1;n<e.size();n++)if(e.getCoordinate(n-1,this.p0),e.getCoordinate(n,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return Ii}}),c(Pi,Vn),e(Pi.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return Pi}}),Pi.covers=function(t,e){return!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||Pi.relate(t,e).isCovers())},Pi.intersects=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&(t.isRectangle()?Ti.intersects(t,e):e.isRectangle()?Ti.intersects(e,t):Pi.relate(t,e).isIntersects())},Pi.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Pi.relate(t,e).isTouches(t.getDimension(),e.getDimension())},Pi.within=function(t,e){return e.contains(t)},Pi.coveredBy=function(t,e){return Pi.covers(e,t)},Pi.relate=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Pi(t,e).getIntersectionMatrix()}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof j&&arguments[1]instanceof j){var n=arguments[0],r=arguments[1],i=arguments[2];return Pi.relateWithCheck(n,r).matches(i)}if(k(arguments[2],U)&&arguments[0]instanceof j&&arguments[1]instanceof j){var o=arguments[0],a=arguments[1],s=arguments[2];return new Pi(o,a,s).getIntersectionMatrix()}}},Pi.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Pi.relate(t,e).isOverlaps(t.getDimension(),e.getDimension())},Pi.disjoint=function(t,e){return!t.intersects(e)},Pi.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pi.relate(t,e)},Pi.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Pi.relate(t,e).isCrosses(t.getDimension(),e.getDimension())},Pi.contains=function(t,e){return!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?Ei.contains(t,e):Pi.relate(t,e).isContains())};var da=Object.freeze({RelateOp:Pi});e(Ni.prototype,{extractElements:function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this.skipEmpty&&r.isEmpty()||e.add(r)}},combine:function(){for(var t=new x,e=this.inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return Ni}}),Ni.combine=function(){if(1===arguments.length){var t=arguments[0];return new Ni(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Ni(Ni.createList(e,n)).combine()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return new Ni(Ni.createList(r,i,o)).combine()}},Ni.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Ni.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return(n=new x).add(t),n.add(e),n}if(3===arguments.length){var n,r=arguments[0],i=arguments[1],o=arguments[2];return(n=new x).add(r),n.add(i),n.add(o),n}},e(Mi.prototype,{union:function(){for(var t=new ve,e=new st,n=0;n<this.pointGeom.getNumGeometries();n++){var r=this.pointGeom.getGeometryN(n).getCoordinate();t.locate(r,this.otherGeom)===T.EXTERIOR&&e.add(r)}if(0===e.size())return this.otherGeom;var i,o=H.toCoordinateArray(e);return i=1===o.length?this.geomFact.createPoint(o[0]):this.geomFact.createMultiPointFromCoords(o),Ni.combine(i,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return Mi}}),Mi.union=function(t,e){return new Mi(t,e).union()},e(Ai.prototype,{filter:function(t){-1!==this.sortIndex&&t.getSortIndex()!==this.sortIndex||this.comps.add(t)},interfaces_:function(){return[ct]},getClass:function(){return Ai}}),Ai.extract=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return Ai.extract(t,e,new x)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];return n.getSortIndex()===r?i.add(n):n instanceof ht&&n.apply(new Ai(r,i)),i}},e(Li.prototype,{reduceToGeometries:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var r=n.next(),i=null;k(r,y)?i=this.unionTree(r):r instanceof j&&(i=r),e.add(i)}return e},extractByEnvelope:function(t,e,n){for(var r=new x,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this.geomFactory.buildGeometry(r)},unionOptimized:function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return Ni.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var t=new Pe(Li.STRTREE_NODE_CAPACITY),e=this.inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this.inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(1>=r-n){var i=Li.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Li.getGeometry(e,n),Li.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),a=(i=this.binaryUnion(e,n,o),this.binaryUnion(e,o,r));return this.unionSafe(i,a)}},repeatedUnion:function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return Li.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},unionUsingEnvelopeIntersection:function(t,e,n){var r=new x,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),a=this.unionActual(i,o);return r.add(a),Ni.combine(r)},bufferUnion:function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},interfaces_:function(){return[]},getClass:function(){return Li}}),Li.restrictToPolygons=function(t){if(k(t,Tt))return t;var e=Yr.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Ht.toPolygonArray(e))},Li.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Li.union=function(t){return new Li(t).union()},Li.STRTREE_NODE_CAPACITY=4,e(Ri.prototype,{unionNoOpt:function(t){var e=this.geomFact.createPoint();return Yn.overlayOp(t,e,Wn.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){if(k(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.extract(n)}else if(arguments[0]instanceof j){var r=arguments[0];null===this.geomFact&&(this.geomFact=r.getFactory()),Ai.extract(r,j.SORTINDEX_POLYGON,this.polygons),Ai.extract(r,j.SORTINDEX_LINESTRING,this.lines),Ai.extract(r,j.SORTINDEX_POINT,this.points)}},union:function(){if(null===this.geomFact)return null;var t=null;if(this.points.size()>0){var e=this.geomFact.buildGeometry(this.points);t=this.unionNoOpt(e)}var n=null;if(this.lines.size()>0){var r=this.geomFact.buildGeometry(this.lines);n=this.unionNoOpt(r)}var i=null;this.polygons.size()>0&&(i=Li.union(this.polygons));var o=this.unionWithNull(n,i),a=null;return a=null===t?o:null===o?t:Mi.union(t,o),null===a?this.geomFact.createGeometryCollection():a},interfaces_:function(){return[]},getClass:function(){return Ri}}),Ri.union=function(){if(1===arguments.length){if(k(arguments[0],m)){var t=arguments[0];return new Ri(t).union()}if(arguments[0]instanceof j){var e=arguments[0];return new Ri(e).union()}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return new Ri(n,r).union()}};var ga=Object.freeze({UnaryUnionOp:Ri});e(Di.prototype,{visitInteriorRing:function(t,e){var n=t.getCoordinates(),r=n[0],i=Di.findDifferentPoint(n,r),o=e.findEdgeInSameDirection(r,i),a=e.findEdgeEnd(o),s=null;a.getLabel().getLocation(0,Je.RIGHT)===T.INTERIOR?s=a:a.getSym().getLabel().getLocation(0,Je.RIGHT)===T.INTERIOR&&(s=a.getSym()),h.isTrue(null!==s,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(s)},visitShellInteriors:function(t,e){if(t instanceof kt){var n=t;this.visitInteriorRing(n.getExteriorRing(),e)}if(t instanceof Pt)for(var r=t,i=0;i<r.getNumGeometries();i++)n=r.getGeometryN(i),this.visitInteriorRing(n.getExteriorRing(),e)},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var n=e.next();n.getLabel().getLocation(0,Je.RIGHT)===T.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,n=t;do{h.isTrue(null!==n,"found null Directed Edge"),n.setVisited(!0),n=n.getNext()}while(n!==e)},buildEdgeRings:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&null===r.getEdgeRing()){var i=new rn(r,this.geometryFactory);i.linkDirectedEdgesForMinimalEdgeRings();var o=i.buildMinimalRings();e.addAll(o)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var n=t.get(e);if(!n.isHole()){var r=n.getEdges(),i=r.get(0);if(i.getLabel().getLocation(0,Je.RIGHT)===T.INTERIOR)for(var o=0;o<r.size();o++)if(!(i=r.get(o)).isVisited())return this.disconnectedRingcoord=i.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new x;this.geomGraph.computeSplitEdges(t);var e=new pn(new _n);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var n=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return Di}}),Di.findDifferentPoint=function(t,e){for(var n=0;n<t.length;n++)if(!t[n].equals(e))return t[n];return null},e(zi.prototype,{hasChildren:function(){for(var t=0;2>t;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;2>e;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;2>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){return null===t||this.isSearchMatch(t)?(e.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(t,e),void(null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(t,e))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,r=0;2>r;r++)if(null!==this.subnode[r]&&(n=this.subnode[r].remove(t,e))){this.subnode[r].isPrunable()&&(this.subnode[r]=null);break}return n||(n=this.items.remove(e))},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;2>e;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},nodeSize:function(){for(var t=0,e=0;2>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].nodeSize());return t+1},add:function(t){this.items.add(t)},interfaces_:function(){return[]},getClass:function(){return zi}}),zi.getSubnodeIndex=function(t,e){var n=-1;return t.min>=e&&(n=1),t.max<=e&&(n=0),n},e(Fi.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!(this.min>n||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof Fi){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return n>=this.min&&r<=this.max}},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return Fi}}),e(ji.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(t){for(this.level=ji.computeLevel(t),this.interval=new Fi,this.computeInterval(this.level,t);!this.interval.contains(t);)this.level+=1,this.computeInterval(this.level,t)},computeInterval:function(t,e){var n=pr.powerOf2(t);this.pt=Math.floor(e.getMin()/n)*n,this.interval.init(this.pt,this.pt+n)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return ji}}),ji.computeLevel=function(t){var e=t.getWidth();return pr.exponent(e)+1},c(Bi,zi),e(Bi.prototype,{getInterval:function(){return this.interval},find:function(t){var e=zi.getSubnodeIndex(t,this.centre);return-1===e?this:null!==this.subnode[e]?this.subnode[e].find(t):this},insert:function(t){h.isTrue(null===this.interval||this.interval.contains(t.interval));var e=zi.getSubnodeIndex(t.interval,this.centre);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insert(t),this.subnode[e]=n}},isSearchMatch:function(t){return t.overlaps(this.interval)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getNode:function(t){var e=zi.getSubnodeIndex(t,this.centre);return-1!==e?this.getSubnode(e).getNode(t):this},createSubnode:function(t){var e=0,n=0;switch(t){case 0:e=this.interval.getMin(),n=this.centre;break;case 1:e=this.centre,n=this.interval.getMax()}return new Bi(new Fi(e,n),this.level-1)},interfaces_:function(){return[]},getClass:function(){return Bi}}),Bi.createNode=function(t){var e=new ji(t);return new Bi(e.getInterval(),e.getLevel())},Bi.createExpanded=function(t,e){var n=new Fi(e);null!==t&&n.expandToInclude(t.interval);var r=Bi.createNode(n);return null!==t&&r.insert(t),r},c(Ui,zi),e(Ui.prototype,{insert:function(t,e){var n=zi.getSubnodeIndex(t,Ui.origin);if(-1===n)return this.add(e),null;var r=this.subnode[n];if(null===r||!r.getInterval().contains(t)){var i=Bi.createExpanded(r,t);this.subnode[n]=i}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){h.isTrue(t.getInterval().contains(e)),(dr.isZeroWidth(e.getMin(),e.getMax())?t.find(e):t.getNode(e)).add(n)},interfaces_:function(){return[]},getClass:function(){return Ui}}),Ui.origin=0,e(Vi.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=Vi.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new Fi(t,t))}if(arguments[0]instanceof Fi){var e=arguments[0],n=new x;return this.query(e,n),n}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.root.addAllItemsFromOverlapping(r,i)}},iterator:function(){var t=new x;return this.root.addAllItems(t),t.iterator()},remove:function(t,e){var n=Vi.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e)},depth:function(){return null!==this.root?this.root.depth():0},nodeSize:function(){return null!==this.root?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return Vi}}),Vi.ensureExtent=function(t,e){var n=t.getMin(),r=t.getMax();return n!==r?t:(n===r&&(r=(n-=e/2)+e/2),new Fi(n,r))},e(qi.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return qi}}),e(Gi.prototype,{testLineSegment:function(t,e){var n,r,i,o,a=e.p0,s=e.p1;n=a.x-t.x,r=a.y-t.y,i=s.x-t.x,o=s.y-t.y,(r>0&&0>=o||o>0&&0>=r)&&$t.signOfDet2x2(n,r,i,o)/(o-r)>0&&this.crossings++},buildIndex:function(){this.tree=new Vi;for(var t=H.removeRepeatedPoints(this.ring.getCoordinates()),e=Ue.getChains(t),n=0;n<e.size();n++){var r=e.get(n),i=r.getEnvelope();this.interval.min=i.getMinY(),this.interval.max=i.getMaxY(),this.tree.insert(this.interval,r)}},testMonotoneChain:function(t,e,n){n.select(t,e)},isInside:function(t){this.crossings=0;var e=new E(i.NEGATIVE_INFINITY,i.POSITIVE_INFINITY,t.y,t.y);this.interval.min=t.y,this.interval.max=t.y;for(var n=this.tree.query(this.interval),r=new Wi(this,t),o=n.iterator();o.hasNext();){var a=o.next();this.testMonotoneChain(e,r,a)}return this.crossings%2==1},interfaces_:function(){return[qi]},getClass:function(){return Gi}}),c(Wi,Ur),e(Wi.prototype,{select:function(){if(1!==arguments.length)return Ur.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return Wi}}),Gi.MCSelecter=Wi,e(Hi.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(t,e){for(var n=t.getNodeIterator();n.hasNext();){var r=n.next();this.nodes.addNode(r.getCoordinate()).setLabel(e,r.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=(new vi).computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(e)},computeIntersectionNodes:function(t,e){for(var n=t.getEdgeIterator();n.hasNext();)for(var r=n.next(),i=r.getLabel().getLocation(e),o=r.getEdgeIntersectionList().iterator();o.hasNext();){var a=o.next(),s=this.nodes.addNode(a.coord);i===T.BOUNDARY?s.setLabelBoundary(e):s.getLabel().isNull(e)&&s.setLabel(e,T.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Hi}}),e(Yi.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next().getEdges().iterator();e.hasNext();){var n=e.next();if(n.getEdgeEnds().size()>1)return this.invalidPoint=n.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this.geomGraph.computeSelfNodes(this.li,!0,!0);return t.hasProperIntersection()?(this.invalidPoint=t.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return Yi}}),e(Xi.prototype,{buildIndex:function(){this.index=new Pe;for(var t=0;t<this.rings.size();t++){var e=this.rings.get(t),n=e.getEnvelopeInternal();this.index.insert(n,e)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this.rings.size();t++)for(var e=this.rings.get(t),n=e.getCoordinates(),r=this.index.query(e.getEnvelopeInternal()),i=0;i<r.size();i++){var o=r.get(i),a=o.getCoordinates();if(e!==o&&e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var s=Ki.findPtNotNode(n,o,this.graph);if(null!==s&&Qt.isPointInRing(s,a))return this.nestedPt=s,!1}}return!0},add:function(t){this.rings.add(t),this.totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return Xi}}),e(Zi.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return Zi.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var t="";return null!==this.pt&&(t=" at or near point "+this.pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return Zi}}),Zi.ERROR=0,Zi.REPEATED_POINT=1,Zi.HOLE_OUTSIDE_SHELL=2,Zi.NESTED_HOLES=3,Zi.DISCONNECTED_INTERIOR=4,Zi.SELF_INTERSECTION=5,Zi.RING_SELF_INTERSECTION=6,Zi.NESTED_SHELLS=7,Zi.DUPLICATE_RINGS=8,Zi.TOO_FEW_POINTS=9,Zi.INVALID_COORDINATE=10,Zi.RING_NOT_CLOSED=11,Zi.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],e(Ki.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!Ki.isValid(t[e]))return this.validErr=new Zi(Zi.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof kt){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(e=0;e<n.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(n.getInteriorRingN(e).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(t,e){for(var n=new Xi(e),r=0;r<t.getNumInteriorRing();r++){var i=t.getInteriorRingN(r);n.add(i)}n.isNonNested()||(this.validErr=new Zi(Zi.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(t){var e=new Yi(t);return e.isNodeConsistentArea()?void(e.hasDuplicateRings()&&(this.validErr=new Zi(Zi.DUPLICATE_RINGS,e.getInvalidPoint()))):(this.validErr=new Zi(Zi.SELF_INTERSECTION,e.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(t,e,n){var r=t.getCoordinates(),i=e.getCoordinates(),o=Ki.findPtNotNode(r,e,n);if(null!==o&&!Qt.isPointInRing(o,i))return o;var a=Ki.findPtNotNode(i,t,n);return null!==a?Qt.isPointInRing(a,r)?a:null:(h.shouldNeverReachHere("points in shell and hole appear to be equal"),null)},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var n=e.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),null!==this.validErr)return null}},checkConnectedInteriors:function(t){var e=new Di(t);e.isInteriorsConnected()||(this.validErr=new Zi(Zi.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new st,n=!0,r=t.iterator();r.hasNext();){var i=r.next();if(n)n=!1;else{if(e.contains(i.coord))return this.validErr=new Zi(Zi.RING_SELF_INTERSECTION,i.coord),null;e.add(i.coord)}}},checkHolesInShell:function(t,e){for(var n=t.getExteriorRing(),r=new Gi(n),i=0;i<t.getNumInteriorRing();i++){var o=t.getInteriorRingN(i),a=Ki.findPtNotNode(o.getCoordinates(),n,e);if(null===a)return null;if(!r.isInside(a))return this.validErr=new Zi(Zi.HOLE_OUTSIDE_SHELL,a),null}},checkTooFewPoints:function(t){return t.hasTooFewPoints()?(this.validErr=new Zi(Zi.TOO_FEW_POINTS,t.getInvalidPoint()),null):void 0},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof St){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof Ot){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof It){var n=arguments[0];if(this.checkInvalidCoordinates(n.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(n),null!==this.validErr)return null;var r=new Un(0,n);if(this.checkTooFewPoints(r),null!==this.validErr)return null;var i=new Kt;r.computeSelfNodes(i,!0,!0),this.checkNoSelfIntersectingRings(r)}else if(arguments[0]instanceof Et){var o=arguments[0];if(this.checkInvalidCoordinates(o.getCoordinates()),null!==this.validErr)return null;r=new Un(0,o),this.checkTooFewPoints(r)}else if(arguments[0]instanceof kt){var a=arguments[0];if(this.checkInvalidCoordinates(a),null!==this.validErr)return null;if(this.checkClosedRings(a),null!==this.validErr)return null;if(r=new Un(0,a),this.checkTooFewPoints(r),null!==this.validErr)return null;if(this.checkConsistentArea(r),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(r),null!==this.validErr))return null;if(this.checkHolesInShell(a,r),null!==this.validErr)return null;if(this.checkHolesNotNested(a,r),null!==this.validErr)return null;this.checkConnectedInteriors(r)}else if(arguments[0]instanceof Pt){for(var s=arguments[0],l=0;l<s.getNumGeometries();l++){var u=s.getGeometryN(l);if(this.checkInvalidCoordinates(u),null!==this.validErr)return null;if(this.checkClosedRings(u),null!==this.validErr)return null}if(r=new Un(0,s),this.checkTooFewPoints(r),null!==this.validErr)return null;if(this.checkConsistentArea(r),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(r),null!==this.validErr))return null;for(l=0;l<s.getNumGeometries();l++)if(u=s.getGeometryN(l),this.checkHolesInShell(u,r),null!==this.validErr)return null;for(l=0;l<s.getNumGeometries();l++)if(u=s.getGeometryN(l),this.checkHolesNotNested(u,r),null!==this.validErr)return null;if(this.checkShellsNotNested(s,r),null!==this.validErr)return null;this.checkConnectedInteriors(r)}else if(arguments[0]instanceof ht){var c=arguments[0];for(l=0;l<c.getNumGeometries();l++){var p=c.getGeometryN(l);if(this.checkValid(p),null!==this.validErr)return null}}else if(arguments[0]instanceof j){var h=arguments[0];if(this.validErr=null,h.isEmpty())return null;if(h instanceof St)this.checkValid(h);else if(h instanceof Ot)this.checkValid(h);else if(h instanceof It)this.checkValid(h);else if(h instanceof Et)this.checkValid(h);else if(h instanceof kt)this.checkValid(h);else if(h instanceof Pt)this.checkValid(h);else{if(!(h instanceof ht))throw new UnsupportedOperationException(h.getClass().getName());this.checkValid(h)}}},setSelfTouchingRingFormingHoleValid:function(t){this.isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,n){var r=t.getCoordinates(),i=e.getExteriorRing(),o=i.getCoordinates(),a=Ki.findPtNotNode(r,i,n);if(null===a)return null;if(!Qt.isPointInRing(a,o))return null;if(e.getNumInteriorRing()<=0)return this.validErr=new Zi(Zi.NESTED_SHELLS,a),null;for(var s=null,l=0;l<e.getNumInteriorRing();l++){var u=e.getInteriorRingN(l);if(null===(s=this.checkShellInsideHole(t,u,n)))return null}this.validErr=new Zi(Zi.NESTED_SHELLS,s)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this.validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this.validErr)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this.validErr=new Zi(Zi.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var n=0;n<t.getNumGeometries();n++)for(var r=t.getGeometryN(n).getExteriorRing(),i=0;i<t.getNumGeometries();i++)if(n!==i){var o=t.getGeometryN(i);if(this.checkShellNotNested(r,o,e),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return Ki}}),Ki.findPtNotNode=function(t,e,n){for(var r=n.findEdge(e).getEdgeIntersectionList(),i=0;i<t.length;i++){var o=t[i];if(!r.isIntersection(o))return o}return null},Ki.isValid=function(){if(arguments[0]instanceof j){var t=arguments[0],e=new Ki(t);return e.isValid()}if(arguments[0]instanceof f){var n=arguments[0];return!(i.isNaN(n.x)||i.isInfinite(n.x)||i.isNaN(n.y)||i.isInfinite(n.y))}};var ma=Object.freeze({IsValidOp:Ki}),va=Object.freeze({BoundaryOp:dt,IsSimpleOp:Cr,buffer:ua,distance:ca,linemerge:pa,overlay:ha,polygonize:fa,relate:da,union:ga,valid:ma});c($i,Nt.CoordinateOperation),e($i.prototype,{editCoordinates:function(t,e){if(0===t.length)return null;for(var n=new Array(t.length).fill(null),r=0;r<t.length;r++){var i=new f(t[r]);this.targetPM.makePrecise(i),n[r]=i}var o=new w(n,!1).toCoordinateArray(),a=0;e instanceof Et&&(a=2),e instanceof It&&(a=4);var s=n;return this.removeCollapsed&&(s=null),o.length<a?s:o},interfaces_:function(){return[]},getClass:function(){return $i}}),e(Ji.prototype,{fixPolygonalTopology:function(t){var e=t;this.changePrecisionModel||(e=this.changePM(t,this.targetPM));var n=e.buffer(0),r=n;return this.changePrecisionModel||(r=t.getFactory().createGeometry(n)),r},reducePointwise:function(t){var e=null;e=this.changePrecisionModel?new Nt(this.createFactory(t.getFactory(),this.targetPM)):new Nt;var n=this.removeCollapsed;return t.getDimension()>=2&&(n=!0),e.edit(t,new $i(this.targetPM,n))},changePM:function(t,e){return this.createEditor(t.getFactory(),e).edit(t,new Nt.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this.removeCollapsed=t},createFactory:function(t,e){return new Ht(e,t.getSRID(),t.getCoordinateSequenceFactory())},setChangePrecisionModel:function(t){this.changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this.isPointwise?e:k(e,Tt)?e.isValid()?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this.isPointwise=t},createEditor:function(t,e){return t.getPrecisionModel()===e?new Nt:new Nt(this.createFactory(t,e))},interfaces_:function(){return[]},getClass:function(){return Ji}}),Ji.reduce=function(t,e){return new Ji(e).reduce(t)},Ji.reducePointwise=function(t,e){var n=new Ji(e);return n.setPointwise(!0),n.reduce(t)};var ya=Object.freeze({GeometryPrecisionReducer:Ji});e(Qi.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this.seg.p0=this.pts[t],this.seg.p1=this.pts[e];for(var n=-1,r=t,i=t+1;e>i;i++){var o=this.seg.distance(this.pts[i]);o>n&&(n=o,r=i)}if(n<=this.distanceTolerance)for(i=t+1;e>i;i++)this.usePt[i]=!1;else this.simplifySection(t,r),this.simplifySection(r,e)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var t=0;t<this.pts.length;t++)this.usePt[t]=!0;this.simplifySection(0,this.pts.length-1);var e=new w;for(t=0;t<this.pts.length;t++)this.usePt[t]&&e.add(new f(this.pts[t]));return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Qi}}),Qi.simplify=function(t,e){var n=new Qi(t);return n.setDistanceTolerance(e),n.simplify()},e(to.prototype,{setEnsureValid:function(t){this.isEnsureValidTopology=t},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new eo(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(0>t)throw new r("Tolerance must be non-negative");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return to}}),to.simplify=function(t,e){var n=new to(t);return n.setDistanceTolerance(e),n.getResultGeometry()},c(eo,le),e(eo.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var n=le.prototype.transformPolygon.call(this,t,e);return e instanceof Pt?n:this.createValidArea(n)},createValidArea:function(t){return this.isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var n,r=t.toCoordinateArray();return n=0===r.length?new Array(0).fill(null):Qi.simplify(r,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(n)},transformMultiPolygon:function(t,e){var n=le.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformLinearRing:function(t,e){var n=e instanceof kt,r=le.prototype.transformLinearRing.call(this,t,e);return!n||r instanceof It?r:null},interfaces_:function(){return[]},getClass:function(){return eo}}),to.DPTransformer=eo,c(no,te),e(no.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return no}}),e(ro.prototype,{addToResult:function(t){this.resultSegs.add(t)},asLineString:function(){return this.parentLine.getFactory().createLineString(ro.extractCoordinates(this.resultSegs))},getResultSize:function(){var t=this.resultSegs.size();return 0===t?0:t+1},getParent:function(){return this.parentLine},getSegment:function(t){return this.segs[t]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(ro.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var t=this.parentLine.getCoordinates();this.segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var n=new no(t[e],t[e+1],this.parentLine,e);this.segs[e]=n}},getResultCoordinates:function(){return ro.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return ro}}),ro.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),n=null,r=0;r<t.size();r++)n=t.get(r),e[r]=n.p0;return e[e.length-1]=n.p1,e},e(io.prototype,{remove:function(t){this.index.remove(new E(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof ro)for(var t=arguments[0],e=t.getSegments(),n=0;n<e.length;n++){var r=e[n];this.add(r)}else if(arguments[0]instanceof te){var i=arguments[0];this.index.insert(new E(i.p0,i.p1),i)}},query:function(t){var e=new E(t.p0,t.p1),n=new oo(t);return this.index.query(e,n),n.getItems()},interfaces_:function(){return[]},getClass:function(){return io}}),e(oo.prototype,{visitItem:function(t){var e=t;E.intersects(e.p0,e.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[Ce]},getClass:function(){return oo}}),e(ao.prototype,{flatten:function(t,e){var n=new te(this.linePts[t],this.linePts[e]);return this.remove(this.line,t,e),this.outputIndex.add(n),n},hasBadIntersection:function(t,e,n){return!!this.hasBadOutputIntersection(n)||!!this.hasBadInputIntersection(t,e,n)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplifySection:function(t,e,n){n+=1;var r=new Array(2).fill(null);if(t+1===e){var i=this.line.getSegment(t);return this.line.addToResult(i),null}var o=!0;this.line.getResultSize()<this.line.getMinimumSize()&&n+1<this.line.getMinimumSize()&&(o=!1);var a=new Array(1).fill(null),s=this.findFurthestPoint(this.linePts,t,e,a);a[0]>this.distanceTolerance&&(o=!1);var l=new te;if(l.p0=this.linePts[t],l.p1=this.linePts[e],r[0]=t,r[1]=e,this.hasBadIntersection(this.line,r,l)&&(o=!1),o)return i=this.flatten(t,e),this.line.addToResult(i),null;this.simplifySection(t,s,n),this.simplifySection(s,e,n)},hasBadOutputIntersection:function(t){for(var e=this.outputIndex.query(t).iterator();e.hasNext();){var n=e.next();if(this.hasInteriorIntersection(n,t))return!0}return!1},findFurthestPoint:function(t,e,n,r){var i=new te;i.p0=t[e],i.p1=t[n];for(var o=-1,a=e,s=e+1;n>s;s++){var l=t[s],u=i.distance(l);u>o&&(o=u,a=s)}return r[0]=o,a},simplify:function(t){this.line=t,this.linePts=t.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(t,e,n){for(var r=e;n>r;r++){var i=t.getSegment(r);this.inputIndex.remove(i)}},hasInteriorIntersection:function(t,e){return this.li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,n){for(var r=this.inputIndex.query(n).iterator();r.hasNext();){var i=r.next();if(this.hasInteriorIntersection(i,n)){if(ao.isInLineSection(t,e,i))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return ao}}),ao.isInLineSection=function(t,e,n){if(n.getParent()!==t.getParent())return!1;var r=n.getIndex();return r>=e[0]&&r<e[1]},e(so.prototype,{setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(t){for(var e=t.iterator();e.hasNext();)this.inputIndex.add(e.next());for(e=t.iterator();e.hasNext();){var n=new ao(this.inputIndex,this.outputIndex);n.setDistanceTolerance(this.distanceTolerance),n.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return so}}),e(lo.prototype,{getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():(this.linestringMap=new qt,this.inputGeom.apply(new co(this)),this.lineSimplifier.simplify(this.linestringMap.values()),new uo(this.linestringMap).transform(this.inputGeom))},setDistanceTolerance:function(t){if(0>t)throw new r("Tolerance must be non-negative");this.lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return lo}}),lo.simplify=function(t,e){var n=new lo(t);return n.setDistanceTolerance(e),n.getResultGeometry()},c(uo,le),e(uo.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof Et){var n=this.linestringMap.get(e);return this.createCoordinateSequence(n.getResultCoordinates())}return le.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return uo}}),e(co.prototype,{filter:function(t){if(t instanceof Et){var e=t;if(e.isEmpty())return null;var n=e.isClosed()?4:2,r=new ro(e,n);this.tps.linestringMap.put(e,r)}},interfaces_:function(){return[F]},getClass:function(){return co}}),lo.LineStringTransformer=uo,lo.LineStringMapBuilderFilter=co;var _a=Object.freeze({DouglasPeuckerSimplifier:to,TopologyPreservingSimplifier:lo});e(po.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this.minimumLen/this.segLen;if(t.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(e),null;if(t.distance(this.seg.p1)<this.minimumLen)return this.splitPt=po.pointAlongReverse(this.seg,e),null;this.splitPt=t}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=this.getConstrainedLength(n),o=i/this.segLen;r.equals2D(this.seg.p0)?this.splitPt=this.seg.pointAlong(o):this.splitPt=po.pointAlongReverse(this.seg,o)}},setMinimumLength:function(t){this.minimumLen=t},getConstrainedLength:function(t){return t<this.minimumLen?this.minimumLen:t},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return po}}),po.pointAlongReverse=function(t,e){var n=new f;return n.x=t.p1.x-e*(t.p1.x-t.p0.x),n.y=t.p1.y-e*(t.p1.y-t.p0.y),n},e(ho.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return ho}}),e(fo.prototype,{findSplitPoint:function(t,e){var n=t.getLineSegment(),r=n.getLength()/2,i=new po(n),o=fo.projectedSplitPoint(t,e),a=2*o.distance(e)*.8;return a>r&&(a=r),i.setMinimumLength(a),i.splitAt(o),i.getSplitPoint()},interfaces_:function(){return[ho]},getClass:function(){return fo}}),fo.projectedSplitPoint=function(t,e){return t.getLineSegment().project(e)},e(go.prototype,{interfaces_:function(){return[]},getClass:function(){return go}}),go.triArea=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},go.isInCircleDDNormalized=function(t,e,n,r){var i=M.valueOf(t.x).selfSubtract(r.x),o=M.valueOf(t.y).selfSubtract(r.y),a=M.valueOf(e.x).selfSubtract(r.x),s=M.valueOf(e.y).selfSubtract(r.y),l=M.valueOf(n.x).selfSubtract(r.x),u=M.valueOf(n.y).selfSubtract(r.y),c=i.multiply(s).selfSubtract(a.multiply(o)),p=a.multiply(u).selfSubtract(l.multiply(s)),h=l.multiply(o).selfSubtract(i.multiply(u)),f=i.multiply(i).selfAdd(o.multiply(o)),d=a.multiply(a).selfAdd(s.multiply(s)),g=l.multiply(l).selfAdd(u.multiply(u));return f.selfMultiply(p).selfAdd(d.selfMultiply(h)).selfAdd(g.selfMultiply(c)).doubleValue()>0},go.checkRobustInCircle=function(t,e,n,r){var i=go.isInCircleNonRobust(t,e,n,r),o=go.isInCircleDDSlow(t,e,n,r),a=go.isInCircleCC(t,e,n,r),s=Qn.circumcentre(t,e,n);R.out.println("p radius diff a = "+Math.abs(r.distance(s)-t.distance(s))/t.distance(s)),i===o&&i===a||(R.out.println("inCircle robustness failure (double result = "+i+", DD result = "+o+", CC result = "+a+")"),R.out.println(Xt.toLineString(new Dt([t,e,n,r]))),R.out.println("Circumcentre = "+Xt.toPoint(s)+" radius = "+t.distance(s)),R.out.println("p radius diff a = "+Math.abs(r.distance(s)/t.distance(s)-1)),R.out.println("p radius diff b = "+Math.abs(r.distance(s)/e.distance(s)-1)),R.out.println("p radius diff c = "+Math.abs(r.distance(s)/n.distance(s)-1)),R.out.println())},go.isInCircleDDFast=function(t,e,n,r){var i=M.sqr(t.x).selfAdd(M.sqr(t.y)).selfMultiply(go.triAreaDDFast(e,n,r)),o=M.sqr(e.x).selfAdd(M.sqr(e.y)).selfMultiply(go.triAreaDDFast(t,n,r)),a=M.sqr(n.x).selfAdd(M.sqr(n.y)).selfMultiply(go.triAreaDDFast(t,e,r)),s=M.sqr(r.x).selfAdd(M.sqr(r.y)).selfMultiply(go.triAreaDDFast(t,e,n));return i.selfSubtract(o).selfAdd(a).selfSubtract(s).doubleValue()>0},go.isInCircleCC=function(t,e,n,r){var i=Qn.circumcentre(t,e,n),o=t.distance(i);return 0>=r.distance(i)-o},go.isInCircleNormalized=function(t,e,n,r){var i=t.x-r.x,o=t.y-r.y,a=e.x-r.x,s=e.y-r.y,l=n.x-r.x,u=n.y-r.y;return(i*i+o*o)*(a*u-l*s)+(a*a+s*s)*(l*o-i*u)+(l*l+u*u)*(i*s-a*o)>0},go.isInCircleDDSlow=function(t,e,n,r){var i=M.valueOf(r.x),o=M.valueOf(r.y),a=M.valueOf(t.x),s=M.valueOf(t.y),l=M.valueOf(e.x),u=M.valueOf(e.y),c=M.valueOf(n.x),p=M.valueOf(n.y),h=a.multiply(a).add(s.multiply(s)).multiply(go.triAreaDDSlow(l,u,c,p,i,o)),f=l.multiply(l).add(u.multiply(u)).multiply(go.triAreaDDSlow(a,s,c,p,i,o)),d=c.multiply(c).add(p.multiply(p)).multiply(go.triAreaDDSlow(a,s,l,u,i,o)),g=i.multiply(i).add(o.multiply(o)).multiply(go.triAreaDDSlow(a,s,l,u,c,p));return h.subtract(f).add(d).subtract(g).doubleValue()>0},go.isInCircleNonRobust=function(t,e,n,r){return(t.x*t.x+t.y*t.y)*go.triArea(e,n,r)-(e.x*e.x+e.y*e.y)*go.triArea(t,n,r)+(n.x*n.x+n.y*n.y)*go.triArea(t,e,r)-(r.x*r.x+r.y*r.y)*go.triArea(t,e,n)>0},go.isInCircleRobust=function(t,e,n,r){return go.isInCircleNormalized(t,e,n,r)},go.triAreaDDSlow=function(t,e,n,r,i,o){return n.subtract(t).multiply(o.subtract(e)).subtract(r.subtract(e).multiply(i.subtract(t)))},go.triAreaDDFast=function(t,e,n){var r=M.valueOf(e.x).selfSubtract(t.x).selfMultiply(M.valueOf(n.y).selfSubtract(t.y)),i=M.valueOf(e.y).selfSubtract(t.y).selfMultiply(M.valueOf(n.x).selfSubtract(t.x));return r.selfSubtract(i)},e(mo.prototype,{circleCenter:function(t,e){var n,r=new mo(this.getX(),this.getY()),i=new D(this.bisector(r,t),this.bisector(t,e)),o=null;try{o=new mo(i.getX(),i.getY())}catch(n){if(!(n instanceof S))throw n;R.err.println("a: "+r+"  b: "+t+"  c: "+e),R.err.println(n)}return o},dot:function(t){return this.p.x*t.getX()+this.p.y*t.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(t,e){var n=e.getX()-t.getX(),r=e.getY()-t.getY(),i=new D(t.getX()+n/2,t.getY()+r/2,1),o=new D(t.getX()-r+n/2,t.getY()+n+r/2,1);return new D(i,o)},equals:function(){if(1===arguments.length){var t=arguments[0];return this.p.x===t.getX()&&this.p.y===t.getY()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.p.distance(e.getCoordinate())<n}},getCoordinate:function(){return this.p},isInCircle:function(t,e,n){return go.isInCircleRobust(t.p,e.p,n.p,this.p)},interpolateZValue:function(t,e,n){var r=t.getX(),i=t.getY(),o=e.getX()-r,a=n.getX()-r,s=e.getY()-i,l=n.getY()-i,u=o*l-a*s,c=this.getX()-r,p=this.getY()-i,h=(l*c-a*p)/u,f=(-s*c+o*p)/u;return t.getZ()+h*(e.getZ()-t.getZ())+f*(n.getZ()-t.getZ())},midPoint:function(t){return new mo((this.p.x+t.getX())/2,(this.p.y+t.getY())/2,(this.p.z+t.getZ())/2)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t.p.x-this.p.x)*(e.p.y-this.p.y)-(t.p.y-this.p.y)*(e.p.x-this.p.x)>0},getX:function(){return this.p.x},crossProduct:function(t){return this.p.x*t.getY()-this.p.y*t.getX()},setZ:function(t){this.p.z=t},times:function(t){return new mo(t*this.p.x,t*this.p.y)},cross:function(){return new mo(this.p.y,-this.p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(t){return new mo(this.p.x-t.getX(),this.p.y-t.getY())},getY:function(){return this.p.y},classify:function(t,e){var n=this,r=e.sub(t),i=n.sub(t),o=r.crossProduct(i);return o>0?mo.LEFT:0>o?mo.RIGHT:r.getX()*i.getX()<0||r.getY()*i.getY()<0?mo.BEHIND:r.magn()<i.magn()?mo.BEYOND:t.equals(n)?mo.ORIGIN:e.equals(n)?mo.DESTINATION:mo.BETWEEN},sum:function(t){return new mo(this.p.x+t.getX(),this.p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var n=this.circleCenter(t,e),r=this.distance(n,t),i=this.distance(this,t),o=this.distance(t,e);return i>o&&(i=o),i>(o=this.distance(e,this))&&(i=o),r/i},interfaces_:function(){return[]},getClass:function(){return mo}}),mo.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=e.distance(n),i=t.distance(e),o=n.z-e.z,a=e.z+o*(i/r);return a}if(4===arguments.length){var s=arguments[0],l=arguments[1],u=arguments[2],c=arguments[3],p=l.x,h=l.y,f=u.x-p,d=c.x-p,g=u.y-h,m=c.y-h,v=f*m-d*g,y=s.x-p,_=s.y-h,b=(m*y-d*_)/v,x=(-g*y+f*_)/v,w=l.z+b*(u.z-l.z)+x*(c.z-l.z);return w}},mo.LEFT=0,mo.RIGHT=1,mo.BEYOND=2,mo.BEHIND=3,mo.BETWEEN=4,mo.ORIGIN=5,mo.DESTINATION=6,c(vo,mo),e(vo.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=t.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this.constraint=t},interfaces_:function(){return[]},getClass:function(){return vo}}),e(yo.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new te(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this.vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this.data=t},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var t=this.vertex.getCoordinate(),e=this.dest().getCoordinate();return Xt.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this.next=t},interfaces_:function(){return[]},getClass:function(){return yo}}),yo.makeEdge=function(t,e){var n=new yo,r=new yo,i=new yo,o=new yo;n._rot=r,r._rot=i,i._rot=o,o._rot=n,n.setNext(n),r.setNext(o),i.setNext(i),o.setNext(r);var a=n;return a.setOrig(t),a.setDest(e),a},yo.swap=function(t){var e=t.oPrev(),n=t.sym().oPrev();yo.splice(t,e),yo.splice(t.sym(),n),yo.splice(t,e.lNext()),yo.splice(t.sym(),n.lNext()),t.setOrig(e.dest()),t.setDest(n.dest())},yo.splice=function(t,e){var n=t.oNext().rot(),r=e.oNext().rot(),i=e.oNext(),o=t.oNext(),a=r.oNext(),s=n.oNext();t.setNext(i),e.setNext(o),n.setNext(a),r.setNext(s)},yo.connect=function(t,e){var n=yo.makeEdge(t.dest(),e.orig());return yo.splice(n,t.lNext()),yo.splice(n.sym(),e),n},e(_o.prototype,{insertSite:function(t){var e=this.subdiv.locate(t);if(this.subdiv.isVertexOfEdge(e,t))return e;this.subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this.subdiv.delete(e.oNext()));var n=this.subdiv.makeEdge(e.orig(),t);yo.splice(n,e);var r=n;do{e=(n=this.subdiv.connect(e,n.sym())).oPrev()}while(e.lNext()!==r);for(;;){var i=e.oPrev();if(i.dest().rightOf(e)&&t.isInCircle(e.orig(),i.dest(),e.dest()))yo.swap(e),e=e.oPrev();else{if(e.oNext()===r)return n;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return _o}}),e(bo.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return bo}}),e(xo.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(t){this.lastEdge.isLive()||this.init();var e=this.subdiv.locateFromEdge(t,this.lastEdge);return this.lastEdge=e,e},findEdge:function(){return this.subdiv.getEdges().iterator().next()},interfaces_:function(){return[bo]},getClass:function(){return xo}}),c(wo,u),e(wo.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return wo}}),wo.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(Eo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Eo}}),e(Co.prototype,{getTriangleVertices:function(t){var e=new ko;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this.frameVertex[0])||!!t.equals(this.frameVertex[1])||!!t.equals(this.frameVertex[2])},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this.tolerance)&&!e.equals(t.dest(),this.tolerance))},connect:function(t,e){var n=yo.connect(t,e);return this.quadEdges.add(n),n},getVoronoiCellPolygon:function(t,e){var n=new x,r=t;do{var i=t.rot().orig().getCoordinate();n.add(i),t=t.oPrev()}while(t!==r);var o=new w;o.addAll(n,!1),o.closeRing(),o.size()<4&&(R.out.println(o),o.add(o.get(o.size()-1),!0));var a=o.toCoordinateArray(),s=e.createPolygon(e.createLinearRing(a),null),l=r.orig();return s.setUserData(l.getCoordinate()),s},setLocator:function(t){this.locator=t},initSubdiv:function(){var t=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),e=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);yo.splice(t.sym(),e);var n=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return yo.splice(e.sym(),n),yo.splice(n.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);Co.getTriangleEdges(t,e);var n=new Array(3).fill(null);Co.getTriangleEdges(t.sym(),n);var r=t.lNext().dest();if(this.isFrameVertex(r))return!0;var i=t.sym().lNext().dest();return!!this.isFrameVertex(i)},makeEdge:function(t,e){var n=yo.makeEdge(t,e);return this.quadEdges.add(n),n},visitTriangles:function(t,e){this.visitedKey++;var n=new ie;n.push(this.startingEdge);for(var r=new J;!n.empty();){var i=n.pop();if(!r.contains(i)){var o=this.fetchTriangleToVisit(i,n,e,r);null!==o&&t.visit(o)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){return this.seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate()),this.seg.distance(e)<this.edgeCoincidenceTolerance},getEnvelope:function(){return new E(this.frameEnv)},createFrame:function(t){var e,n=t.getWidth(),r=t.getHeight();e=n>r?10*n:10*r,this.frameVertex[0]=new mo((t.getMaxX()+t.getMinX())/2,t.getMaxY()+e),this.frameVertex[1]=new mo(t.getMinX()-e,t.getMinY()-e),this.frameVertex[2]=new mo(t.getMaxX()+e,t.getMinY()-e),this.frameEnv=new E(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new Oo;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new J,n=this.quadEdges.iterator();n.hasNext();){var r=n.next(),i=r.orig();!t&&this.isFrameVertex(i)||e.add(i);var o=r.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,n,r){var i=t,o=0,a=!1;do{this.triEdges[o]=i,this.isFrameEdge(i)&&(a=!0);var s=i.sym();r.contains(s)||e.push(s),r.add(i),o++,i=i.lNext()}while(i!==t);return a&&!n?null:this.triEdges},getEdges:function(){if(0===arguments.length)return this.quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),n=new Array(e.size()).fill(null),r=0,i=e.iterator();i.hasNext();){var o=i.next();n[r++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(n)}},getVertexUniqueEdges:function(t){for(var e=new x,n=new J,r=this.quadEdges.iterator();r.hasNext();){var i=r.next(),o=i.orig();n.contains(o)||(n.add(o),!t&&this.isFrameVertex(o)||e.add(i));var a=i.sym(),s=a.orig();n.contains(s)||(n.add(s),!t&&this.isFrameVertex(s)||e.add(a))}return e},getTriangleEdges:function(t){var e=new To;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this.visitedKey++;var e=new x,n=new ie;n.push(this.startingEdge);for(var r=new J;!n.empty();){var i=n.pop();if(!r.contains(i)){var o=i.getPrimary();!t&&this.isFrameEdge(o)||e.add(o),n.push(i.oNext()),n.push(i.sym().oNext()),r.add(i),r.add(i.sym())}}return e},delete:function(t){yo.splice(t,t.oPrev()),yo.splice(t.sym(),t.sym().oPrev());var e=t.sym(),n=t.rot(),r=t.rot().sym();this.quadEdges.remove(t),this.quadEdges.remove(e),this.quadEdges.remove(n),this.quadEdges.remove(r),t.delete(),e.delete(),n.delete(),r.delete()},locateFromEdge:function(t,e){for(var n=0,r=this.quadEdges.size(),i=e;;){if(++n>r)throw new wo(i.toLineSegment());if(t.equals(i.orig())||t.equals(i.dest()))break;if(t.rightOf(i))i=i.sym();else if(t.rightOf(i.oNext())){if(t.rightOf(i.dPrev()))break;i=i.dPrev()}else i=i.oNext()}return i},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new So,!0);for(var e=new x,n=this.getVertexUniqueEdges(!1).iterator();n.hasNext();){var r=n.next();e.add(this.getVoronoiCellPolygon(r,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(Ht.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),n=new Array(e.size()).fill(null),r=0,i=e.iterator();i.hasNext();){var o=i.next();n[r++]=t.createPolygon(t.createLinearRing(o),null)}return t.createGeometryCollection(n)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this.tolerance)||t.equals(e.dest(),this.tolerance))return e;var n=this.makeEdge(e.orig(),t);yo.splice(n,e);var r=n;do{e=(n=this.connect(e,n.sym())).oPrev()}while(e.lNext()!==r);return r},locate:function(){if(1===arguments.length){if(arguments[0]instanceof mo){var t=arguments[0];return this.locator.locate(t)}if(arguments[0]instanceof f){var e=arguments[0];return this.locator.locate(new mo(e))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=this.locator.locate(new mo(n));if(null===i)return null;var o=i;i.dest().getCoordinate().equals2D(n)&&(o=i.sym());var a=o;do{if(a.dest().getCoordinate().equals2D(r))return a;a=a.oNext()}while(a!==o);return null}},interfaces_:function(){return[]},getClass:function(){return Co}}),Co.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new r("Edges do not form a triangle")},e(So.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),n=t[1].orig().getCoordinate(),r=t[2].orig().getCoordinate(),i=new mo(Qn.circumcentre(e,n,r)),o=0;3>o;o++)t[o].rot().setOrig(i)},interfaces_:function(){return[Eo]},getClass:function(){return So}}),e(To.prototype,{getTriangleEdges:function(){return this.triList},visit:function(t){this.triList.add(t.clone())},interfaces_:function(){return[Eo]},getClass:function(){return To}}),e(ko.prototype,{visit:function(t){this.triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[Eo]},getClass:function(){return ko}}),e(Oo.prototype,{checkTriangleSize:function(t){t.length>=2?Xt.toLineString(t[0],t[1]):t.length>=1&&Xt.toPoint(t[0])},visit:function(t){this.coordList.clear();for(var e=0;3>e;e++){var n=t[e].orig();this.coordList.add(n.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();var r=this.coordList.toCoordinateArray();if(4!==r.length)return null;this.triCoords.add(r)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[Eo]},getClass:function(){return Oo}}),Co.TriangleCircumcentreVisitor=So,Co.TriangleEdgesListVisitor=To,Co.TriangleVertexListVisitor=ko,Co.TriangleCoordinatesVisitor=Oo,Co.EDGE_COINCIDENCE_TOL_FACTOR=1e3,e(Io.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){return this.ls.getCoordinate(1).z},getStartZ:function(){return this.ls.getCoordinate(0).z},intersection:function(t){return this.ls.intersection(t.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){return this.ls.getCoordinate(1).y},getStartX:function(){return this.ls.getCoordinate(0).x},equalsTopo:function(t){return this.ls.equalsTopo(t.getLineSegment())},getStartY:function(){return this.ls.getCoordinate(0).y},setData:function(t){this.data=t},getData:function(){return this.data},getEndX:function(){return this.ls.getCoordinate(1).x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return Io}}),e(Po.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Po}}),e(No.prototype,{isRepeated:function(){return this.count>1},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(t){this.left=t},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(t){this.right=t},interfaces_:function(){return[]},getClass:function(){return No}}),e(Mo.prototype,{insert:function(){if(1===arguments.length){var t=arguments[0];return this.insert(t,null)}if(2===arguments.length){var e=arguments[0],n=arguments[1];if(null===this.root)return this.root=new No(e,n),this.root;if(this.tolerance>0){var r=this.findBestMatchNode(e);if(null!==r)return r.increment(),r}return this.insertExact(e,n)}},query:function(){var t=arguments,e=this;if(1===arguments.length){var n=arguments[0],r=new x;return this.query(n,r),r}if(2===arguments.length)if(arguments[0]instanceof E&&k(arguments[1],y))!function(){var n=t[0],r=t[1];e.queryNode(e.root,n,!0,{interfaces_:function(){return[Po]},visit:function(t){r.add(t)}})}();else if(arguments[0]instanceof E&&k(arguments[1],Po)){var i=arguments[0],o=arguments[1];this.queryNode(this.root,i,!0,o)}},queryNode:function(t,e,n,r){if(null===t)return null;var i=null,o=null,a=null;n?(i=e.getMinX(),o=e.getMaxX(),a=t.getX()):(i=e.getMinY(),o=e.getMaxY(),a=t.getY());var s=o>=a;a>i&&this.queryNode(t.getLeft(),e,!n,r),e.contains(t.getCoordinate())&&r.visit(t),s&&this.queryNode(t.getRight(),e,!n,r)},findBestMatchNode:function(t){var e=new Ao(t,this.tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this.root},insertExact:function(t,e){for(var n=this.root,r=this.root,i=!0,o=!0;null!==n;){if(null!==n&&t.distance(n.getCoordinate())<=this.tolerance)return n.increment(),n;o=i?t.x<n.getX():t.y<n.getY(),r=n,n=o?n.getLeft():n.getRight(),i=!i}this.numberOfNodes=this.numberOfNodes+1;var a=new No(t,e);return o?r.setLeft(a):r.setRight(a),a},interfaces_:function(){return[]},getClass:function(){return Mo}}),Mo.toCoordinates=function(){if(1===arguments.length){var t=arguments[0];return Mo.toCoordinates(t,!1)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new w,i=e.iterator();i.hasNext();)for(var o=i.next(),a=n?o.getCount():1,s=0;a>s;s++)r.add(o.getCoordinate(),!0);return r.toCoordinateArray()}},e(Ao.prototype,{visit:function(t){var e=this.p.distance(t.getCoordinate());if(!(e<=this.tolerance))return null;var n=!1;(null===this.matchNode||e<this.matchDist||null!==this.matchNode&&e===this.matchDist&&t.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(n=!0),n&&(this.matchNode=t,this.matchDist=e)},queryEnvelope:function(){var t=new E(this.p);return t.expandBy(this.tolerance),t},getNode:function(){return this.matchNode},interfaces_:function(){return[Po]},getClass:function(){return Ao}}),Mo.BestMatchVisitor=Ao,e(Lo.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do{e=this.enforceGabriel(this.segments),t++}while(e>0&&t<Lo.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var t=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),e=0,n=this.initialVertices.iterator();n.hasNext();){var r=n.next();t[e++]=r.getCoordinate()}for(var i=this.segVertices.iterator();i.hasNext();)r=i.next(),t[e++]=r.getCoordinate();return t},setConstraints:function(t,e){this.segments=t,this.segVertices=e},computeConvexHull:function(){var t=new Ht,e=new ae(this.getPointArray(),t);this.convexHull=e.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),n=t.getEnd(),r=new f((e.x+n.x)/2,(e.y+n.y)/2),o=e.distance(r),a=new E(r);a.expandBy(o);for(var s=this.kdt.query(a),l=null,u=i.MAX_VALUE,c=s.iterator();c.hasNext();){var p=c.next().getCoordinate();if(!p.equals2D(e)&&!p.equals2D(n)){var h=r.distance(p);o>h&&(null===l||u>h)&&(l=p,u=h)}}return l},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(t){this.splitFinder=t},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(t){for(var e=new x,n=0,r=new x,i=t.iterator();i.hasNext();){var o=i.next(),a=this.findNonGabrielPoint(o);if(null!==a){this.splitPt=this.splitFinder.findSplitPoint(o,a);var s=this.createVertex(this.splitPt,o),l=(this.insertSite(s),new Io(o.getStartX(),o.getStartY(),o.getStartZ(),s.getX(),s.getY(),s.getZ(),o.getData())),u=new Io(s.getX(),s.getY(),s.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());e.add(l),e.add(u),r.add(o),n+=1}}return t.removeAll(r),t.addAll(e),n},createVertex:function(){if(1===arguments.length){var t=arguments[0],e=null;return null!==this.vertexFactory?this.vertexFactory.createVertex(t,null):new vo(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return e=null,(e=null!==this.vertexFactory?this.vertexFactory.createVertex(n,r):new vo(n)).setOnConstraint(!0),e}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var t=Lo.computeVertexEnvelope(this.initialVertices),e=Lo.computeVertexEnvelope(this.segVertices),n=new E(t);n.expandToInclude(e);var r=.2*n.getWidth(),i=.2*n.getHeight(),o=Math.max(r,i);this.computeAreaEnv=new E(n),this.computeAreaEnv.expandBy(o)},setVertexFactory:function(t){this.vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new Co(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new xo(this.subdiv)),this.incDel=new _o(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof vo){var t=arguments[0],e=this.kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var n=e.getData();return n.merge(t),n}return this.incDel.insertSite(t),t}if(arguments[0]instanceof f){var r=arguments[0];this.insertSite(this.createVertex(r))}},interfaces_:function(){return[]},getClass:function(){return Lo}}),Lo.computeVertexEnvelope=function(t){for(var e=new E,n=t.iterator();n.hasNext();){var r=n.next();e.expandToInclude(r.getCoordinate())}return e},Lo.MAX_SPLIT_ITER=99,e(Ro.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Ro.envelope(this.siteCoords),e=Ro.toVertices(this.siteCoords);this.subdiv=new Co(t,this.tolerance),new _o(this.subdiv).insertSites(e)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof j){var t=arguments[0];this.siteCoords=Ro.extractUniqueCoordinates(t)}else if(k(arguments[0],m)){var e=arguments[0];this.siteCoords=Ro.unique(H.toCoordinateArray(e))}},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return Ro}}),Ro.extractUniqueCoordinates=function(t){if(null===t)return new w;var e=t.getCoordinates();return Ro.unique(e)},Ro.envelope=function(t){for(var e=new E,n=t.iterator();n.hasNext();){var r=n.next();e.expandToInclude(r)}return e},Ro.unique=function(t){var e=H.copyDeep(t);return lt.sort(e),new w(e,!1)},Ro.toVertices=function(t){for(var e=new x,n=t.iterator();n.hasNext();){var r=n.next();e.add(new mo(r))}return e},e(Do.prototype,{createSiteVertices:function(t){for(var e=new x,n=t.iterator();n.hasNext();){var r=n.next();this.constraintVertexMap.containsKey(r)||e.add(new vo(r))}return e},create:function(){if(null!==this.subdiv)return null;var t=Ro.envelope(this.siteCoords),e=new x;null!==this.constraintLines&&(t.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),e=Do.createConstraintSegments(this.constraintLines));var n=new Lo(this.createSiteVertices(this.siteCoords),this.tolerance);n.setConstraints(e,new x(this.constraintVertexMap.values())),n.formInitialDelaunay(),n.enforceConstraints(),this.subdiv=n.getSubdivision()},setTolerance:function(t){this.tolerance=t},setConstraints:function(t){this.constraintLines=t},setSites:function(t){this.siteCoords=Ro.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),n=0;n<e.length;n++){var r=new vo(e[n]);this.constraintVertexMap.put(e[n],r)}},interfaces_:function(){return[]},getClass:function(){return Do}}),Do.createConstraintSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=Pn.getLines(t),n=new x,r=e.iterator();r.hasNext();){var i=r.next();Do.createConstraintSegments(i,n)}return n}if(2===arguments.length){var o=arguments[0],a=arguments[1],s=o.getCoordinates();for(r=1;r<s.length;r++)a.add(new Io(s[r-1],s[r]))}},e(zo.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Ro.envelope(this.siteCoords);this.diagramEnv=t;var e=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(e),null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);var n=Ro.toVertices(this.siteCoords);this.subdiv=new Co(t,this.tolerance),new _o(this.subdiv).insertSites(n)},getDiagram:function(t){this.create();var e=this.subdiv.getVoronoiDiagram(t);return zo.clipGeometryCollection(e,this.diagramEnv)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof j){var t=arguments[0];this.siteCoords=Ro.extractUniqueCoordinates(t)}else if(k(arguments[0],m)){var e=arguments[0];this.siteCoords=Ro.unique(H.toCoordinateArray(e))}},setClipEnvelope:function(t){this.clipEnv=t},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return zo}}),zo.clipGeometryCollection=function(t,e){for(var n=t.getFactory().toGeometry(e),r=new x,i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i),a=null;e.contains(o.getEnvelopeInternal())?a=o:e.intersects(o.getEnvelopeInternal())&&(a=n.intersection(o)).setUserData(o.getUserData()),null===a||a.isEmpty()||r.add(a)}return t.getFactory().createGeometryCollection(Ht.toGeometryArray(r))};var ba=Object.freeze({ConformingDelaunayTriangulationBuilder:Do,DelaunayTriangulationBuilder:Ro,VoronoiDiagramBuilder:zo});e(Fo.prototype,{interfaces_:function(){return[]},getClass:function(){return Fo}}),Fo.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Wn.createEmptyResult(Wn.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Yn.overlayOp(t,e,Wn.UNION)},e(j.prototype,{equalsTopo:function(t){return!!this.getEnvelopeInternal().equals(t.getEnvelopeInternal())&&Pi.relate(this,t).isEquals(this.getDimension(),t.getDimension())},union:function(){if(0===arguments.length)return Ri.union(this);if(1===arguments.length){var t=arguments[0];return Fo.union(this,t)}},isValid:function(){return Ki.isValid(this)},intersection:function(t){if(this.isEmpty()||t.isEmpty())return Wn.createEmptyResult(Wn.INTERSECTION,this,t,this.factory);if(this.isGeometryCollection()){var e=t;return $e.map(this,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(e)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Yn.overlayOp(this,t,Wn.INTERSECTION)},covers:function(t){return Pi.covers(this,t)},coveredBy:function(t){return Pi.coveredBy(this,t)},touches:function(t){return Pi.touches(this,t)},intersects:function(t){return Pi.intersects(this,t)},within:function(t){return Pi.within(this,t)},overlaps:function(t){return Pi.overlaps(this,t)},disjoint:function(t){return Pi.disjoint(this,t)},crosses:function(t){return Pi.crosses(this,t)},buffer:function(){if(1===arguments.length){var t=arguments[0];return Hr.bufferOp(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return Hr.bufferOp(this,e,n)}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return Hr.bufferOp(this,r,i,o)}},convexHull:function(){return new ae(this).getConvexHull()},relate:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return Pi.relate.apply(Pi,[this].concat(e))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var t=ne.getCentroid(this);return this.createPointFromInternalCoord(t,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var t=null,e=this.getDimension();return t=0===e?new $n(this).getInteriorPoint():1===e?new Kn(this).getInteriorPoint():new Xn(this).getInteriorPoint(),this.createPointFromInternalCoord(t,this)},symDifference:function(t){if(this.isEmpty()||t.isEmpty()){if(this.isEmpty()&&t.isEmpty())return Wn.createEmptyResult(Wn.SYMDIFFERENCE,this,t,this.factory);if(this.isEmpty())return t.copy();if(t.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Yn.overlayOp(this,t,Wn.SYMDIFFERENCE)},createPointFromInternalCoord:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},toText:function(){return(new Xt).write(this)},toString:function(){this.toText()},contains:function(t){return Pi.contains(this,t)},difference:function(t){return this.isEmpty()?Wn.createEmptyResult(Wn.DIFFERENCE,this,t,this.factory):t.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),Yn.overlayOp(this,t,Wn.DIFFERENCE))},isSimple:function(){return new Cr(this).isSimple()},isWithinDistance:function(t,e){return!(this.getEnvelopeInternal().distance(t.getEnvelopeInternal())>e)&&$r.isWithinDistance(this,t,e)},distance:function(t){return $r.distance(this,t)},isEquivalentClass:function(t){return this.getClass()===t.getClass()}}),t.version="1.1.2 (248dab8)",t.algorithm=Jo,t.densify=Qo,t.dissolve=ta,t.geom=Ko,t.index=ra,t.io=sa,t.noding=la,t.operation=va,t.precision=ya,t.simplify=_a,t.triangulate=ba}(e)},function(t,e,n){var r=n(148).getCoord;t.exports=function(t,e){var n=Math.PI/180,i=180/Math.PI,o=r(t),a=r(e),s=n*o[0],l=n*a[0],u=n*o[1],c=n*a[1],p=Math.sin(l-s)*Math.cos(c),h=Math.cos(u)*Math.sin(c)-Math.sin(u)*Math.cos(c)*Math.cos(l-s);return i*Math.atan2(p,h)}},function(t,e,n){var r=n(148).getCoord,i=n(16),o=i.point,a=i.distanceToRadians;t.exports=function(t,e,n,i){var s=Math.PI/180,l=180/Math.PI,u=r(t),c=s*u[0],p=s*u[1],h=s*n,f=a(e,i),d=Math.asin(Math.sin(p)*Math.cos(f)+Math.cos(p)*Math.sin(f)*Math.cos(h)),g=c+Math.atan2(Math.sin(h)*Math.sin(f)*Math.cos(p),Math.cos(f)-Math.sin(p)*Math.sin(d));return o([l*g,l*d])}},function(t,e,n){t.exports=n(649)},function(t,e,n){"use strict";(function(t){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var s,l=n(0),u="undefined"==typeof navigator||!0===t.PREVENT_CODEMIRROR_RENDER;u||(s=n(319));var c=function(){function t(){}return t.equals=function(t,e){var n=this,r=Object.keys,o=i(t),a=i(e);return t&&e&&"object"===o&&o===a?r(t).length===r(e).length&&r(t).every((function(r){return n.equals(t[r],e[r])})):t===e},t}(),p=function(){function t(t,e){this.editor=t,this.props=e}return t.prototype.delegateCursor=function(t,e,n){var r=this.editor.getDoc();n&&this.editor.focus(),e?r.setCursor(t):r.setCursor(t,null,{scroll:!1})},t.prototype.delegateScroll=function(t){this.editor.scrollTo(t.x,t.y)},t.prototype.delegateSelection=function(t,e){this.editor.getDoc().setSelections(t),e&&this.editor.focus()},t.prototype.apply=function(t){t&&t.selection&&t.selection.ranges&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),t&&t.cursor&&this.delegateCursor(t.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1),t&&t.scroll&&this.delegateScroll(t.scroll)},t.prototype.applyNext=function(t,e,n){t&&t.selection&&t.selection.ranges&&e&&e.selection&&e.selection.ranges&&!c.equals(t.selection.ranges,e.selection.ranges)&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),t&&t.cursor&&e&&e.cursor&&!c.equals(t.cursor,e.cursor)&&this.delegateCursor(n.cursor||e.cursor,e.autoScroll||!1,e.autoCursor||!1),t&&t.scroll&&e&&e.scroll&&!c.equals(t.scroll,e.scroll)&&this.delegateScroll(e.scroll)},t.prototype.applyUserDefined=function(t,e){e&&e.cursor&&this.delegateCursor(e.cursor,t.autoScroll||!1,this.editor.getOption("autofocus")||!1)},t.prototype.wire=function(t){var e=this;Object.keys(t||{}).filter((function(t){return/^on/.test(t)})).forEach((function(t){switch(t){case"onBlur":e.editor.on("blur",(function(t,n){e.props.onBlur(e.editor,n)}));break;case"onContextMenu":e.editor.on("contextmenu",(function(t,n){e.props.onContextMenu(e.editor,n)}));break;case"onCopy":e.editor.on("copy",(function(t,n){e.props.onCopy(e.editor,n)}));break;case"onCursor":e.editor.on("cursorActivity",(function(t){e.props.onCursor(e.editor,e.editor.getDoc().getCursor())}));break;case"onCursorActivity":e.editor.on("cursorActivity",(function(t){e.props.onCursorActivity(e.editor)}));break;case"onCut":e.editor.on("cut",(function(t,n){e.props.onCut(e.editor,n)}));break;case"onDblClick":e.editor.on("dblclick",(function(t,n){e.props.onDblClick(e.editor,n)}));break;case"onDragEnter":e.editor.on("dragenter",(function(t,n){e.props.onDragEnter(e.editor,n)}));break;case"onDragLeave":e.editor.on("dragleave",(function(t,n){e.props.onDragLeave(e.editor,n)}));break;case"onDragOver":e.editor.on("dragover",(function(t,n){e.props.onDragOver(e.editor,n)}));break;case"onDragStart":e.editor.on("dragstart",(function(t,n){e.props.onDragStart(e.editor,n)}));break;case"onDrop":e.editor.on("drop",(function(t,n){e.props.onDrop(e.editor,n)}));break;case"onFocus":e.editor.on("focus",(function(t,n){e.props.onFocus(e.editor,n)}));break;case"onGutterClick":e.editor.on("gutterClick",(function(t,n,r,i){e.props.onGutterClick(e.editor,n,r,i)}));break;case"onKeyDown":e.editor.on("keydown",(function(t,n){e.props.onKeyDown(e.editor,n)}));break;case"onKeyPress":e.editor.on("keypress",(function(t,n){e.props.onKeyPress(e.editor,n)}));break;case"onKeyUp":e.editor.on("keyup",(function(t,n){e.props.onKeyUp(e.editor,n)}));break;case"onMouseDown":e.editor.on("mousedown",(function(t,n){e.props.onMouseDown(e.editor,n)}));break;case"onPaste":e.editor.on("paste",(function(t,n){e.props.onPaste(e.editor,n)}));break;case"onRenderLine":e.editor.on("renderLine",(function(t,n,r){e.props.onRenderLine(e.editor,n,r)}));break;case"onScroll":e.editor.on("scroll",(function(t){e.props.onScroll(e.editor,e.editor.getScrollInfo())}));break;case"onSelection":e.editor.on("beforeSelectionChange",(function(t,n){e.props.onSelection(e.editor,n)}));break;case"onTouchStart":e.editor.on("touchstart",(function(t,n){e.props.onTouchStart(e.editor,n)}));break;case"onUpdate":e.editor.on("update",(function(t){e.props.onUpdate(e.editor)}));break;case"onViewportChange":e.editor.on("viewportChange",(function(t,n,r){e.props.onViewportChange(e.editor,n,r)}))}}))},t}(),h=function(t){function e(e){var n=t.call(this,e)||this;return u?n:(n.applied=!1,n.appliedNext=!1,n.appliedUserDefined=!1,n.deferred=null,n.emulating=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n)}return a(e,t),e.prototype.hydrate=function(t){var e=this,n=t&&t.options?t.options:{},i=r({},s.defaults,this.editor.options,n);Object.keys(i).some((function(t){return e.editor.getOption(t)!==i[t]}))&&Object.keys(i).forEach((function(t){n.hasOwnProperty(t)&&e.editor.getOption(t)!==i[t]&&(e.editor.setOption(t,i[t]),e.mirror.setOption(t,i[t]))})),this.hydrated||(this.deferred?this.resolveChange():this.initChange(t.value||"")),this.hydrated=!0},e.prototype.initChange=function(t){this.emulating=!0;var e=this.editor.getDoc(),n=e.lastLine(),r=e.getLine(e.lastLine()).length;e.replaceRange(t||"",{line:0,ch:0},{line:n,ch:r}),this.mirror.setValue(t),e.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},e.prototype.resolveChange=function(){this.emulating=!0;var t=this.editor.getDoc();"undo"===this.deferred.origin?t.undo():"redo"===this.deferred.origin?t.redo():t.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),this.emulating=!1,this.deferred=null},e.prototype.mirrorChange=function(t){var e=this.editor.getDoc();return"undo"===t.origin?(e.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===t.origin?(e.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(t.text,t.from,t.to,t.origin),this.mirror.getValue()},e.prototype.componentDidMount=function(){var t=this;u||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s(this.ref),this.shared=new p(this.editor,this.props),this.mirror=s((function(){})),this.editor.on("electricInput",(function(){t.mirror.setHistory(t.editor.getDoc().getHistory())})),this.editor.on("cursorActivity",(function(){t.mirror.setCursor(t.editor.getDoc().getCursor())})),this.editor.on("beforeChange",(function(e,n){if(!t.emulating){n.cancel(),t.deferred=n;var r=t.mirrorChange(t.deferred);t.props.onBeforeChange&&t.props.onBeforeChange(t.editor,t.deferred,r)}})),this.editor.on("change",(function(e,n){t.mounted&&t.props.onChange&&t.props.onChange(t.editor,n,t.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},e.prototype.componentWillReceiveProps=function(t){if(!u){var e={cursor:null};t.value!==this.props.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(e.cursor=this.editor.getDoc().getCursor()),this.hydrate(t),this.appliedNext||(this.shared.applyNext(this.props,t,e),this.appliedNext=!0),this.shared.applyUserDefined(this.props,e),this.appliedUserDefined=!0}},e.prototype.componentWillUnmount=function(){u||this.props.editorWillUnmount&&this.props.editorWillUnmount(s)},e.prototype.shouldComponentUpdate=function(t,e){return!u},e.prototype.render=function(){var t=this;if(u)return null;var e=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return l.createElement("div",{className:e,ref:function(e){return t.ref=e}})},e}(l.Component);e.Controlled=h;var f=function(t){function e(e){var n=t.call(this,e)||this;return u?n:(n.applied=!1,n.appliedUserDefined=!1,n.continueChange=!1,n.detached=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n.onBeforeChangeCb=function(){n.continueChange=!0},n)}return a(e,t),e.prototype.hydrate=function(t){var e=this,n=t&&t.options?t.options:{},i=r({},s.defaults,this.editor.options,n);if(Object.keys(i).some((function(t){return e.editor.getOption(t)!==i[t]}))&&Object.keys(i).forEach((function(t){n.hasOwnProperty(t)&&e.editor.getOption(t)!==i[t]&&e.editor.setOption(t,i[t])})),!this.hydrated){var o=this.editor.getDoc(),a=o.lastLine(),l=o.getLine(o.lastLine()).length;o.replaceRange(t.value||"",{line:0,ch:0},{line:a,ch:l})}this.hydrated=!0},e.prototype.componentDidMount=function(){var t=this;u||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s(this.ref),this.shared=new p(this.editor,this.props),this.editor.on("beforeChange",(function(e,n){t.props.onBeforeChange&&t.props.onBeforeChange(t.editor,n,t.editor.getValue(),t.onBeforeChangeCb)})),this.editor.on("change",(function(e,n){t.mounted&&t.props.onChange&&(t.props.onBeforeChange?t.continueChange&&t.props.onChange(t.editor,n,t.editor.getValue()):t.props.onChange(t.editor,n,t.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},e.prototype.componentWillReceiveProps=function(t){if(this.detached&&!1===t.detach&&(this.detached=!1,this.props.editorDidAttach&&this.props.editorDidAttach(this.editor)),this.detached||!0!==t.detach||(this.detached=!0,this.props.editorDidDetach&&this.props.editorDidDetach(this.editor)),!u&&!this.detached){var e={cursor:null};t.value!==this.props.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),this.props.autoCursor||void 0===this.props.autoCursor||(e.cursor=this.editor.getDoc().getCursor()),this.hydrate(t),this.applied||(this.shared.apply(this.props),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(this.props,e),this.appliedUserDefined=!0)}},e.prototype.componentWillUnmount=function(){u||this.props.editorWillUnmount&&this.props.editorWillUnmount(s)},e.prototype.shouldComponentUpdate=function(t,e){var n=!0;return u&&(n=!1),this.detached&&(n=!1),n},e.prototype.render=function(){var t=this;if(u)return null;var e=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return l.createElement("div",{className:e,ref:function(e){return t.ref=e}})},e}(l.Component);e.UnControlled=f}).call(this,n(60))},function(t,e,n){var r=n(687);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(157)(r,i);r.locals&&(t.exports=r.locals)},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(t){return document.querySelector(t)},l=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=s.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),u=null,c=0,p=[],h=n(688);function f(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(_(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(_(r.parts[a],e));o[r.id]={id:r.id,refs:1,parts:s}}}}function d(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function g(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=p[p.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),p.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,i)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=p.indexOf(t);e>=0&&p.splice(e,1)}function v(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),y(e,t.attrs),g(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function _(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var a=c++;n=u||(u=v(e)),r=w.bind(null,n,a,!1),i=w.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),g(t,e),e}(e),r=C.bind(null,n,e),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=E.bind(null,n),i=function(){m(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return f(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}t&&f(d(t,e),e);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function E(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function C(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=h(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(t,e,n){var r=n(689);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(157)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){!function(t){"use strict";t.defineMode("javascript",(function(e,n){var r,i,o=e.indentUnit,a=n.statementIndent,s=n.jsonld,l=n.json||s,u=n.typescript,c=n.wordCharacters||/[\w$\xa1-\uffff]/,p=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),r=t("keyword c"),i=t("keyword d"),o=t("operator"),a={type:"atom",style:"atom"};return{if:t("if"),while:e,with:e,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:t("new"),delete:r,void:r,throw:r,debugger:t("debugger"),var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:t("this"),class:t("class"),super:t("atom"),yield:r,export:t("export"),import:t("import"),extends:r,await:r}}(),h=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function d(t,e,n){return r=t,i=n,e}function g(t,e){var n,r=t.next();if('"'==r||"'"==r)return e.tokenize=(n=r,function(t,e){var r,i=!1;if(s&&"@"==t.peek()&&t.match(f))return e.tokenize=g,d("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=n||i);)i=!i&&"\\"==r;return i||(e.tokenize=g),d("string","string")}),e.tokenize(t,e);if("."==r&&t.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return d("number","number");if("."==r&&t.match(".."))return d("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return d(r);if("="==r&&t.eat(">"))return d("=>","operator");if("0"==r&&t.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return d("number","number");if(/\d/.test(r))return t.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),d("number","number");if("/"==r)return t.eat("*")?(e.tokenize=m,m(t,e)):t.eat("/")?(t.skipToEnd(),d("comment","comment")):Yt(t,e,1)?(function(t){for(var e,n=!1,r=!1;null!=(e=t.next());){if(!n){if("/"==e&&!r)return;"["==e?r=!0:r&&"]"==e&&(r=!1)}n=!n&&"\\"==e}}(t),t.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),d("regexp","string-2")):(t.eat("="),d("operator","operator",t.current()));if("`"==r)return e.tokenize=v,v(t,e);if("#"==r)return t.skipToEnd(),d("error","error");if("<"==r&&t.match("!--")||"-"==r&&t.match("->"))return t.skipToEnd(),d("comment","comment");if(h.test(r))return">"==r&&e.lexical&&">"==e.lexical.type||(t.eat("=")?"!"!=r&&"="!=r||t.eat("="):/[<>*+\-]/.test(r)&&(t.eat(r),">"==r&&t.eat(r))),d("operator","operator",t.current());if(c.test(r)){t.eatWhile(c);var i=t.current();if("."!=e.lastType){if(p.propertyIsEnumerable(i)){var o=p[i];return d(o.type,o.style,i)}if("async"==i&&t.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return d("async","keyword",i)}return d("variable","variable",i)}}function m(t,e){for(var n,r=!1;n=t.next();){if("/"==n&&r){e.tokenize=g;break}r="*"==n}return d("comment","comment")}function v(t,e){for(var n,r=!1;null!=(n=t.next());){if(!r&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=g;break}r=!r&&"\\"==n}return d("quasi","string-2",t.current())}function y(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(n<0)){if(u){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,n));r&&(n=r.index)}for(var i=0,o=!1,a=n-1;a>=0;--a){var s=t.string.charAt(a),l="([{}])".indexOf(s);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(c.test(s))o=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;if(t.string.charAt(a-1)==s&&"\\"!=t.string.charAt(a-2)){a--;break}}else if(o&&!i){++a;break}}o&&!i&&(e.fatArrowAt=a)}}var _={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function b(t,e,n,r,i,o){this.indented=t,this.column=e,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function x(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var r=t.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==e)return!0}var w={state:null,column:null,marked:null,cc:null};function E(){for(var t=arguments.length-1;t>=0;t--)w.cc.push(arguments[t])}function C(){return E.apply(null,arguments),!0}function S(t,e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}function T(t){var e=w.state;if(w.marked="def",e.context)if("var"==e.lexical.info&&e.context&&e.context.block){var r=function t(e,n){if(n){if(n.block){var r=t(e,n.prev);return r?r==n.prev?n:new O(r,n.vars,!0):null}return S(e,n.vars)?n:new O(n.prev,new I(e,n.vars),!1)}return null}(t,e.context);if(null!=r)return void(e.context=r)}else if(!S(t,e.localVars))return void(e.localVars=new I(t,e.localVars));n.globalVars&&!S(t,e.globalVars)&&(e.globalVars=new I(t,e.globalVars))}function k(t){return"public"==t||"private"==t||"protected"==t||"abstract"==t||"readonly"==t}function O(t,e,n){this.prev=t,this.vars=e,this.block=n}function I(t,e){this.name=t,this.next=e}var P=new I("this",new I("arguments",null));function N(){w.state.context=new O(w.state.context,w.state.localVars,!1),w.state.localVars=P}function M(){w.state.context=new O(w.state.context,w.state.localVars,!0),w.state.localVars=null}function A(){w.state.localVars=w.state.context.vars,w.state.context=w.state.context.prev}function L(t,e){var n=function(){var n=w.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new b(r,w.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function R(){var t=w.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function D(t){return function e(n){return n==t?C():";"==t||"}"==n||")"==n||"]"==n?E():C(e)}}function z(t,e){return"var"==t?C(L("vardef",e),yt,D(";"),R):"keyword a"==t?C(L("form"),U,z,R):"keyword b"==t?C(L("form"),z,R):"keyword d"==t?w.stream.match(/^\s*$/,!1)?C():C(L("stat"),q,D(";"),R):"debugger"==t?C(D(";")):"{"==t?C(L("}"),M,ot,R,A):";"==t?C():"if"==t?("else"==w.state.lexical.info&&w.state.cc[w.state.cc.length-1]==R&&w.state.cc.pop()(),C(L("form"),U,z,R,Ct)):"function"==t?C(Ot):"for"==t?C(L("form"),St,z,R):"class"==t||u&&"interface"==e?(w.marked="keyword",C(L("form","class"==t?t:e),At,R)):"variable"==t?u&&"declare"==e?(w.marked="keyword",C(z)):u&&("module"==e||"enum"==e||"type"==e)&&w.stream.match(/^\s*\w/,!1)?(w.marked="keyword","enum"==e?C(Wt):"type"==e?C(Pt,D("operator"),ct,D(";")):C(L("form"),_t,D("{"),L("}"),ot,R,R)):u&&"namespace"==e?(w.marked="keyword",C(L("form"),j,z,R)):u&&"abstract"==e?(w.marked="keyword",C(z)):C(L("stat"),J):"switch"==t?C(L("form"),U,D("{"),L("}","switch"),M,ot,R,R,A):"case"==t?C(j,D(":")):"default"==t?C(D(":")):"catch"==t?C(L("form"),N,F,z,R,A):"export"==t?C(L("stat"),zt,R):"import"==t?C(L("stat"),jt,R):"async"==t?C(z):"@"==e?C(j,z):E(L("stat"),j,D(";"),R)}function F(t){if("("==t)return C(Nt,D(")"))}function j(t,e){return V(t,e,!1)}function B(t,e){return V(t,e,!0)}function U(t){return"("!=t?E():C(L(")"),j,D(")"),R)}function V(t,e,n){if(w.state.fatArrowAt==w.stream.start){var r=n?Z:X;if("("==t)return C(N,L(")"),rt(Nt,")"),R,D("=>"),r,A);if("variable"==t)return E(N,_t,D("=>"),r,A)}var i=n?W:G;return _.hasOwnProperty(t)?C(i):"function"==t?C(Ot,i):"class"==t||u&&"interface"==e?(w.marked="keyword",C(L("form"),Mt,R)):"keyword c"==t||"async"==t?C(n?B:j):"("==t?C(L(")"),q,D(")"),R,i):"operator"==t||"spread"==t?C(n?B:j):"["==t?C(L("]"),Gt,R,i):"{"==t?it(tt,"}",null,i):"quasi"==t?E(H,i):"new"==t?C(function(t){return function(e){return"."==e?C(t?$:K):"variable"==e&&u?C(gt,t?W:G):E(t?B:j)}}(n)):"import"==t?C(j):C()}function q(t){return t.match(/[;\}\)\],]/)?E():E(j)}function G(t,e){return","==t?C(j):W(t,e,!1)}function W(t,e,n){var r=0==n?G:W,i=0==n?j:B;return"=>"==t?C(N,n?Z:X,A):"operator"==t?/\+\+|--/.test(e)||u&&"!"==e?C(r):u&&"<"==e&&w.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?C(L(">"),rt(ct,">"),R,r):"?"==e?C(j,D(":"),i):C(i):"quasi"==t?E(H,r):";"!=t?"("==t?it(B,")","call",r):"."==t?C(Q,r):"["==t?C(L("]"),q,D("]"),R,r):u&&"as"==e?(w.marked="keyword",C(ct,r)):"regexp"==t?(w.state.lastType=w.marked="operator",w.stream.backUp(w.stream.pos-w.stream.start-1),C(i)):void 0:void 0}function H(t,e){return"quasi"!=t?E():"${"!=e.slice(e.length-2)?C(H):C(j,Y)}function Y(t){if("}"==t)return w.marked="string-2",w.state.tokenize=v,C(H)}function X(t){return y(w.stream,w.state),E("{"==t?z:j)}function Z(t){return y(w.stream,w.state),E("{"==t?z:B)}function K(t,e){if("target"==e)return w.marked="keyword",C(G)}function $(t,e){if("target"==e)return w.marked="keyword",C(W)}function J(t){return":"==t?C(R,z):E(G,D(";"),R)}function Q(t){if("variable"==t)return w.marked="property",C()}function tt(t,e){return"async"==t?(w.marked="property",C(tt)):"variable"==t||"keyword"==w.style?(w.marked="property","get"==e||"set"==e?C(et):(u&&w.state.fatArrowAt==w.stream.start&&(n=w.stream.match(/^\s*:\s*/,!1))&&(w.state.fatArrowAt=w.stream.pos+n[0].length),C(nt))):"number"==t||"string"==t?(w.marked=s?"property":w.style+" property",C(nt)):"jsonld-keyword"==t?C(nt):u&&k(e)?(w.marked="keyword",C(tt)):"["==t?C(j,at,D("]"),nt):"spread"==t?C(B,nt):"*"==e?(w.marked="keyword",C(tt)):":"==t?E(nt):void 0;var n}function et(t){return"variable"!=t?E(nt):(w.marked="property",C(Ot))}function nt(t){return":"==t?C(B):"("==t?E(Ot):void 0}function rt(t,e,n){function r(i,o){if(n?n.indexOf(i)>-1:","==i){var a=w.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),C((function(n,r){return n==e||r==e?E():E(t)}),r)}return i==e||o==e?C():n&&n.indexOf(";")>-1?E(t):C(D(e))}return function(n,i){return n==e||i==e?C():E(t,r)}}function it(t,e,n){for(var r=3;r<arguments.length;r++)w.cc.push(arguments[r]);return C(L(e,n),rt(t,e),R)}function ot(t){return"}"==t?C():E(z,ot)}function at(t,e){if(u){if(":"==t)return C(ct);if("?"==e)return C(at)}}function st(t,e){if(u&&(":"==t||"in"==e))return C(ct)}function lt(t){if(u&&":"==t)return w.stream.match(/^\s*\w+\s+is\b/,!1)?C(j,ut,ct):C(ct)}function ut(t,e){if("is"==e)return w.marked="keyword",C()}function ct(t,e){return"keyof"==e||"typeof"==e||"infer"==e?(w.marked="keyword",C("typeof"==e?B:ct)):"variable"==t||"void"==e?(w.marked="type",C(dt)):"|"==e||"&"==e?C(ct):"string"==t||"number"==t||"atom"==t?C(dt):"["==t?C(L("]"),rt(ct,"]",","),R,dt):"{"==t?C(L("}"),rt(ht,"}",",;"),R,dt):"("==t?C(rt(ft,")"),pt,dt):"<"==t?C(rt(ct,">"),ct):void 0}function pt(t){if("=>"==t)return C(ct)}function ht(t,e){return"variable"==t||"keyword"==w.style?(w.marked="property",C(ht)):"?"==e||"number"==t||"string"==t?C(ht):":"==t?C(ct):"["==t?C(D("variable"),st,D("]"),ht):"("==t?E(It,ht):void 0}function ft(t,e){return"variable"==t&&w.stream.match(/^\s*[?:]/,!1)||"?"==e?C(ft):":"==t?C(ct):"spread"==t?C(ft):E(ct)}function dt(t,e){return"<"==e?C(L(">"),rt(ct,">"),R,dt):"|"==e||"."==t||"&"==e?C(ct):"["==t?C(ct,D("]"),dt):"extends"==e||"implements"==e?(w.marked="keyword",C(ct)):"?"==e?C(ct,D(":"),ct):void 0}function gt(t,e){if("<"==e)return C(L(">"),rt(ct,">"),R,dt)}function mt(){return E(ct,vt)}function vt(t,e){if("="==e)return C(ct)}function yt(t,e){return"enum"==e?(w.marked="keyword",C(Wt)):E(_t,at,wt,Et)}function _t(t,e){return u&&k(e)?(w.marked="keyword",C(_t)):"variable"==t?(T(e),C()):"spread"==t?C(_t):"["==t?it(xt,"]"):"{"==t?it(bt,"}"):void 0}function bt(t,e){return"variable"!=t||w.stream.match(/^\s*:/,!1)?("variable"==t&&(w.marked="property"),"spread"==t?C(_t):"}"==t?E():"["==t?C(j,D("]"),D(":"),bt):C(D(":"),_t,wt)):(T(e),C(wt))}function xt(){return E(_t,wt)}function wt(t,e){if("="==e)return C(B)}function Et(t){if(","==t)return C(yt)}function Ct(t,e){if("keyword b"==t&&"else"==e)return C(L("form","else"),z,R)}function St(t,e){return"await"==e?C(St):"("==t?C(L(")"),Tt,R):void 0}function Tt(t){return"var"==t?C(yt,kt):"variable"==t?C(kt):E(kt)}function kt(t,e){return")"==t?C():";"==t?C(kt):"in"==e||"of"==e?(w.marked="keyword",C(j,kt)):E(j,kt)}function Ot(t,e){return"*"==e?(w.marked="keyword",C(Ot)):"variable"==t?(T(e),C(Ot)):"("==t?C(N,L(")"),rt(Nt,")"),R,lt,z,A):u&&"<"==e?C(L(">"),rt(mt,">"),R,Ot):void 0}function It(t,e){return"*"==e?(w.marked="keyword",C(It)):"variable"==t?(T(e),C(It)):"("==t?C(N,L(")"),rt(Nt,")"),R,lt,A):u&&"<"==e?C(L(">"),rt(mt,">"),R,It):void 0}function Pt(t,e){return"keyword"==t||"variable"==t?(w.marked="type",C(Pt)):"<"==e?C(L(">"),rt(mt,">"),R):void 0}function Nt(t,e){return"@"==e&&C(j,Nt),"spread"==t?C(Nt):u&&k(e)?(w.marked="keyword",C(Nt)):u&&"this"==t?C(at,wt):E(_t,at,wt)}function Mt(t,e){return"variable"==t?At(t,e):Lt(t,e)}function At(t,e){if("variable"==t)return T(e),C(Lt)}function Lt(t,e){return"<"==e?C(L(">"),rt(mt,">"),R,Lt):"extends"==e||"implements"==e||u&&","==t?("implements"==e&&(w.marked="keyword"),C(u?ct:j,Lt)):"{"==t?C(L("}"),Rt,R):void 0}function Rt(t,e){return"async"==t||"variable"==t&&("static"==e||"get"==e||"set"==e||u&&k(e))&&w.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(w.marked="keyword",C(Rt)):"variable"==t||"keyword"==w.style?(w.marked="property",C(u?Dt:Ot,Rt)):"number"==t||"string"==t?C(u?Dt:Ot,Rt):"["==t?C(j,at,D("]"),u?Dt:Ot,Rt):"*"==e?(w.marked="keyword",C(Rt)):u&&"("==t?E(It,Rt):";"==t||","==t?C(Rt):"}"==t?C():"@"==e?C(j,Rt):void 0}function Dt(t,e){if("?"==e)return C(Dt);if(":"==t)return C(ct,wt);if("="==e)return C(B);var n=w.state.lexical.prev;return E(n&&"interface"==n.info?It:Ot)}function zt(t,e){return"*"==e?(w.marked="keyword",C(qt,D(";"))):"default"==e?(w.marked="keyword",C(j,D(";"))):"{"==t?C(rt(Ft,"}"),qt,D(";")):E(z)}function Ft(t,e){return"as"==e?(w.marked="keyword",C(D("variable"))):"variable"==t?E(B,Ft):void 0}function jt(t){return"string"==t?C():"("==t?E(j):E(Bt,Ut,qt)}function Bt(t,e){return"{"==t?it(Bt,"}"):("variable"==t&&T(e),"*"==e&&(w.marked="keyword"),C(Vt))}function Ut(t){if(","==t)return C(Bt,Ut)}function Vt(t,e){if("as"==e)return w.marked="keyword",C(Bt)}function qt(t,e){if("from"==e)return w.marked="keyword",C(j)}function Gt(t){return"]"==t?C():E(rt(B,"]"))}function Wt(){return E(L("form"),_t,D("{"),L("}"),rt(Ht,"}"),R,R)}function Ht(){return E(_t,wt)}function Yt(t,e,n){return e.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(n||0)))}return A.lex=!0,R.lex=!0,{startState:function(t){var e={tokenize:g,lastType:"sof",cc:[],lexical:new b((t||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new O(null,null,!1),indented:t||0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),y(t,e)),e.tokenize!=m&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==r?n:(e.lastType="operator"!=r||"++"!=i&&"--"!=i?r:"incdec",function(t,e,n,r,i){var o=t.cc;for(w.state=t,w.stream=i,w.marked=null,w.cc=o,w.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;)if((o.length?o.pop():l?j:z)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return w.marked?w.marked:"variable"==n&&x(t,r)?"variable-2":e}}(e,n,r,i,t))},indent:function(e,r){if(e.tokenize==m)return t.Pass;if(e.tokenize!=g)return 0;var i,s=r&&r.charAt(0),l=e.lexical;if(!/^\s*else\b/.test(r))for(var u=e.cc.length-1;u>=0;--u){var c=e.cc[u];if(c==R)l=l.prev;else if(c!=Ct)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(i=e.cc[e.cc.length-1])&&(i==G||i==W)&&!/^[,\.=+\-*:?[\(]/.test(r));)l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var p=l.type,f=s==p;return"vardef"==p?l.indented+("operator"==e.lastType||","==e.lastType?l.info.length+1:0):"form"==p&&"{"==s?l.indented:"form"==p?l.indented+o:"stat"==p?l.indented+(function(t,e){return"operator"==t.lastType||","==t.lastType||h.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}(e,r)?a||o:0):"switch"!=l.info||f||0==n.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:o):l.indented+(/^(?:case|default)\b/.test(r)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:Yt,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=j&&e!=B||t.cc.pop()}}})),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(319))},function(t,e,n){"use strict";var r,i;r=[n(221),n(222),n(690)],void 0===(i=function(t,e,n){return function(t,e,n){var r=function(e,n){return t.js_beautify(e,n)};return r.js=t.js_beautify,r.css=e.css_beautify,r.html=n.html_beautify,r.js_beautify=t.js_beautify,r.css_beautify=e.css_beautify,r.html_beautify=n.html_beautify,r}(t,e,n)}.apply(e,r))||(t.exports=i)},function(t,e,n){"use strict";n.r(e);var r=n(24),i=n.n(r),o=n(0),a=n.n(o),s=n(1),l=n.n(s),u=n(34);function c(t){return"/"===t.charAt(0)}function p(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}var h=function(t,e){void 0===e&&(e="");var n,r=t&&t.split("/")||[],i=e&&e.split("/")||[],o=t&&c(t),a=e&&c(e),s=o||a;if(t&&c(t)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var u=0,h=i.length;h>=0;h--){var f=i[h];"."===f?p(i,h):".."===f?(p(i,h),u++):u&&(p(i,h),u--)}if(!s)for(;u--;u)i.unshift("..");!s||""===i[0]||i[0]&&c(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function f(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}var d=function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(Array.isArray(e))return Array.isArray(n)&&e.length===n.length&&e.every((function(e,r){return t(e,n[r])}));if("object"==typeof e||"object"==typeof n){var r=f(e),i=f(n);return r!==e||i!==n?t(r,i):Object.keys(Object.assign({},e,n)).every((function(r){return t(e[r],n[r])}))}return!1};var g=function(t,e){if(!t)throw new Error("Invariant failed")};function m(t){return"/"===t.charAt(0)?t:"/"+t}function v(t){return"/"===t.charAt(0)?t.substr(1):t}function y(t,e){return function(t,e){return 0===t.toLowerCase().indexOf(e.toLowerCase())&&-1!=="/?#".indexOf(t.charAt(e.length))}(t,e)?t.substr(e.length):t}function _(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t}function b(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function x(t,e,n,r){var i;"string"==typeof t?(i=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}}(t)).state=e:(void 0===(i=Object(u.a)({},t)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==e&&void 0===i.state&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=h(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function w(){var t=null;var e=[];return{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var o="function"==typeof t?t(e,n):t;"string"==typeof o?"function"==typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(t){var n=!0;function r(){n&&t.apply(void 0,arguments)}return e.push(r),function(){n=!1,e=e.filter((function(t){return t!==r}))}},notifyListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.forEach((function(t){return t.apply(void 0,n)}))}}}var E=!("undefined"==typeof window||!window.document||!window.document.createElement);function C(t,e){e(window.confirm(t))}function S(){try{return window.history.state||{}}catch(t){return{}}}function T(t){void 0===t&&(t={}),E||g(!1);var e,n=window.history,r=(-1===(e=window.navigator.userAgent).indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=t,a=o.forceRefresh,s=void 0!==a&&a,l=o.getUserConfirmation,c=void 0===l?C:l,p=o.keyLength,h=void 0===p?6:p,f=t.basename?_(m(t.basename)):"";function d(t){var e=t||{},n=e.key,r=e.state,i=window.location,o=i.pathname+i.search+i.hash;return f&&(o=y(o,f)),x(o,r,n)}function v(){return Math.random().toString(36).substr(2,h)}var T=w();function k(t){Object(u.a)(j,t),j.length=n.length,T.notifyListeners(j.location,j.action)}function O(t){(function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")})(t)||N(d(t.state))}function I(){N(d(S()))}var P=!1;function N(t){if(P)P=!1,k();else{T.confirmTransitionTo(t,"POP",c,(function(e){e?k({action:"POP",location:t}):function(t){var e=j.location,n=A.indexOf(e.key);-1===n&&(n=0);var r=A.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(P=!0,R(i))}(t)}))}}var M=d(S()),A=[M.key];function L(t){return f+b(t)}function R(t){n.go(t)}var D=0;function z(t){1===(D+=t)&&1===t?(window.addEventListener("popstate",O),i&&window.addEventListener("hashchange",I)):0===D&&(window.removeEventListener("popstate",O),i&&window.removeEventListener("hashchange",I))}var F=!1;var j={length:n.length,action:"POP",location:M,createHref:L,push:function(t,e){var i=x(t,e,v(),j.location);T.confirmTransitionTo(i,"PUSH",c,(function(t){if(t){var e=L(i),o=i.key,a=i.state;if(r)if(n.pushState({key:o,state:a},null,e),s)window.location.href=e;else{var l=A.indexOf(j.location.key),u=A.slice(0,l+1);u.push(i.key),A=u,k({action:"PUSH",location:i})}else window.location.href=e}}))},replace:function(t,e){var i=x(t,e,v(),j.location);T.confirmTransitionTo(i,"REPLACE",c,(function(t){if(t){var e=L(i),o=i.key,a=i.state;if(r)if(n.replaceState({key:o,state:a},null,e),s)window.location.replace(e);else{var l=A.indexOf(j.location.key);-1!==l&&(A[l]=i.key),k({action:"REPLACE",location:i})}else window.location.replace(e)}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(t){void 0===t&&(t=!1);var e=T.setPrompt(t);return F||(z(1),F=!0),function(){return F&&(F=!1,z(-1)),e()}},listen:function(t){var e=T.appendListener(t);return z(1),function(){z(-1),e()}}};return j}var k={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+v(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:v,decodePath:m},slash:{encodePath:m,decodePath:m}};function O(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function I(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)}function P(t){window.location.replace(O(window.location.href)+"#"+t)}function N(t){void 0===t&&(t={}),E||g(!1);var e=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),t),r=n.getUserConfirmation,i=void 0===r?C:r,o=n.hashType,a=void 0===o?"slash":o,s=t.basename?_(m(t.basename)):"",l=k[a],c=l.encodePath,p=l.decodePath;function h(){var t=p(I());return s&&(t=y(t,s)),x(t)}var f=w();function d(t){Object(u.a)(j,t),j.length=e.length,f.notifyListeners(j.location,j.action)}var v=!1,S=null;function T(){var t,e,n=I(),r=c(n);if(n!==r)P(r);else{var o=h(),a=j.location;if(!v&&(e=o,(t=a).pathname===e.pathname&&t.search===e.search&&t.hash===e.hash))return;if(S===b(o))return;S=null,function(t){if(v)v=!1,d();else{f.confirmTransitionTo(t,"POP",i,(function(e){e?d({action:"POP",location:t}):function(t){var e=j.location,n=L.lastIndexOf(b(e));-1===n&&(n=0);var r=L.lastIndexOf(b(t));-1===r&&(r=0);var i=n-r;i&&(v=!0,R(i))}(t)}))}}(o)}}var N=I(),M=c(N);N!==M&&P(M);var A=h(),L=[b(A)];function R(t){e.go(t)}var D=0;function z(t){1===(D+=t)&&1===t?window.addEventListener("hashchange",T):0===D&&window.removeEventListener("hashchange",T)}var F=!1;var j={length:e.length,action:"POP",location:A,createHref:function(t){var e=document.querySelector("base"),n="";return e&&e.getAttribute("href")&&(n=O(window.location.href)),n+"#"+c(s+b(t))},push:function(t,e){var n=x(t,void 0,void 0,j.location);f.confirmTransitionTo(n,"PUSH",i,(function(t){if(t){var e=b(n),r=c(s+e);if(I()!==r){S=e,function(t){window.location.hash=t}(r);var i=L.lastIndexOf(b(j.location)),o=L.slice(0,i+1);o.push(e),L=o,d({action:"PUSH",location:n})}else d()}}))},replace:function(t,e){var n=x(t,void 0,void 0,j.location);f.confirmTransitionTo(n,"REPLACE",i,(function(t){if(t){var e=b(n),r=c(s+e);I()!==r&&(S=e,P(r));var i=L.indexOf(b(j.location));-1!==i&&(L[i]=e),d({action:"REPLACE",location:n})}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(t){void 0===t&&(t=!1);var e=f.setPrompt(t);return F||(z(1),F=!0),function(){return F&&(F=!1,z(-1)),e()}},listen:function(t){var e=f.appendListener(t);return z(1),function(){z(-1),e()}}};return j}function M(t,e,n){return Math.min(Math.max(t,e),n)}function A(t){void 0===t&&(t={});var e=t,n=e.getUserConfirmation,r=e.initialEntries,i=void 0===r?["/"]:r,o=e.initialIndex,a=void 0===o?0:o,s=e.keyLength,l=void 0===s?6:s,c=w();function p(t){Object(u.a)(v,t),v.length=v.entries.length,c.notifyListeners(v.location,v.action)}function h(){return Math.random().toString(36).substr(2,l)}var f=M(a,0,i.length-1),d=i.map((function(t){return x(t,void 0,"string"==typeof t?h():t.key||h())})),g=b;function m(t){var e=M(v.index+t,0,v.entries.length-1),r=v.entries[e];c.confirmTransitionTo(r,"POP",n,(function(t){t?p({action:"POP",location:r,index:e}):p()}))}var v={length:d.length,action:"POP",location:d[f],index:f,entries:d,createHref:g,push:function(t,e){var r=x(t,e,h(),v.location);c.confirmTransitionTo(r,"PUSH",n,(function(t){if(t){var e=v.index+1,n=v.entries.slice(0);n.length>e?n.splice(e,n.length-e,r):n.push(r),p({action:"PUSH",location:r,index:e,entries:n})}}))},replace:function(t,e){var r=x(t,e,h(),v.location);c.confirmTransitionTo(r,"REPLACE",n,(function(t){t&&(v.entries[v.index]=r,p({action:"REPLACE",location:r}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(t){var e=v.index+t;return e>=0&&e<v.entries.length},block:function(t){return void 0===t&&(t=!1),c.setPrompt(t)},listen:function(t){return c.appendListener(t)}};return v}var L=n(26),R=n.n(L),D=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var j=function(t){function e(){var n,r;z(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=F(this,t.call.apply(t,[this].concat(o))),r.state={match:r.computeMatch(r.props.history.location.pathname)},F(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:D({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},e.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},e.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.children,r=e.history;R()(null==n||1===a.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen((function(){t.setState({match:t.computeMatch(r.location.pathname)})}))},e.prototype.componentWillReceiveProps=function(t){i()(this.props.history===t.history,"You cannot change <Router history>")},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return t?a.a.Children.only(t):null},e}(a.a.Component);j.propTypes={history:l.a.object.isRequired,children:l.a.node},j.contextTypes={router:l.a.object},j.childContextTypes={router:l.a.object.isRequired};var B=j,U=B;function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var G=function(t){function e(){var n,r;V(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=q(this,t.call.apply(t,[this].concat(o))),r.history=T(r.props),q(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){i()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},e.prototype.render=function(){return a.a.createElement(U,{history:this.history,children:this.props.children})},e}(a.a.Component);G.propTypes={basename:l.a.string,forceRefresh:l.a.bool,getUserConfirmation:l.a.func,keyLength:l.a.number,children:l.a.node};var W=G;function H(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var X=function(t){function e(){var n,r;H(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Y(this,t.call.apply(t,[this].concat(o))),r.history=N(r.props),Y(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){i()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},e.prototype.render=function(){return a.a.createElement(U,{history:this.history,children:this.props.children})},e}(a.a.Component);X.propTypes={basename:l.a.string,getUserConfirmation:l.a.func,hashType:l.a.oneOf(["hashbang","noslash","slash"]),children:l.a.node};var Z=X,K=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var Q=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},tt=function(t){function e(){var n,r;$(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=J(this,t.call.apply(t,[this].concat(o))),r.handleClick=function(t){if(r.props.onClick&&r.props.onClick(t),!t.defaultPrevented&&0===t.button&&!r.props.target&&!Q(t)){t.preventDefault();var e=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?e.replace(o):e.push(o)}},J(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){var t=this.props,e=(t.replace,t.to),n=t.innerRef,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["replace","to","innerRef"]);R()(this.context.router,"You should not use <Link> outside a <Router>"),R()(void 0!==e,'You must specify the "to" property');var i=this.context.router.history,o="string"==typeof e?x(e,null,null,i.location):e,s=i.createHref(o);return a.a.createElement("a",K({},r,{onClick:this.handleClick,href:s,ref:n}))},e}(a.a.Component);tt.propTypes={onClick:l.a.func,target:l.a.string,replace:l.a.bool,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired,innerRef:l.a.oneOfType([l.a.string,l.a.func])},tt.defaultProps={replace:!1},tt.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired,createHref:l.a.func.isRequired}).isRequired}).isRequired};var et=tt;function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var it=function(t){function e(){var n,r;nt(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=rt(this,t.call.apply(t,[this].concat(o))),r.history=A(r.props),rt(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){i()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},e.prototype.render=function(){return a.a.createElement(B,{history:this.history,children:this.props.children})},e}(a.a.Component);it.propTypes={initialEntries:l.a.array,initialIndex:l.a.number,getUserConfirmation:l.a.func,keyLength:l.a.number,children:l.a.node};var ot=it,at=n(169),st=n.n(at),lt={},ut=0,ct=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=lt[n]||(lt[n]={});if(r[t])return r[t];var i=[],o={re:st()(t,i,e),keys:i};return ut<1e4&&(r[t]=o,ut++),o},pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof e&&(e={path:e});var r=e,i=r.path,o=r.exact,a=void 0!==o&&o,s=r.strict,l=void 0!==s&&s,u=r.sensitive,c=void 0!==u&&u;if(null==i)return n;var p=ct(i,{end:a,strict:l,sensitive:c}),h=p.re,f=p.keys,d=h.exec(t);if(!d)return null;var g=d[0],m=d.slice(1),v=t===g;return a&&!v?null:{path:i,url:"/"===i&&""===g?"/":g,isExact:v,params:f.reduce((function(t,e,n){return t[e.name]=m[n],t}),{})}},ht=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var gt=function(t){return 0===a.a.Children.count(t)},mt=function(t){function e(){var n,r;ft(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=dt(this,t.call.apply(t,[this].concat(o))),r.state={match:r.computeMatch(r.props,r.context.router)},dt(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:ht({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,e){var n=t.computedMatch,r=t.location,i=t.path,o=t.strict,a=t.exact,s=t.sensitive;if(n)return n;R()(e,"You should not use <Route> or withRouter() outside a <Router>");var l=e.route,u=(r||l.location).pathname;return pt(u,{path:i,strict:o,exact:a,sensitive:s},l.match)},e.prototype.componentWillMount=function(){i()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),i()(!(this.props.component&&this.props.children&&!gt(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),i()(!(this.props.render&&this.props.children&&!gt(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},e.prototype.componentWillReceiveProps=function(t,e){i()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),i()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,r=e.component,i=e.render,o=this.context.router,s=o.history,l=o.route,u=o.staticContext,c={match:t,location:this.props.location||l.location,history:s,staticContext:u};return r?t?a.a.createElement(r,c):null:i?t?i(c):null:"function"==typeof n?n(c):n&&!gt(n)?a.a.Children.only(n):null},e}(a.a.Component);mt.propTypes={computedMatch:l.a.object,path:l.a.string,exact:l.a.bool,strict:l.a.bool,sensitive:l.a.bool,component:l.a.func,render:l.a.func,children:l.a.oneOfType([l.a.func,l.a.node]),location:l.a.object},mt.contextTypes={router:l.a.shape({history:l.a.object.isRequired,route:l.a.object.isRequired,staticContext:l.a.object})},mt.childContextTypes={router:l.a.object.isRequired};var vt=mt,yt=vt,_t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var xt=function(t){var e=t.to,n=t.exact,r=t.strict,i=t.location,o=t.activeClassName,s=t.className,l=t.activeStyle,u=t.style,c=t.isActive,p=t["aria-current"],h=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),f="object"===(void 0===e?"undefined":bt(e))?e.pathname:e,d=f&&f.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return a.a.createElement(yt,{path:d,exact:n,strict:r,location:i,children:function(t){var n=t.location,r=t.match,i=!!(c?c(r,n):r);return a.a.createElement(et,_t({to:e,className:i?[s,o].filter((function(t){return t})).join(" "):s,style:i?_t({},u,l):u,"aria-current":i&&p||null},h))}})};xt.propTypes={to:et.propTypes.to,exact:l.a.bool,strict:l.a.bool,location:l.a.object,activeClassName:l.a.string,className:l.a.string,activeStyle:l.a.object,style:l.a.object,isActive:l.a.func,"aria-current":l.a.oneOf(["page","step","location","date","time","true"])},xt.defaultProps={activeClassName:"active","aria-current":"page"};var wt=xt;function Et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var St=function(t){function e(){return Et(this,e),Ct(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.enable=function(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},e.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},e.prototype.componentWillMount=function(){R()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},e.prototype.componentWillReceiveProps=function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},e.prototype.componentWillUnmount=function(){this.disable()},e.prototype.render=function(){return null},e}(a.a.Component);St.propTypes={when:l.a.bool,message:l.a.oneOfType([l.a.func,l.a.string]).isRequired},St.defaultProps={when:!0},St.contextTypes={router:l.a.shape({history:l.a.shape({block:l.a.func.isRequired}).isRequired}).isRequired};var Tt=St,kt={},Ot=0,It=function(t){var e=t,n=kt[e]||(kt[e]={});if(n[t])return n[t];var r=st.a.compile(t);return Ot<1e4&&(n[t]=r,Ot++),r},Pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"===t)return t;var n=It(t);return n(e,{pretty:!0})},Nt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function At(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var Lt=function(t){function e(){return Mt(this,e),At(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},e.prototype.componentWillMount=function(){R()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},e.prototype.componentDidMount=function(){this.isStatic()||this.perform()},e.prototype.componentDidUpdate=function(t){var e,n,r=x(t.to),o=x(this.props.to);(n=o,(e=r).pathname===n.pathname&&e.search===n.search&&e.hash===n.hash&&e.key===n.key&&d(e.state,n.state))?i()(!1,"You tried to redirect to the same route you're currently on: \""+o.pathname+o.search+'"'):this.perform()},e.prototype.computeTo=function(t){var e=t.computedMatch,n=t.to;return e?"string"==typeof n?Pt(n,e.params):Nt({},n,{pathname:Pt(n.pathname,e.params)}):n},e.prototype.perform=function(){var t=this.context.router.history,e=this.props.push,n=this.computeTo(this.props);e?t.push(n):t.replace(n)},e.prototype.render=function(){return null},e}(a.a.Component);Lt.propTypes={computedMatch:l.a.object,push:l.a.bool,from:l.a.string,to:l.a.oneOfType([l.a.string,l.a.object]).isRequired},Lt.defaultProps={push:!1},Lt.contextTypes={router:l.a.shape({history:l.a.shape({push:l.a.func.isRequired,replace:l.a.func.isRequired}).isRequired,staticContext:l.a.object}).isRequired};var Rt=Lt,Dt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ft(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var jt=function(t){return"/"===t.charAt(0)?t:"/"+t},Bt=function(t,e){return t?Dt({},e,{pathname:jt(t)+e.pathname}):e},Ut=function(t,e){if(!t)return e;var n=jt(t);return 0!==e.pathname.indexOf(n)?e:Dt({},e,{pathname:e.pathname.substr(n.length)})},Vt=function(t){return"string"==typeof t?t:b(t)},qt=function(t){return function(){R()(!1,"You cannot %s with <StaticRouter>",t)}},Gt=function(){},Wt=function(t){function e(){var n,r;zt(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=Ft(this,t.call.apply(t,[this].concat(o))),r.createHref=function(t){return jt(r.props.basename+Vt(t))},r.handlePush=function(t){var e=r.props,n=e.basename,i=e.context;i.action="PUSH",i.location=Bt(n,x(t)),i.url=Vt(i.location)},r.handleReplace=function(t){var e=r.props,n=e.basename,i=e.context;i.action="REPLACE",i.location=Bt(n,x(t)),i.url=Vt(i.location)},r.handleListen=function(){return Gt},r.handleBlock=function(){return Gt},Ft(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},e.prototype.componentWillMount=function(){i()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},e.prototype.render=function(){var t=this.props,e=t.basename,n=(t.context,t.location),r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["basename","context","location"]),i={createHref:this.createHref,action:"POP",location:Ut(e,x(n)),push:this.handlePush,replace:this.handleReplace,go:qt("go"),goBack:qt("goBack"),goForward:qt("goForward"),listen:this.handleListen,block:this.handleBlock};return a.a.createElement(B,Dt({},r,{history:i}))},e}(a.a.Component);Wt.propTypes={basename:l.a.string,context:l.a.object.isRequired,location:l.a.oneOfType([l.a.string,l.a.object])},Wt.defaultProps={basename:"",location:"/"},Wt.childContextTypes={router:l.a.object.isRequired};var Ht=Wt;function Yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var Zt=function(t){function e(){return Yt(this,e),Xt(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentWillMount=function(){R()(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){i()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),i()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var t=this.context.router.route,e=this.props.children,n=this.props.location||t.location,r=void 0,i=void 0;return a.a.Children.forEach(e,(function(e){if(null==r&&a.a.isValidElement(e)){var o=e.props,s=o.path,l=o.exact,u=o.strict,c=o.sensitive,p=o.from,h=s||p;i=e,r=pt(n.pathname,{path:h,exact:l,strict:u,sensitive:c},t.match)}})),r?a.a.cloneElement(i,{location:n,computedMatch:r}):null},e}(a.a.Component);Zt.contextTypes={router:l.a.shape({route:l.a.object.isRequired}).isRequired},Zt.propTypes={children:l.a.node,location:l.a.object};var Kt=Zt,$t=Pt,Jt=pt,Qt=n(355),te=n.n(Qt),ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var ne=function(t){var e=function(e){var n=e.wrappedComponentRef,r=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["wrappedComponentRef"]);return a.a.createElement(vt,{children:function(e){return a.a.createElement(t,ee({},r,e,{ref:n}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:l.a.func},te()(e,t)};n.d(e,"BrowserRouter",(function(){return W})),n.d(e,"HashRouter",(function(){return Z})),n.d(e,"Link",(function(){return et})),n.d(e,"MemoryRouter",(function(){return ot})),n.d(e,"NavLink",(function(){return wt})),n.d(e,"Prompt",(function(){return Tt})),n.d(e,"Redirect",(function(){return Rt})),n.d(e,"Route",(function(){return yt})),n.d(e,"Router",(function(){return U})),n.d(e,"StaticRouter",(function(){return Ht})),n.d(e,"Switch",(function(){return Kt})),n.d(e,"generatePath",(function(){return $t})),n.d(e,"matchPath",(function(){return Jt})),n.d(e,"withRouter",(function(){return ne}))},function(t,e,n){"use strict";n.r(e);var r=n(359),i=n.n(r),o=n(0);var a=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}},s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=a((function(t){return s.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),u=n(360),c=n.n(u);var p=function(){function t(t){this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.before=null}var e=t.prototype;return e.insert=function(t){if(this.ctr%(this.isSpeedy?65e3:1)==0){var e,n=function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e}(this);e=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,e),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(r);try{var o=105===t.charCodeAt(1)&&64===t.charCodeAt(0);i.insertRule(t,o?0:i.cssRules.length)}catch(t){0}}else r.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}();var h=function(t){function e(t,e,r){var i=e.trim().split(d);e=i;var o=i.length,a=t.length;switch(a){case 0:case 1:var s=0;for(t=0===a?"":t[0]+" ";s<o;++s)e[s]=n(t,e[s],r).trim();break;default:var l=s=0;for(e=[];s<o;++s)for(var u=0;u<a;++u)e[l++]=n(t[u]+" ",i[s],r).trim()}return e}function n(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(g,"$1"+t.trim());case 58:return t.trim()+e.replace(g,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(g,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function r(t,e,n,o){var a=t+";",s=2*e+3*n+4*o;if(944===s){t=a.indexOf(":",9)+1;var l=a.substring(t,a.length-1).trim();return l=a.substring(0,t).trim()+l+";",1===I||2===I&&i(l,1)?"-webkit-"+l+l:l}if(0===I||2===I&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(S,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return h.test(a)?a.replace(p,":-webkit-")+a.replace(p,":-moz-")+a:a;case 1e3:switch(e=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(e)){case 226:l=a.replace(_,"tb");break;case 232:l=a.replace(_,"tb-rl");break;case 220:l=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(e=(a=t).length-10,s=(l=(33===a.charCodeAt(e)?a.substring(0,e):a).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(w,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(w,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===C.test(t))return 115===(l=t.substring(t.indexOf(":")+1)).charCodeAt(0)?r(t.replace("stretch","fill-available"),e,n,o).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function i(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),A(2!==e?r:r.replace(E,"$1"),n,e)}function o(t,e){var n=r(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(x," or ($1)").substring(4):"("+e+")"}function a(t,e,n,r,i,o,a,s,u,c){for(var p,h=0,f=e;h<M;++h)switch(p=N[h].call(l,t,f,n,r,i,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:f=p}if(f!==e)return f}function s(t){return void 0!==(t=t.prefix)&&(A=null,t?"function"!=typeof t?I=1:(I=2,A=t):I=0),s}function l(t,n){var s=t;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<M){var l=a(-1,n,s,s,k,T,0,0,0,0);void 0!==l&&"string"==typeof l&&(n=l)}var p=function t(n,s,l,p,h){for(var f,d,g,_,x,w=0,E=0,C=0,S=0,N=0,A=0,R=g=f=0,D=0,z=0,F=0,j=0,B=l.length,U=B-1,V="",q="",G="",W="";D<B;){if(d=l.charCodeAt(D),D===U&&0!==E+S+C+w&&(0!==E&&(d=47===E?10:47),S=C=w=0,B++,U++),0===E+S+C+w){if(D===U&&(0<z&&(V=V.replace(c,"")),0<V.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:V+=l.charAt(D)}d=59}switch(d){case 123:for(f=(V=V.trim()).charCodeAt(0),g=1,j=++D;D<B;){switch(d=l.charCodeAt(D)){case 123:g++;break;case 125:g--;break;case 47:switch(d=l.charCodeAt(D+1)){case 42:case 47:t:{for(R=D+1;R<U;++R)switch(l.charCodeAt(R)){case 47:if(42===d&&42===l.charCodeAt(R-1)&&D+2!==R){D=R+1;break t}break;case 10:if(47===d){D=R+1;break t}}D=R}}break;case 91:d++;case 40:d++;case 34:case 39:for(;D++<U&&l.charCodeAt(D)!==d;);}if(0===g)break;D++}switch(g=l.substring(j,D),0===f&&(f=(V=V.replace(u,"").trim()).charCodeAt(0)),f){case 64:switch(0<z&&(V=V.replace(c,"")),d=V.charCodeAt(1)){case 100:case 109:case 115:case 45:z=s;break;default:z=P}if(j=(g=t(s,z,g,d,h+1)).length,0<M&&(x=a(3,g,z=e(P,V,F),s,k,T,j,d,h,p),V=z.join(""),void 0!==x&&0===(j=(g=x.trim()).length)&&(d=0,g="")),0<j)switch(d){case 115:V=V.replace(b,o);case 100:case 109:case 45:g=V+"{"+g+"}";break;case 107:g=(V=V.replace(m,"$1 $2"))+"{"+g+"}",g=1===I||2===I&&i("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=V+g,112===p&&(q+=g,g="")}else g="";break;default:g=t(s,e(s,V,F),g,p,h+1)}G+=g,g=F=z=R=f=0,V="",d=l.charCodeAt(++D);break;case 125:case 59:if(1<(j=(V=(0<z?V.replace(c,""):V).trim()).length))switch(0===R&&(f=V.charCodeAt(0),45===f||96<f&&123>f)&&(j=(V=V.replace(" ",":")).length),0<M&&void 0!==(x=a(1,V,s,n,k,T,q.length,p,h,p))&&0===(j=(V=x.trim()).length)&&(V="\0\0"),f=V.charCodeAt(0),d=V.charCodeAt(1),f){case 0:break;case 64:if(105===d||99===d){W+=V+l.charAt(D);break}default:58!==V.charCodeAt(j-1)&&(q+=r(V,f,d,V.charCodeAt(2)))}F=z=R=f=0,V="",d=l.charCodeAt(++D)}}switch(d){case 13:case 10:47===E?E=0:0===1+f&&107!==p&&0<V.length&&(z=1,V+="\0"),0<M*L&&a(0,V,s,n,k,T,q.length,p,h,p),T=1,k++;break;case 59:case 125:if(0===E+S+C+w){T++;break}default:switch(T++,_=l.charAt(D),d){case 9:case 32:if(0===S+w+E)switch(N){case 44:case 58:case 9:case 32:_="";break;default:32!==d&&(_=" ")}break;case 0:_="\\0";break;case 12:_="\\f";break;case 11:_="\\v";break;case 38:0===S+E+w&&(z=F=1,_="\f"+_);break;case 108:if(0===S+E+w+O&&0<R)switch(D-R){case 2:112===N&&58===l.charCodeAt(D-3)&&(O=N);case 8:111===A&&(O=A)}break;case 58:0===S+E+w&&(R=D);break;case 44:0===E+C+S+w&&(z=1,_+="\r");break;case 34:case 39:0===E&&(S=S===d?0:0===S?d:S);break;case 91:0===S+E+C&&w++;break;case 93:0===S+E+C&&w--;break;case 41:0===S+E+w&&C--;break;case 40:if(0===S+E+w){if(0===f)switch(2*N+3*A){case 533:break;default:f=1}C++}break;case 64:0===E+C+S+w+R+g&&(g=1);break;case 42:case 47:if(!(0<S+w+C))switch(E){case 0:switch(2*d+3*l.charCodeAt(D+1)){case 235:E=47;break;case 220:j=D,E=42}break;case 42:47===d&&42===N&&j+2!==D&&(33===l.charCodeAt(j+2)&&(q+=l.substring(j,D+1)),_="",E=0)}}0===E&&(V+=_)}A=N,N=d,D++}if(0<(j=q.length)){if(z=s,0<M&&(void 0!==(x=a(2,q,z,n,k,T,j,p,h,p))&&0===(q=x).length))return W+q+G;if(q=z.join(",")+"{"+q+"}",0!=I*O){switch(2!==I||i(q,2)||(O=0),O){case 111:q=q.replace(y,":-moz-$1")+q;break;case 112:q=q.replace(v,"::-webkit-input-$1")+q.replace(v,"::-moz-$1")+q.replace(v,":-ms-input-$1")+q}O=0}}return W+q+G}(P,s,n,0,0);return 0<M&&(void 0!==(l=a(-2,p,s,s,k,T,p.length,0,0,0))&&(p=l)),"",O=0,T=k=1,p}var u=/^\0+/g,c=/[\0\r\f]/g,p=/: */g,h=/zoo|gra/,f=/([,: ])(transform)/g,d=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,y=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,w=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,T=1,k=1,O=0,I=1,P=[],N=[],M=0,A=null,L=0;return l.use=function t(e){switch(e){case void 0:case null:M=N.length=0;break;default:if("function"==typeof e)N[M++]=e;else if("object"==typeof e)for(var n=0,r=e.length;n<r;++n)t(e[n]);else L=0|!!e}return t},l.set=s,void 0!==t&&s(t),l};function f(t){t&&d.current.insert(t+"}")}var d={current:null},g=function(t,e,n,r,i,o,a,s,l,u){switch(t){case 1:switch(e.charCodeAt(0)){case 64:return d.current.insert(e+";"),"";case 108:if(98===e.charCodeAt(2))return""}break;case 2:if(0===s)return e+"/*|*/";break;case 3:switch(s){case 102:case 112:return d.current.insert(n[0]+e),"";default:return e+(0===u?"/*|*/":"")}case-2:e.split("/*|*/}").forEach(f)}},m=function(t){void 0===t&&(t={});var e,n=t.key||"css";void 0!==t.prefix&&(e={prefix:t.prefix});var r=new h(e);var i,o={};i=t.container||document.head;var a,s=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(s,(function(t){t.getAttribute("data-emotion-"+n).split(" ").forEach((function(t){o[t]=!0})),t.parentNode!==i&&i.appendChild(t)})),r.use(t.stylisPlugins)(g),a=function(t,e,n,i){var o=e.name;d.current=n,r(t,e.styles),i&&(l.inserted[o]=!0)};var l={key:n,sheet:new p({key:n,container:i,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:o,registered:{},insert:a};return l};function v(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]):r+=n+" "})),r}var y=function(t,e,n){var r=t.key+"-"+e.name;if(!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles),void 0===t.inserted[e.name]){var i=e;do{t.insert("."+r,i,t.sheet,!0);i=i.next}while(void 0!==i)}};var _=function(t){for(var e,n=t.length,r=n^n,i=0;n>=4;)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+((1540483477*(e>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(e=1540483477*(65535&(e^=e>>>24))+((1540483477*(e>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&t.charCodeAt(i+2))<<16;case 2:r^=(255&t.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)},b={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},x=/[A-Z]|^ms/g,w=/_EMO_([^_]+?)_([^]*?)_EMO_/g,E=function(t){return 45===t.charCodeAt(1)},C=function(t){return null!=t&&"boolean"!=typeof t},S=a((function(t){return E(t)?t:t.replace(x,"-$&").toLowerCase()})),T=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(w,(function(t,e,n){return O={name:e,styles:n,next:O},e}))}return 1===b[t]||E(t)||"number"!=typeof e||0===e?e:e+"px"};function k(t,e,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return O={name:n.name,styles:n.styles,next:O},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)O={name:i.name,styles:i.styles,next:O},i=i.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=k(t,e,n[i],!1);else for(var o in n){var a=n[o];if("object"!=typeof a)null!=e&&void 0!==e[a]?r+=o+"{"+e[a]+"}":C(a)&&(r+=S(o)+":"+T(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=e&&void 0!==e[a[0]]){var s=k(t,e,a,!1);switch(o){case"animation":case"animationName":r+=S(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)C(a[l])&&(r+=S(o)+":"+T(o,a[l])+";")}return r}(t,e,n);case"function":if(void 0!==t){var o=O,a=n(t);return O=o,k(t,e,a,r)}break;case"string":}if(null==e)return n;var s=e[n];return void 0===s||r?n:s}var O,I=/label:\s*([^\s;\n{]+)\s*;/g;var P=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";O=void 0;var o=t[0];null==o||void 0===o.raw?(r=!1,i+=k(n,e,o,!1)):i+=o[0];for(var a=1;a<t.length;a++)i+=k(n,e,t[a],46===i.charCodeAt(i.length-1)),r&&(i+=o[a]);I.lastIndex=0;for(var s,l="";null!==(s=I.exec(i));)l+="-"+s[1];return{name:_(i)+l,styles:i,next:O}};var N=Object(o.createContext)("undefined"!=typeof HTMLElement?m():null),M=Object(o.createContext)({}),A=(N.Provider,function(t){return Object(o.forwardRef)((function(e,n){return Object(o.createElement)(N.Consumer,null,(function(r){return t(e,r,n)}))}))});Object.prototype.hasOwnProperty;o.Component;var L=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var o=e[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=t(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function R(t,e,n){var r=[],i=v(t,r,n);return r.length<2?n:i+e(r)}A((function(t,e){return Object(o.createElement)(M.Consumer,null,(function(n){var r=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=P(n,e.registered);return y(e,i,!1),e.key+"-"+i.name},i={css:r,cx:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return R(e.registered,r,L(n))},theme:n},o=t.children(i);return!0,o}))}));var D=l,z=function(t){return"theme"!==t&&"innerRef"!==t},F=function(t){return"string"==typeof t&&t.charCodeAt(0)>96?D:z};function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(n,!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var U=function t(e,n){var r,i,a;void 0!==n&&(r=n.label,a=n.target,i=e.__emotion_forwardProp&&n.shouldForwardProp?function(t){return e.__emotion_forwardProp(t)&&n.shouldForwardProp(t)}:n.shouldForwardProp);var s=e.__emotion_real===e,l=s&&e.__emotion_base||e;"function"!=typeof i&&s&&(i=e.__emotion_forwardProp);var u=i||F(l),c=!u("as");return function(){var p=arguments,h=s&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==p[0]||void 0===p[0].raw)h.push.apply(h,p);else{0,h.push(p[0][0]);for(var f=p.length,d=1;d<f;d++)h.push(p[d],p[0][d])}var g=A((function(t,e,n){return Object(o.createElement)(M.Consumer,null,(function(r){var s=c&&t.as||l,p="",f=[],d=t;if(null==t.theme){for(var g in d={},t)d[g]=t[g];d.theme=r}"string"==typeof t.className?p=v(e.registered,f,t.className):null!=t.className&&(p=t.className+" ");var m=P(h.concat(f),e.registered,d);y(e,m,"string"==typeof s);p+=e.key+"-"+m.name,void 0!==a&&(p+=" "+a);var _=c&&void 0===i?F(s):u,b={};for(var x in t)c&&"as"===x||_(x)&&(b[x]=t[x]);return b.className=p,b.ref=n||t.innerRef,Object(o.createElement)(s,b)}))}));return g.displayName=void 0!==r?r:"Styled("+("string"==typeof l?l:l.displayName||l.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=l,g.__emotion_styles=h,g.__emotion_forwardProp=i,Object.defineProperty(g,"toString",{value:function(){return"."+a}}),g.withComponent=function(e,r){return t(e,void 0!==r?B({},n||{},{},r):n).apply(void 0,h)},g}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){U[t]=U(t)}));e.default=U},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){"use strict";n.r(e),n.d(e,"__DO_NOT_USE__ActionTypes",(function(){return o})),n.d(e,"applyMiddleware",(function(){return m})),n.d(e,"bindActionCreators",(function(){return p})),n.d(e,"combineReducers",(function(){return u})),n.d(e,"compose",(function(){return g})),n.d(e,"createStore",(function(){return s}));var r=n(235),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function s(t,e,n){var i;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var l=t,u=e,c=[],p=c,h=!1;function f(){p===c&&(p=c.slice())}function d(){if(h)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function g(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(h)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return f(),p.push(t),function(){if(e){if(h)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,f();var n=p.indexOf(t);p.splice(n,1),c=null}}}function m(t){if(!a(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,u=l(u,t)}finally{h=!1}for(var e=c=p,n=0;n<e.length;n++){(0,e[n])()}return t}function v(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");l=t,m({type:o.REPLACE})}function y(){var t,e=g;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(d())}return n(),{unsubscribe:e(n)}}})[r.a]=function(){return this},t}return m({type:o.INIT}),(i={dispatch:m,subscribe:g,getState:d,replaceReducer:v})[r.a]=y,i}function l(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];0,"function"==typeof t[i]&&(n[i]=t[i])}var a,s=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:o.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(t){a=t}return function(t,e){if(void 0===t&&(t={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var u=s[o],c=n[u],p=t[u],h=c(p,e);if(void 0===h){var f=l(u,e);throw new Error(f)}i[u]=h,r=r||h!==p}return(r=r||s.length!==Object.keys(t).length)?i:t}}function c(t,e){return function(){return e(t.apply(this,arguments))}}function p(t,e){if("function"==typeof t)return c(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in t){var i=t[r];"function"==typeof i&&(n[r]=c(i,e))}return n}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function m(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return d({},n,{dispatch:r=g.apply(void 0,o)(n.dispatch)})}}}},function(t,e,n){var r=n(475)(n(223));t.exports=r},function(t,e,n){var r=n(556),i=n(46),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=i(t))&&t.replace(o,r).replace(a,"")}},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(564)),i=o(n(567));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n,o){null===e&&(e=Function.prototype);var a=(0,i.default)(e,n);if(void 0===a){var s=(0,r.default)(e);return null===s?void 0:t(s,n,o)}if("value"in a)return a.value;var l=a.get;return void 0!==l?l.call(o):void 0}},function(t,e,n){var r=n(139),i=n(197),o=n(35);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,i,e(t,i,o))})),n}},function(t,e,n){var r=n(576);t.exports=f,t.exports.parse=o,t.exports.compile=function(t,e){return s(o(t,e),e)},t.exports.tokensToFunction=s,t.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(t,e){for(var n,r=[],o=0,a=0,s="",c=e&&e.delimiter||"/";null!=(n=i.exec(t));){var p=n[0],h=n[1],f=n.index;if(s+=t.slice(a,f),a=f+p.length,h)s+=h[1];else{var d=t[a],g=n[2],m=n[3],v=n[4],y=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var x=null!=g&&null!=d&&d!==g,w="+"===_||"*"===_,E="?"===_||"*"===_,C=n[2]||c,S=v||y;r.push({name:m||o++,prefix:g||"",delimiter:C,optional:E,repeat:w,partial:x,asterisk:!!b,pattern:S?u(S):b?".*":"[^"+l(C)+"]+?"})}}return a<t.length&&(s+=t.substr(a)),s&&r.push(s),r}function a(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function s(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"==typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",p(e)));return function(e,i){for(var o="",s=e||{},l=(i||{}).pretty?a:encodeURIComponent,u=0;u<t.length;u++){var c=t[u];if("string"!=typeof c){var p,h=s[c.name];if(null==h){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(p=l(h[f]),!n[u].test(p))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===f?c.prefix:c.delimiter)+p}}else{if(p=c.asterisk?encodeURI(h).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):l(h),!n[u].test(p))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+p+'"');o+=c.prefix+p}}else o+=c}return o}}function l(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function c(t,e){return t.keys=e,t}function p(t){return t&&t.sensitive?"":"i"}function h(t,e,n){r(e)||(n=e||n,e=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<t.length;s++){var u=t[s];if("string"==typeof u)a+=l(u);else{var h=l(u.prefix),f="(?:"+u.pattern+")";e.push(u),u.repeat&&(f+="(?:"+h+f+")*"),a+=f=u.optional?u.partial?h+"("+f+")?":"(?:"+h+"("+f+"))?":h+"("+f+")"}}var d=l(n.delimiter||"/"),g=a.slice(-d.length)===d;return i||(a=(g?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&g?"":"(?="+d+"|$)",c(new RegExp("^"+a,p(n)),e)}function f(t,e,n){return r(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(t,e)}(t,e):r(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(f(t[i],e,n).source);return c(new RegExp("(?:"+r.join("|")+")",p(n)),e)}(t,e,n):function(t,e,n){return h(o(t,n),e,n)}(t,e,n)}},function(t,e,n){var r=n(19)("keys",n(25),n(40));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("isNil",n(13),n(40));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(295);t.exports=function(t,e,n){return null==t?t:r(t,e,n)}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h}));var r=n(12),i=n(11),o=n(4),a=n(1),s=n.n(a),l=n(37);var u={container:s.a.object,gl:s.a.object,mapboxApiAccessToken:s.a.string,mapboxApiUrl:s.a.string,attributionControl:s.a.bool,preserveDrawingBuffer:s.a.bool,reuseMaps:s.a.bool,transformRequest:s.a.func,mapOptions:s.a.object,mapStyle:s.a.oneOfType([s.a.string,s.a.object]),visible:s.a.bool,asyncRender:s.a.bool,onLoad:s.a.func,onError:s.a.func,width:s.a.number,height:s.a.number,viewState:s.a.object,longitude:s.a.number,latitude:s.a.number,zoom:s.a.number,bearing:s.a.number,pitch:s.a.number,altitude:s.a.number},c={container:l.a.body,mapboxApiAccessToken:function(){var e=null;if("undefined"!=typeof window&&window.location){var n=window.location.search.match(/access_token=([^&\/]*)/);e=n&&n[1]}e||void 0===t||(e=e||t.env.MapboxAccessToken||t.env.REACT_APP_MAPBOX_ACCESS_TOKEN);return e||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,asyncRender:!1,onLoad:function(){},onError:function(t){t&&console.error(t.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0};function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";t.debug&&s.a.checkPropTypes(u,t,"prop",e)}var h=function(){function t(e){var n=this;if(Object(r.a)(this,t),Object(o.a)(this,"mapboxgl",void 0),Object(o.a)(this,"props",c),Object(o.a)(this,"_map",null),Object(o.a)(this,"width",0),Object(o.a)(this,"height",0),Object(o.a)(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),!e.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=e.mapboxgl,t.initialized||(t.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(e)}return Object(i.a)(t,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(t){return this._update(this.props,t),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"redraw",value:function(){var t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(e){this._map=t.savedMap;var n=this._map.getContainer(),r=e.container;for(r.classList.add("mapboxgl-map");n.childNodes.length>0;)r.appendChild(n.childNodes[0]);this._map._container=r,t.savedMap=null,e.mapStyle&&this._map.setStyle(e.mapStyle,{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(e){if(e.reuseMaps&&t.savedMap)this._reuse(e);else{if(e.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,e.gl}}var r={container:e.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:e.mapStyle,interactive:!1,trackResize:!1,attributionControl:e.attributionControl,preserveDrawingBuffer:e.preserveDrawingBuffer};e.transformRequest&&(r.transformRequest=e.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},r,e.mapOptions)),this._map.once("load",e.onLoad),this._map.on("error",e.onError)}return this}},{key:"_destroy",value:function(){this._map&&(t.savedMap?this._map.remove():(t.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(t){var e=this;p(t=Object.assign({},c,t),"Mapbox"),this.mapboxgl.accessToken=t.mapboxApiAccessToken||c.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=t.mapboxApiUrl,this._create(t);var n=t.container;Object.defineProperty(n,"offsetWidth",{get:function(){return e.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return e.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return e.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return e.height}});var r=this._map.getCanvas();r&&(r.style.outline="none"),this._updateMapViewport({},t),this._updateMapSize({},t),this.props=t}},{key:"_update",value:function(t,e){if(this._map){p(e=Object.assign({},this.props,e),"Mapbox");var n=this._updateMapViewport(t,e),r=this._updateMapSize(t,e);e.asyncRender||!n&&!r||this.redraw(),this.props=e}}},{key:"_updateMapSize",value:function(t,e){var n=t.width!==e.width||t.height!==e.height;return n&&(this.width=e.width,this.height=e.height,this.resize()),n}},{key:"_updateMapViewport",value:function(t,e){var n=this._getViewState(t),r=this._getViewState(e),i=r.latitude!==n.latitude||r.longitude!==n.longitude||r.zoom!==n.zoom||r.pitch!==n.pitch||r.bearing!==n.bearing||r.altitude!==n.altitude;return i&&(this._map.jumpTo(this._viewStateToMapboxProps(r)),r.altitude!==n.altitude&&(this._map.transform.altitude=r.altitude)),i}},{key:"_getViewState",value:function(t){var e=t.viewState||t,n=e.longitude,r=e.latitude,i=e.zoom,o=e.pitch,a=void 0===o?0:o,s=e.bearing,l=void 0===s?0:s,u=e.altitude;return{longitude:n,latitude:r,zoom:i,pitch:a,bearing:l,altitude:void 0===u?1.5:u}}},{key:"_checkStyleSheet",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if(void 0!==l.a)try{var e=l.a.createElement("div");e.className="mapboxgl-map",e.style.display="none",l.a.body.append(e);var n="static"!==window.getComputedStyle(e).position;if(!n){var r=l.a.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(t,"/mapbox-gl.css")),l.a.head.append(r)}}catch(t){}}},{key:"_viewStateToMapboxProps",value:function(t){return{center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}}}]),t}();Object(o.a)(h,"initialized",!1),Object(o.a)(h,"propTypes",u),Object(o.a)(h,"defaultProps",c),Object(o.a)(h,"savedMap",null)}).call(this,n(579))},function(t,e,n){var r=n(371);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(82);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(180)("keys"),i=n(116);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(30),i=n(57),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(115)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(68),i=n(381),o=n(181),a=n(179)("IE_PROTO"),s=function(){},l=function(){var t,e=n(238)("iframe"),r=o.length;for(e.style.display="none",n(382).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l.prototype[o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(58).f,i=n(69),o=n(43)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){n(383);for(var r=n(57),i=n(81),o=n(84),a=n(43)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=r[u],p=c&&c.prototype;p&&!p[a]&&i(p,a,u),o[u]=o.Array}},function(t,e,n){e.f=n(43)},function(t,e,n){var r=n(57),i=n(30),o=n(115),a=n(186),s=n(58).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(117),i=n(94),o=n(70),a=n(175),s=n(69),l=n(237),u=Object.getOwnPropertyDescriptor;e.f=n(59)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(18),i=n(72),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(407),i=n(423),o=n(425),a=n(426),s=n(427);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var r=n(74)(n(31),"Map");t.exports=r},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){var r=n(430),i=n(255)(r);t.exports=i},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(133);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(440),i=n(25);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e,n){var r=n(120),i=n(448),o=n(449),a=n(450),s=n(451),l=n(452);function u(t){var e=this.__data__=new r(t);this.size=e.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,t.exports=u},function(t,e,n){var r=n(453),i=n(27);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},function(t,e,n){var r=n(260),i=n(270),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e,n){var r=n(102),i=n(202);function o(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=r(i.prototype),o.prototype.constructor=o,t.exports=o},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(281),i=n(287),o=r?function(t){return r.get(t)}:i;t.exports=o},function(t,e,n){var r=n(102),i=n(202);function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,t.exports=o},function(t,e){t.exports=function(t){return t.placeholder}},function(t,e,n){var r=n(198),i=n(101),o=n(143),a=n(291),s=n(501),l=n(504),u=n(103),c=n(505),p=n(506),h=n(268),f=n(208),d=n(63),g=n(507),m=n(508),v=n(513),y=n(18),_=n(99),b=n(514),x=n(28),w=n(516),E=n(25),C={};C["[object Arguments]"]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C["[object Object]"]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C["[object Function]"]=C["[object WeakMap]"]=!1,t.exports=function t(e,n,S,T,k,O){var I,P=1&n,N=2&n,M=4&n;if(S&&(I=k?S(e,T,k,O):S(e)),void 0!==I)return I;if(!x(e))return e;var A=y(e);if(A){if(I=g(e),!P)return u(e,I)}else{var L=d(e),R="[object Function]"==L||"[object GeneratorFunction]"==L;if(_(e))return l(e,P);if("[object Object]"==L||"[object Arguments]"==L||R&&!k){if(I=N||R?{}:v(e),!P)return N?p(e,s(I,e)):c(e,a(I,e))}else{if(!C[L])return k?e:{};I=m(e,L,P)}}O||(O=new r);var D=O.get(e);if(D)return D;O.set(e,I),w(e)?e.forEach((function(r){I.add(t(r,n,S,r,e,O))})):b(e)&&e.forEach((function(r,i){I.set(i,t(r,n,S,i,e,O))}));var z=M?N?f:h:N?keysIn:E,F=A?void 0:z(e);return i(F||e,(function(r,i){F&&(r=e[i=r]),o(I,i,t(r,n,S,i,e,O))})),I}},function(t,e,n){var r=n(261),i=n(502),o=n(39);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(269),i=n(292),o=n(207);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(266);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(127);t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},function(t,e,n){t.exports=function(){"use strict";var t,e,n;function r(r,i){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),(n=i(a)).workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"}))}else e=i;else t=i}return r(0,(function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=r;function r(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}r.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},r.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},r.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},r.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},r.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var i=o;function o(t,e){this.x=t,this.y=e}function a(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!a(t[n],e[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!a(t[r],e[r]))return!1;return!0}return t===e}function s(t,e,r,i){var o=new n(t,e,r,i);return function(t){return o.solve(t)}}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.x+n*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t};var l=s(.25,.1,.25,1);function u(t,e,n){return Math.min(n,Math.max(e,t))}function c(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i}function p(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var h=1;function f(){return h++}function d(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function g(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function m(t,e){t.forEach((function(t){e[t]&&(e[t]=e[t].bind(e))}))}function v(t,e){return-1!==t.indexOf(e,t.length-e.length)}function y(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r}function _(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r}function b(t){return Array.isArray(t)?t.map(b):"object"==typeof t&&t?y(t,b):t}var x={};function w(t){x[t]||("undefined"!=typeof console&&console.warn(t),x[t]=!0)}function E(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function C(t){for(var e=0,n=0,r=t.length,i=r-1,o=void 0,a=void 0;n<r;i=n++)o=t[n],e+=((a=t[i]).x-o.x)*(o.y+a.y);return e}function S(t){try{var e=self[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var T,k,O,I=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),P=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,N=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,M={now:I,frame:function(t){var e=P(t);return{cancel:function(){return N(e)}}},getImageData:function(t){var e=self.document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height)},resolveURL:function(t){return T||(T=self.document.createElement("a")),T.href=t,T.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio}},A={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},L={supported:!1,testSupport:function(t){!R&&O&&(D?z(t):k=t)}},R=!1,D=!1;function z(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,O),t.isContextLost())return;L.supported=!0}catch(t){}t.deleteTexture(e),R=!0}self.document&&((O=self.document.createElement("img")).onload=function(){k&&z(k),k=null,D=!0},O.onerror=function(){R=!0,k=null},O.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var F="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes";function j(t,e){var n=Y(A.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,"/"!==n.path&&(t.path=""+n.path+t.path),!A.REQUIRE_ACCESS_TOKEN)return X(t);if(!(e=e||A.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+F);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+F);return t.params.push("access_token="+e),X(t)}function B(t){return 0===t.indexOf("mapbox:")}var U=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function V(t){return U.test(t)}var q=/(\.(png|jpg)\d*)(?=$)/,G=/\.[\w]+$/,W=function(t){var e=Y(t);if(!e.path.match(/(^\/v4\/)/)||!e.path.match(G))return t;var n="mapbox://tiles/";n+=e.path.replace("/v4/","");var r=e.params.filter((function(t){return!t.match(/^access_token=/)}));return r.length&&(n+="?"+r.join("&")),n},H=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/;function Y(t){var e=t.match(H);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function X(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function Z(t){if(!t)return null;var e,n=t.split(".");if(!n||3!==n.length)return null;try{return JSON.parse((e=n[1],decodeURIComponent(self.atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(t){return null}}var K=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};K.prototype.getStorageKey=function(t){var e,n=Z(A.ACCESS_TOKEN),r="";return n&&n.u?(e=n.u,r=self.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x"+e))})))):r=A.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+r:"mapbox.eventData:"+r},K.prototype.fetchEventData=function(){var t=S("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var r=self.localStorage.getItem(e);r&&(this.eventData=JSON.parse(r));var i=self.localStorage.getItem(n);i&&(this.anonId=i)}catch(t){w("Unable to read from LocalStorage")}},K.prototype.saveEventData=function(){var t=S("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{self.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){w("Unable to write to LocalStorage")}},K.prototype.processRequests=function(){},K.prototype.postEvent=function(t,e,n){var r=this;if(A.EVENTS_URL){var i=Y(A.EVENTS_URL);i.params.push("access_token="+(A.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"0.54.1",userId:this.anonId},a=e?p(o,e):o,s={url:X(i),headers:{"Content-Type":"text/plain"},body:JSON.stringify([a])};this.pendingRequest=ct(s,(function(t){r.pendingRequest=null,n(t),r.saveEventData(),r.processRequests()}))}},K.prototype.queueRequest=function(t){this.queue.push(t),this.processRequests()};var $=function(t){function e(){t.call(this,"map.load"),this.success={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postMapLoadEvent=function(t,e){A.EVENTS_URL&&A.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return B(t)||V(t)}))&&this.queueRequest({id:e,timestamp:Date.now()})},e.prototype.processRequests=function(){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var e=this.queue.shift(),n=e.id,r=e.timestamp;n&&this.success[n]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=d()),this.postEvent(r,{},(function(e){e||n&&(t.success[n]=!0)})))}},e}(K),J=new(function(t){function e(){t.call(this,"appUserTurnstile")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postTurnstileEvent=function(t){A.EVENTS_URL&&A.ACCESS_TOKEN&&Array.isArray(t)&&t.some((function(t){return B(t)||V(t)}))&&this.queueRequest(Date.now())},e.prototype.processRequests=function(){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var e=Z(A.ACCESS_TOKEN),n=e?e.u:A.ACCESS_TOKEN,r=n!==this.eventData.tokenU;g(this.anonId)||(this.anonId=d(),r=!0);var i=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),a=new Date(i),s=(i-this.eventData.lastSuccess)/864e5;r=r||s>=1||s<-1||o.getDate()!==a.getDate()}else r=!0;if(!r)return this.processRequests();this.postEvent(i,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=i,t.eventData.tokenU=n)}))}},e}(K)),Q=J.postTurnstileEvent.bind(J),tt=new $,et=tt.postMapLoadEvent.bind(tt),nt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(nt);var rt=function(t){function e(e,n,r){401===n&&V(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=n,this.url=r,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error);function it(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}var ot,at,st=it()?function(){return self.worker&&self.worker.referrer}:function(){var t=self.location.origin;if(t&&"null"!==t&&"file://"!==t)return t+self.location.pathname},lt=function(t,e){if(!/^file:/.test(t.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return function(t,e){var n=new self.AbortController,r=new self.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:st(),signal:n.signal});return"json"===t.type&&r.headers.set("Accept","application/json"),self.fetch(r).then((function(n){n.ok?n[t.type||"text"]().then((function(t){e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires"))})).catch((function(t){return e(new Error(t.message))})):e(new rt(n.statusText,n.status,t.url))})).catch((function(t){20!==t.code&&e(new Error(t.message))})),{cancel:function(){return n.abort()}}}(t,e);if(it()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e)}return function(t,e){var n=new self.XMLHttpRequest;for(var r in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(r,t.headers[r]);return"json"===t.type&&n.setRequestHeader("Accept","application/json"),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var r=n.response;if("json"===t.type)try{r=JSON.parse(n.response)}catch(t){return e(t)}e(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new rt(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}}(t,e)},ut=function(t,e){return lt(p(t,{type:"arrayBuffer"}),e)},ct=function(t,e){return lt(p(t,{method:"POST"}),e)};ot=[],at=0;var pt=function(t,e){if(at>=A.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:e,cancelled:!1,cancel:function(){this.cancelled=!0}};return ot.push(n),n}at++;var r=!1,i=function(){if(!r)for(r=!0,at--;ot.length&&at<A.MAX_PARALLEL_IMAGE_REQUESTS;){var t=ot.shift(),e=t.requestParameters,n=t.callback;t.cancelled||(t.cancel=pt(e,n).cancel)}},o=ut(t,(function(t,n,r,o){if(i(),t)e(t);else if(n){var a=new self.Image,s=self.URL||self.webkitURL;a.onload=function(){e(null,a),s.revokeObjectURL(a.src)},a.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var l=new self.Blob([new Uint8Array(n)],{type:"image/png"});a.cacheControl=r,a.expires=o,a.src=n.byteLength?s.createObjectURL(l):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}));return{cancel:function(){o.cancel(),i()}}};function ht(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function ft(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var dt=function(t,e){void 0===e&&(e={}),p(this,e),this.type=t},gt=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",p({error:e},n))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(dt),mt=function(){};mt.prototype.on=function(t,e){return this._listeners=this._listeners||{},ht(t,e,this._listeners),this},mt.prototype.off=function(t,e){return ft(t,e,this._listeners),ft(t,e,this._oneTimeListeners),this},mt.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},ht(t,e,this._oneTimeListeners),this},mt.prototype.fire=function(t,e){"string"==typeof t&&(t=new dt(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;for(var r=0,i=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];r<i.length;r+=1)i[r].call(this,t);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];ft(n,s,this._oneTimeListeners),s.call(this,t)}var l=this._eventedParent;l&&(p(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(t))}else t instanceof gt&&console.error(t.error);return this},mt.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},mt.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var vt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:[{"!":"text-offset"}],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:[{"!":"text-anchor"},{"!":"text-offset"},{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",requires:["text-field"],values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},yt=function(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)};function _t(t){var e=t.key,n=t.value;return n?[new yt(e,n,"constants have been deprecated as of v8")]:[]}function bt(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}function xt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function wt(t){return Array.isArray(t)?t.map(wt):xt(t)}var Et=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Ct=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n],o=i[0],a=i[1];this.bindings[o]=a}};Ct.prototype.concat=function(t){return new Ct(this,t)},Ct.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Ct.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var St={kind:"null"},Tt={kind:"number"},kt={kind:"string"},Ot={kind:"boolean"},It={kind:"color"},Pt={kind:"object"},Nt={kind:"value"},Mt={kind:"collator"},At={kind:"formatted"};function Lt(t,e){return{kind:"array",itemType:t,N:e}}function Rt(t){if("array"===t.kind){var e=Rt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var Dt=[St,Tt,kt,Ot,It,At,Pt,Lt(Nt)];function zt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!zt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=Dt;n<r.length;n+=1)if(!zt(r[n],e))return null}return"Expected "+Rt(t)+" but found "+Rt(e)+" instead."}var Ft=e((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function o(t){return"%"===t[t.length-1]?r(parseFloat(t)/100*255):r(parseInt(t))}function a(t){return"%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in n)return n[i].slice();if("#"===i[0])return 4===i.length?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=i.indexOf("("),u=i.indexOf(")");if(-1!==l&&u+1===i.length){var c=i.substr(0,l),p=i.substr(l+1,u-(l+1)).split(","),h=1;switch(c){case"rgba":if(4!==p.length)return null;h=a(p.pop());case"rgb":return 3!==p.length?null:[o(p[0]),o(p[1]),o(p[2]),h];case"hsla":if(4!==p.length)return null;h=a(p.pop());case"hsl":if(3!==p.length)return null;var f=(parseFloat(p[0])%360+360)%360/360,d=a(p[1]),g=a(p[2]),m=g<=.5?g*(d+1):g+d-g*d,v=2*g-m;return[r(255*s(v,m,f+1/3)),r(255*s(v,m,f)),r(255*s(v,m,f-1/3)),h];default:return null}}return null}}catch(t){}})).parseCSSColor,jt=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};jt.parse=function(t){if(t){if(t instanceof jt)return t;if("string"==typeof t){var e=Ft(t);if(e)return new jt(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},jt.prototype.toString=function(){var t=this.toArray(),e=t[0],n=t[1],r=t[2],i=t[3];return"rgba("+Math.round(e)+","+Math.round(n)+","+Math.round(r)+","+i+")"},jt.prototype.toArray=function(){var t=this.r,e=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*t/r,255*e/r,255*n/r,r]},jt.black=new jt(0,0,0,1),jt.white=new jt(1,1,1,1),jt.transparent=new jt(0,0,0,0),jt.red=new jt(1,0,0,1);var Bt=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Bt.prototype.compare=function(t,e){return this.collator.compare(t,e)},Bt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Ut=function(t,e,n){this.text=t,this.scale=e,this.fontStack=n},Vt=function(t){this.sections=t};function qt(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Gt(t){if(null===t)return St;if("string"==typeof t)return kt;if("boolean"==typeof t)return Ot;if("number"==typeof t)return Tt;if(t instanceof jt)return It;if(t instanceof Bt)return Mt;if(t instanceof Vt)return At;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=Gt(i[r]);if(e){if(e===o)continue;e=Nt;break}e=o}return Lt(e||Nt,n)}return Pt}function Wt(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof jt||t instanceof Vt?t.toString():JSON.stringify(t)}Vt.fromString=function(t){return new Vt([new Ut(t,null,null)])},Vt.prototype.toString=function(){return this.sections.map((function(t){return t.text})).join("")},Vt.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),t.push(i)}return t};var Ht=function(t,e){this.type=t,this.value=e};Ht.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof jt)return!0;if(e instanceof Bt)return!0;if(e instanceof Vt)return!0;if(Array.isArray(e)){for(var n=0,r=e;n<r.length;n+=1)if(!t(r[n]))return!1;return!0}if("object"==typeof e){for(var i in e)if(!t(e[i]))return!1;return!0}return!1}(t[1]))return e.error("invalid value");var n=t[1],r=Gt(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new Ht(r,n)},Ht.prototype.evaluate=function(){return this.value},Ht.prototype.eachChild=function(){},Ht.prototype.possibleOutputs=function(){return[this.value]},Ht.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof jt?["rgba"].concat(this.value.toArray()):this.value instanceof Vt?this.value.serialize():this.value};var Yt=function(t){this.name="ExpressionEvaluationError",this.message=t};Yt.prototype.toJSON=function(){return this.message};var Xt={string:kt,number:Tt,boolean:Ot,object:Pt},Zt=function(t,e){this.type=t,this.args=e};Zt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,r=1,i=t[0];if("array"===i){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in Xt)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=Xt[s],r++}else o=Nt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],r++}n=Lt(o,a)}else n=Xt[i];for(var l=[];r<t.length;r++){var u=e.parse(t[r],r,Nt);if(!u)return null;l.push(u)}return new Zt(n,l)},Zt.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!zt(this.type,Gt(n)))return n;if(e===this.args.length-1)throw new Yt("Expected value to be of type "+Rt(this.type)+", but found "+Rt(Gt(n))+" instead.")}return null},Zt.prototype.eachChild=function(t){this.args.forEach(t)},Zt.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},Zt.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var Kt=function(t){this.type=At,this.sections=t};Kt.parse=function(t,e){if(t.length<3)return e.error("Expected at least two arguments.");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");for(var n=[],r=1;r<t.length-1;r+=2){var i=e.parse(t[r],1,Nt);if(!i)return null;var o=i.type.kind;if("string"!==o&&"value"!==o&&"null"!==o)return e.error("Formatted text type must be 'string', 'value', or 'null'.");var a=t[r+1];if("object"!=typeof a||Array.isArray(a))return e.error("Format options argument must be an object.");var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,Tt)))return null;var l=null;if(a["text-font"]&&!(l=e.parse(a["text-font"],1,Lt(kt))))return null;n.push({text:i,scale:s,font:l})}return new Kt(n)},Kt.prototype.evaluate=function(t){return new Vt(this.sections.map((function(e){return new Ut(Wt(e.text.evaluate(t)),e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null)})))},Kt.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t(r.text),r.scale&&t(r.scale),r.font&&t(r.font)}},Kt.prototype.possibleOutputs=function(){return[void 0]},Kt.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.text.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),t.push(i)}return t};var $t={"to-boolean":Ot,"to-color":It,"to-number":Tt,"to-string":kt},Jt=function(t,e){this.type=t,this.args=e};Jt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var r=$t[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,Nt);if(!a)return null;i.push(a)}return new Jt(r,i)},Jt.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(e=i[r].evaluate(t))instanceof jt)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":qt(e[0],e[1],e[2],e[3])))return new jt(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new Yt(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,l=this.args;s<l.length;s+=1){if(null===(a=l[s].evaluate(t)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new Yt("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?Vt.fromString(Wt(this.args[0].evaluate(t))):Wt(this.args[0].evaluate(t))},Jt.prototype.eachChild=function(t){this.args.forEach(t)},Jt.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},Jt.prototype.serialize=function(){if("formatted"===this.type.kind)return new Kt([{text:this.args[0],scale:null,font:null}]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var Qt=["Unknown","Point","LineString","Polygon"],te=function(){this.globals=null,this.feature=null,this.featureState=null,this._parseColorCache={}};te.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},te.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?Qt[this.feature.type]:this.feature.type:null},te.prototype.properties=function(){return this.feature&&this.feature.properties||{}},te.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=jt.parse(t)),e};var ee=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};ee.prototype.evaluate=function(t){return this._evaluate(t,this.args)},ee.prototype.eachChild=function(t){this.args.forEach(t)},ee.prototype.possibleOutputs=function(){return[void 0]},ee.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},ee.parse=function(t,e){var n,r=t[0],i=ee.definitions[r];if(!i)return e.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),l=null,u=0,c=s;u<c.length;u+=1){var p=c[u],h=p[0],f=p[1];l=new se(e.registry,e.path,null,e.scope);for(var d=[],g=!1,m=1;m<t.length;m++){var v=t[m],y=Array.isArray(h)?h[m-1]:h.type,_=l.parse(v,1+d.length,y);if(!_){g=!0;break}d.push(_)}if(!g)if(Array.isArray(h)&&h.length!==d.length)l.error("Expected "+h.length+" arguments, but found "+d.length+" instead.");else{for(var b=0;b<d.length;b++){var x=Array.isArray(h)?h[b]:h.type,w=d[b];l.concat(b+1).checkSubtype(x,w.type)}if(0===l.errors.length)return new ee(r,o,f,d)}}if(1===s.length)(n=e.errors).push.apply(n,l.errors);else{for(var E=(s.length?s:a).map((function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(Rt).join(", ")+")":"("+Rt(e.type)+"...)"})).join(" | "),C=[],S=1;S<t.length;S++){var T=e.parse(t[S],1+C.length);if(!T)return null;C.push(Rt(T.type))}e.error("Expected arguments of type "+E+", but found ("+C.join(", ")+") instead.")}return null},ee.register=function(t,e){for(var n in ee.definitions=e,e)t[n]=ee};var ne=function(t,e,n){this.type=Mt,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function re(t){if(t instanceof ee){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild((function(t){e&&!re(t)&&(e=!1)})),e}function ie(t){if(t instanceof ee&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!ie(t)&&(e=!1)})),e}function oe(t,e){if(t instanceof ee&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!oe(t,e)&&(n=!1)})),n}ne.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Ot);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Ot);if(!i)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,kt))?null:new ne(r,i,o)},ne.prototype.evaluate=function(t){return new Bt(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},ne.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},ne.prototype.possibleOutputs=function(){return[void 0]},ne.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var ae=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};ae.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new ae(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},ae.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},ae.prototype.eachChild=function(){},ae.prototype.possibleOutputs=function(){return[void 0]},ae.prototype.serialize=function(){return["var",this.name]};var se=function(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new Ct),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function le(t,e){for(var n,r,i=0,o=t.length-1,a=0;i<=o;){if(n=t[a=Math.floor((i+o)/2)],r=t[a+1],e===n||e>n&&e<r)return a;if(n<e)i=a+1;else{if(!(n>e))throw new Yt("Input is not a number.");o=a-1}}return Math.max(a-1,0)}se.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},se.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new Zt(e,[t]):"coerce"===n?new Jt(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,e.typeAnnotation||"coerce");else o=n(o,a,e.typeAnnotation||"assert")}if(!(o instanceof Ht)&&function t(e){if(e instanceof ae)return t(e.boundExpression);if(e instanceof ee&&"error"===e.name)return!1;if(e instanceof ne)return!1;var n=e instanceof Jt||e instanceof Zt,r=!0;return e.eachChild((function(e){r=n?r&&t(e):r&&e instanceof Ht})),!!r&&re(e)&&oe(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var l=new te;try{o=new Ht(o.type,o.evaluate(l))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"==typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},se.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new se(this.registry,r,e||null,i,this.errors)},se.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new Et(r,t))},se.prototype.checkSubtype=function(t,e){var n=zt(t,e);return n&&this.error(n),n};var ue=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[0],s=o[1];this.labels.push(a),this.outputs.push(s)}};function ce(t,e,n){return t*(1-n)+e*n}ue.parse=function(t,e){var n=t[1],r=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,1,Tt)))return null;var i=[],o=null;e.expectedType&&"value"!==e.expectedType.kind&&(o=e.expectedType),r.unshift(-1/0);for(var a=0;a<r.length;a+=2){var s=r[a],l=r[a+1],u=a+1,c=a+2;if("number"!=typeof s)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(i.length&&i[i.length-1][0]>=s)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var p=e.parse(l,c,o);if(!p)return null;o=o||p.type,i.push([s,p])}return new ue(o,n,i)},ue.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[le(e,r)].evaluate(t)},ue.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},ue.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},ue.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var pe=Object.freeze({number:ce,color:function(t,e,n){return new jt(ce(t.r,e.r,n),ce(t.g,e.g,n),ce(t.b,e.b,n),ce(t.a,e.a,n))},array:function(t,e,n){return t.map((function(t,r){return ce(t,e[r],n)}))}}),he=6/29,fe=3*he*he,de=Math.PI/180,ge=180/Math.PI;function me(t){return t>.008856451679035631?Math.pow(t,1/3):t/fe+4/29}function ve(t){return t>he?t*t*t:fe*(t-4/29)}function ye(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _e(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function be(t){var e=_e(t.r),n=_e(t.g),r=_e(t.b),i=me((.4124564*e+.3575761*n+.1804375*r)/.95047),o=me((.2126729*e+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-me((.0193339*e+.119192*n+.9503041*r)/1.08883)),alpha:t.a}}function xe(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=1*ve(e),n=.95047*ve(n),r=1.08883*ve(r),new jt(ye(3.2404542*n-1.5371385*e-.4985314*r),ye(-.969266*n+1.8760108*e+.041556*r),ye(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function we(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}var Ee={forward:be,reverse:xe,interpolate:function(t,e,n){return{l:ce(t.l,e.l,n),a:ce(t.a,e.a,n),b:ce(t.b,e.b,n),alpha:ce(t.alpha,e.alpha,n)}}},Ce={forward:function(t){var e=be(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*ge;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*de,n=t.c;return xe({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:we(t.h,e.h,n),c:ce(t.c,e.c,n),l:ce(t.l,e.l,n),alpha:ce(t.alpha,e.alpha,n)}}},Se=Object.freeze({lab:Ee,hcl:Ce}),Te=function(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],l=s[0],u=s[1];this.labels.push(l),this.outputs.push(u)}};function ke(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}Te.interpolationFactor=function(t,e,r,i){var o=0;if("exponential"===t.name)o=ke(e,t.base,r,i);else if("linear"===t.name)o=ke(e,1,r,i);else if("cubic-bezier"===t.name){var a=t.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(ke(e,1,r,i))}return o},Te.parse=function(t,e){var n=t[0],r=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,Tt)))return null;var l=[],u=null;"interpolate-hcl"===n||"interpolate-lab"===n?u=It:e.expectedType&&"value"!==e.expectedType.kind&&(u=e.expectedType);for(var c=0;c<o.length;c+=2){var p=o[c],h=o[c+1],f=c+3,d=c+4;if("number"!=typeof p)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(l.length&&l[l.length-1][0]>=p)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var g=e.parse(h,d,u);if(!g)return null;u=u||g.type,l.push([p,g])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new Te(u,n,r,i,l):e.error("Type "+Rt(u)+" is not interpolatable.")},Te.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=le(e,r),a=e[o],s=e[o+1],l=Te.interpolationFactor(this.interpolation,r,a,s),u=n[o].evaluate(t),c=n[o+1].evaluate(t);return"interpolate"===this.operator?pe[this.type.kind.toLowerCase()](u,c,l):"interpolate-hcl"===this.operator?Ce.reverse(Ce.interpolate(Ce.forward(u),Ce.forward(c),l)):Ee.reverse(Ee.interpolate(Ee.forward(u),Ee.forward(c),l))},Te.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Te.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},Te.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var Oe=function(t,e){this.type=t,this.args=e};Oe.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=a[o],l=e.parse(s,1+i.length,n,void 0,{typeAnnotation:"omit"});if(!l)return null;n=n||l.type,i.push(l)}var u=r&&i.some((function(t){return zt(r,t.type)}));return new Oe(u?Nt:n,i)},Oe.prototype.evaluate=function(t){for(var e=null,n=0,r=this.args;n<r.length&&null===(e=r[n].evaluate(t));n+=1);return e},Oe.prototype.eachChild=function(t){this.args.forEach(t)},Oe.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},Oe.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Ie=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};Ie.prototype.evaluate=function(t){return this.result.evaluate(t)},Ie.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},Ie.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!=typeof i)return e.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return a?new Ie(n,a):null},Ie.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},Ie.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t.push(i,o.serialize())}return t.push(this.result.serialize()),t};var Pe=function(t,e,n){this.type=t,this.index=e,this.input=n};Pe.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Tt),r=e.parse(t[2],2,Lt(e.expectedType||Nt));if(!n||!r)return null;var i=r.type;return new Pe(i.itemType,n,r)},Pe.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new Yt("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new Yt("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new Yt("Array index must be an integer, but found "+e+" instead.");return n[e]},Pe.prototype.eachChild=function(t){t(this.index),t(this.input)},Pe.prototype.possibleOutputs=function(){return[void 0]},Pe.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Ne=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};Ne.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],l=t[a+1];Array.isArray(s)||(s=[s]);var u=e.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,p=s;c<p.length;c+=1){var h=p[c];if("number"!=typeof h&&"string"!=typeof h)return u.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,Gt(h)))return null}else n=Gt(h);if(void 0!==i[String(h)])return u.error("Branch labels must be unique.");i[String(h)]=o.length}var f=e.parse(l,a,r);if(!f)return null;r=r||f.type,o.push(f)}var d=e.parse(t[1],1,Nt);if(!d)return null;var g=e.parse(t[t.length-1],t.length-1,r);return g?"value"!==d.type.kind&&e.concat(1).checkSubtype(n,d.type)?null:new Ne(n,r,d,i,o,g):null},Ne.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(Gt(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},Ne.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},Ne.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Ne.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(p=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[p][1].push(a)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},l=0,u=n;l<u.length;l+=1){var c=u[l],p=c[0],h=c[1];1===h.length?e.push(s(h[0])):e.push(h.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var Me=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};function Ae(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function Le(t,e,n,r){return 0===r.compare(e,n)}function Re(t,e,n){var r="=="!==t&&"!="!==t;return function(){function i(t,e,n){this.type=Ot,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,Nt);if(!o)return null;if(!Ae(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Rt(o.type)+"'.");var a=e.parse(t[2],2,Nt);if(!a)return null;if(!Ae(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Rt(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+Rt(o.type)+"' and '"+Rt(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new Zt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new Zt(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,Mt)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=Gt(o),l=Gt(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new Yt('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var u=Gt(o),c=Gt(a);if("string"!==u.kind||"string"!==c.kind)return e(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):e(i,o,a)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.possibleOutputs=function(){return[!0,!1]},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}Me.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,Ot);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new Me(n,r,s):null},Me.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];if(i.evaluate(t))return o.evaluate(t)}return this.otherwise.evaluate(t)},Me.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t(i),t(o)}t(this.otherwise)},Me.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.branches.map((function(t){return t[0],t[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Me.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var De=Re("==",(function(t,e,n){return e===n}),Le),ze=Re("!=",(function(t,e,n){return e!==n}),(function(t,e,n,r){return!Le(0,e,n,r)})),Fe=Re("<",(function(t,e,n){return e<n}),(function(t,e,n,r){return r.compare(e,n)<0})),je=Re(">",(function(t,e,n){return e>n}),(function(t,e,n,r){return r.compare(e,n)>0})),Be=Re("<=",(function(t,e,n){return e<=n}),(function(t,e,n,r){return r.compare(e,n)<=0})),Ue=Re(">=",(function(t,e,n){return e>=n}),(function(t,e,n,r){return r.compare(e,n)>=0})),Ve=function(t,e,n,r,i){this.type=kt,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};Ve.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Tt);if(!n)return null;var r=t[2];if("object"!=typeof r||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");var i=null;if(r.locale&&!(i=e.parse(r.locale,1,kt)))return null;var o=null;if(r.currency&&!(o=e.parse(r.currency,1,kt)))return null;var a=null;if(r["min-fraction-digits"]&&!(a=e.parse(r["min-fraction-digits"],1,Tt)))return null;var s=null;return r["max-fraction-digits"]&&!(s=e.parse(r["max-fraction-digits"],1,Tt))?null:new Ve(n,i,o,a,s)},Ve.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},Ve.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},Ve.prototype.possibleOutputs=function(){return[void 0]},Ve.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var qe=function(t){this.type=Tt,this.input=t};qe.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+Rt(n.type)+" instead."):new qe(n):null},qe.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new Yt("Expected value to be of type string or array, but found "+Rt(Gt(e))+" instead.")},qe.prototype.eachChild=function(t){t(this.input)},qe.prototype.possibleOutputs=function(){return[void 0]},qe.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Ge={"==":De,"!=":ze,">":je,"<":Fe,">=":Ue,"<=":Be,array:Zt,at:Pe,boolean:Zt,case:Me,coalesce:Oe,collator:ne,format:Kt,interpolate:Te,"interpolate-hcl":Te,"interpolate-lab":Te,length:qe,let:Ie,literal:Ht,match:Ne,number:Zt,"number-format":Ve,object:Zt,step:ue,string:Zt,"to-boolean":Jt,"to-color":Jt,"to-number":Jt,"to-string":Jt,var:ae};function We(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=qt(n,r,i,a);if(s)throw new Yt(s);return new jt(n/255*a,r/255*a,i/255*a,a)}function He(t,e){return t in e}function Ye(t,e){var n=e[t];return void 0===n?null:n}function Xe(t){return{type:t}}function Ze(t){return{result:"success",value:t}}function Ke(t){return{result:"error",value:t}}function $e(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Je(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Qe(t){return!!t.expression&&t.expression.interpolated}function tn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function en(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function nn(t){return t}function rn(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function on(t,e,n,r,i){return rn(typeof n===i?r[n]:void 0,t.default,e.default)}function an(t,e,n){if("number"!==tn(n))return rn(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=un(t.stops,n);return t.stops[i][1]}function sn(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==tn(n))return rn(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=un(t.stops,n),a=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],l=t.stops[o+1][1],u=pe[e.type]||nn;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=Se[t.colorSpace];u=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),r=l.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return u(n,r,a)}}:u(s,l,a)}function ln(t,e,n){return"color"===e.type?n=jt.parse(n):"formatted"===e.type?n=Vt.fromString(n.toString()):tn(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),rn(n,t.default,e.default)}function un(t,e){for(var n,r,i=0,o=t.length-1,a=0;i<=o;){if(n=t[a=Math.floor((i+o)/2)][0],r=t[a+1][0],e===n||e>n&&e<r)return a;n<e?i=a+1:n>e&&(o=a-1)}return Math.max(a-1,0)}ee.register(Ge,{error:[{kind:"error"},[kt],function(t,e){var n=e[0];throw new Yt(n.evaluate(t))}],typeof:[kt,[Nt],function(t,e){return Rt(Gt(e[0].evaluate(t)))}],"to-rgba":[Lt(Tt,4),[It],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[It,[Tt,Tt,Tt],We],rgba:[It,[Tt,Tt,Tt,Tt],We],has:{type:Ot,overloads:[[[kt],function(t,e){return He(e[0].evaluate(t),t.properties())}],[[kt,Pt],function(t,e){var n=e[0],r=e[1];return He(n.evaluate(t),r.evaluate(t))}]]},get:{type:Nt,overloads:[[[kt],function(t,e){return Ye(e[0].evaluate(t),t.properties())}],[[kt,Pt],function(t,e){var n=e[0],r=e[1];return Ye(n.evaluate(t),r.evaluate(t))}]]},"feature-state":[Nt,[kt],function(t,e){return Ye(e[0].evaluate(t),t.featureState||{})}],properties:[Pt,[],function(t){return t.properties()}],"geometry-type":[kt,[],function(t){return t.geometryType()}],id:[Nt,[],function(t){return t.id()}],zoom:[Tt,[],function(t){return t.globals.zoom}],"heatmap-density":[Tt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Tt,[],function(t){return t.globals.lineProgress||0}],accumulated:[Nt,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[Tt,Xe(Tt),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[Tt,Xe(Tt),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:Tt,overloads:[[[Tt,Tt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)-r.evaluate(t)}],[[Tt],function(t,e){return-e[0].evaluate(t)}]]},"/":[Tt,[Tt,Tt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)/r.evaluate(t)}],"%":[Tt,[Tt,Tt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)%r.evaluate(t)}],ln2:[Tt,[],function(){return Math.LN2}],pi:[Tt,[],function(){return Math.PI}],e:[Tt,[],function(){return Math.E}],"^":[Tt,[Tt,Tt],function(t,e){var n=e[0],r=e[1];return Math.pow(n.evaluate(t),r.evaluate(t))}],sqrt:[Tt,[Tt],function(t,e){var n=e[0];return Math.sqrt(n.evaluate(t))}],log10:[Tt,[Tt],function(t,e){var n=e[0];return Math.log(n.evaluate(t))/Math.LN10}],ln:[Tt,[Tt],function(t,e){var n=e[0];return Math.log(n.evaluate(t))}],log2:[Tt,[Tt],function(t,e){var n=e[0];return Math.log(n.evaluate(t))/Math.LN2}],sin:[Tt,[Tt],function(t,e){var n=e[0];return Math.sin(n.evaluate(t))}],cos:[Tt,[Tt],function(t,e){var n=e[0];return Math.cos(n.evaluate(t))}],tan:[Tt,[Tt],function(t,e){var n=e[0];return Math.tan(n.evaluate(t))}],asin:[Tt,[Tt],function(t,e){var n=e[0];return Math.asin(n.evaluate(t))}],acos:[Tt,[Tt],function(t,e){var n=e[0];return Math.acos(n.evaluate(t))}],atan:[Tt,[Tt],function(t,e){var n=e[0];return Math.atan(n.evaluate(t))}],min:[Tt,Xe(Tt),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Tt,Xe(Tt),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Tt,[Tt],function(t,e){var n=e[0];return Math.abs(n.evaluate(t))}],round:[Tt,[Tt],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Tt,[Tt],function(t,e){var n=e[0];return Math.floor(n.evaluate(t))}],ceil:[Tt,[Tt],function(t,e){var n=e[0];return Math.ceil(n.evaluate(t))}],"filter-==":[Ot,[kt,Nt],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[Ot,[Nt],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[Ot,[kt],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[Ot,[kt,Nt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<o}],"filter-id-<":[Ot,[Nt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[Ot,[kt,Nt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>o}],"filter-id->":[Ot,[Nt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[Ot,[kt,Nt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i<=o}],"filter-id-<=":[Ot,[Nt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[Ot,[kt,Nt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i==typeof o&&i>=o}],"filter-id->=":[Ot,[Nt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[Ot,[Nt],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[Ot,[],function(t){return null!==t.id()}],"filter-type-in":[Ot,[Lt(kt)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[Ot,[Lt(Nt)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[Ot,[kt,Lt(Nt)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[Ot,[kt,Lt(Nt)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:Ot,overloads:[[[Ot,Ot],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)&&r.evaluate(t)}],[Xe(Ot),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:Ot,overloads:[[[Ot,Ot],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)||r.evaluate(t)}],[Xe(Ot),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[Ot,[Ot],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[Ot,[kt],function(t,e){var n=e[0],r=t.globals&&t.globals.isSupportedScript;return!r||r(n.evaluate(t))}],upcase:[kt,[kt],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[kt,[kt],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[kt,Xe(Nt),function(t,e){return e.map((function(e){return Wt(e.evaluate(t))})).join("")}],"resolved-locale":[kt,[Mt],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var cn=function(t,e){var n;this.expression=t,this._warningHistory={},this._evaluator=new te,this._defaultValue=e?"color"===(n=e).type&&en(n.default)?new jt(0,0,0,0):"color"===n.type?jt.parse(n.default)||null:void 0===n.default?null:n.default:null,this._enumValues=e&&"enum"===e.type?e.values:null};function pn(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Ge}function hn(t,e){var n=new se(Ge,[],e?function(t){var e={color:It,string:kt,number:Tt,enum:kt,boolean:Ot,formatted:At};return"array"===t.type?Lt(e[t.value]||Nt,t.length):e[t.type]}(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?Ze(new cn(r,e)):Ke(n.errors)}cn.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this.expression.evaluate(this._evaluator)},cn.prototype.evaluate=function(t,e,n){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null;try{var r=this.expression.evaluate(this._evaluator);if(null==r)return this._defaultValue;if(this._enumValues&&!(r in this._enumValues))throw new Yt("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(r)+" instead.");return r}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var fn=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!ie(e.expression)};fn.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n)},fn.prototype.evaluate=function(t,e,n){return this._styleExpression.evaluate(t,e,n)};var dn=function(t,e,n){this.kind=t,this.zoomStops=n.labels,this._styleExpression=e,this.isStateDependent="camera"!==t&&!ie(e.expression),n instanceof Te&&(this._interpolationType=n.interpolation)};function gn(t,e){if("error"===(t=hn(t,e)).result)return t;var n=t.value.expression,r=re(n);if(!r&&!$e(e))return Ke([new Et("","data expressions not supported")]);var i=oe(n,["zoom"]);if(!i&&!Je(e))return Ke([new Et("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof Ie)n=t(e.result);else if(e instanceof Oe)for(var r=0,i=e.args;r<i.length;r+=1){var o=i[r];if(n=t(o))break}else(e instanceof ue||e instanceof Te)&&e.input instanceof ee&&"zoom"===e.input.name&&(n=e);return n instanceof Et?n:(e.eachChild((function(e){var r=t(e);r instanceof Et?n=r:!n&&r?n=new Et("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new Et("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n)}(n);return o||i?o instanceof Et?Ke([o]):o instanceof Te&&!Qe(e)?Ke([new Et("",'"interpolate" expressions cannot be used with this property')]):Ze(o?new dn(r?"camera":"composite",t.value,o):new fn(r?"constant":"source",t.value)):Ke([new Et("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}dn.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n)},dn.prototype.evaluate=function(t,e,n){return this._styleExpression.evaluate(t,e,n)},dn.prototype.interpolationFactor=function(t,e,n){return this._interpolationType?Te.interpolationFactor(this._interpolationType,t,e,n):0};var mn=function(t,e){this._parameters=t,this._specification=e,bt(this,function t(e,n){var r,i,o,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],l=s||void 0!==e.property,u=s||!l,c=e.type||(Qe(n)?"exponential":"interval");if(a&&((e=bt({},e)).stops&&(e.stops=e.stops.map((function(t){return[t[0],jt.parse(t[1])]}))),e.default?e.default=jt.parse(e.default):e.default=jt.parse(n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Se[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===c)r=sn;else if("interval"===c)r=an;else if("categorical"===c){r=on,i=Object.create(null);for(var p=0,h=e.stops;p<h.length;p+=1){var f=h[p];i[f[0]]=f[1]}o=typeof e.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');r=ln}if(s){for(var d={},g=[],m=0;m<e.stops.length;m++){var v=e.stops[m],y=v[0].zoom;void 0===d[y]&&(d[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},g.push(y)),d[y].stops.push([v[0].value,v[1]])}for(var _=[],b=0,x=g;b<x.length;b+=1){var w=x[b];_.push([d[w].zoom,t(d[w],n)])}return{kind:"composite",interpolationFactor:Te.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:_.map((function(t){return t[0]})),evaluate:function(t,r){var i=t.zoom;return sn({stops:_,base:e.base},n,i).evaluate(i,r)}}}return u?{kind:"camera",interpolationFactor:"exponential"===c?Te.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==e.base?e.base:1}):function(){return 0},zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function(t){var a=t.zoom;return r(e,n,a,i,o)}}:{kind:"source",evaluate:function(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?rn(e.default,n.default):r(e,n,s,i,o)}}}(this._parameters,this._specification))};function vn(t,e){if(en(t))return new mn(t,e);if(pn(t)){var n=gn(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=jt.parse(t)),{kind:"constant",evaluate:function(){return r}}}function yn(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],l=tn(n);if("object"!==l)return[new yt(e,n,"object expected, "+l+" found")];for(var u in n){var c=u.split(".")[0],p=r[c]||r["*"],h=void 0;if(i[c])h=i[c];else if(r[c])h=Vn;else if(i["*"])h=i["*"];else{if(!r["*"]){s.push(new yt(e,n[u],'unknown property "'+u+'"'));continue}h=Vn}s=s.concat(h({key:(e?e+".":e)+u,value:n[u],valueSpec:p,style:o,styleSpec:a,object:n,objectKey:u},n))}for(var f in r)i[f]||r[f].required&&void 0===r[f].default&&void 0===n[f]&&s.push(new yt(e,n,'missing required property "'+f+'"'));return s}function _n(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||Vn;if("array"!==tn(e))return[new yt(o,e,"array expected, "+tn(e)+" found")];if(n.length&&e.length!==n.length)return[new yt(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new yt(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===tn(n.value)&&(s=n.value);for(var l=[],u=0;u<e.length;u++)l=l.concat(a({array:e,arrayIndex:u,value:e[u],valueSpec:s,style:r,styleSpec:i,key:o+"["+u+"]"}));return l}function bn(t){var e=t.key,n=t.value,r=t.valueSpec,i=tn(n);return"number"!==i?[new yt(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new yt(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new yt(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function xn(t){var e,n,r,i=t.valueSpec,o=xt(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,l=!s,u="array"===tn(t.value.stops)&&"array"===tn(t.value.stops[0])&&"object"===tn(t.value.stops[0][0]),c=yn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new yt(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(_n({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:p})),"array"===tn(n)&&0===n.length&&e.push(new yt(t.key,n,"array must have at least one stop")),e},default:function(t){return Vn({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&c.push(new yt(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||c.push(new yt(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!Qe(t.valueSpec)&&c.push(new yt(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(l&&!$e(t.valueSpec)?c.push(new yt(t.key,t.value,"property functions not supported")):s&&!Je(t.valueSpec)&&c.push(new yt(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!u||void 0!==t.value.property||c.push(new yt(t.key,t.value,'"property" property is required')),c;function p(t){var e=[],o=t.value,s=t.key;if("array"!==tn(o))return[new yt(s,o,"array expected, "+tn(o)+" found")];if(2!==o.length)return[new yt(s,o,"array length 2 expected, length "+o.length+" found")];if(u){if("object"!==tn(o[0]))return[new yt(s,o,"object expected, "+tn(o[0])+" found")];if(void 0===o[0].zoom)return[new yt(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new yt(s,o,"object stop key must have value")];if(r&&r>xt(o[0].zoom))return[new yt(s,o[0].zoom,"stop zoom values must appear in ascending order")];xt(o[0].zoom)!==r&&(r=xt(o[0].zoom),n=void 0,a={}),e=e.concat(yn({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:bn,value:h}}))}else e=e.concat(h({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return pn(wt(o[1]))?e.concat([new yt(s+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(Vn({key:s+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function h(t,r){var s=tn(t.value),l=xt(t.value),u=null!==t.value?t.value:r;if(e){if(s!==e)return[new yt(t.key,u,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new yt(t.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return $e(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new yt(t.key,u,c)]}return"categorical"!==o||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==o&&"number"===s&&void 0!==n&&l<n?[new yt(t.key,u,"stop domain values must appear in ascending order")]:(n=l,"categorical"===o&&l in a?[new yt(t.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new yt(t.key,u,"integer expected, found "+l)]}}function wn(t){var e=("property"===t.expressionContext?gn:hn)(wt(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new yt(""+t.key+e.key,t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==n.possibleOutputs().indexOf(void 0))return[new yt(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!ie(n))return[new yt(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!ie(n))return[new yt(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!oe(n,["zoom","feature-state"]))return[new yt(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!re(n))return[new yt(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function En(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(xt(n))&&i.push(new yt(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(xt(n))&&i.push(new yt(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function Cn(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!Cn(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}mn.deserialize=function(t){return new mn(t._parameters,t._specification)},mn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var Sn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Tn(t){if(null==t)return function(){return!0};Cn(t)||(t=On(t));var e=hn(t,Sn);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return function(t,n){return e.value.evaluate(t,n)}}function kn(t,e){return t<e?-1:t>e?1:0}function On(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?In(t[1],t[2],"=="):"!="===n?Mn(In(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?In(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(On))):"all"===n?["all"].concat(t.slice(1).map(On)):"none"===n?["all"].concat(t.slice(1).map(On).map(Mn)):"in"===n?Pn(t[1],t.slice(2)):"!in"===n?Mn(Pn(t[1],t.slice(2))):"has"===n?Nn(t[1]):"!has"!==n||Mn(Nn(t[1]))}function In(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function Pn(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!=typeof e[0]}))?["filter-in-large",t,["literal",e.sort(kn)]]:["filter-in-small",t,["literal",e]]}}function Nn(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Mn(t){return["!",t]}function An(t){return Cn(wt(t.value))?wn(bt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==tn(n))return[new yt(r,n,"array expected, "+tn(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new yt(r,n,"filter array must have at least 1 element")];switch(a=a.concat(En({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),xt(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===xt(n[1])&&a.push(new yt(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new yt(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=tn(n[1]))&&a.push(new yt(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=tn(n[s]),"$type"===xt(n[1])?a=a.concat(En({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new yt(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var l=1;l<n.length;l++)a=a.concat(t({key:r+"["+l+"]",value:n[l],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=tn(n[1]),2!==n.length?a.push(new yt(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new yt(r+"[1]",n[1],"string expected, "+i+" found"))}return a}(t)}function Ln(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===e&&l&&s[l[1]]&&s[l[1]].transition)return Vn({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var u,c=t.valueSpec||s[a];if(!c)return[new yt(n,o,'unknown property "'+a+'"')];if("string"===tn(o)&&$e(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new yt(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var p=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&p.push(new yt(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&en(wt(o))&&"identity"===xt(o.type)&&p.push(new yt(n,o,'"text-font" does not support identity functions'))),p.concat(Vn({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function Rn(t){return Ln(t,"paint")}function Dn(t){return Ln(t,"layout")}function zn(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new yt(r,n,'either "type" or "ref" is required'));var a,s=xt(n.type),l=xt(n.ref);if(n.id)for(var u=xt(n.id),c=0;c<t.arrayIndex;c++){var p=i.layers[c];xt(p.id)===u&&e.push(new yt(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+p.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new yt(r,n[t],'"'+t+'" is prohibited for ref layers'))})),i.layers.forEach((function(t){xt(t.id)===l&&(a=t)})),a?a.ref?e.push(new yt(r,n.ref,"ref cannot reference another ref layer")):s=xt(a.type):e.push(new yt(r,n.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(n.source){var h=i.sources&&i.sources[n.source],f=h&&xt(h.type);h?"vector"===f&&"raster"===s?e.push(new yt(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===f&&"raster"!==s?e.push(new yt(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==f||n["source-layer"]?"raster-dem"===f&&"hillshade"!==s?e.push(new yt(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===f&&h.lineMetrics||e.push(new yt(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new yt(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new yt(r,n.source,'source "'+n.source+'" not found'))}else e.push(new yt(r,n,'missing required property "source"'));return e=e.concat(yn({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Vn({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:An,layout:function(t){return yn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Dn(bt({layerType:s},t))}}})},paint:function(t){return yn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return Rn(bt({layerType:s},t))}}})}}}))}function Fn(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new yt(n,e,'"type" is required')];var o,a=xt(e.type);switch(a){case"vector":case"raster":case"raster-dem":if(o=yn({key:n,value:e,valueSpec:r["source_"+a.replace("-","_")],style:t.style,styleSpec:r}),"url"in e)for(var s in e)["type","url","tileSize"].indexOf(s)<0&&o.push(new yt(n+"."+s,e[s],'a source with a "url" property may not include a "'+s+'" property'));return o;case"geojson":if(o=yn({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r}),e.cluster)for(var l in e.clusterProperties){var u=e.clusterProperties[l],c=u[0],p=u[1],h="string"==typeof c?[c,["accumulated"],["get",l]]:c;o.push.apply(o,wn({key:n+"."+l+".map",value:p,expressionContext:"cluster-map"})),o.push.apply(o,wn({key:n+"."+l+".reduce",value:h,expressionContext:"cluster-reduce"}))}return o;case"video":return yn({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return yn({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new yt(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return En({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function jn(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=tn(e);if(void 0===e)return o;if("object"!==a)return o.concat([new yt("light",e,"object expected, "+a+" found")]);for(var s in e){var l=s.match(/^(.*)-transition$/);o=l&&r[l[1]]&&r[l[1]].transition?o.concat(Vn({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n})):r[s]?o.concat(Vn({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n})):o.concat([new yt(s,e[s],'unknown property "'+s+'"')])}return o}function Bn(t){var e=t.value,n=t.key,r=tn(e);return"string"!==r?[new yt(n,e,"string expected, "+r+" found")]:[]}var Un={"*":function(){return[]},array:_n,boolean:function(t){var e=t.value,n=t.key,r=tn(e);return"boolean"!==r?[new yt(n,e,"boolean expected, "+r+" found")]:[]},number:bn,color:function(t){var e=t.key,n=t.value,r=tn(n);return"string"!==r?[new yt(e,n,"color expected, "+r+" found")]:null===Ft(n)?[new yt(e,n,'color expected, "'+n+'" found')]:[]},constants:_t,enum:En,filter:An,function:xn,layer:zn,object:yn,source:Fn,light:jn,string:Bn,formatted:function(t){return 0===Bn(t).length?[]:wn(t)}};function Vn(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&en(xt(e))?xn(t):n.expression&&pn(wt(e))?wn(t):n.type&&Un[n.type]?Un[n.type](t):yn(bt({},t,{valueSpec:n.type?r[n.type]:n}))}function qn(t){var e=t.value,n=t.key,r=Bn(t);return r.length?r:(-1===e.indexOf("{fontstack}")&&r.push(new yt(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new yt(n,e,'"glyphs" url must include a "{range}" token')),r)}function Gn(t,e){e=e||vt;var n=[];return n=n.concat(Vn({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:qn,"*":function(){return[]}}})),t.constants&&(n=n.concat(_t({key:"constants",value:t.constants,style:t,styleSpec:e}))),Wn(n)}function Wn(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function Hn(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return Wn(t.apply(this,e))}}Gn.source=Hn(Fn),Gn.light=Hn(jn),Gn.layer=Hn(zn),Gn.filter=Hn(An),Gn.paintProperty=Hn(Rn),Gn.layoutProperty=Hn(Dn);var Yn=Gn,Xn=Gn.light,Zn=Gn.paintProperty,Kn=Gn.layoutProperty;function $n(t,e){var n=!1;if(e&&e.length)for(var r=0,i=e;r<i.length;r+=1){var o=i[r];t.fire(new gt(new Error(o.message))),n=!0}return n}var Jn=Qn;function Qn(t,e,n){var r=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],e=i[1],n=i[2],this.d=e+2*n;for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];r.push(a===s?null:i.subarray(a,s))}var l=i[3+r.length],u=i[3+r.length+1];this.keys=i.subarray(l,u),this.bboxes=i.subarray(u),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var c=0;c<this.d*this.d;c++)r.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var p=n/e*t;this.min=-p,this.max=t+p}Qn.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Qn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Qn.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},Qn.prototype.query=function(t,e,n,r,i){var o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,r,this._queryCell,s,{},i),s},Qn.prototype._queryCell=function(t,e,n,r,i,o,a,s){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,p=0;p<l.length;p++){var h=l[p];if(void 0===a[h]){var f=4*h;(s?s(c[f+0],c[f+1],c[f+2],c[f+3]):t<=c[f+2]&&e<=c[f+3]&&n>=c[f+0]&&r>=c[f+1])?(a[h]=!0,o.push(u[h])):a[h]=!1}}},Qn.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var l=this._convertToCellCoord(t),u=this._convertToCellCoord(e),c=this._convertToCellCoord(n),p=this._convertToCellCoord(r),h=l;h<=c;h++)for(var f=u;f<=p;f++){var d=this.d*f+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(f),this._convertFromCellCoord(h+1),this._convertFromCellCoord(f+1)))&&i.call(this,t,e,n,r,d,o,a,s))return}},Qn.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},Qn.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Qn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(e+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+t.length]=o,i.set(this.keys,o),o+=this.keys.length,i[3+t.length+1]=o,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};var tr=self.ImageData,er={};function nr(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),er[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var rr in nr("Object",Object),Jn.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},Jn.deserialize=function(t){return new Jn(t.buffer)},nr("Grid",Jn),nr("Color",jt),nr("Error",Error),nr("StylePropertyFunction",mn),nr("StyleExpression",cn,{omit:["_evaluator"]}),nr("ZoomDependentExpression",dn),nr("ZoomConstantExpression",fn),nr("CompoundExpression",ee,{omit:["_evaluate"]}),Ge)Ge[rr]._classRegistryKey||nr("Expression_"+rr,Ge[rr]);function ir(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof tr)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var r=[],i=0,o=t;i<o.length;i+=1){var a=o[i];r.push(ir(a,e))}return r}if("object"==typeof t){var s=t.constructor,l=s._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class");var u=s.serialize?s.serialize(t,e):{};if(!s.serialize){for(var c in t)if(t.hasOwnProperty(c)&&!(er[l].omit.indexOf(c)>=0)){var p=t[c];u[c]=er[l].shallow.indexOf(c)>=0?p:ir(p,e)}t instanceof Error&&(u.message=t.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==l&&(u.$name=l),u}throw new Error("can't serialize object of type "+typeof t)}function or(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof tr)return t;if(Array.isArray(t))return t.map(or);if("object"==typeof t){var e=t.$name||"Object",n=er[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var r=Object.create(n.prototype),i=0,o=Object.keys(t);i<o.length;i+=1){var a=o[i];if("$name"!==a){var s=t[a];r[a]=er[e].shallow.indexOf(a)>=0?s:or(s)}}return r}throw new Error("can't deserialize object of type "+typeof t)}var ar=function(){this.first=!0};ar.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var sr={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function lr(t){for(var e=0,n=t;e<n.length;e+=1)if(pr(n[e].charCodeAt(0)))return!0;return!1}function ur(t){for(var e=0,n=t;e<n.length;e+=1)if(!cr(n[e].charCodeAt(0)))return!1;return!0}function cr(t){return!(sr.Arabic(t)||sr["Arabic Supplement"](t)||sr["Arabic Extended-A"](t)||sr["Arabic Presentation Forms-A"](t)||sr["Arabic Presentation Forms-B"](t))}function pr(t){return!(746!==t&&747!==t&&(t<4352||!(sr["Bopomofo Extended"](t)||sr.Bopomofo(t)||sr["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||sr["CJK Compatibility Ideographs"](t)||sr["CJK Compatibility"](t)||sr["CJK Radicals Supplement"](t)||sr["CJK Strokes"](t)||!(!sr["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||sr["CJK Unified Ideographs Extension A"](t)||sr["CJK Unified Ideographs"](t)||sr["Enclosed CJK Letters and Months"](t)||sr["Hangul Compatibility Jamo"](t)||sr["Hangul Jamo Extended-A"](t)||sr["Hangul Jamo Extended-B"](t)||sr["Hangul Jamo"](t)||sr["Hangul Syllables"](t)||sr.Hiragana(t)||sr["Ideographic Description Characters"](t)||sr.Kanbun(t)||sr["Kangxi Radicals"](t)||sr["Katakana Phonetic Extensions"](t)||sr.Katakana(t)&&12540!==t||!(!sr["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!sr["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||sr["Unified Canadian Aboriginal Syllabics"](t)||sr["Unified Canadian Aboriginal Syllabics Extended"](t)||sr["Vertical Forms"](t)||sr["Yijing Hexagram Symbols"](t)||sr["Yi Syllables"](t)||sr["Yi Radicals"](t))))}function hr(t){return!(pr(t)||function(t){return!!(sr["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||sr["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||sr["Letterlike Symbols"](t)||sr["Number Forms"](t)||sr["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||sr["Control Pictures"](t)&&9251!==t||sr["Optical Character Recognition"](t)||sr["Enclosed Alphanumerics"](t)||sr["Geometric Shapes"](t)||sr["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||sr["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||sr["CJK Symbols and Punctuation"](t)||sr.Katakana(t)||sr["Private Use Area"](t)||sr["CJK Compatibility Forms"](t)||sr["Small Form Variants"](t)||sr["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function fr(t,e){return!(!e&&(t>=1424&&t<=2303||sr["Arabic Presentation Forms-A"](t)||sr["Arabic Presentation Forms-B"](t))||t>=2304&&t<=3583||t>=3840&&t<=4255||sr.Khmer(t))}var dr,gr=!1,mr=null,vr=!1,yr=new mt,_r={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return vr||null!=_r.applyArabicShaping}},br=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ar,this.transition={})};br.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,r=t;n<r.length;n+=1)if(!fr(r[n].charCodeAt(0),e))return!1;return!0}(t,_r.isLoaded())},br.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},br.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};var xr=function(t,e){this.property=t,this.value=e,this.expression=vn(void 0===e?t.specification.default:e,t.specification)};xr.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},xr.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var wr=function(t){this.property=t,this.value=new xr(t,void 0)};wr.prototype.transitioned=function(t,e){return new Cr(this.property,this.value,e,p({},t.transition,this.transition),t.now)},wr.prototype.untransitioned=function(){return new Cr(this.property,this.value,null,{},0)};var Er=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};Er.prototype.getValue=function(t){return b(this._values[t].value.value)},Er.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new wr(this._values[t].property)),this._values[t].value=new xr(this._values[t].property,null===e?void 0:b(e))},Er.prototype.getTransition=function(t){return b(this._values[t].transition)},Er.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new wr(this._values[t].property)),this._values[t].transition=b(e)||void 0},Er.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t[r+"-transition"]=o)}return t},Er.prototype.transitioned=function(t,e){for(var n=new Sr(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},Er.prototype.untransitioned=function(){for(var t=new Sr(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t};var Cr=function(t,e,n,r,i){this.property=t,this.value=e,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,t.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};Cr.prototype.possiblyEvaluate=function(t){var e=t.now||0,n=this.value.possiblyEvaluate(t),r=this.prior;if(r){if(e>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(e<this.begin)return r.possiblyEvaluate(t);var i=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(r.possiblyEvaluate(t),n,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(i))}return n};var Sr=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};Sr.prototype.possiblyEvaluate=function(t){for(var e=new Or(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var i=r[n];e._values[i]=this._values[i].possiblyEvaluate(t)}return e},Sr.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1){var n=e[t];if(this._values[n].prior)return!0}return!1};var Tr=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};Tr.prototype.getValue=function(t){return b(this._values[t].value)},Tr.prototype.setValue=function(t,e){this._values[t]=new xr(this._values[t].property,null===e?void 0:b(e))},Tr.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t},Tr.prototype.possiblyEvaluate=function(t){for(var e=new Or(this._properties),n=0,r=Object.keys(this._values);n<r.length;n+=1){var i=r[n];e._values[i]=this._values[i].possiblyEvaluate(t)}return e};var kr=function(t,e,n){this.property=t,this.value=e,this.parameters=n};kr.prototype.isConstant=function(){return"constant"===this.value.kind},kr.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},kr.prototype.evaluate=function(t,e){return this.property.evaluate(this.value,this.parameters,t,e)};var Or=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};Or.prototype.get=function(t){return this._values[t]};var Ir=function(t){this.specification=t};Ir.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},Ir.prototype.interpolate=function(t,e,n){var r=pe[this.specification.type];return r?r(t,e,n):t};var Pr=function(t){this.specification=t};Pr.prototype.possiblyEvaluate=function(t,e){return"constant"===t.expression.kind||"camera"===t.expression.kind?new kr(this,{kind:"constant",value:t.expression.evaluate(e)},e):new kr(this,t.expression,e)},Pr.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new kr(this,{kind:"constant",value:void 0},t.parameters);var r=pe[this.specification.type];return r?new kr(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.parameters):t},Pr.prototype.evaluate=function(t,e,n,r){return"constant"===t.kind?t.value:t.evaluate(e,n,r)};var Nr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(t,e){if(void 0===t.value)return new kr(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var n=t.expression.evaluate(e),r=this._calculate(n,n,n,e);return new kr(this,{kind:"constant",value:r},e)}if("camera"===t.expression.kind){var i=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new kr(this,{kind:"constant",value:i},e)}return new kr(this,t.expression,e)},e.prototype.evaluate=function(t,e,n,r){if("source"===t.kind){var i=t.evaluate(e,n,r);return this._calculate(i,i,i,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,r),t.evaluate({zoom:Math.floor(e.zoom)},n,r),t.evaluate({zoom:Math.floor(e.zoom)+1},n,r),e):t.value},e.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},e.prototype.interpolate=function(t){return t},e}(Pr),Mr=function(t){this.specification=t};Mr.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var n=t.expression.evaluate(e);return this._calculate(n,n,n,e)}return this._calculate(t.expression.evaluate(new br(Math.floor(e.zoom-1),e)),t.expression.evaluate(new br(Math.floor(e.zoom),e)),t.expression.evaluate(new br(Math.floor(e.zoom+1),e)),e)}},Mr.prototype._calculate=function(t,e,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},Mr.prototype.interpolate=function(t){return t};var Ar=function(t){this.specification=t};Ar.prototype.possiblyEvaluate=function(t,e){return!!t.expression.evaluate(e)},Ar.prototype.interpolate=function(){return!1};var Lr=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},t){var n=t[e],r=this.defaultPropertyValues[e]=new xr(n,void 0),i=this.defaultTransitionablePropertyValues[e]=new wr(n);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=r.possiblyEvaluate({})}};nr("DataDrivenProperty",Pr),nr("DataConstantProperty",Ir),nr("CrossFadedDataDrivenProperty",Nr),nr("CrossFadedProperty",Mr),nr("ColorRampProperty",Ar);var Rr=function(t){function e(e,n){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter=function(){return!0},"custom"!==e.type&&(e=e,this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new Tr(n.layout)),n.paint)){for(var r in this._transitionablePaint=new Er(n.paint),e.paint)this.setPaintProperty(r,e.paint[r],{validate:!1});for(var i in e.layout)this.setLayoutProperty(i,e.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e){var r="layers."+this.id+".layout."+t;if(this._validate(Kn,r,t,e,n))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e},e.prototype.getPaintProperty=function(t){return v(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e){var r="layers."+this.id+".paint."+t;if(this._validate(Zn,r,t,e,n))return!1}if(v(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var i=this._transitionablePaint._values[t],o="cross-faded-data-driven"===i.property.specification["property-type"]&&!i.value.value&&e,a=this._transitionablePaint._values[t].value.isDataDriven();this._transitionablePaint.setValue(t,e);var s=this._transitionablePaint._values[t].value.isDataDriven();return this._handleSpecialPaintPropertyUpdate(t),s||a||o},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),_(t,(function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)}))},e.prototype._validate=function(t,e,n,r,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&$n(this,t.call(Yn,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:vt,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof kr&&$e(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(mt),Dr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},zr=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Fr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function jr(t,e){void 0===e&&(e=1);var n=0,r=0;return{members:t.map((function(t){var i,o=(i=t.type,Dr[i].BYTES_PER_ELEMENT),a=n=Br(n,Math.max(e,o)),s=t.components||1;return r=Math.max(r,o),n+=o*s,{name:t.name,type:t.type,components:s,offset:a}})),size:Br(n,Math.max(r,e)),alignment:e}}function Br(t,e){return Math.ceil(t/e)*e}Fr.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Fr.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Fr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Fr.prototype.clear=function(){this.length=0},Fr.prototype.resize=function(t){this.reserve(t),this.length=t},Fr.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Fr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Ur=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.int16[r+0]=e,this.int16[r+1]=n,t},e}(Fr);Ur.prototype.bytesPerElement=4,nr("StructArrayLayout2i4",Ur);var Vr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,t},e}(Fr);Vr.prototype.bytesPerElement=8,nr("StructArrayLayout4i8",Vr);var qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Fr);qr.prototype.bytesPerElement=12,nr("StructArrayLayout2i4i12",qr);var Gr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,t,e,n,r,i,o,a,s)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l){var u=6*t,c=12*t;return this.int16[u+0]=e,this.int16[u+1]=n,this.int16[u+2]=r,this.int16[u+3]=i,this.uint8[c+8]=o,this.uint8[c+9]=a,this.uint8[c+10]=s,this.uint8[c+11]=l,t},e}(Fr);Gr.prototype.bytesPerElement=12,nr("StructArrayLayout4i4ub12",Gr);var Wr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,t,e,n,r,i,o,a,s)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l){var u=8*t;return this.uint16[u+0]=e,this.uint16[u+1]=n,this.uint16[u+2]=r,this.uint16[u+3]=i,this.uint16[u+4]=o,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,t},e}(Fr);Wr.prototype.bytesPerElement=16,nr("StructArrayLayout8ui16",Wr);var Hr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,t,e,n,r,i,o,a,s)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l){var u=8*t;return this.int16[u+0]=e,this.int16[u+1]=n,this.int16[u+2]=r,this.int16[u+3]=i,this.uint16[u+4]=o,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,t},e}(Fr);Hr.prototype.bytesPerElement=16,nr("StructArrayLayout4i4ui16",Hr);var Yr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=n,this.float32[i+2]=r,t},e}(Fr);Yr.prototype.bytesPerElement=12,nr("StructArrayLayout3f12",Yr);var Xr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){var n=1*t;return this.uint32[n+0]=e,t},e}(Fr);Xr.prototype.bytesPerElement=4,nr("StructArrayLayout1ul4",Xr);var Zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c){var p=this.length;return this.resize(p+1),this.emplace(p,t,e,n,r,i,o,a,s,l,u,c)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p){var h=12*t,f=6*t;return this.int16[h+0]=e,this.int16[h+1]=n,this.int16[h+2]=r,this.int16[h+3]=i,this.int16[h+4]=o,this.int16[h+5]=a,this.uint32[f+3]=s,this.uint16[h+8]=l,this.uint16[h+9]=u,this.int16[h+10]=c,this.int16[h+11]=p,t},e}(Fr);Zr.prototype.bytesPerElement=24,nr("StructArrayLayout6i1ul2ui2i24",Zr);var Kr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,r,i,o)},e.prototype.emplace=function(t,e,n,r,i,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Fr);Kr.prototype.bytesPerElement=12,nr("StructArrayLayout2i2i2i12",Kr);var $r=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=12*t,a=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,t},e}(Fr);$r.prototype.bytesPerElement=12,nr("StructArrayLayout2ub2f12",$r);var Jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p,h,f,d){var g=this.length;return this.resize(g+1),this.emplace(g,t,e,n,r,i,o,a,s,l,u,c,p,h,f,d)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p,h,f,d,g){var m=22*t,v=11*t,y=44*t;return this.int16[m+0]=e,this.int16[m+1]=n,this.uint16[m+2]=r,this.uint16[m+3]=i,this.uint32[v+2]=o,this.uint32[v+3]=a,this.uint32[v+4]=s,this.uint16[m+10]=l,this.uint16[m+11]=u,this.uint16[m+12]=c,this.float32[v+7]=p,this.float32[v+8]=h,this.uint8[y+36]=f,this.uint8[y+37]=d,this.uint32[v+10]=g,t},e}(Fr);Jr.prototype.bytesPerElement=44,nr("StructArrayLayout2i2ui3ul3ui2f2ub1ul44",Jr);var Qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r,i,o,a,s,l,u,c,p,h,f,d,g,m,v){var y=this.length;return this.resize(y+1),this.emplace(y,t,e,n,r,i,o,a,s,l,u,c,p,h,f,d,g,m,v)},e.prototype.emplace=function(t,e,n,r,i,o,a,s,l,u,c,p,h,f,d,g,m,v,y){var _=22*t,b=11*t;return this.int16[_+0]=e,this.int16[_+1]=n,this.int16[_+2]=r,this.int16[_+3]=i,this.int16[_+4]=o,this.int16[_+5]=a,this.uint16[_+6]=s,this.uint16[_+7]=l,this.uint16[_+8]=u,this.uint16[_+9]=c,this.uint16[_+10]=p,this.uint16[_+11]=h,this.uint16[_+12]=f,this.uint16[_+13]=d,this.uint16[_+14]=g,this.uint32[b+8]=m,this.float32[b+9]=v,this.float32[b+10]=y,t},e}(Fr);Qr.prototype.bytesPerElement=44,nr("StructArrayLayout6i9ui1ul2f44",Qr);var ti=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){var n=1*t;return this.float32[n+0]=e,t},e}(Fr);ti.prototype.bytesPerElement=4,nr("StructArrayLayout1f4",ti);var ei=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=n,this.int16[i+2]=r,t},e}(Fr);ei.prototype.bytesPerElement=6,nr("StructArrayLayout3i6",ei);var ni=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=2*t,o=4*t;return this.uint32[i+0]=e,this.uint16[o+2]=n,this.uint16[o+3]=r,t},e}(Fr);ni.prototype.bytesPerElement=8,nr("StructArrayLayout1ul2ui8",ni);var ri=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n)},e.prototype.emplace=function(t,e,n,r){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,this.uint16[i+2]=r,t},e}(Fr);ri.prototype.bytesPerElement=6,nr("StructArrayLayout3ui6",ri);var ii=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,t},e}(Fr);ii.prototype.bytesPerElement=4,nr("StructArrayLayout2ui4",ii);var oi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){var n=1*t;return this.uint16[n+0]=e,t},e}(Fr);oi.prototype.bytesPerElement=2,nr("StructArrayLayout1ui2",oi);var ai=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var r=2*t;return this.float32[r+0]=e,this.float32[r+1]=n,t},e}(Fr);ai.prototype.bytesPerElement=8,nr("StructArrayLayout2f8",ai);var si=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n,r)},e.prototype.emplace=function(t,e,n,r,i){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,t},e}(Fr);si.prototype.bytesPerElement=16,nr("StructArrayLayout4f16",si);var li=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},n.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(zr);li.prototype.size=24;var ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new li(this,t)},e}(Zr);nr("CollisionBoxArray",ui);var ci=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},Object.defineProperties(e.prototype,n),e}(zr);ci.prototype.size=44;var pi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new ci(this,t)},e}(Jr);nr("PlacedSymbolArray",pi);var hi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},radialTextOffset:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.rightJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+2]=t},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.centerJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+3]=t},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.leftJustifiedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+4]=t},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.verticalPlacedTextSymbolIndex.set=function(t){this._structArray.int16[this._pos2+5]=t},n.key.get=function(){return this._structArray.uint16[this._pos2+6]},n.key.set=function(t){this._structArray.uint16[this._pos2+6]=t},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+7]},n.textBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+7]=t},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.iconBoxStartIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.iconBoxEndIndex.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.featureIndex.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+12]},n.numHorizontalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+13]},n.numVerticalGlyphVertices.set=function(t){this._structArray.uint16[this._pos2+13]=t},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+14]},n.numIconVertices.set=function(t){this._structArray.uint16[this._pos2+14]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+8]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+8]=t},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+9]},n.textBoxScale.set=function(t){this._structArray.float32[this._pos4+9]=t},n.radialTextOffset.get=function(){return this._structArray.float32[this._pos4+10]},n.radialTextOffset.set=function(t){this._structArray.float32[this._pos4+10]=t},Object.defineProperties(e.prototype,n),e}(zr);hi.prototype.size=44;var fi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new hi(this,t)},e}(Qr);nr("SymbolInstanceArray",fi);var di=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={offsetX:{configurable:!0}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,n),e}(zr);di.prototype.size=4;var gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new di(this,t)},e}(ti);nr("GlyphOffsetArray",gi);var mi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(t){this._structArray.int16[this._pos2+0]=t},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(t){this._structArray.int16[this._pos2+1]=t},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,n),e}(zr);mi.prototype.size=6;var vi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new mi(this,t)},e}(ei);nr("SymbolLineVertexArray",vi);var yi=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,n),e}(zr);yi.prototype.size=8;var _i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new yi(this,t)},e}(ni);nr("FeatureIndexArray",_i);var bi=jr([{name:"a_pos",components:2,type:"Int16"}],4).members,xi=function(t){void 0===t&&(t=[]),this.segments=t};function wi(t,e){return 256*(t=u(Math.floor(t),0,255))+u(Math.floor(e),0,255)}xi.prototype.prepareSegment=function(t,e,n,r){var i=this.segments[this.segments.length-1];return t>xi.MAX_VERTEX_ARRAY_LENGTH&&w("Max vertices per segment is "+xi.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!i||i.vertexLength+t>xi.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i},xi.prototype.get=function(){return this.segments},xi.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var r in n.vaos)n.vaos[r].destroy()}},xi.simpleSegment=function(t,e,n,r){return new xi([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},xi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,nr("SegmentVector",xi);var Ei=function(){this.ids=[],this.positions=[],this.indexed=!1};function Ci(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}Ei.prototype.add=function(t,e,n,r){this.ids.push(t),this.positions.push(e,n,r)},Ei.prototype.getPositions=function(t){for(var e=0,n=this.ids.length-1;e<n;){var r=e+n>>1;this.ids[r]>=t?n=r:e=r+1}for(var i=[];this.ids[e]===t;){var o=this.positions[3*e],a=this.positions[3*e+1],s=this.positions[3*e+2];i.push({index:o,start:a,end:s}),e++}return i},Ei.serialize=function(t,e){var n=new Float64Array(t.ids),r=new Uint32Array(t.positions);return function t(e,n,r,i){if(!(r>=i)){for(var o=e[r+i>>1],a=r-1,s=i+1;;){do{a++}while(e[a]<o);do{s--}while(e[s]>o);if(a>=s)break;Ci(e,a,s),Ci(n,3*a,3*s),Ci(n,3*a+1,3*s+1),Ci(n,3*a+2,3*s+2)}t(e,n,r,s),t(e,n,s+1,i)}}(n,r,0,n.length-1),e.push(n.buffer,r.buffer),{ids:n,positions:r}},Ei.deserialize=function(t){var e=new Ei;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e},nr("FeaturePositionMap",Ei);var Si=function(t,e){this.gl=t.gl,this.location=e},Ti=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(Si),ki=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(Si),Oi=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(Si),Ii=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(Si),Pi=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(Si),Ni=function(t){function e(e,n){t.call(this,e,n),this.current=jt.transparent}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(Si),Mi=new Float32Array(16),Ai=function(t){function e(e,n){t.call(this,e,n),this.current=Mi}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(Si);function Li(t){return[wi(255*t.r,255*t.g),wi(255*t.b,255*t.a)]}var Ri=function(t,e,n){this.value=t,this.names=e,this.uniformNames=this.names.map((function(t){return"u_"+t})),this.type=n,this.maxValue=-1/0};Ri.prototype.defines=function(){return this.names.map((function(t){return"#define HAS_UNIFORM_u_"+t}))},Ri.prototype.setConstantPatternPositions=function(){},Ri.prototype.populatePaintArray=function(){},Ri.prototype.updatePaintArray=function(){},Ri.prototype.upload=function(){},Ri.prototype.destroy=function(){},Ri.prototype.setUniforms=function(t,e,n,r){e.set(r.constantOr(this.value))},Ri.prototype.getBinding=function(t,e){return"color"===this.type?new Ni(t,e):new ki(t,e)},Ri.serialize=function(t){var e=t.value,n=t.names,r=t.type;return{value:ir(e),names:n,type:r}},Ri.deserialize=function(t){var e=t.value,n=t.names,r=t.type;return new Ri(or(e),n,r)};var Di=function(t,e,n){this.value=t,this.names=e,this.uniformNames=this.names.map((function(t){return"u_"+t})),this.type=n,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};Di.prototype.defines=function(){return this.names.map((function(t){return"#define HAS_UNIFORM_u_"+t}))},Di.prototype.populatePaintArray=function(){},Di.prototype.updatePaintArray=function(){},Di.prototype.upload=function(){},Di.prototype.destroy=function(){},Di.prototype.setConstantPatternPositions=function(t,e){this.patternPositions.patternTo=t.tlbr,this.patternPositions.patternFrom=e.tlbr},Di.prototype.setUniforms=function(t,e,n,r,i){var o=this.patternPositions;"u_pattern_to"===i&&o.patternTo&&e.set(o.patternTo),"u_pattern_from"===i&&o.patternFrom&&e.set(o.patternFrom)},Di.prototype.getBinding=function(t,e){return new Pi(t,e)};var zi=function(t,e,n,r){this.expression=t,this.names=e,this.type=n,this.uniformNames=this.names.map((function(t){return"a_"+t})),this.maxValue=-1/0,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new r};zi.prototype.defines=function(){return[]},zi.prototype.setConstantPatternPositions=function(){},zi.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var i=this.expression.evaluate(new br(0),e,{});if("color"===this.type)for(var o=Li(i),a=r;a<t;a++)n.emplaceBack(o[0],o[1]);else{for(var s=r;s<t;s++)n.emplaceBack(i);this.maxValue=Math.max(this.maxValue,i)}},zi.prototype.updatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=this.expression.evaluate({zoom:0},n,r);if("color"===this.type)for(var a=Li(o),s=t;s<e;s++)i.emplace(s,a[0],a[1]);else{for(var l=t;l<e;l++)i.emplace(l,o);this.maxValue=Math.max(this.maxValue,o)}},zi.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},zi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},zi.prototype.setUniforms=function(t,e){e.set(0)},zi.prototype.getBinding=function(t,e){return new ki(t,e)};var Fi=function(t,e,n,r,i,o){this.expression=t,this.names=e,this.uniformNames=this.names.map((function(t){return"a_"+t+"_t"})),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=-1/0;var a=o;this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new a};Fi.prototype.defines=function(){return[]},Fi.prototype.setConstantPatternPositions=function(){},Fi.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var i=this.expression.evaluate(new br(this.zoom),e,{}),o=this.expression.evaluate(new br(this.zoom+1),e,{});if("color"===this.type)for(var a=Li(i),s=Li(o),l=r;l<t;l++)n.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var u=r;u<t;u++)n.emplaceBack(i,o);this.maxValue=Math.max(this.maxValue,i,o)}},Fi.prototype.updatePaintArray=function(t,e,n,r){var i=this.paintVertexArray,o=this.expression.evaluate({zoom:this.zoom},n,r),a=this.expression.evaluate({zoom:this.zoom+1},n,r);if("color"===this.type)for(var s=Li(o),l=Li(a),u=t;u<e;u++)i.emplace(u,s[0],s[1],l[0],l[1]);else{for(var c=t;c<e;c++)i.emplace(c,o,a);this.maxValue=Math.max(this.maxValue,o,a)}},Fi.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Fi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Fi.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},Fi.prototype.setUniforms=function(t,e,n){e.set(this.interpolationFactor(n.zoom))},Fi.prototype.getBinding=function(t,e){return new ki(t,e)};var ji=function(t,e,n,r,i,o,a){this.expression=t,this.names=e,this.type=n,this.uniformNames=this.names.map((function(t){return"a_"+t+"_t"})),this.useIntegerZoom=r,this.zoom=i,this.maxValue=-1/0,this.layerId=a,this.paintVertexAttributes=e.map((function(t){return{name:"a_"+t,type:"Uint16",components:4,offset:0}})),this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o};ji.prototype.defines=function(){return[]},ji.prototype.setConstantPatternPositions=function(){},ji.prototype.populatePaintArray=function(t,e,n){var r=this.zoomInPaintVertexArray,i=this.zoomOutPaintVertexArray,o=this.layerId,a=r.length;if(r.reserve(t),i.reserve(t),n&&e.patterns&&e.patterns[o]){var s=e.patterns[o],l=s.min,u=s.mid,c=s.max,p=n[l],h=n[u],f=n[c];if(!p||!h||!f)return;for(var d=a;d<t;d++)r.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1]),i.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1])}},ji.prototype.updatePaintArray=function(t,e,n,r,i){var o=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,s=this.layerId;if(i&&n.patterns&&n.patterns[s]){var l=n.patterns[s],u=l.min,c=l.mid,p=l.max,h=i[u],f=i[c],d=i[p];if(!h||!f||!d)return;for(var g=t;g<e;g++)o.emplace(g,f.tl[0],f.tl[1],f.br[0],f.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1]),a.emplace(g,f.tl[0],f.tl[1],f.br[0],f.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1])}},ji.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ji.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},ji.prototype.setUniforms=function(t,e){e.set(0)},ji.prototype.getBinding=function(t,e){return new ki(t,e)};var Bi=function(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new Ei,this._bufferOffset=0};Bi.createDynamic=function(t,e,n){var r=new Bi,i=[];for(var o in t.paint._values)if(n(o)){var a=t.paint.get(o);if(a instanceof kr&&$e(a.property.specification)){var s=Vi(o,t.type),l=a.property.specification.type,u=a.property.useIntegerZoom;if("cross-faded"===a.property.specification["property-type"]||"cross-faded-data-driven"===a.property.specification["property-type"])if("constant"===a.value.kind)r.binders[o]=new Di(a.value.value,s,l),i.push("/u_"+o);else{var c=qi(o,l,"source");r.binders[o]=new ji(a.value,s,l,u,e,c,t.id),i.push("/a_"+o)}else if("constant"===a.value.kind)r.binders[o]=new Ri(a.value.value,s,l),i.push("/u_"+o);else if("source"===a.value.kind){var p=qi(o,l,"source");r.binders[o]=new zi(a.value,s,l,p),i.push("/a_"+o)}else{var h=qi(o,l,"composite");r.binders[o]=new Fi(a.value,s,l,u,e,h),i.push("/z_"+o)}}}return r.cacheKey=i.sort().join(""),r},Bi.prototype.populatePaintArrays=function(t,e,n,r){for(var i in this.binders)this.binders[i].populatePaintArray(t,e,r);void 0!==e.id&&this._featureMap.add(+e.id,n,this._bufferOffset,t),this._bufferOffset=t},Bi.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders)this.binders[n].setConstantPatternPositions(t,e)},Bi.prototype.updatePaintArrays=function(t,e,n,r){var i=!1;for(var o in t)for(var a=0,s=this._featureMap.getPositions(+o);a<s.length;a+=1){var l=s[a],u=e.feature(l.index);for(var c in this.binders){var p=this.binders[c];if(!(p instanceof Ri||p instanceof Di)&&!0===p.expression.isStateDependent){var h=n.paint.get(c);p.expression=h.value,p.updatePaintArray(l.start,l.end,u,t[o],r),i=!0}}}return i},Bi.prototype.defines=function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t},Bi.prototype.getPaintVertexBuffers=function(){return this._buffers},Bi.prototype.getUniforms=function(t,e){var n=[];for(var r in this.binders)for(var i=this.binders[r],o=0,a=i.uniformNames;o<a.length;o+=1){var s=a[o];if(e[s]){var l=i.getBinding(t,e[s]);n.push({name:s,property:r,binding:l})}}return n},Bi.prototype.setUniforms=function(t,e,n,r){for(var i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.name,l=a.property,u=a.binding;this.binders[l].setUniforms(t,u,r,n.get(l),s)}},Bi.prototype.updatePatternPaintBuffers=function(t){var e=[];for(var n in this.binders){var r=this.binders[n];if(r instanceof ji){var i=2===t.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;i&&e.push(i)}else(r instanceof zi||r instanceof Fi)&&r.paintVertexBuffer&&e.push(r.paintVertexBuffer)}this._buffers=e},Bi.prototype.upload=function(t){for(var e in this.binders)this.binders[e].upload(t);var n=[];for(var r in this.binders){var i=this.binders[r];(i instanceof zi||i instanceof Fi)&&i.paintVertexBuffer&&n.push(i.paintVertexBuffer)}this._buffers=n},Bi.prototype.destroy=function(){for(var t in this.binders)this.binders[t].destroy()};var Ui=function(t,e,n,r){void 0===r&&(r=function(){return!0}),this.programConfigurations={};for(var i=0,o=e;i<o.length;i+=1){var a=o[i];this.programConfigurations[a.id]=Bi.createDynamic(a,n,r),this.programConfigurations[a.id].layoutAttributes=t}this.needsUpload=!1};function Vi(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function qi(t,e,n){var r={color:{source:ai,composite:si},number:{source:ti,composite:ai}},i=function(t){return{"line-pattern":{source:Wr,composite:Wr},"fill-pattern":{source:Wr,composite:Wr},"fill-extrusion-pattern":{source:Wr,composite:Wr}}[t]}(t);return i&&i[n]||r[e][n]}Ui.prototype.populatePaintArrays=function(t,e,n,r){for(var i in this.programConfigurations)this.programConfigurations[i].populatePaintArrays(t,e,n,r);this.needsUpload=!0},Ui.prototype.updatePaintArrays=function(t,e,n,r){for(var i=0,o=n;i<o.length;i+=1){var a=o[i];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,e,a,r)||this.needsUpload}},Ui.prototype.get=function(t){return this.programConfigurations[t]},Ui.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Ui.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},nr("ConstantBinder",Ri),nr("CrossFadedConstantBinder",Di),nr("SourceExpressionBinder",zi),nr("CrossFadedCompositeBinder",ji),nr("CompositeExpressionBinder",Fi),nr("ProgramConfiguration",Bi,{omit:["_buffers"]}),nr("ProgramConfigurationSet",Ui);var Gi=8192,Wi={min:-1*Math.pow(2,15),max:Math.pow(2,15)-1};function Hi(t){for(var e=Gi/t.extent,n=t.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){var a=i[o];a.x=Math.round(a.x*e),a.y=Math.round(a.y*e),(a.x<Wi.min||a.x>Wi.max||a.y<Wi.min||a.y>Wi.max)&&w("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function Yi(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var Xi=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ur,this.indexArray=new ri,this.segments=new xi,this.programConfigurations=new Ui(bi,t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Zi(t,e){for(var n=0;n<t.length;n++)if(io(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(io(t,e[r]))return!0;return!!Qi(t,e)}function Ki(t,e,n){return!!io(t,e)||!!eo(e,t,n)}function $i(t,e){if(1===t.length)return ro(e,t[0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(io(t,r[i]))return!0;for(var o=0;o<t.length;o++)if(ro(e,t[o]))return!0;for(var a=0;a<e.length;a++)if(Qi(t,e[a]))return!0;return!1}function Ji(t,e,n){if(t.length>1){if(Qi(t,e))return!0;for(var r=0;r<e.length;r++)if(eo(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(eo(t[i],e,n))return!0;return!1}function Qi(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++)if(to(r,i,e[o],e[o+1]))return!0;return!1}function to(t,e,n,r){return E(t,n,r)!==E(e,n,r)&&E(t,e,n)!==E(t,e,r)}function eo(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++)if(no(t,e[i-1],e[i])<r)return!0;return!1}function no(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return i<0?t.distSqr(e):i>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(i)._add(e))}function ro(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,l=(n=t[a]).length-1;s<n.length;l=s++)r=n[s],i=n[l],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function io(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function oo(t,e,n){var r=n[0],i=n[2];if(t.x<r.x&&e.x<r.x||t.x>i.x&&e.x>i.x||t.y<r.y&&e.y<r.y||t.y>i.y&&e.y>i.y)return!1;var o=E(t,e,n[0]);return o!==E(t,e,n[1])||o!==E(t,e,n[2])||o!==E(t,e,n[3])}function ao(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).binders[t].maxValue}function so(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function lo(t,e,n,r,o){if(!e[0]&&!e[1])return t;var a=i.convert(e)._mult(o);"viewport"===n&&a._rotate(-r);for(var s=[],l=0;l<t.length;l++){var u=t[l];s.push(u.sub(a))}return s}Xi.prototype.populate=function(t,e){for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new br(this.zoom),o)){var l=Hi(o);this.addFeature(o,l,a),e.featureIndex.insert(o,l,a,s,this.index)}}},Xi.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Xi.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Xi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Xi.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,bi),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Xi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Xi.prototype.addFeature=function(t,e,n){for(var r=0,i=e;r<i.length;r+=1)for(var o=0,a=i[r];o<a.length;o+=1){var s=a[o],l=s.x,u=s.y;if(!(l<0||l>=Gi||u<0||u>=Gi)){var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=c.vertexLength;Yi(this.layoutVertexArray,l,u,-1,-1),Yi(this.layoutVertexArray,l,u,1,-1),Yi(this.layoutVertexArray,l,u,1,1),Yi(this.layoutVertexArray,l,u,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{})},nr("CircleBucket",Xi,{omit:["layers"]});var uo={paint:new Lr({"circle-radius":new Pr(vt.paint_circle["circle-radius"]),"circle-color":new Pr(vt.paint_circle["circle-color"]),"circle-blur":new Pr(vt.paint_circle["circle-blur"]),"circle-opacity":new Pr(vt.paint_circle["circle-opacity"]),"circle-translate":new Ir(vt.paint_circle["circle-translate"]),"circle-translate-anchor":new Ir(vt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ir(vt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ir(vt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Pr(vt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Pr(vt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Pr(vt.paint_circle["circle-stroke-opacity"])})},co="undefined"!=typeof Float32Array?Float32Array:Array;function po(){var t=new co(9);return co!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function ho(){var t=new co(3);return co!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function fo(t,e,n){var r=new co(3);return r[0]=t,r[1]=e,r[2]=n,r}function go(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}function mo(){var t=new co(4);return co!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}Math.PI,ho(),function(){var t;t=new co(4),co!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}(),ho(),fo(1,0,0),fo(0,1,0),mo(),mo(),po(),function(){var t;t=new co(2),co!=Float32Array&&(t[0]=0,t[1]=0)}();var vo=function(t){function e(e){t.call(this,e,uo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new Xi(t)},e.prototype.queryRadius=function(t){var e=t;return ao("circle-radius",this,e)+ao("circle-stroke-width",this,e)+so(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a,s){for(var l=lo(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),u=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),c="map"===this.paint.get("circle-pitch-alignment"),p=c?l:function(t,e){return t.map((function(t){return yo(t,e)}))}(l,s),h=c?u*a:u,f=0,d=r;f<d.length;f+=1)for(var g=0,m=d[f];g<m.length;g+=1){var v=m[g],y=c?v:yo(v,s),_=h,b=go([],[v.x,v.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/b[3]),Ki(p,y,_))return!0}return!1},e}(Rr);function yo(t,e){var n=go([],[t.x,t.y,0,1],e);return new i(n[0]/n[3],n[1]/n[3])}var _o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Xi);function bo(t,e,n,r){var i=e.width,o=e.height;if(r){if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function xo(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=bo({},{width:r,height:i},n);wo(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function wo(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,l=0;l<i.height;l++)for(var u=((n.y+l)*t.width+n.x)*o,c=((r.y+l)*e.width+r.x)*o,p=0;p<i.width*o;p++)s[c+p]=a[u+p];return e}nr("HeatmapBucket",_o,{omit:["layers"]});var Eo=function(t,e){bo(this,t,1,e)};Eo.prototype.resize=function(t){xo(this,t,1)},Eo.prototype.clone=function(){return new Eo({width:this.width,height:this.height},new Uint8Array(this.data))},Eo.copy=function(t,e,n,r,i){wo(t,e,n,r,i,1)};var Co=function(t,e){bo(this,t,4,e)};Co.prototype.resize=function(t){xo(this,t,4)},Co.prototype.replace=function(t,e){e?this.data.set(t):this.data=t},Co.prototype.clone=function(){return new Co({width:this.width,height:this.height},new Uint8Array(this.data))},Co.copy=function(t,e,n,r,i){wo(t,e,n,r,i,4)},nr("AlphaImage",Eo),nr("RGBAImage",Co);var So={paint:new Lr({"heatmap-radius":new Pr(vt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Pr(vt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ir(vt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ar(vt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ir(vt.paint_heatmap["heatmap-opacity"])})};function To(t,e){for(var n=new Uint8Array(1024),r={},i=0,o=0;i<256;i++,o+=4){r[e]=i/255;var a=t.evaluate(r);n[o+0]=Math.floor(255*a.r/a.a),n[o+1]=Math.floor(255*a.g/a.a),n[o+2]=Math.floor(255*a.b/a.a),n[o+3]=Math.floor(255*a.a)}return new Co({width:256,height:1},n)}var ko=function(t){function e(e){t.call(this,e,So),this._updateColorRamp()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new _o(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){var t=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=To(t,"heatmapDensity"),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(Rr),Oo={paint:new Lr({"hillshade-illumination-direction":new Ir(vt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ir(vt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ir(vt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ir(vt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ir(vt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ir(vt.paint_hillshade["hillshade-accent-color"])})},Io=function(t){function e(e){t.call(this,e,Oo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(Rr),Po=jr([{name:"a_pos",components:2,type:"Int16"}],4).members,No=Ao,Mo=Ao;function Ao(t,e,n){n=n||2;var r,i,o,a,s,l,u,c=e&&e.length,p=c?e[0]*n:t.length,h=Lo(t,0,p,n,!0),f=[];if(!h||h.next===h.prev)return f;if(c&&(h=function(t,e,n,r){var i,o,a,s=[];for(i=0,o=e.length;i<o;i++)(a=Lo(t,e[i]*r,i<o-1?e[i+1]*r:t.length,r,!1))===a.next&&(a.steiner=!0),s.push(Go(a));for(s.sort(Uo),i=0;i<s.length;i++)Vo(s[i],n),n=Ro(n,n.next);return n}(t,e,h,n)),t.length>80*n){r=o=t[0],i=a=t[1];for(var d=n;d<p;d+=n)(s=t[d])<r&&(r=s),(l=t[d+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?1/u:0}return Do(h,f,n,r,i,u),f}function Lo(t,e,n,r,i){var o,a;if(i===ea(t,e,n,r)>0)for(o=e;o<n;o+=r)a=Jo(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=Jo(o,t[o],t[o+1],a);return a&&Xo(a,a.next)&&(Qo(a),a=a.next),a}function Ro(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Xo(r,r.next)&&0!==Yo(r.prev,r,r.next))r=r.next;else{if(Qo(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Do(t,e,n,r,i,o,a){if(t){!a&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=qo(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(t,r,i,o);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?Fo(t,r,i,o):zo(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),Qo(t),t=l.next,u=l.next;else if((t=l)===u){a?1===a?Do(t=jo(t,e,n),e,n,r,i,o,2):2===a&&Bo(t,e,n,r,i,o):Do(Ro(t),e,n,r,i,o,1);break}}}function zo(t){var e=t.prev,n=t,r=t.next;if(Yo(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Wo(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Yo(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Fo(t,e,n,r){var i=t.prev,o=t,a=t.next;if(Yo(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,p=qo(s,l,e,n,r),h=qo(u,c,e,n,r),f=t.prevZ,d=t.nextZ;f&&f.z>=p&&d&&d.z<=h;){if(f!==t.prev&&f!==t.next&&Wo(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Yo(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,d!==t.prev&&d!==t.next&&Wo(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Yo(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;f&&f.z>=p;){if(f!==t.prev&&f!==t.next&&Wo(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Yo(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;d&&d.z<=h;){if(d!==t.prev&&d!==t.next&&Wo(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Yo(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function jo(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Xo(i,o)&&Zo(i,r,r.next,o)&&Ko(i,o)&&Ko(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),Qo(r),Qo(r.next),r=t=o),r=r.next}while(r!==t);return r}function Bo(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ho(a,s)){var l=$o(a,s);return a=Ro(a,a.next),l=Ro(l,l.next),Do(a,e,n,r,i,o),void Do(l,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)}function Uo(t,e){return t.x-e.x}function Vo(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var l,u=n,c=n.x,p=n.y,h=1/0;for(r=n.next;r!==u;)i>=r.x&&r.x>=c&&i!==r.x&&Wo(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(i-r.x))<h||l===h&&r.x>n.x)&&Ko(r,t)&&(n=r,h=l),r=r.next;return n}(t,e)){var n=$o(e,t);Ro(n,n.next)}}function qo(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Go(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function Wo(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Ho(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Zo(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Ko(t,e)&&Ko(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function Yo(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Xo(t,e){return t.x===e.x&&t.y===e.y}function Zo(t,e,n,r){return!!(Xo(t,e)&&Xo(n,r)||Xo(t,r)&&Xo(n,e))||Yo(t,e,n)>0!=Yo(t,e,r)>0&&Yo(n,r,t)>0!=Yo(n,r,e)>0}function Ko(t,e){return Yo(t.prev,t,t.next)<0?Yo(t,e,t.next)>=0&&Yo(t,t.prev,e)>=0:Yo(t,e,t.prev)<0||Yo(t,t.next,e)<0}function $o(t,e){var n=new ta(t.i,t.x,t.y),r=new ta(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Jo(t,e,n,r){var i=new ta(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Qo(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ta(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ea(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}function na(t,e,n,r,i){!function t(e,n,r,i,o){for(;i>r;){if(i-r>600){var a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}var p=e[n],h=r,f=i;for(ra(e,r,n),o(e[i],p)>0&&ra(e,r,i);h<f;){for(ra(e,h,f),h++,f--;o(e[h],p)<0;)h++;for(;o(e[f],p)>0;)f--}0===o(e[r],p)?ra(e,r,f):ra(e,++f,i),f<=n&&(r=f+1),n<=f&&(i=f-1)}}(t,e,n||0,r||t.length-1,i||ia)}function ra(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function ia(t,e){return t<e?-1:t>e?1:0}function oa(t,e){var n=t.length;if(n<=1)return[t];for(var r,i,o=[],a=0;a<n;a++){var s=C(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===i&&(i=s<0),i===s<0?(r&&o.push(r),r=[t[a]]):r.push(t[a]))}if(r&&o.push(r),e>1)for(var l=0;l<o.length;l++)o[l].length<=e||(na(o[l],e,1,o[l].length-1,aa),o[l]=o[l].slice(0,e));return o}function aa(t,e){return e.area-t.area}function sa(t,e,n){for(var r=n.patternDependencies,i=!1,o=0,a=e;o<a.length;o+=1){var s=a[o].paint.get(t+"-pattern");s.isConstant()||(i=!0);var l=s.constantOr(null);l&&(i=!0,r[l.to]=!0,r[l.from]=!0)}return i}function la(t,e,n,r,i){for(var o=i.patternDependencies,a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.paint.get(t+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:r-1},n,{}),p=u.evaluate({zoom:r},n,{}),h=u.evaluate({zoom:r+1},n,{});o[c]=!0,o[p]=!0,o[h]=!0,n.patterns[l.id]={min:c,mid:p,max:h}}}return n}Ao.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(ea(t,0,o,n));if(i)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,c=s<l-1?e[s+1]*n:t.length;a-=Math.abs(ea(t,u,c,n))}var p=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,f=r[s+1]*n,d=r[s+2]*n;p+=Math.abs((t[h]-t[d])*(t[f+1]-t[h+1])-(t[h]-t[f])*(t[d+1]-t[h+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},Ao.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},No.default=Mo;var ua=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ur,this.indexArray=new ri,this.indexArray2=new ii,this.programConfigurations=new Ui(Po,t.layers,t.zoom),this.segments=new xi,this.segments2=new xi,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};ua.prototype.populate=function(t,e){this.features=[],this.hasPattern=sa("fill",this.layers,e);for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new br(this.zoom),o)){var l=Hi(o),u={sourceLayerIndex:s,index:a,geometry:l,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(u.id=o.id),this.hasPattern?this.features.push(la("fill",this.layers,u,this.zoom,e)):this.addFeature(u,l,a,{}),e.featureIndex.insert(o,l,a,s,this.index)}}},ua.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},ua.prototype.addFeatures=function(t,e){for(var n=0,r=this.features;n<r.length;n+=1){var i=r[n],o=i.geometry;this.addFeature(i,o,i.index,e)}},ua.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ua.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ua.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Po),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},ua.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ua.prototype.addFeature=function(t,e,n,r){for(var i=0,o=oa(e,500);i<o.length;i+=1){for(var a=o[i],s=0,l=0,u=a;l<u.length;l+=1)s+=u[l].length;for(var c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),p=c.vertexLength,h=[],f=[],d=0,g=a;d<g.length;d+=1){var m=g[d];if(0!==m.length){m!==a[0]&&f.push(h.length/2);var v=this.segments2.prepareSegment(m.length,this.layoutVertexArray,this.indexArray2),y=v.vertexLength;this.layoutVertexArray.emplaceBack(m[0].x,m[0].y),this.indexArray2.emplaceBack(y+m.length-1,y),h.push(m[0].x),h.push(m[0].y);for(var _=1;_<m.length;_++)this.layoutVertexArray.emplaceBack(m[_].x,m[_].y),this.indexArray2.emplaceBack(y+_-1,y+_),h.push(m[_].x),h.push(m[_].y);v.vertexLength+=m.length,v.primitiveLength+=m.length}}for(var b=No(h,f),x=0;x<b.length;x+=3)this.indexArray.emplaceBack(p+b[x],p+b[x+1],p+b[x+2]);c.vertexLength+=s,c.primitiveLength+=b.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r)},nr("FillBucket",ua,{omit:["layers","features"]});var ca={paint:new Lr({"fill-antialias":new Ir(vt.paint_fill["fill-antialias"]),"fill-opacity":new Pr(vt.paint_fill["fill-opacity"]),"fill-color":new Pr(vt.paint_fill["fill-color"]),"fill-outline-color":new Pr(vt.paint_fill["fill-outline-color"]),"fill-translate":new Ir(vt.paint_fill["fill-translate"]),"fill-translate-anchor":new Ir(vt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Nr(vt.paint_fill["fill-pattern"])})},pa=function(t){function e(e){t.call(this,e,ca)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new ua(t)},e.prototype.queryRadius=function(){return so(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,i,o,a){return $i(lo(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)},e.prototype.isTileClipped=function(){return!0},e}(Rr),ha=jr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,fa=da;function da(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(ga,this,e)}function ga(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function ma(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],r+=((n=t[a]).x-e.x)*(e.y+n.y);return r}da.types=["Unknown","Point","LineString","Polygon"],da.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,r=1,o=0,a=0,s=0,l=[];t.pos<n;){if(o<=0){var u=t.readVarint();r=7&u,o=u>>3}if(o--,1===r||2===r)a+=t.readSVarint(),s+=t.readSVarint(),1===r&&(e&&l.push(e),e=[]),e.push(new i(a,s));else{if(7!==r)throw new Error("unknown command "+r);e&&e.push(e[0].clone())}}return e&&l.push(e),l},da.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=t.readSVarint())<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},da.prototype.toGeoJSON=function(t,e,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,l=this.loadGeometry(),u=da.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+s)/o;t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(r=0;r<l.length;r++)p[r]=l[r][0];c(l=p);break;case 2:for(r=0;r<l.length;r++)c(l[r]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=ma(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)c(l[r][i])}1===l.length?l=l[0]:u="Multi"+u;var h={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var va=ya;function ya(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(_a,this,e),this.length=this._features.length}function _a(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}function ba(t,e,n){if(3===t){var r=new va(n,n.readVarint()+n.pos);r.length&&(e[r.name]=r)}}ya.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new fa(this._pbf,e,this.extent,this._keys,this._values)};var xa={VectorTile:function(t,e){this.layers=t.readFields(ba,{},e)},VectorTileFeature:fa,VectorTileLayer:va},wa=xa.VectorTileFeature.types,Ea=Math.pow(2,13);function Ca(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*Ea)+a,i*Ea*2,o*Ea*2,Math.round(s))}var Sa=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new qr,this.indexArray=new ri,this.programConfigurations=new Ui(ha,t.layers,t.zoom),this.segments=new xi,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Ta(t,e){return t.x===e.x&&(t.x<0||t.x>Gi)||t.y===e.y&&(t.y<0||t.y>Gi)}function ka(t){return t.every((function(t){return t.x<0}))||t.every((function(t){return t.x>Gi}))||t.every((function(t){return t.y<0}))||t.every((function(t){return t.y>Gi}))}Sa.prototype.populate=function(t,e){this.features=[],this.hasPattern=sa("fill-extrusion",this.layers,e);for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new br(this.zoom),o)){var l=Hi(o),u={sourceLayerIndex:s,index:a,geometry:l,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(u.id=o.id),this.hasPattern?this.features.push(la("fill-extrusion",this.layers,u,this.zoom,e)):this.addFeature(u,l,a,{}),e.featureIndex.insert(o,l,a,s,this.index,!0)}}},Sa.prototype.addFeatures=function(t,e){for(var n=0,r=this.features;n<r.length;n+=1){var i=r[n],o=i.geometry;this.addFeature(i,o,i.index,e)}},Sa.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Sa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Sa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Sa.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ha),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Sa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Sa.prototype.addFeature=function(t,e,n,r){for(var i=0,o=oa(e,500);i<o.length;i+=1){for(var a=o[i],s=0,l=0,u=a;l<u.length;l+=1)s+=u[l].length;for(var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,h=a;p<h.length;p+=1){var f=h[p];if(0!==f.length&&!ka(f))for(var d=0,g=0;g<f.length;g++){var m=f[g];if(g>=1){var v=f[g-1];if(!Ta(m,v)){c.vertexLength+4>xi.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var y=m.sub(v)._perp()._unit(),_=v.dist(m);d+_>32768&&(d=0),Ca(this.layoutVertexArray,m.x,m.y,y.x,y.y,0,0,d),Ca(this.layoutVertexArray,m.x,m.y,y.x,y.y,0,1,d),d+=_,Ca(this.layoutVertexArray,v.x,v.y,y.x,y.y,0,0,d),Ca(this.layoutVertexArray,v.x,v.y,y.x,y.y,0,1,d);var b=c.vertexLength;this.indexArray.emplaceBack(b,b+2,b+1),this.indexArray.emplaceBack(b+1,b+2,b+3),c.vertexLength+=4,c.primitiveLength+=2}}}}if(c.vertexLength+s>xi.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray)),"Polygon"===wa[t.type]){for(var x=[],w=[],E=c.vertexLength,C=0,S=a;C<S.length;C+=1){var T=S[C];if(0!==T.length){T!==a[0]&&w.push(x.length/2);for(var k=0;k<T.length;k++){var O=T[k];Ca(this.layoutVertexArray,O.x,O.y,0,0,1,1,0),x.push(O.x),x.push(O.y)}}}for(var I=No(x,w),P=0;P<I.length;P+=3)this.indexArray.emplaceBack(E+I[P],E+I[P+2],E+I[P+1]);c.primitiveLength+=I.length/3,c.vertexLength+=s}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r)},nr("FillExtrusionBucket",Sa,{omit:["layers","features"]});var Oa={paint:new Lr({"fill-extrusion-opacity":new Ir(vt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Pr(vt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ir(vt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ir(vt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Nr(vt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Pr(vt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Pr(vt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ir(vt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Ia=function(t){function e(e){t.call(this,e,Oa)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new Sa(t)},e.prototype.queryRadius=function(){return so(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,s,l){var u=lo(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(e,n),p=this.paint.get("fill-extrusion-base").evaluate(e,n),h=function(t,e,n,r){for(var o=[],a=0,s=t;a<s.length;a+=1){var l=s[a],u=[l.x,l.y,0,1];go(u,u,e),o.push(new i(u[0]/u[3],u[1]/u[3]))}return o}(u,l),f=function(t,e,n,r){for(var o=[],a=[],s=r[8]*e,l=r[9]*e,u=r[10]*e,c=r[11]*e,p=r[8]*n,h=r[9]*n,f=r[10]*n,d=r[11]*n,g=0,m=t;g<m.length;g+=1){for(var v=[],y=[],_=0,b=m[g];_<b.length;_+=1){var x=b[_],w=x.x,E=x.y,C=r[0]*w+r[4]*E+r[12],S=r[1]*w+r[5]*E+r[13],T=r[2]*w+r[6]*E+r[14],k=r[3]*w+r[7]*E+r[15],O=T+u,I=k+c,P=C+p,N=S+h,M=T+f,A=k+d,L=new i((C+s)/I,(S+l)/I);L.z=O/I,v.push(L);var R=new i(P/A,N/A);R.z=M/A,y.push(R)}o.push(v),a.push(y)}return[o,a]}(r,p,c,l);return function(t,e,n){var r=1/0;$i(n,e)&&(r=Na(n,e[0]));for(var i=0;i<e.length;i++)for(var o=e[i],a=t[i],s=0;s<o.length-1;s++){var l=o[s],u=o[s+1],c=a[s],p=[l,u,a[s+1],c,l];Zi(n,p)&&(r=Math.min(r,Na(n,p)))}return r!==1/0&&r}(f[0],f[1],h)},e}(Rr);function Pa(t,e){return t.x*e.x+t.y*e.y}function Na(t,e){if(1===t.length){var n=e[0],r=e[1],i=e[3],o=t[0],a=r.sub(n),s=i.sub(n),l=o.sub(n),u=Pa(a,a),c=Pa(a,s),p=Pa(s,s),h=Pa(l,a),f=Pa(l,s),d=u*p-c*c,g=(p*h-c*f)/d,m=(u*f-c*h)/d,v=1-g-m;return n.z*v+r.z*g+i.z*m}for(var y=1/0,_=0,b=e;_<b.length;_+=1){var x=b[_];y=Math.min(y,x.z)}return y}var Ma=jr([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Aa=xa.VectorTileFeature.types,La=Math.cos(Math.PI/180*37.5),Ra=Math.pow(2,14)/.5;function Da(t,e,n,r,i,o,a){t.emplaceBack(e.x,e.y,r?1:0,i?1:-1,Math.round(63*n.x)+128,Math.round(63*n.y)+128,1+(0===o?0:o<0?-1:1)|(.5*a&63)<<2,.5*a>>6)}var za=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.features=[],this.hasPattern=!1,this.layoutVertexArray=new Gr,this.indexArray=new ri,this.programConfigurations=new Ui(Ma,t.layers,t.zoom),this.segments=new xi,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Fa(t,e){return(t/e.tileTotal*(e.end-e.start)+e.start)*(Ra-1)}za.prototype.populate=function(t,e){this.features=[],this.hasPattern=sa("line",this.layers,e);for(var n=0,r=t;n<r.length;n+=1){var i=r[n],o=i.feature,a=i.index,s=i.sourceLayerIndex;if(this.layers[0]._featureFilter(new br(this.zoom),o)){var l=Hi(o),u={sourceLayerIndex:s,index:a,geometry:l,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(u.id=o.id),this.hasPattern?this.features.push(la("line",this.layers,u,this.zoom,e)):this.addFeature(u,l,a,{}),e.featureIndex.insert(o,l,a,s,this.index)}}},za.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},za.prototype.addFeatures=function(t,e){for(var n=0,r=this.features;n<r.length;n+=1){var i=r[n],o=i.geometry;this.addFeature(i,o,i.index,e)}},za.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},za.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},za.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ma),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},za.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},za.prototype.addFeature=function(t,e,n,r){for(var i=this.layers[0].layout,o=i.get("line-join").evaluate(t,{}),a=i.get("line-cap"),s=i.get("line-miter-limit"),l=i.get("line-round-limit"),u=0,c=e;u<c.length;u+=1){var p=c[u];this.addLine(p,t,o,a,s,l,n,r)}},za.prototype.addLine=function(t,e,n,r,i,o,a,s){var l=null;e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end")&&(l={start:e.properties.mapbox_clip_start,end:e.properties.mapbox_clip_end,tileTotal:void 0});for(var u="Polygon"===Aa[e.type],c=t.length;c>=2&&t[c-1].equals(t[c-2]);)c--;for(var p=0;p<c-1&&t[p].equals(t[p+1]);)p++;if(!(c<(u?3:2))){l&&(l.tileTotal=function(t,e,n){for(var r,i,o=0,a=e;a<n-1;a++)r=t[a],i=t[a+1],o+=r.dist(i);return o}(t,p,c)),"bevel"===n&&(i=1.05);var h=Gi/(512*this.overscaling)*15,f=t[p],d=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray);this.distance=0;var g,m,v,y=r,_=u?"butt":r,b=!0,x=void 0,w=void 0,E=void 0,C=void 0;this.e1=this.e2=this.e3=-1,u&&(g=t[c-2],C=f.sub(g)._unit()._perp());for(var S=p;S<c;S++)if(!(w=u&&S===c-1?t[p+1]:t[S+1])||!t[S].equals(w)){C&&(E=C),g&&(x=g),g=t[S],C=w?w.sub(g)._unit()._perp():E;var T=(E=E||C).add(C);0===T.x&&0===T.y||T._unit();var k=T.x*C.x+T.y*C.y,O=0!==k?1/k:1/0,I=k<La&&x&&w;if(I&&S>p){var P=g.dist(x);if(P>2*h){var N=g.sub(g.sub(x)._mult(h/P)._round());this.distance+=N.dist(x),this.addCurrentVertex(N,this.distance,E.mult(1),0,0,!1,d,l),x=N}}var M=x&&w,A=M?n:w?y:_;if(M&&"round"===A&&(O<o?A="miter":O<=2&&(A="fakeround")),"miter"===A&&O>i&&(A="bevel"),"bevel"===A&&(O>2&&(A="flipbevel"),O<i&&(A="miter")),x&&(this.distance+=g.dist(x)),"miter"===A)T._mult(O),this.addCurrentVertex(g,this.distance,T,0,0,!1,d,l);else if("flipbevel"===A){if(O>100)T=C.clone().mult(-1);else{var L=E.x*C.y-E.y*C.x>0?-1:1,R=O*E.add(C).mag()/E.sub(C).mag();T._perp()._mult(R*L)}this.addCurrentVertex(g,this.distance,T,0,0,!1,d,l),this.addCurrentVertex(g,this.distance,T.mult(-1),0,0,!1,d,l)}else if("bevel"===A||"fakeround"===A){var D=E.x*C.y-E.y*C.x>0,z=-Math.sqrt(O*O-1);if(D?(v=0,m=z):(m=0,v=z),b||this.addCurrentVertex(g,this.distance,E,m,v,!1,d,l),"fakeround"===A){for(var F=Math.floor(8*(.5-(k-.5))),j=void 0,B=0;B<F;B++)j=C.mult((B+1)/(F+1))._add(E)._unit(),this.addPieSliceVertex(g,this.distance,j,D,d,l);this.addPieSliceVertex(g,this.distance,T,D,d,l);for(var U=F-1;U>=0;U--)j=E.mult((U+1)/(F+1))._add(C)._unit(),this.addPieSliceVertex(g,this.distance,j,D,d,l)}w&&this.addCurrentVertex(g,this.distance,C,-m,-v,!1,d,l)}else"butt"===A?(b||this.addCurrentVertex(g,this.distance,E,0,0,!1,d,l),w&&this.addCurrentVertex(g,this.distance,C,0,0,!1,d,l)):"square"===A?(b||(this.addCurrentVertex(g,this.distance,E,1,1,!1,d,l),this.e1=this.e2=-1),w&&this.addCurrentVertex(g,this.distance,C,-1,-1,!1,d,l)):"round"===A&&(b||(this.addCurrentVertex(g,this.distance,E,0,0,!1,d,l),this.addCurrentVertex(g,this.distance,E,1,1,!0,d,l),this.e1=this.e2=-1),w&&(this.addCurrentVertex(g,this.distance,C,-1,-1,!0,d,l),this.addCurrentVertex(g,this.distance,C,0,0,!1,d,l)));if(I&&S<c-1){var V=g.dist(w);if(V>2*h){var q=g.add(w.sub(g)._mult(h/V)._round());this.distance+=q.dist(g),this.addCurrentVertex(q,this.distance,C.mult(1),0,0,!1,d,l),g=q}}b=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,a,s)}},za.prototype.addCurrentVertex=function(t,e,n,r,i,o,a,s){var l,u=this.layoutVertexArray,c=this.indexArray;s&&(e=Fa(e,s)),l=n.clone(),r&&l._sub(n.perp()._mult(r)),Da(u,t,l,o,!1,r,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,l=n.mult(-1),i&&l._sub(n.perp()._mult(i)),Da(u,t,l,o,!0,-i,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>Ra/2&&!s&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,r,i,o,a))},za.prototype.addPieSliceVertex=function(t,e,n,r,i,o){n=n.mult(r?-1:1);var a=this.layoutVertexArray,s=this.indexArray;o&&(e=Fa(e,o)),Da(a,t,n,!1,r,0,e),this.e3=i.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),i.primitiveLength++),r?this.e2=this.e3:this.e1=this.e3},nr("LineBucket",za,{omit:["layers","features"]});var ja=new Lr({"line-cap":new Ir(vt.layout_line["line-cap"]),"line-join":new Pr(vt.layout_line["line-join"]),"line-miter-limit":new Ir(vt.layout_line["line-miter-limit"]),"line-round-limit":new Ir(vt.layout_line["line-round-limit"])}),Ba={paint:new Lr({"line-opacity":new Pr(vt.paint_line["line-opacity"]),"line-color":new Pr(vt.paint_line["line-color"]),"line-translate":new Ir(vt.paint_line["line-translate"]),"line-translate-anchor":new Ir(vt.paint_line["line-translate-anchor"]),"line-width":new Pr(vt.paint_line["line-width"]),"line-gap-width":new Pr(vt.paint_line["line-gap-width"]),"line-offset":new Pr(vt.paint_line["line-offset"]),"line-blur":new Pr(vt.paint_line["line-blur"]),"line-dasharray":new Mr(vt.paint_line["line-dasharray"]),"line-pattern":new Nr(vt.paint_line["line-pattern"]),"line-gradient":new Ar(vt.paint_line["line-gradient"])}),layout:ja},Ua=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new br(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,r,i){return n=p({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,r,i)},e}(Pr))(Ba.paint.properties["line-width"].specification);Ua.useIntegerZoom=!0;var Va=function(t){function e(e){t.call(this,e,Ba)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&this._updateGradient()},e.prototype._updateGradient=function(){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=To(t,"lineProgress"),this.gradientTexture=null},e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),this.paint._values["line-floorwidth"]=Ua.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new za(t)},e.prototype.queryRadius=function(t){var e=t,n=qa(ao("line-width",this,e),ao("line-gap-width",this,e)),r=ao("line-offset",this,e);return n/2+Math.abs(r)+so(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,r,o,a,s){var l=lo(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),u=s/2*qa(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),c=this.paint.get("line-offset").evaluate(e,n);return c&&(r=function(t,e){for(var n=[],r=new i(0,0),o=0;o<t.length;o++){for(var a=t[o],s=[],l=0;l<a.length;l++){var u=a[l-1],c=a[l],p=a[l+1],h=0===l?r:c.sub(u)._unit()._perp(),f=l===a.length-1?r:p.sub(c)._unit()._perp(),d=h._add(f)._unit(),g=d.x*f.x+d.y*f.y;d._mult(1/g),s.push(d._mult(e)._add(c))}n.push(s)}return n}(r,c*s)),function(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];if(t.length>=3)for(var o=0;o<i.length;o++)if(io(t,i[o]))return!0;if(Ji(t,i,n))return!0}return!1}(l,r,u)},e.prototype.isTileClipped=function(){return!0},e}(Rr);function qa(t,e){return e>0?e+2*t:t}var Ga=jr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),Wa=jr([{name:"a_projected_pos",components:3,type:"Float32"}],4),Ha=(jr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),jr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Ya=(jr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),jr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Xa=jr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function Za(t,e,n){return t.sections.forEach((function(t){t.text=function(t,e,n){var r=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),_r.applyArabicShaping&&(t=_r.applyArabicShaping(t)),t}(t.text,e,n)})),t}jr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"}]),jr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"radialTextOffset"}]),jr([{type:"Float32",name:"offsetX"}]),jr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Ka={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},$a=function(t){function e(e,n,r,i){t.call(this,e,n),this.angle=r,void 0!==i&&(this.segment=i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(i);nr("Anchor",$a);var Ja=256;function Qa(t,e){var n=e.expression;if("constant"===n.kind)return{functionType:"constant",layoutSize:n.evaluate(new br(t+1))};if("source"===n.kind)return{functionType:"source"};for(var r=n.zoomStops,i=0;i<r.length&&r[i]<=t;)i++;for(var o=i=Math.max(0,i-1);o<r.length&&r[o]<t+1;)o++;o=Math.min(r.length-1,o);var a={min:r[i],max:r[o]};return"composite"===n.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:n.evaluate(new br(t+1)),zoomRange:a,sizeRange:{min:n.evaluate(new br(a.min)),max:n.evaluate(new br(a.max))},propertyValue:e.value}}function ts(t,e,n){var r=e;return"source"===t.functionType?n.lowerSize/Ja:"composite"===t.functionType?ce(n.lowerSize/Ja,n.upperSize/Ja,r.uSizeT):r.uSize}function es(t,e,n){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var r=t.propertyValue,i=t.zoomRange,o=t.sizeRange,a=u(vn(r,n.specification).interpolationFactor(e,i.min,i.max),0,1);return{uSizeT:0,uSize:o.min+a*(o.max-o.min)}}var s=t.propertyValue,l=t.zoomRange;return{uSizeT:u(vn(s,n.specification).interpolationFactor(e,l.min,l.max),0,1),uSize:0}}var ns=Object.freeze({getSizeData:Qa,evaluateSizeForFeature:ts,evaluateSizeForZoom:es,SIZE_PACK_FACTOR:Ja}),rs=xa.VectorTileFeature.types,is=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function os(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,Math.round(32*r),Math.round(32*i),o,a,s?s[0]:0,s?s[1]:0)}function as(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}var ss=function(t){this.layoutVertexArray=new Hr,this.indexArray=new ri,this.programConfigurations=t,this.segments=new xi,this.dynamicLayoutVertexArray=new Yr,this.opacityVertexArray=new Xr,this.placedSymbolArray=new pi};ss.prototype.upload=function(t,e,n,r){n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ga.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Wa.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,is,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(t)},ss.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},nr("SymbolBuffers",ss);var ls=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new xi,this.collisionVertexArray=new $r};ls.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Ha.members,!0)},ls.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},nr("CollisionBuffers",ls);var us=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1;var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Qa(this.zoom,e["text-size"]),this.iconSizeData=Qa(this.zoom,e["icon-size"]);var n=this.layers[0].layout,r=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==i&&void 0!==r.constantOr(1);var o="viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey;this.sortFeaturesByY=o&&(n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID};us.prototype.createArrays=function(){this.text=new ss(new Ui(Ga.members,this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new ss(new Ui(Ga.members,this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.collisionBox=new ls(Kr,Ya.members,ii),this.collisionCircle=new ls(Kr,Xa.members,ri),this.glyphOffsetArray=new gi,this.lineVertexArray=new vi,this.symbolInstances=new fi},us.prototype.calculateGlyphDependencies=function(t,e,n,r){for(var i=0;i<t.length;i++)if(e[t.charCodeAt(i)]=!0,n&&r){var o=Ka[t.charAt(i)];o&&(e[o.charCodeAt(0)]=!0)}},us.prototype.populate=function(t,e){var n=this.layers[0],r=n.layout,i=r.get("text-font"),o=r.get("text-field"),a=r.get("icon-image"),s=("constant"!==o.value.kind||o.value.value.toString().length>0)&&("constant"!==i.value.kind||i.value.value.length>0),l="constant"!==a.value.kind||a.value.value&&a.value.value.length>0,u=r.get("symbol-sort-key");if(this.features=[],s||l){for(var c=e.iconDependencies,p=e.glyphDependencies,h=new br(this.zoom),f=0,d=t;f<d.length;f+=1){var g=d[f],m=g.feature,v=g.index,y=g.sourceLayerIndex;if(n._featureFilter(h,m)){var _=void 0;if(s){var b=n.getValueAndResolveTokens("text-field",m);_=Za(b instanceof Vt?b:Vt.fromString(b),n,m)}var x=void 0;if(l&&(x=n.getValueAndResolveTokens("icon-image",m)),_||x){var w=this.sortFeaturesByKey?u.evaluate(m,{}):void 0,E={text:_,icon:x,index:v,sourceLayerIndex:y,geometry:Hi(m),properties:m.properties,type:rs[m.type],sortKey:w};if(void 0!==m.id&&(E.id=m.id),this.features.push(E),x&&(c[x]=!0),_)for(var C=i.evaluate(m,{}).join(","),S="map"===r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement"),T=0,k=_.sections;T<k.length;T+=1){var O=k[T],I=lr(_.toString()),P=O.fontStack||C,N=p[P]=p[P]||{};this.calculateGlyphDependencies(O.text,N,S,I)}}}}"line"===r.get("symbol-placement")&&(this.features=function(t){var e={},n={},r=[],i=0;function o(e){r.push(t[e]),i++}function a(t,e,i){var o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(t,n,i){var o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function l(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return t+":"+r.x+":"+r.y}for(var u=0;u<t.length;u++){var c=t[u],p=c.geometry,h=c.text?c.text.toString():null;if(h){var f=l(h,p),d=l(h,p,!0);if(f in n&&d in e&&n[f]!==e[d]){var g=s(f,d,p),m=a(f,d,r[g].geometry);delete e[f],delete n[d],n[l(h,r[m].geometry,!0)]=m,r[g].geometry=null}else f in n?a(f,d,p):d in e?s(f,d,p):(o(u),e[f]=i-1,n[d]=i-1)}else o(u)}return r.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},us.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},us.prototype.isEmpty=function(){return 0===this.symbolInstances.length},us.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},us.prototype.upload=function(t){this.uploaded||(this.collisionBox.upload(t),this.collisionCircle.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},us.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},us.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=e[s-1].dist(e[s]));for(var l=0;l<e.length;l++){var u=o[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},us.prototype.addSymbols=function(t,e,n,r,i,o,a,s,l,u){for(var c=t.indexArray,p=t.layoutVertexArray,h=t.dynamicLayoutVertexArray,f=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray,o.sortKey),d=this.glyphOffsetArray.length,g=f.vertexLength,m=0,v=e;m<v.length;m+=1){var y=v[m],_=y.tl,b=y.tr,x=y.bl,w=y.br,E=y.tex,C=f.vertexLength,S=y.glyphOffset[1];os(p,s.x,s.y,_.x,S+_.y,E.x,E.y,n),os(p,s.x,s.y,b.x,S+b.y,E.x+E.w,E.y,n),os(p,s.x,s.y,x.x,S+x.y,E.x,E.y+E.h,n),os(p,s.x,s.y,w.x,S+w.y,E.x+E.w,E.y+E.h,n),as(h,s,0),c.emplaceBack(C,C+1,C+2),c.emplaceBack(C+1,C+2,C+3),f.vertexLength+=4,f.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(y.glyphOffset[0])}t.placedSymbolArray.emplaceBack(s.x,s.y,d,this.glyphOffsetArray.length-d,g,l,u,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,!1,0),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o,o.index,{})},us.prototype._addCollisionDebugVertex=function(t,e,n,r,i,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))},us.prototype.addCollisionDebugVertices=function(t,e,n,r,o,a,s,l){var u=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),c=u.vertexLength,p=o.layoutVertexArray,h=o.collisionVertexArray,f=s.anchorX,d=s.anchorY;if(this._addCollisionDebugVertex(p,h,a,f,d,new i(t,e)),this._addCollisionDebugVertex(p,h,a,f,d,new i(n,e)),this._addCollisionDebugVertex(p,h,a,f,d,new i(n,r)),this._addCollisionDebugVertex(p,h,a,f,d,new i(t,r)),u.vertexLength+=4,l){var g=o.indexArray;g.emplaceBack(c,c+1,c+2),g.emplaceBack(c,c+2,c+3),u.primitiveLength+=2}else{var m=o.indexArray;m.emplaceBack(c,c+1),m.emplaceBack(c+1,c+2),m.emplaceBack(c+2,c+3),m.emplaceBack(c+3,c),u.primitiveLength+=4}},us.prototype.addDebugCollisionBoxes=function(t,e,n){for(var r=t;r<e;r++){var i=this.collisionBoxArray.get(r),o=i.x1,a=i.y1,s=i.x2,l=i.y2,u=i.radius>0;this.addCollisionDebugVertices(o,a,s,l,u?this.collisionCircle:this.collisionBox,i.anchorPoint,n,u)}},us.prototype.generateCollisionDebugBuffers=function(){for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e)}},us.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,r,i){for(var o={},a=e;a<n;a++){var s=t.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},o.textFeatureIndex=s.featureIndex;break}o.textCircles||(o.textCircles=[],o.textFeatureIndex=s.featureIndex),o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var l=r;l<i;l++){var u=t.get(l);if(0===u.radius){o.iconBox={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2,anchorPointX:u.anchorPointX,anchorPointY:u.anchorPointY},o.iconFeatureIndex=u.featureIndex;break}}return o},us.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex))}},us.prototype.hasTextData=function(){return this.text.segments.get().length>0},us.prototype.hasIconData=function(){return this.icon.segments.get().length>0},us.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},us.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},us.prototype.addIndicesForPlacedTextSymbol=function(t){for(var e=this.text.placedSymbolArray.get(t),n=e.vertexStartIndex+4*e.numGlyphs,r=e.vertexStartIndex;r<n;r+=4)this.text.indexArray.emplaceBack(r,r+1,r+2),this.text.indexArray.emplaceBack(r+1,r+2,r+3)},us.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var n=[],r=0;r<this.symbolInstances.length;r++)n.push(r);for(var i=Math.sin(t),o=Math.cos(t),a=[],s=[],l=0;l<this.symbolInstances.length;l++){var u=this.symbolInstances.get(l);a.push(0|Math.round(i*u.anchorX+o*u.anchorY)),s.push(u.featureIndex)}n.sort((function(t,e){return a[t]-a[e]||s[e]-s[t]})),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var c=0,p=n;c<p.length;c+=1){var h=p[c],f=this.symbolInstances.get(h);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((function(t,n,r){t>=0&&r.indexOf(t)===n&&e.addIndicesForPlacedTextSymbol(t)})),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(f.verticalPlacedTextSymbolIndex);var d=this.icon.placedSymbolArray.get(h);if(d.numGlyphs){var g=d.vertexStartIndex;this.icon.indexArray.emplaceBack(g,g+1,g+2),this.icon.indexArray.emplaceBack(g+1,g+2,g+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},nr("SymbolBucket",us,{omit:["layers","collisionBoxArray","features","compareText"]}),us.MAX_GLYPHS=65535,us.addDynamicAttributes=as;var cs=new Lr({"symbol-placement":new Ir(vt.layout_symbol["symbol-placement"]),"symbol-spacing":new Ir(vt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ir(vt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Pr(vt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ir(vt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ir(vt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ir(vt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ir(vt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ir(vt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Pr(vt.layout_symbol["icon-size"]),"icon-text-fit":new Ir(vt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ir(vt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Pr(vt.layout_symbol["icon-image"]),"icon-rotate":new Pr(vt.layout_symbol["icon-rotate"]),"icon-padding":new Ir(vt.layout_symbol["icon-padding"]),"icon-keep-upright":new Ir(vt.layout_symbol["icon-keep-upright"]),"icon-offset":new Pr(vt.layout_symbol["icon-offset"]),"icon-anchor":new Pr(vt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ir(vt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ir(vt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ir(vt.layout_symbol["text-rotation-alignment"]),"text-field":new Pr(vt.layout_symbol["text-field"]),"text-font":new Pr(vt.layout_symbol["text-font"]),"text-size":new Pr(vt.layout_symbol["text-size"]),"text-max-width":new Pr(vt.layout_symbol["text-max-width"]),"text-line-height":new Ir(vt.layout_symbol["text-line-height"]),"text-letter-spacing":new Pr(vt.layout_symbol["text-letter-spacing"]),"text-justify":new Pr(vt.layout_symbol["text-justify"]),"text-radial-offset":new Pr(vt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ir(vt.layout_symbol["text-variable-anchor"]),"text-anchor":new Pr(vt.layout_symbol["text-anchor"]),"text-max-angle":new Ir(vt.layout_symbol["text-max-angle"]),"text-rotate":new Pr(vt.layout_symbol["text-rotate"]),"text-padding":new Ir(vt.layout_symbol["text-padding"]),"text-keep-upright":new Ir(vt.layout_symbol["text-keep-upright"]),"text-transform":new Pr(vt.layout_symbol["text-transform"]),"text-offset":new Pr(vt.layout_symbol["text-offset"]),"text-allow-overlap":new Ir(vt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ir(vt.layout_symbol["text-ignore-placement"]),"text-optional":new Ir(vt.layout_symbol["text-optional"])}),ps={paint:new Lr({"icon-opacity":new Pr(vt.paint_symbol["icon-opacity"]),"icon-color":new Pr(vt.paint_symbol["icon-color"]),"icon-halo-color":new Pr(vt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Pr(vt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Pr(vt.paint_symbol["icon-halo-blur"]),"icon-translate":new Ir(vt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ir(vt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Pr(vt.paint_symbol["text-opacity"]),"text-color":new Pr(vt.paint_symbol["text-color"]),"text-halo-color":new Pr(vt.paint_symbol["text-halo-color"]),"text-halo-width":new Pr(vt.paint_symbol["text-halo-width"]),"text-halo-blur":new Pr(vt.paint_symbol["text-halo-blur"]),"text-translate":new Ir(vt.paint_symbol["text-translate"]),"text-translate-anchor":new Ir(vt.paint_symbol["text-translate-anchor"])}),layout:cs},hs=function(t){function e(e){t.call(this,e,ps)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},e.prototype.getValueAndResolveTokens=function(t,e){var n,r=this.layout.get(t).evaluate(e,{}),i=this._unevaluatedLayout._values[t];return i.isDataDriven()||pn(i.value)?r:(n=e.properties,r.replace(/{([^{}]+)}/g,(function(t,e){return e in n?String(n[e]):""})))},e.prototype.createBucket=function(t){return new us(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e}(Rr),fs={paint:new Lr({"background-color":new Ir(vt.paint_background["background-color"]),"background-pattern":new Mr(vt.paint_background["background-pattern"]),"background-opacity":new Ir(vt.paint_background["background-opacity"])})},ds=function(t){function e(e){t.call(this,e,fs)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rr),gs={paint:new Lr({"raster-opacity":new Ir(vt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ir(vt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ir(vt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ir(vt.paint_raster["raster-brightness-max"]),"raster-saturation":new Ir(vt.paint_raster["raster-saturation"]),"raster-contrast":new Ir(vt.paint_raster["raster-contrast"]),"raster-resampling":new Ir(vt.paint_raster["raster-resampling"]),"raster-fade-duration":new Ir(vt.paint_raster["raster-fade-duration"])})},ms=function(t){function e(e){t.call(this,e,gs)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rr),vs=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t)},e}(Rr),ys={circle:vo,heatmap:ko,hillshade:Io,fill:pa,"fill-extrusion":Ia,line:Va,symbol:hs,background:ds,raster:ms};function _s(t){for(var e=0,n=0,r=0,i=t;r<i.length;r+=1){var o=i[r];e+=o.w*o.h,n=Math.max(n,o.w)}t.sort((function(t,e){return e.h-t.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,l=0,u=0,c=t;u<c.length;u+=1)for(var p=c[u],h=a.length-1;h>=0;h--){var f=a[h];if(!(p.w>f.w||p.h>f.h)){if(p.x=f.x,p.y=f.y,l=Math.max(l,p.y+p.h),s=Math.max(s,p.x+p.w),p.w===f.w&&p.h===f.h){var d=a.pop();h<a.length&&(a[h]=d)}else p.h===f.h?(f.x+=p.w,f.w-=p.w):p.w===f.w?(f.y+=p.h,f.h-=p.h):(a.push({x:f.x+p.w,y:f.y,w:f.w-p.w,h:p.h}),f.y+=p.h,f.h-=p.h);break}}return{w:s,h:l,fill:e/(s*l)||0}}var bs=function(t,e){var n=e.pixelRatio,r=e.version;this.paddedRect=t,this.pixelRatio=n,this.version=r},xs={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};xs.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},xs.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},xs.tlbr.get=function(){return this.tl.concat(this.br)},xs.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(bs.prototype,xs);var ws=function(t,e){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(t,n,i),this.addImages(e,r,i);var o=_s(i),a=o.w,s=o.h,l=new Co({width:a||1,height:s||1});for(var u in t){var c=t[u],p=n[u].paddedRect;Co.copy(c.data,l,{x:0,y:0},{x:p.x+1,y:p.y+1},c.data)}for(var h in e){var f=e[h],d=r[h].paddedRect,g=d.x+1,m=d.y+1,v=f.data.width,y=f.data.height;Co.copy(f.data,l,{x:0,y:0},{x:g,y:m},f.data),Co.copy(f.data,l,{x:0,y:y-1},{x:g,y:m-1},{width:v,height:1}),Co.copy(f.data,l,{x:0,y:0},{x:g,y:m+y},{width:v,height:1}),Co.copy(f.data,l,{x:v-1,y:0},{x:g-1,y:m},{width:1,height:y}),Co.copy(f.data,l,{x:0,y:0},{x:g+v,y:m},{width:1,height:y})}this.image=l,this.iconPositions=n,this.patternPositions=r};ws.prototype.addImages=function(t,e,n){for(var r in t){var i=t[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),e[r]=new bs(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},ws.prototype.patchUpdatedImages=function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)},ws.prototype.patchUpdatedImage=function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var r=t.tl,i=r[0],o=r[1];n.update(e.data,void 0,{x:i,y:o})}},nr("ImagePosition",bs),nr("ImageAtlas",ws);var Es=self.HTMLImageElement,Cs=self.HTMLCanvasElement,Ss=self.HTMLVideoElement,Ts=self.ImageData,ks=function(t,e,n,r){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,r)};ks.prototype.update=function(t,e,n){var r=t.width,i=t.height,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),o)this.size=[r,i],t instanceof Es||t instanceof Cs||t instanceof Ss||t instanceof Ts?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,t.data);else{var l=n||{x:0,y:0},u=l.x,c=l.y;t instanceof Es||t instanceof Cs||t instanceof Ss||t instanceof Ts?s.texSubImage2D(s.TEXTURE_2D,0,u,c,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,u,c,r,i,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},ks.prototype.bind=function(t,e,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),t!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,e),this.wrap=e)},ks.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},ks.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Os=function(t,e,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,p=n?i-1:0,h=n?-1:1,f=t[e+p];for(p+=h,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+t[e+p],p+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+p],p+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},Is=function(t,e,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,p=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+p>=1?h/l:h*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(e*l-1)*Math.pow(2,i),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;t[n+f]=255&s,f+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+f]=255&a,f+=d,a/=256,u-=8);t[n+f-d]|=128*g},Ps=Ns;function Ns(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function Ms(t){return t.type===Ns.Bytes?t.readVarint()+t.pos:t.pos+1}function As(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function Ls(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function Rs(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function Ds(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function zs(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function Fs(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function js(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function Bs(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function Us(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function Vs(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function qs(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function Gs(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Ws(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function Hs(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function Ys(t,e,n){1===t&&n.readMessage(Xs,e)}function Xs(t,e,n){if(3===t){var r=n.readMessage(Zs,{}),i=r.id,o=r.bitmap,a=r.width,s=r.height,l=r.left,u=r.top,c=r.advance;e.push({id:i,bitmap:new Eo({width:a+6,height:s+6},o),metrics:{width:a,height:s,left:l,top:u,advance:c}})}}function Zs(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}Ns.Varint=0,Ns.Fixed64=1,Ns.Bytes=2,Ns.Fixed32=5,Ns.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Gs(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Hs(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Gs(this.buf,this.pos)+4294967296*Gs(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=Gs(this.buf,this.pos)+4294967296*Hs(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Os(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Os(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return As(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return As(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return As(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return As(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return As(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return As(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,l=t[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=Ms(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=Ms(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=Ms(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=Ms(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=Ms(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=Ms(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=Ms(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=Ms(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=Ms(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Ns.Varint)for(;this.buf[this.pos++]>127;);else if(e===Ns.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Ns.Fixed32)this.pos+=4;else{if(e!==Ns.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Ws(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),Ws(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),Ws(this.buf,-1&t,this.pos),Ws(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),Ws(this.buf,-1&t,this.pos),Ws(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&Ls(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Is(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Is(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&Ls(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,Ns.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,Rs,e)},writePackedSVarint:function(t,e){this.writeMessage(t,Ds,e)},writePackedBoolean:function(t,e){this.writeMessage(t,js,e)},writePackedFloat:function(t,e){this.writeMessage(t,zs,e)},writePackedDouble:function(t,e){this.writeMessage(t,Fs,e)},writePackedFixed32:function(t,e){this.writeMessage(t,Bs,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,Us,e)},writePackedFixed64:function(t,e){this.writeMessage(t,Vs,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,qs,e)},writeBytesField:function(t,e){this.writeTag(t,Ns.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Ns.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Ns.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Ns.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Ns.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Ns.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Ns.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Ns.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Ns.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Ns.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var Ks=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,m(["receive"],this),this.target.addEventListener("message",this.receive,!1)};function $s(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}Ks.prototype.send=function(t,e,n,r){var i=this,o=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[o]=n);var a=[];if(this.target.postMessage({targetMapId:r,sourceMapId:this.mapId,type:t,id:String(o),data:ir(e,a)},a),n)return{cancel:function(){i.callbacks[o]=null,i.target.postMessage({targetMapId:r,sourceMapId:i.mapId,type:"<cancel>",id:String(o)})}}},Ks.prototype.receive=function(t){var e,n=this,r=t.data,i=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var o=function(t,e){delete n.callbacks[i];var r=[];n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(i),error:t?ir(t):null,data:ir(e,r)},r)};if("<response>"===r.type||"<cancel>"===r.type)e=this.callbacks[r.id],delete this.callbacks[r.id],e&&r.error?e(or(r.error)):e&&e(null,or(r.data));else if(void 0!==r.id&&this.parent[r.type]){this.callbacks[r.id]=null;var a=this.parent[r.type](r.sourceMapId,or(r.data),o);a&&null===this.callbacks[r.id]&&(this.callbacks[r.id]=a.cancel)}else if(void 0!==r.id&&this.parent.getWorkerSource){var s=r.type.split("."),l=or(r.data);this.parent.getWorkerSource(r.sourceMapId,s[0],l.source)[s[1]](l,o)}else this.parent[r.type](or(r.data))}},Ks.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var Js=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Js.prototype.setNorthEast=function(t){return this._ne=t instanceof Qs?new Qs(t.lng,t.lat):Qs.convert(t),this},Js.prototype.setSouthWest=function(t){return this._sw=t instanceof Qs?new Qs(t.lng,t.lat):Qs.convert(t),this},Js.prototype.extend=function(t){var e,n,r=this._sw,i=this._ne;if(t instanceof Qs)e=t,n=t;else{if(!(t instanceof Js))return Array.isArray(t)?t.every(Array.isArray)?this.extend(Js.convert(t)):this.extend(Qs.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return r||i?(r.lng=Math.min(e.lng,r.lng),r.lat=Math.min(e.lat,r.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new Qs(e.lng,e.lat),this._ne=new Qs(n.lng,n.lat)),this},Js.prototype.getCenter=function(){return new Qs((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Js.prototype.getSouthWest=function(){return this._sw},Js.prototype.getNorthEast=function(){return this._ne},Js.prototype.getNorthWest=function(){return new Qs(this.getWest(),this.getNorth())},Js.prototype.getSouthEast=function(){return new Qs(this.getEast(),this.getSouth())},Js.prototype.getWest=function(){return this._sw.lng},Js.prototype.getSouth=function(){return this._sw.lat},Js.prototype.getEast=function(){return this._ne.lng},Js.prototype.getNorth=function(){return this._ne.lat},Js.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Js.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Js.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Js.convert=function(t){return!t||t instanceof Js?t:new Js(t)};var Qs=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};function tl(t){return 2*Math.PI*6378137*Math.cos(t*Math.PI/180)}function el(t){return(180+t)/360}function nl(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function rl(t,e){return t/tl(e)}function il(t){var e=180-360*t;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90}Qs.prototype.wrap=function(){return new Qs(c(this.lng,-180,180),this.lat)},Qs.prototype.toArray=function(){return[this.lng,this.lat]},Qs.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Qs.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new Js(new Qs(this.lng-n,this.lat-e),new Qs(this.lng+n,this.lat+e))},Qs.convert=function(t){if(t instanceof Qs)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Qs(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Qs(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var ol=function(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n};ol.fromLngLat=function(t,e){void 0===e&&(e=0);var n=Qs.convert(t);return new ol(el(n.lng),nl(n.lat),rl(e,n.lat))},ol.prototype.toLngLat=function(){return new Qs(360*this.x-180,il(this.y))},ol.prototype.toAltitude=function(){return this.z*tl(il(this.y))};var al=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=ul(0,t,e,n)};al.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},al.prototype.url=function(t,e){var n,r,i,o,a,s=(n=this.x,r=this.y,i=this.z,o=$s(256*n,256*(r=Math.pow(2,i)-r-1),i),a=$s(256*(n+1),256*(r+1),i),o[0]+","+o[1]+","+a[0]+","+a[1]),l=function(t,e,n){for(var r,i="",o=t;o>0;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},al.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new i((t.x*e-this.x)*Gi,(t.y*e-this.y)*Gi)};var sl=function(t,e){this.wrap=t,this.canonical=e,this.key=ul(t,e.z,e.x,e.y)},ll=function(t,e,n,r,i){this.overscaledZ=t,this.wrap=e,this.canonical=new al(n,+r,+i),this.key=ul(e,t,r,i)};function ul(t,e,n,r){(t*=2)<0&&(t=-1*t-1);var i=1<<e;return 32*(i*i*t+i*r+n)+e}ll.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},ll.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new ll(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ll(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},ll.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},ll.prototype.children=function(t){if(this.overscaledZ>=t)return[new ll(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new ll(e,this.wrap,e,n,r),new ll(e,this.wrap,e,n+1,r),new ll(e,this.wrap,e,n,r+1),new ll(e,this.wrap,e,n+1,r+1)]},ll.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},ll.prototype.wrapped=function(){return new ll(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ll.prototype.unwrapTo=function(t){return new ll(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},ll.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},ll.prototype.toUnwrapped=function(){return new sl(this.wrap,this.canonical)},ll.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},ll.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new ol(t.x-this.wrap,t.y))},nr("CanonicalTileID",al),nr("OverscaledTileID",ll,{omit:["posMatrix"]});var cl=function(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return w('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var r=this.dim=e.height;this.stride=this.dim+2,this.data=new Int32Array(this.stride*this.stride);for(var i=e.data,o="terrarium"===n?this._unpackTerrarium:this._unpackMapbox,a=0;a<r;a++)for(var s=0;s<r;s++){var l=4*(a*r+s);this.set(s,a,o(i[l],i[l+1],i[l+2]))}for(var u=0;u<r;u++)this.set(-1,u,this.get(0,u)),this.set(r,u,this.get(r-1,u)),this.set(u,-1,this.get(u,0)),this.set(u,r,this.get(u,r-1));this.set(-1,-1,this.get(0,0)),this.set(r,-1,this.get(r-1,0)),this.set(-1,r,this.get(0,r-1)),this.set(r,r,this.get(r-1,r-1))};cl.prototype.set=function(t,e,n){this.data[this._idx(t,e)]=n+65536},cl.prototype.get=function(t,e){return this.data[this._idx(t,e)]-65536},cl.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},cl.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},cl.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},cl.prototype.getPixels=function(){return new Co({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},cl.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var r=e*this.dim,i=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-e*this.dim,l=-n*this.dim,u=o;u<a;u++)for(var c=r;c<i;c++)this.set(c,u,t.get(c+s,u+l))},nr("DEMData",cl);var pl=jr([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),hl=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};hl.prototype.encode=function(t){return this._stringToNumber[t]},hl.prototype.decode=function(t){return this._numberToString[t]};var fl=function(t,e,n,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=r,this.properties=t.properties,null!=t.id&&(this.id=t.id)},dl={geometry:{configurable:!0}};dl.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},dl.geometry.set=function(t){this._geometry=t},fl.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(fl.prototype,dl);var gl=function(){this.state={},this.stateChanges={},this.deletedStates={}};gl.prototype.updateState=function(t,e,n){var r=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},p(this.stateChanges[t][r],n),null===this.deletedStates[t])for(var i in this.deletedStates[t]={},this.state[t])i!==r&&(this.deletedStates[t][i]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][r])for(var o in this.deletedStates[t][r]={},this.state[t][r])n[o]||(this.deletedStates[t][r][o]=null);else for(var a in n)this.deletedStates[t]&&this.deletedStates[t][r]&&null===this.deletedStates[t][r][a]&&delete this.deletedStates[t][r][a]},gl.prototype.removeFeatureState=function(t,e,n){if(null!==this.deletedStates[t]){var r=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&e)null!==this.deletedStates[t][r]&&(this.deletedStates[t][r]=this.deletedStates[t][r]||{},this.deletedStates[t][r][n]=null);else if(e)if(this.stateChanges[t]&&this.stateChanges[t][r])for(n in this.deletedStates[t][r]={},this.stateChanges[t][r])this.deletedStates[t][r][n]=null;else this.deletedStates[t][r]=null;else this.deletedStates[t]=null}},gl.prototype.getState=function(t,e){var n=String(e),r=this.state[t]||{},i=this.stateChanges[t]||{},o=p({},r[n],i[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var a=this.deletedStates[t][e];if(null===a)return{};for(var s in a)delete o[s]}return o},gl.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},gl.prototype.coalesceChanges=function(t,e){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var o in this.stateChanges[r])this.state[r][o]||(this.state[r][o]={}),p(this.state[r][o],this.stateChanges[r][o]),i[o]=this.state[r][o];n[r]=i}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var l in this.state[a])s[l]={},this.state[a][l]={};else for(var u in this.deletedStates[a]){if(null===this.deletedStates[a][u])this.state[a][u]={};else for(var c=0,h=Object.keys(this.deletedStates[a][u]);c<h.length;c+=1){var f=h[c];delete this.state[a][u][f]}s[u]=this.state[a][u]}n[a]=n[a]||{},p(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var d in t)t[d].setFeatureState(n,e)};var ml=function(t,e,n){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=e||new Jn(Gi,16,0),this.grid3D=new Jn(Gi,16,0),this.featureIndexArray=n||new _i};function vl(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0,a=t;o<a.length;o+=1){var s=a[o];e=Math.min(e,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:e,minY:n,maxX:r,maxY:i}}function yl(t,e){return e-t}ml.prototype.insert=function(t,e,n,r,i,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=o?this.grid3D:this.grid,l=0;l<e.length;l++){for(var u=e[l],c=[1/0,1/0,-1/0,-1/0],p=0;p<u.length;p++){var h=u[p];c[0]=Math.min(c[0],h.x),c[1]=Math.min(c[1],h.y),c[2]=Math.max(c[2],h.x),c[3]=Math.max(c[3],h.y)}c[0]<Gi&&c[1]<Gi&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},ml.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new xa.VectorTile(new Ps(this.rawTileData)).layers,this.sourceLayerCoder=new hl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ml.prototype.query=function(t,e,n){var r=this;this.loadVTLayers();for(var o=t.params||{},a=Gi/t.tileSize/t.scale,s=Tn(o.filter),l=t.queryGeometry,u=t.queryPadding*a,c=vl(l),p=this.grid.query(c.minX-u,c.minY-u,c.maxX+u,c.maxY+u),h=vl(t.cameraQueryGeometry),f=0,d=this.grid3D.query(h.minX-u,h.minY-u,h.maxX+u,h.maxY+u,(function(e,n,r,o){return function(t,e,n,r,o){for(var a=0,s=t;a<s.length;a+=1){var l=s[a];if(e<=l.x&&n<=l.y&&r>=l.x&&o>=l.y)return!0}var u=[new i(e,n),new i(e,o),new i(r,o),new i(r,n)];if(t.length>2)for(var c=0,p=u;c<p.length;c+=1)if(io(t,p[c]))return!0;for(var h=0;h<t.length-1;h++)if(oo(t[h],t[h+1],u))return!0;return!1}(t.cameraQueryGeometry,e-u,n-u,r+u,o+u)}));f<d.length;f+=1){var g=d[f];p.push(g)}p.sort(yl);for(var m,v={},y=function(i){var u=p[i];if(u!==m){m=u;var c=r.featureIndexArray.get(u),h=null;r.loadMatchingFeature(v,c.bucketIndex,c.sourceLayerIndex,c.featureIndex,s,o.layers,e,(function(e,i){h||(h=Hi(e));var o={};return e.id&&(o=n.getState(i.sourceLayer||"_geojsonTileLayer",e.id)),i.queryIntersectsFeature(l,e,o,h,r.z,t.transform,a,t.pixelPosMatrix)}))}},_=0;_<p.length;_++)y(_);return v},ml.prototype.loadMatchingFeature=function(t,e,n,r,i,o,a,s){var l=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,l)){var u=this.sourceLayerCoder.decode(n),c=this.vtLayers[u].feature(r);if(i(new br(this.tileID.overscaledZ),c))for(var p=0;p<l.length;p++){var h=l[p];if(!(o&&o.indexOf(h)<0)){var f=a[h];if(f){var d=!s||s(c,f);if(d){var g=new fl(c,this.z,this.x,this.y);g.layer=f.serialize();var m=t[h];void 0===m&&(m=t[h]=[]),m.push({featureIndex:r,feature:g,intersectionZ:d})}}}}}},ml.prototype.lookupSymbolFeatures=function(t,e,n,r,i,o){var a={};this.loadVTLayers();for(var s=Tn(r),l=0,u=t;l<u.length;l+=1){var c=u[l];this.loadMatchingFeature(a,e,n,c,s,i,o)}return a},ml.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var r=0,i=n[e];r<i.length;r+=1)if(t===i[r])return!0;return!1},nr("FeatureIndex",ml,{omit:["rawTileData","sourceLayerCoder"]});var _l=function(t,e){this.tileID=t,this.uid=f(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};_l.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<M.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},_l.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},_l.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var r in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var r=function(){var t=o[i],r=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==r.length){t.layers=r,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return r.filter((function(e){return e.id===t}))[0]})));for(var a=0,s=r;a<s.length;a+=1){var l=s[a];n[l.id]=t}}},i=0,o=t;i<o.length;i+=1)r();return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof us){if(this.hasSymbolBuckets=!0,!n)break;i.justReloaded=!0}}for(var o in this.queryPadding=0,this.buckets){var a=this.buckets[o];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(o).queryRadius(a))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new ui},_l.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},_l.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},_l.prototype.getBucket=function(t){return this.buckets[t.id]},_l.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var r=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ks(t,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ks(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},_l.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},_l.prototype.queryRenderedFeatures=function(t,e,n,r,i,o,a,s,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:r,scale:i,tileSize:this.tileSize,pixelPosMatrix:l,transform:a,params:o,queryPadding:this.queryPadding*s},t,e):{}},_l.prototype.querySourceFeatures=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var n=this.latestFeatureIndex.loadVTLayers(),r=e?e.sourceLayer:"",i=n._geojsonTileLayer||n[r];if(i)for(var o=Tn(e&&e.filter),a=this.tileID.canonical,s=a.z,l=a.x,u=a.y,c={z:s,x:l,y:u},p=0;p<i.length;p++){var h=i.feature(p);if(o(new br(this.tileID.overscaledZ),h)){var f=new fl(h,s,l,u);f.tile=c,t.push(f)}}}},_l.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},_l.prototype.setMask=function(t,e){if(!a(this.mask,t)&&(this.mask=t,this.clearMask(),!a(t,{0:!0}))){var n=new Vr,r=new ri;this.segments=new xi,this.segments.prepareSegment(0,n,r);for(var o=Object.keys(t),s=0;s<o.length;s++){var l=t[o[s]],u=Gi>>l.z,c=new i(l.x*u,l.y*u),p=new i(c.x+u,c.y+u),h=this.segments.prepareSegment(4,n,r);n.emplaceBack(c.x,c.y,c.x,c.y),n.emplaceBack(p.x,c.y,p.x,c.y),n.emplaceBack(c.x,p.y,c.x,p.y),n.emplaceBack(p.x,p.y,p.x,p.y);var f=h.vertexLength;r.emplaceBack(f,f+1,f+2),r.emplaceBack(f+1,f+2,f+3),h.vertexLength+=4,h.primitiveLength+=2}this.maskedBoundsBuffer=e.createVertexBuffer(n,pl.members),this.maskedIndexBuffer=e.createIndexBuffer(r)}},_l.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},_l.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},_l.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=function(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(t,n,r,i){var o=r||i;return e[n]=!o||o.toLowerCase(),""})),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(e)if(this.expirationTime<e)i=!0;else{var o=this.expirationTime-e;o?this.expirationTime=r+Math.max(o,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},_l.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},_l.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets){var i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];a&&s&&0!==Object.keys(s).length&&(i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),e&&e.style&&(this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(r).queryRadius(i))))}}},_l.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},_l.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<M.now()},_l.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},_l.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=M.now()+t};var bl={horizontal:1,vertical:2,horizontalOnly:3},xl=function(){this.text="",this.sectionIndex=[],this.sections=[]};function wl(t,e,n,r,i,o,a,s,l,u){var c,p=xl.fromFeature(t,n);u===bl.vertical&&p.verticalizePunctuation();var h=_r.processBidirectionalText,f=_r.processStyledBidirectionalText;if(h&&1===p.sections.length){c=[];for(var d=0,g=h(p.toString(),Ol(p,s,r,e));d<g.length;d+=1){var m=g[d],v=new xl;v.text=m,v.sections=p.sections;for(var y=0;y<m.length;y++)v.sectionIndex.push(0);c.push(v)}}else if(f){c=[];for(var _=0,b=f(p.text,p.sectionIndex,Ol(p,s,r,e));_<b.length;_+=1){var x=b[_],w=new xl;w.text=x[0],w.sectionIndex=x[1],w.sections=p.sections,c.push(w)}}else c=function(t,e){for(var n=[],r=t.text,i=0,o=0,a=e;o<a.length;o+=1){var s=a[o];n.push(t.substring(i,s)),i=s}return i<r.length&&n.push(t.substring(i,r.length)),n}(p,Ol(p,s,r,e));var E=[],C={positionedGlyphs:E,text:p.toString(),top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:u,lineCount:c.length};return function(t,e,n,r,i,o,a,s){for(var l=0,u=-17,c=0,p=t.positionedGlyphs,h="right"===o?1:"left"===o?0:.5,f=0,d=n;f<d.length;f+=1){var g=d[f];g.trim();var m=g.getMaxScale();if(g.length()){for(var v=p.length,y=0;y<g.length();y++){var _=g.getSection(y),b=g.getCharCode(y),x=24*(m-_.scale),w=e[_.fontStack],E=w&&w[b];E&&(pr(b)&&a!==bl.horizontal?(p.push({glyph:b,x:l,y:x,vertical:!0,scale:_.scale,fontStack:_.fontStack}),l+=24*_.scale+s):(p.push({glyph:b,x:l,y:u+x,vertical:!1,scale:_.scale,fontStack:_.fontStack}),l+=E.metrics.advance*_.scale+s))}if(p.length!==v){var C=l-s;c=Math.max(C,c),Pl(p,e,v,p.length-1,h)}l=0,u+=r*m}else u+=r}var S=Il(i),T=S.horizontalAlign,k=S.verticalAlign;!function(t,e,n,r,i,o,a){for(var s=(e-n)*i,l=(-r*a+.5)*o,u=0;u<t.length;u++)t[u].x+=s,t[u].y+=l}(p,h,T,k,c,r,n.length);var O=u- -17;t.top+=-k*O,t.bottom=t.top+O,t.left+=-T*c,t.right=t.left+c}(C,e,c,i,o,a,u,s),!!E.length&&C}xl.fromFeature=function(t,e){for(var n=new xl,r=0;r<t.sections.length;r++){var i=t.sections[r];n.sections.push({scale:i.scale||1,fontStack:i.fontStack||e}),n.text+=i.text;for(var o=0;o<i.text.length;o++)n.sectionIndex.push(r)}return n},xl.prototype.length=function(){return this.text.length},xl.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},xl.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},xl.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n+1)||null,i=t.charCodeAt(n-1)||null;r&&hr(r)&&!Ka[t[n+1]]||i&&hr(i)&&!Ka[t[n-1]]||!Ka[t[n]]?e+=t[n]:e+=Ka[t[n]]}return e}(this.text)},xl.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&El[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=t&&El[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},xl.prototype.substring=function(t,e){var n=new xl;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},xl.prototype.toString=function(){return this.text},xl.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,n){return Math.max(e,t.sections[n].scale)}),0)};var El={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Cl={};function Sl(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function Tl(t,e){var n=0;return 10===t&&(n-=1e4),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function kl(t,e,n,r,i,o){for(var a=null,s=Sl(e,n,i,o),l=0,u=r;l<u.length;l+=1){var c=u[l],p=Sl(e-c.x,n,i,o)+c.badness;p<=s&&(a=c,s=p)}return{index:t,x:e,priorBreak:a,badness:s}}function Ol(t,e,n,r){if(!n)return[];if(!t)return[];for(var i,o=[],a=function(t,e,n,r){for(var i=0,o=0;o<t.length();o++){var a=t.getSection(o),s=r[a.fontStack],l=s&&s[t.getCharCode(o)];l&&(i+=l.metrics.advance*a.scale+e)}return i/Math.max(1,Math.ceil(i/n))}(t,e,n,r),s=0,l=0;l<t.length();l++){var u=t.getSection(l),c=t.getCharCode(l),p=r[u.fontStack],h=p&&p[c];h&&!El[c]&&(s+=h.metrics.advance*u.scale+e),l<t.length()-1&&(Cl[c]||!((i=c)<11904)&&(sr["Bopomofo Extended"](i)||sr.Bopomofo(i)||sr["CJK Compatibility Forms"](i)||sr["CJK Compatibility Ideographs"](i)||sr["CJK Compatibility"](i)||sr["CJK Radicals Supplement"](i)||sr["CJK Strokes"](i)||sr["CJK Symbols and Punctuation"](i)||sr["CJK Unified Ideographs Extension A"](i)||sr["CJK Unified Ideographs"](i)||sr["Enclosed CJK Letters and Months"](i)||sr["Halfwidth and Fullwidth Forms"](i)||sr.Hiragana(i)||sr["Ideographic Description Characters"](i)||sr["Kangxi Radicals"](i)||sr["Katakana Phonetic Extensions"](i)||sr.Katakana(i)||sr["Vertical Forms"](i)||sr["Yi Radicals"](i)||sr["Yi Syllables"](i)))&&o.push(kl(l+1,s,a,o,Tl(c,t.getCharCode(l+1)),!1))}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(kl(t.length(),s,a,o,0,!0))}function Il(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function Pl(t,e,n,r,i){if(i){var o=t[r],a=e[o.fontStack],s=a&&a[o.glyph];if(s)for(var l=s.metrics.advance*o.scale,u=(t[r].x+l)*i,c=n;c<=r;c++)t[c].x-=u}}function Nl(t,e,n){var r=Il(n),i=r.horizontalAlign,o=r.verticalAlign,a=e[0],s=e[1],l=a-t.displaySize[0]*i,u=l+t.displaySize[0],c=s-t.displaySize[1]*o;return{image:t,top:c,bottom:c+t.displaySize[1],left:l,right:u}}function Ml(t,e,n,r,i){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=t[a-1],p=t[a],h=t[a+1];if(!h)return!1;var f=c.angleTo(p)-p.angleTo(h);for(f=Math.abs((f+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:f}),u+=f;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>i)return!1;a++,s+=p.dist(h)}return!0}function Al(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function Ll(t,e,n){return t?.6*e*n:0}function Rl(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Dl(t,e,n,r,i,o){for(var a=Ll(n,i,o),s=Rl(n,r)*o,l=0,u=Al(t)/2,c=0;c<t.length-1;c++){var p=t[c],h=t[c+1],f=p.dist(h);if(l+f>u){var d=(u-l)/f,g=ce(p.x,h.x,d),m=ce(p.y,h.y,d),v=new $a(g,m,h.angleTo(p),c);return v._round(),!a||Ml(t,v,s,a,e)?v:void 0}l+=f}}function zl(t,e,n,r,i,o,a,s,l){var u=Ll(r,o,a),c=Rl(r,i),p=c*a,h=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-p<e/4&&(e=p+e/4),function t(e,n,r,i,o,a,s,l,u){for(var c=a/2,p=Al(e),h=0,f=n-r,d=[],g=0;g<e.length-1;g++){for(var m=e[g],v=e[g+1],y=m.dist(v),_=v.angleTo(m);f+r<h+y;){var b=((f+=r)-h)/y,x=ce(m.x,v.x,b),w=ce(m.y,v.y,b);if(x>=0&&x<u&&w>=0&&w<u&&f-c>=0&&f+c<=p){var E=new $a(x,w,_,g);E._round(),i&&!Ml(e,E,a,i,o)||d.push(E)}}h+=y}return l||d.length||s||(d=t(e,h/2,r,i,o,a,s,!0,u)),d}(t,h?e/2*s%e:(c/2+2*o)*a*s%e,e,u,n,p,h,!1,l)}Cl[10]=!0,Cl[32]=!0,Cl[38]=!0,Cl[40]=!0,Cl[41]=!0,Cl[43]=!0,Cl[45]=!0,Cl[47]=!0,Cl[173]=!0,Cl[183]=!0,Cl[8203]=!0,Cl[8208]=!0,Cl[8211]=!0,Cl[8231]=!0;var Fl=function(t,e,n,r,o,a,s,l,u,c,p,h){var f=s.top*l-u,d=s.bottom*l+u,g=s.left*l-u,m=s.right*l+u;if(this.boxStartIndex=t.length,c){var v=d-f,y=m-g;v>0&&(v=Math.max(10*l,v),this._addLineCollisionCircles(t,e,n,n.segment,y,v,r,o,a,p))}else{if(h){var _=new i(g,f),b=new i(m,f),x=new i(g,d),w=new i(m,d),E=h*Math.PI/180;_._rotate(E),b._rotate(E),x._rotate(E),w._rotate(E),g=Math.min(_.x,b.x,x.x,w.x),m=Math.max(_.x,b.x,x.x,w.x),f=Math.min(_.y,b.y,x.y,w.y),d=Math.max(_.y,b.y,x.y,w.y)}t.emplaceBack(n.x,n.y,g,f,m,d,r,o,a,0,0)}this.boxEndIndex=t.length};Fl.prototype._addLineCollisionCircles=function(t,e,n,r,i,o,a,s,l,u){var c=o/2,p=Math.floor(i/c)||1,h=1+.4*Math.log(u)/Math.LN2,f=Math.floor(p*h/2),d=-o/2,g=n,m=r+1,v=d,y=-i/2,_=y-i/4;do{if(--m<0){if(v>y)return;m=0;break}v-=e[m].dist(g),g=e[m]}while(v>_);for(var b=e[m].dist(e[m+1]),x=-f;x<p+f;x++){var w=x*c,E=y+w;if(w<0&&(E+=w),w>i&&(E+=w-i),!(E<v)){for(;v+b<E;){if(v+=b,++m+1>=e.length)return;b=e[m].dist(e[m+1])}var C=E-v,S=e[m],T=e[m+1].sub(S)._unit()._mult(C)._add(S)._round(),k=Math.abs(E-d)<c?0:.8*(E-d);t.emplaceBack(T.x,T.y,-o/2,-o/2,o/2,o/2,a,s,l,o/2,k)}}};var jl=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=Bl),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function Bl(t,e){return t<e?-1:t>e?1:0}function Ul(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var r=1/0,o=1/0,a=-1/0,s=-1/0,l=t[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<r)&&(r=c.x),(!u||c.y<o)&&(o=c.y),(!u||c.x>a)&&(a=c.x),(!u||c.y>s)&&(s=c.y)}var p=a-r,h=s-o,f=Math.min(p,h),d=f/2,g=new jl([],Vl);if(0===f)return new i(r,o);for(var m=r;m<a;m+=f)for(var v=o;v<s;v+=f)g.push(new ql(m+d,v+d,d,t));for(var y=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,s=a-1;o<a;s=o++){var l=i[o],u=i[s],c=l.x*u.y-u.x*l.y;n+=(l.x+u.x)*c,r+=(l.y+u.y)*c,e+=3*c}return new ql(n/e,r/e,0,t)}(t),_=g.length;g.length;){var b=g.pop();(b.d>y.d||!y.d)&&(y=b,n&&console.log("found best %d after %d probes",Math.round(1e4*b.d)/1e4,_)),b.max-y.d<=e||(d=b.h/2,g.push(new ql(b.p.x-d,b.p.y-d,d,t)),g.push(new ql(b.p.x+d,b.p.y-d,d,t)),g.push(new ql(b.p.x-d,b.p.y+d,d,t)),g.push(new ql(b.p.x+d,b.p.y+d,d,t)),_+=4)}return n&&(console.log("num probes: "+_),console.log("best distance: "+y.d)),y.p}function Vl(t,e){return e.max-t.max}function ql(t,e,n,r){this.p=new i(t,e),this.h=n,this.d=function(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var o=e[i],a=0,s=o.length,l=s-1;a<s;l=a++){var u=o[a],c=o[l];u.y>t.y!=c.y>t.y&&t.x<(c.x-u.x)*(t.y-u.y)/(c.y-u.y)+u.x&&(n=!n),r=Math.min(r,no(t,u,c))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}jl.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},jl.prototype.pop=function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},jl.prototype.peek=function(){return this.data[0]},jl.prototype._up=function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},jl.prototype._down=function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=e[o],s=o+1;if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i};var Gl=e((function(t){t.exports=function(t,e){var n,r,i,o,a,s,l,u;for(n=3&t.length,r=t.length-n,i=e,a=3432918353,s=461845907,u=0;u<r;)l=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&t.charCodeAt(u+2))<<16;case 2:l^=(255&t.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}})),Wl=e((function(t){t.exports=function(t,e){for(var n,r=t.length,i=e^r,o=0;r>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&t.charCodeAt(o+2))<<16;case 2:i^=(255&t.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}})),Hl=Gl,Yl=Gl,Xl=Wl;function Zl(t,e){var n=0,r=0,i=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-e;break;case"top":r=e-7}switch(t){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=e;break;case"right":n=-e}return[n,r]}function Kl(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function $l(t,e,n,r,o,a,s){var l=a.layoutTextSize.evaluate(e,{}),u=a.layoutIconSize.evaluate(e,{}),c=a.textMaxSize.evaluate(e,{});void 0===c&&(c=l);var p=t.layers[0].layout,h=p.get("icon-offset").evaluate(e,{}),f=tu(n.horizontal),d=l/24,g=t.tilePixelRatio*d,m=t.tilePixelRatio*c/24,v=t.tilePixelRatio*u,y=t.tilePixelRatio*p.get("symbol-spacing"),_=p.get("text-padding")*t.tilePixelRatio,b=p.get("icon-padding")*t.tilePixelRatio,x=p.get("text-max-angle")/180*Math.PI,E="map"===p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),C="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),S=p.get("symbol-placement"),T=y/2,k=function(l,u){u.x<0||u.x>=Gi||u.y<0||u.y>=Gi||function(t,e,n,r,o,a,s,l,u,c,p,h,f,d,g,m,v,y,_,b,x){var E,C,S=t.addToLineVertexArray(e,n),T=0,k=0,O=0,I={},P=Hl(""),N=24*(a.layout.get("text-radial-offset").evaluate(_,{})||0);for(var M in r.horizontal){var A=r.horizontal[M];if(!E){P=Hl(A.text);var L=a.layout.get("text-rotate").evaluate(_,{});E=new Fl(s,n,e,l,u,c,A,p,h,f,t.overscaling,L)}var R=1===A.lineCount;if(k+=Ql(t,e,A,a,f,_,d,S,r.vertical?bl.horizontal:bl.horizontalOnly,R?Object.keys(r.horizontal):[M],I,b,x),R)break}r.vertical&&(O+=Ql(t,e,r.vertical,a,f,_,d,S,bl.vertical,["vertical"],I,b,x));var D=E?E.boxStartIndex:t.collisionBoxArray.length,z=E?E.boxEndIndex:t.collisionBoxArray.length;if(o){var F=function(t,e,n,r,o,a){var s,l,u,c,p=e.image,h=n.layout,f=e.top-1/p.pixelRatio,d=e.left-1/p.pixelRatio,g=e.bottom+1/p.pixelRatio,m=e.right+1/p.pixelRatio;if("none"!==h.get("icon-text-fit")&&o){var v=m-d,y=g-f,_=h.get("text-size").evaluate(a,{})/24,b=o.left*_,x=o.right*_,w=o.top*_,E=x-b,C=o.bottom*_-w,S=h.get("icon-text-fit-padding")[0],T=h.get("icon-text-fit-padding")[1],k=h.get("icon-text-fit-padding")[2],O=h.get("icon-text-fit-padding")[3],I="width"===h.get("icon-text-fit")?.5*(C-y):0,P="height"===h.get("icon-text-fit")?.5*(E-v):0,N="width"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?E:v,M="height"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?C:y;s=new i(b+P-O,w+I-S),l=new i(b+P+T+N,w+I-S),u=new i(b+P+T+N,w+I+k+M),c=new i(b+P-O,w+I+k+M)}else s=new i(d,f),l=new i(m,f),u=new i(m,g),c=new i(d,g);var A=n.layout.get("icon-rotate").evaluate(a,{})*Math.PI/180;if(A){var L=Math.sin(A),R=Math.cos(A),D=[R,-L,L,R];s._matMult(D),l._matMult(D),c._matMult(D),u._matMult(D)}return[{tl:s,tr:l,bl:c,br:u,tex:p.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,o,a,0,tu(r.horizontal),_),j=a.layout.get("icon-rotate").evaluate(_,{});C=new Fl(s,n,e,l,u,c,o,g,m,!1,t.overscaling,j),T=4*F.length;var B=t.iconSizeData,U=null;"source"===B.functionType?(U=[Ja*a.layout.get("icon-size").evaluate(_,{})])[0]>Jl&&w(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===B.functionType&&((U=[Ja*x.compositeIconSizes[0].evaluate(_,{}),Ja*x.compositeIconSizes[1].evaluate(_,{})])[0]>Jl||U[1]>Jl)&&w(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),t.addSymbols(t.icon,F,U,y,v,_,!1,e,S.lineStartIndex,S.lineLength)}var V=C?C.boxStartIndex:t.collisionBoxArray.length,q=C?C.boxEndIndex:t.collisionBoxArray.length;t.glyphOffsetArray.length>=us.MAX_GLYPHS&&w("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),t.symbolInstances.emplaceBack(e.x,e.y,I.right>=0?I.right:-1,I.center>=0?I.center:-1,I.left>=0?I.left:-1,I.vertical||-1,P,D,z,V,q,l,k,O,T,0,p,N)}(t,u,l,n,r,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,g,_,E,s,v,b,C,h,e,o,a)};if("line"===S)for(var O=0,I=function(t,e,n,r,o){for(var a=[],s=0;s<t.length;s++)for(var l=t[s],u=void 0,c=0;c<l.length-1;c++){var p=l[c],h=l[c+1];p.x<0&&h.x<0||(p.x<0?p=new i(0,p.y+(h.y-p.y)*((0-p.x)/(h.x-p.x)))._round():h.x<0&&(h=new i(0,p.y+(h.y-p.y)*((0-p.x)/(h.x-p.x)))._round()),p.y<0&&h.y<0||(p.y<0?p=new i(p.x+(h.x-p.x)*((0-p.y)/(h.y-p.y)),0)._round():h.y<0&&(h=new i(p.x+(h.x-p.x)*((0-p.y)/(h.y-p.y)),0)._round()),p.x>=r&&h.x>=r||(p.x>=r?p=new i(r,p.y+(h.y-p.y)*((r-p.x)/(h.x-p.x)))._round():h.x>=r&&(h=new i(r,p.y+(h.y-p.y)*((r-p.x)/(h.x-p.x)))._round()),p.y>=o&&h.y>=o||(p.y>=o?p=new i(p.x+(h.x-p.x)*((o-p.y)/(h.y-p.y)),o)._round():h.y>=o&&(h=new i(p.x+(h.x-p.x)*((o-p.y)/(h.y-p.y)),o)._round()),u&&p.equals(u[u.length-1])||(u=[p],a.push(u)),u.push(h)))))}return a}(e.geometry,0,0,Gi,Gi);O<I.length;O+=1)for(var P=I[O],N=0,M=zl(P,y,x,n.vertical||f,r,24,m,t.overscaling,Gi);N<M.length;N+=1){var A=M[N];f&&eu(t,f.text,T,A)||k(P,A)}else if("line-center"===S)for(var L=0,R=e.geometry;L<R.length;L+=1){var D=R[L];if(D.length>1){var z=Dl(D,x,n.vertical||f,r,24,m);z&&k(D,z)}}else if("Polygon"===e.type)for(var F=0,j=oa(e.geometry,0);F<j.length;F+=1){var B=j[F],U=Ul(B,16);k(B[0],new $a(U.x,U.y,0))}else if("LineString"===e.type)for(var V=0,q=e.geometry;V<q.length;V+=1){var G=q[V];k(G,new $a(G[0].x,G[0].y,0))}else if("Point"===e.type)for(var W=0,H=e.geometry;W<H.length;W+=1)for(var Y=0,X=H[W];Y<X.length;Y+=1){var Z=X[Y];k([Z],new $a(Z.x,Z.y,0))}}Hl.murmur3=Yl,Hl.murmur2=Xl;var Jl=65535;function Ql(t,e,n,r,o,a,s,l,u,c,p,h,f){var d=function(t,e,n,r,o,a,s){for(var l=r.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,u=e.positionedGlyphs,c=[],p=0;p<u.length;p++){var h=u[p],f=s[h.fontStack],d=f&&f[h.glyph];if(d){var g=d.rect;if(g){var m=d.metrics.advance*h.scale/2,v=o?[h.x+m,h.y]:[0,0],y=o?[0,0]:[h.x+m+n[0],h.y+n[1]],_=(d.metrics.left-4)*h.scale-m+y[0],b=(-d.metrics.top-4)*h.scale+y[1],x=_+g.w*h.scale,w=b+g.h*h.scale,E=new i(_,b),C=new i(x,b),S=new i(_,w),T=new i(x,w);if(o&&h.vertical){var k=new i(-m,m),O=-Math.PI/2,I=new i(5,0);E._rotateAround(O,k)._add(I),C._rotateAround(O,k)._add(I),S._rotateAround(O,k)._add(I),T._rotateAround(O,k)._add(I)}if(l){var P=Math.sin(l),N=Math.cos(l),M=[N,-P,P,N];E._matMult(M),C._matMult(M),S._matMult(M),T._matMult(M)}c.push({tl:E,tr:C,bl:S,br:T,tex:g,writingMode:e.writingMode,glyphOffset:v})}}}return c}(0,n,s,r,o,a,h),g=t.textSizeData,m=null;"source"===g.functionType?(m=[Ja*r.layout.get("text-size").evaluate(a,{})])[0]>Jl&&w(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===g.functionType&&((m=[Ja*f.compositeTextSizes[0].evaluate(a,{}),Ja*f.compositeTextSizes[1].evaluate(a,{})])[0]>Jl||m[1]>Jl)&&w(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),t.addSymbols(t.text,d,m,s,o,a,u,e,l.lineStartIndex,l.lineLength);for(var v=0,y=c;v<y.length;v+=1)p[y[v]]=t.text.placedSymbolArray.length-1;return 4*d.length}function tu(t){for(var e in t)return t[e];return null}function eu(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}t.Actor=Ks,t.AlphaImage=Eo,t.CanonicalTileID=al,t.CollisionBoxArray=ui,t.Color=jt,t.DEMData=cl,t.DataConstantProperty=Ir,t.DictionaryCoder=hl,t.EXTENT=Gi,t.ErrorEvent=gt,t.EvaluationParameters=br,t.Event=dt,t.Evented=mt,t.FeatureIndex=ml,t.FillBucket=ua,t.FillExtrusionBucket=Sa,t.ImageAtlas=ws,t.ImagePosition=bs,t.LineBucket=za,t.LngLat=Qs,t.LngLatBounds=Js,t.MercatorCoordinate=ol,t.ONE_EM=24,t.OverscaledTileID=ll,t.Point=i,t.Point$1=i,t.ProgramConfiguration=Bi,t.Properties=Lr,t.Protobuf=Ps,t.RGBAImage=Co,t.ResourceType=nt,t.SegmentVector=xi,t.SourceFeatureState=gl,t.StructArrayLayout1ui2=oi,t.StructArrayLayout2i4=Ur,t.StructArrayLayout2ui4=ii,t.StructArrayLayout3ui6=ri,t.StructArrayLayout4i8=Vr,t.SymbolBucket=us,t.Texture=ks,t.Tile=_l,t.Transitionable=Er,t.Uniform1f=ki,t.Uniform1i=Ti,t.Uniform2f=Oi,t.Uniform3f=Ii,t.Uniform4f=Pi,t.UniformColor=Ni,t.UniformMatrix4f=Ai,t.UnwrappedTileID=sl,t.ValidationError=yt,t.WritingMode=bl,t.ZoomHistory=ar,t.addDynamicAttributes=as,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach((function(t,a){e(t,(function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)}))}))},t.bezier=s,t.bindAll=m,t.browser=M,t.canonicalizeTileset=function(t,e){if(!B(e))return t.tiles||[];for(var n=[],r=0,i=t.tiles;r<i.length;r+=1){var o=i[r],a=W(o);n.push(a)}return n},t.clamp=u,t.clone=function(t){var e=new co(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=b,t.config=A,t.create=function(){var t=new co(16);return co!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=po,t.create$2=function(){var t=new co(4);return co!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=e,t.createExpression=hn,t.createLayout=jr,t.createStyleLayer=function(t){return"custom"===t.type?new vs(t):new ys[t.type](t)},t.deepEqual=a,t.ease=l,t.emitValidationErrors=$n,t.endsWith=v,t.evaluateRadialOffset=Zl,t.evaluateSizeForFeature=ts,t.evaluateSizeForZoom=es,t.evented=yr,t.extend=p,t.featureFilter=Tn,t.filterObject=_,t.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=Il,t.getAnchorJustification=Kl,t.getArrayBuffer=ut,t.getImage=pt,t.getJSON=function(t,e){return lt(p(t,{type:"json"}),e)},t.getReferrer=st,t.getVideo=function(t,e){var n,r,i=self.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var a=self.document.createElement("source");n=t[o],r=void 0,(r=self.document.createElement("a")).href=n,(r.protocol!==self.document.location.protocol||r.host!==self.document.location.host)&&(i.crossOrigin="Anonymous"),a.src=t[o],i.appendChild(a)}return{cancel:function(){}}},t.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],p=e[9],h=e[10],f=e[11],d=e[12],g=e[13],m=e[14],v=e[15],y=n*s-r*a,_=n*l-i*a,b=n*u-o*a,x=r*l-i*s,w=r*u-o*s,E=i*u-o*l,C=c*g-p*d,S=c*m-h*d,T=c*v-f*d,k=p*m-h*g,O=p*v-f*g,I=h*v-f*m,P=y*I-_*O+b*k+x*T-w*S+E*C;return P?(P=1/P,t[0]=(s*I-l*O+u*k)*P,t[1]=(i*O-r*I-o*k)*P,t[2]=(g*E-m*w+v*x)*P,t[3]=(h*w-p*E-f*x)*P,t[4]=(l*T-a*I-u*S)*P,t[5]=(n*I-i*T+o*S)*P,t[6]=(m*b-d*E-v*_)*P,t[7]=(c*E-h*b+f*_)*P,t[8]=(a*O-s*T+u*C)*P,t[9]=(r*T-n*O-o*C)*P,t[10]=(d*w-g*b+v*y)*P,t[11]=(p*b-c*w-f*y)*P,t[12]=(s*S-a*k-l*C)*P,t[13]=(n*k-r*S+i*C)*P,t[14]=(g*_-d*x-m*y)*P,t[15]=(c*x-p*_+h*y)*P,t):null},t.isChar=sr,t.isMapboxURL=B,t.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},t.makeRequest=lt,t.mapObject=y,t.mercatorXfromLng=el,t.mercatorYfromLat=nl,t.mercatorZfromAltitude=rl,t.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=e[9],f=e[10],d=e[11],g=e[12],m=e[13],v=e[14],y=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*p+w*g,t[1]=_*i+b*l+x*h+w*m,t[2]=_*o+b*u+x*f+w*v,t[3]=_*a+b*c+x*d+w*y,_=n[4],b=n[5],x=n[6],w=n[7],t[4]=_*r+b*s+x*p+w*g,t[5]=_*i+b*l+x*h+w*m,t[6]=_*o+b*u+x*f+w*v,t[7]=_*a+b*c+x*d+w*y,_=n[8],b=n[9],x=n[10],w=n[11],t[8]=_*r+b*s+x*p+w*g,t[9]=_*i+b*l+x*h+w*m,t[10]=_*o+b*u+x*f+w*v,t[11]=_*a+b*c+x*d+w*y,_=n[12],b=n[13],x=n[14],w=n[15],t[12]=_*r+b*s+x*p+w*g,t[13]=_*i+b*l+x*h+w*m,t[14]=_*o+b*u+x*f+w*v,t[15]=_*a+b*c+x*d+w*y,t},t.mvt=xa,t.normalizeGlyphsURL=function(t,e){if(!B(t))return t;var n=Y(t);return n.path="/fonts/v1"+n.path,j(n,e)},t.normalizeSourceURL=function(t,e){if(!B(t))return t;var n=Y(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),j(n,e)},t.normalizeSpriteURL=function(t,e,n,r){var i=Y(t);return B(t)?(i.path="/styles/v1"+i.path+"/sprite"+e+n,j(i,r)):(i.path+=""+e+n,X(i))},t.normalizeStyleURL=function(t,e){if(!B(t))return t;var n=Y(t);return n.path="/styles/v1"+n.path,j(n,e)},t.normalizeTileURL=function(t,e,n){if(!e||!B(e))return t;var r=Y(t),i=M.devicePixelRatio>=2||512===n?"@2x":"",o=L.supported?".webp":"$1";return r.path=r.path.replace(q,""+i+o),r.path="/v4"+r.path,j(r)},t.number=ce,t.ortho=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t},t.parseGlyphPBF=function(t){return new Ps(t).readFields(Ys,[])},t.pbf=Ps,t.performSymbolLayout=function(t,e,n,r,i,o){t.createArrays();var a=512*t.overscaling;t.tilePixelRatio=Gi/a,t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,u={};if("composite"===t.textSizeData.functionType){var c=t.textSizeData.zoomRange,p=c.min,h=c.max;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new br(p)),l["text-size"].possiblyEvaluate(new br(h))]}if("composite"===t.iconSizeData.functionType){var f=t.iconSizeData.zoomRange,d=f.min,g=f.max;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new br(d)),l["icon-size"].possiblyEvaluate(new br(g))]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new br(t.zoom+1)),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new br(t.zoom+1)),u.textMaxSize=l["text-size"].possiblyEvaluate(new br(18));for(var m=24*s.get("text-line-height"),v="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),y=s.get("text-keep-upright"),_=0,b=t.features;_<b.length;_+=1){var x=b[_],E=s.get("text-font").evaluate(x,{}).join(","),C=n,S={horizontal:{},vertical:void 0},T=x.text,k=[0,0];if(T){var O=T.toString(),I=24*s.get("text-letter-spacing").evaluate(x,{}),P=ur(O)?I:0,N=s.get("text-anchor").evaluate(x,{}),M=s.get("text-variable-anchor"),A=s.get("text-radial-offset").evaluate(x,{});M||(k=A?Zl(N,24*A):s.get("text-offset").evaluate(x,{}).map((function(t){return 24*t})));var L=v?"center":s.get("text-justify").evaluate(x,{}),R="point"===s.get("symbol-placement")?24*s.get("text-max-width").evaluate(x,{}):0;if(!v&&M)for(var D="auto"===L?M.map((function(t){return Kl(t)})):[L],z=!1,F=0;F<D.length;F++){var j=D[F];if(!S.horizontal[j])if(z)S.horizontal[j]=S.horizontal[0];else{var B=wl(T,e,E,R,m,"center",j,P,k,bl.horizontal);B&&(S.horizontal[j]=B,z=1===B.lineCount)}}else{"auto"===L&&(L=Kl(N));var U=wl(T,e,E,R,m,N,L,P,k,bl.horizontal);U&&(S.horizontal[L]=U),lr(O)&&v&&y&&(S.vertical=wl(T,e,E,R,m,N,L,P,k,bl.vertical))}}var V=void 0;if(x.icon){var q=r[x.icon];q&&(V=Nl(i[x.icon],s.get("icon-offset").evaluate(x,{}),s.get("icon-anchor").evaluate(x,{})),void 0===t.sdfIcons?t.sdfIcons=q.sdf:t.sdfIcons!==q.sdf&&w("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),q.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==s.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(Object.keys(S.horizontal).length||V)&&$l(t,x,S,V,C,u,k)}o&&t.generateCollisionDebugBuffers()},t.perspective=function(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t},t.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n},t.plugin=_r,t.polygonIntersectsPolygon=Zi,t.postMapLoadEvent=et,t.postTurnstileEvent=Q,t.potpack=_s,t.properties=ps,t.rasterBoundsAttributes=pl,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=nr,t.registerForPluginAvailability=function(t){return mr?t({pluginURL:mr,completionCallback:dr}):yr.once("pluginAvailable",t),t},t.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=r*l+o*s,t[1]=i*l+a*s,t[2]=r*-s+o*l,t[3]=i*-s+a*l,t},t.rotateX=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],p=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+p*r,t[7]=l*i+h*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=p*i-s*r,t[11]=h*i-l*r,t},t.rotateZ=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],p=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+p*r,t[3]=l*i+h*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=p*i-s*r,t[7]=h*i-l*r,t},t.scale=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.setRTLTextPlugin=function(t,e){if(gr)throw new Error("setRTLTextPlugin cannot be called multiple times.");gr=!0,mr=M.resolveURL(t),dr=function(t){t?(gr=!1,mr=null,e&&e(t)):vr=!0},yr.fire(new dt("pluginAvailable",{pluginURL:mr,completionCallback:dr}))},t.sphericalToCartesian=function(t){var e=t[0],n=t[1],r=t[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(r),y:e*Math.sin(n)*Math.sin(r),z:e*Math.cos(r)}},t.styleSpec=vt,t.symbolSize=ns,t.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},t.transformMat4=go,t.translate=function(t,e,n){var r,i,o,a,s,l,u,c,p,h,f,d,g=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],p=e[8],h=e[9],f=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=p,t[9]=h,t[10]=f,t[11]=d,t[12]=r*g+s*m+p*v+e[12],t[13]=i*g+l*m+h*v+e[13],t[14]=o*g+u*m+f*v+e[14],t[15]=a*g+c*m+d*v+e[15]),t},t.uniqueId=f,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},t.validateLight=Xn,t.validateStyle=Yn,t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.vectorTile=xa,t.version="0.54.1",t.warnOnce=w,t.webpSupported=L,t.window=self,t.wrap=c})),r(0,(function(t){function e(t){var n=typeof t;if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var r="[",i=0,o=t;i<o.length;i+=1)r+=e(o[i])+",";return r+"]"}for(var a=Object.keys(t).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+e(t[a[l]])+",";return s+"}"}function n(n){for(var r="",i=0,o=t.refProperties;i<o.length;i+=1)r+="/"+e(n[o[i]]);return r}var r=function(t){t&&this.replace(t)};r.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},r.prototype.update=function(e,r){for(var i=this,o=0,a=e;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=t.createStyleLayer(s);l._featureFilter=t.featureFilter(l.filter)}for(var u=0,c=r;u<c.length;u+=1){var p=c[u];delete this._layerConfigs[p],delete this._layers[p]}this.familiesBySource={};for(var h=0,f=function(t){for(var e={},r=0;r<t.length;r++){var i=n(t[r]),o=e[i];o||(o=e[i]=[]),o.push(t[r])}var a=[];for(var s in e)a.push(e[s]);return a}(t.values(this._layerConfigs));h<f.length;h+=1){var d=f[h].map((function(t){return i._layers[t.id]})),g=d[0];if("none"!==g.visibility){var m=g.source||"",v=this.familiesBySource[m];v||(v=this.familiesBySource[m]={});var y=g.sourceLayer||"_geojsonTileLayer",_=v[y];_||(_=v[y]=[]),_.push(d)}}};var i=function(e){var n={},r=[];for(var i in e){var o=e[i],a=n[i]={};for(var s in o){var l=o[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};r.push(u),a[s]={rect:u,metrics:l.metrics}}}}var c=t.potpack(r),p=c.w,h=c.h,f=new t.AlphaImage({width:p||1,height:h||1});for(var d in e){var g=e[d];for(var m in g){var v=g[+m];if(v&&0!==v.bitmap.width&&0!==v.bitmap.height){var y=n[d][m].rect;t.AlphaImage.copy(v.bitmap,f,{x:0,y:0},{x:y.x+1,y:y.y+1},v.bitmap)}}}this.image=f,this.positions=n};t.register("GlyphAtlas",i);var o=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies};function a(e,n){for(var r=new t.EvaluationParameters(n),i=0,o=e;i<o.length;i+=1)o[i].recalculate(r)}o.prototype.parse=function(e,n,r,o){var s=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var l=new t.DictionaryCoder(Object.keys(e.layers).sort()),u=new t.FeatureIndex(this.tileID);u.bucketLayerIDs=[];var c,p,h,f,d={},g={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{}},m=n.familiesBySource[this.source];for(var v in m){var y=e.layers[v];if(y){1===y.version&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+v+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _=l.encode(v),b=[],x=0;x<y.length;x++){var w=y.feature(x);b.push({feature:w,index:x,sourceLayerIndex:_})}for(var E=0,C=m[v];E<C.length;E+=1){var S=C[E],T=S[0];T.minzoom&&this.zoom<Math.floor(T.minzoom)||T.maxzoom&&this.zoom>=T.maxzoom||"none"!==T.visibility&&(a(S,this.zoom),(d[T.id]=T.createBucket({index:u.bucketLayerIDs.length,layers:S,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:_,sourceID:this.source})).populate(b,g),u.bucketLayerIDs.push(S.map((function(t){return t.id}))))}}}var k=t.mapObject(g.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(k).length?r.send("getGlyphs",{uid:this.uid,stacks:k},(function(t,e){c||(c=t,p=e,P.call(s))})):p={};var O=Object.keys(g.iconDependencies);O.length?r.send("getImages",{icons:O},(function(t,e){c||(c=t,h=e,P.call(s))})):h={};var I=Object.keys(g.patternDependencies);function P(){if(c)return o(c);if(p&&h&&f){var e=new i(p),n=new t.ImageAtlas(h,f);for(var r in d){var s=d[r];s instanceof t.SymbolBucket?(a(s.layers,this.zoom),t.performSymbolLayout(s,p,e.positions,h,n.iconPositions,this.showCollisionBoxes)):s.hasPattern&&(s instanceof t.LineBucket||s instanceof t.FillBucket||s instanceof t.FillExtrusionBucket)&&(a(s.layers,this.zoom),s.addFeatures(g,n.patternPositions))}this.status="done",o(null,{buckets:t.values(d).filter((function(t){return!t.isEmpty()})),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?h:null,glyphPositions:this.returnDependencies?e.positions:null})}}I.length?r.send("getImages",{icons:I},(function(t,e){c||(c=t,f=e,P.call(s))})):f={},P.call(this)};var s="undefined"!=typeof performance,l={getEntriesByName:function(t){return!!(s&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(t)},mark:function(t){return!!(s&&performance&&performance.mark)&&performance.mark(t)},measure:function(t,e,n){return!!(s&&performance&&performance.measure)&&performance.measure(t,e,n)},clearMarks:function(t){return!!(s&&performance&&performance.clearMarks)&&performance.clearMarks(t)},clearMeasures:function(t){return!!(s&&performance&&performance.clearMeasures)&&performance.clearMeasures(t)}},u=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},l.mark(this._marks.start)};function c(e,n){var r=t.getArrayBuffer(e.request,(function(e,r,i,o){e?n(e):r&&n(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(r)),rawData:r,cacheControl:i,expires:o})}));return function(){r.cancel(),n()}}u.prototype.finish=function(){l.mark(this._marks.end);var t=l.getEntriesByName(this._marks.measure);return 0===t.length&&(l.measure(this._marks.measure,this._marks.start,this._marks.end),t=l.getEntriesByName(this._marks.measure),l.clearMarks(this._marks.start),l.clearMarks(this._marks.end),l.clearMeasures(this._marks.measure)),t},l.Performance=u;var p=function(t,e,n){this.actor=t,this.layerIndex=e,this.loadVectorData=n||c,this.loading={},this.loaded={}};p.prototype.loadTile=function(e,n){var r=this,i=e.uid;this.loading||(this.loading={});var a=!!(e&&e.request&&e.request.collectResourceTiming)&&new l.Performance(e.request),s=this.loading[i]=new o(e);s.abort=this.loadVectorData(e,(function(e,o){if(delete r.loading[i],e||!o)return s.status="done",r.loaded[i]=s,n(e);var l=o.rawData,u={};o.expires&&(u.expires=o.expires),o.cacheControl&&(u.cacheControl=o.cacheControl);var c={};if(a){var p=a.finish();p&&(c.resourceTiming=JSON.parse(JSON.stringify(p)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,r.layerIndex,r.actor,(function(e,r){if(e||!r)return n(e);n(null,t.extend({rawTileData:l.slice(0)},r,u,c))})),r.loaded=r.loaded||{},r.loaded[i]=s}))},p.prototype.reloadTile=function(t,e){var n=this.loaded,r=t.uid,i=this;if(n&&n[r]){var o=n[r];o.showCollisionBoxes=t.showCollisionBoxes;var a=function(t,n){var r=o.reloadCallback;r&&(delete o.reloadCallback,o.parse(o.vectorTile,i.layerIndex,i.actor,r)),e(t,n)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.actor,a):a())}},p.prototype.abortTile=function(t,e){var n=this.loading,r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()},p.prototype.removeTile=function(t,e){var n=this.loaded,r=t.uid;n&&n[r]&&delete n[r],e()};var h=function(){this.loaded={}};h.prototype.loadTile=function(e,n){var r=e.uid,i=e.encoding,o=e.rawImageData,a=new t.DEMData(r,o,i);this.loaded=this.loaded||{},this.loaded[r]=a,n(null,a)},h.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var f=6378137;function d(t){var e=0;if(t&&t.length>0){e+=Math.abs(g(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(g(t[n]))}return e}function g(t){var e,n,r,i,o,a,s=0,l=t.length;if(l>2){for(a=0;a<l;a++)a===l-2?(r=l-2,i=l-1,o=0):a===l-1?(r=l-1,i=0,o=1):(r=a,i=a+1,o=a+2),e=t[r],n=t[i],s+=(m(t[o][0])-m(e[0]))*Math.sin(m(n[1]));s=s*f*f/2}return s}function m(t){return t*Math.PI/180}var v={geometry:function t(e){var n,r=0;switch(e.type){case"Polygon":return d(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=d(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}},ring:g};function y(t,e){return function(n){return t(n,e)}}function _(t,e){e=!!e,t[0]=b(t[0],e);for(var n=1;n<t.length;n++)t[n]=b(t[n],!e);return t}function b(t,e){return function(t){return v.ring(t)>=0}(t)===e?t:t.reverse()}var x=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,w=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};w.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];e.push([new t.Point$1(i[0],i[1])])}return e}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var l=[],u=0,c=s[a];u<c.length;u+=1){var p=c[u];l.push(new t.Point$1(p[0],p[1]))}o.push(l)}return o},w.prototype.toGeoJSON=function(t,e,n){return x.call(this,t,e,n)};var E=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};E.prototype.feature=function(t){return new w(this._features[t])};var C=t.vectorTile.VectorTileFeature,S=T;function T(t,e){this.options=e||{},this.features=t,this.length=t.length}function k(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}T.prototype.feature=function(t){return new k(this.features[t],this.options.extent)},k.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<r.length;o++)i.push(new t.Point$1(r[o][0],r[o][1]));this.geometry.push(i)}return this.geometry},k.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[e,r,n,i]},k.prototype.toGeoJSON=C.prototype.toGeoJSON;var O=N,I=N,P=S;function N(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,M,t.layers[n])}(e,n),n.finish()}function M(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,A,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,F,o[n])}function A(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,L,t),e.writeVarintField(3,n.type),e.writeMessage(4,z,n)}function L(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var l=o[s];void 0===l&&(r.push(s),l=r.length-1,o[s]=l),e.writeVarint(l);var u=n.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var p=c+":"+u,h=a[p];void 0===h&&(i.push(u),h=i.length-1,a[p]=h),e.writeVarint(h)}}function R(t,e){return(e<<3)+(7&t)}function D(t){return t<<1^t>>31}function z(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],u=1;1===r&&(u=l.length),e.writeVarint(R(1,u));for(var c=3===r?l.length-1:l.length,p=0;p<c;p++){1===p&&1!==r&&e.writeVarint(R(2,c-1));var h=l[p].x-i,f=l[p].y-o;e.writeVarint(D(h)),e.writeVarint(D(f)),i+=h,o+=f}3===r&&e.writeVarint(R(7,1))}}function F(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function j(t,e,n,r){B(t,n,r),B(e,2*n,2*r),B(e,2*n+1,2*r+1)}function B(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function U(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}O.fromVectorTileJs=I,O.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new S(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return N({layers:n})},O.GeoJSONWrapper=P;var V=function(t){return t[0]},q=function(t){return t[1]},G=function(t,e,n,r,i){void 0===e&&(e=V),void 0===n&&(n=q),void 0===r&&(r=64),void 0===i&&(i=Float64Array),this.nodeSize=r,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),s=this.coords=new i(2*t.length),l=0;l<t.length;l++)a[l]=l,s[2*l]=e(t[l]),s[2*l+1]=n(t[l]);!function t(e,n,r,i,o,a){if(!(o-i<=r)){var s=i+o>>1;!function t(e,n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);t(e,n,r,Math.max(i,Math.floor(r-l*c/s+p)),Math.min(o,Math.floor(r+(s-l)*c/s+p)),a)}var h=n[2*r+a],f=i,d=o;for(j(e,n,i,r),n[2*o+a]>h&&j(e,n,i,o);f<d;){for(j(e,n,f,d),f++,d--;n[2*f+a]<h;)f++;for(;n[2*d+a]>h;)d--}n[2*i+a]===h?j(e,n,i,d):j(e,n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(e,n,s,i,o,a%2),t(e,n,r,i,s-1,a+1),t(e,n,r,s+1,o,a+1)}}(a,s,r,0,a.length-1,0)};G.prototype.range=function(t,e,n,r){return function(t,e,n,r,i,o,a){for(var s,l,u=[0,t.length-1,0],c=[];u.length;){var p=u.pop(),h=u.pop(),f=u.pop();if(h-f<=a)for(var d=f;d<=h;d++)s=e[2*d],l=e[2*d+1],s>=n&&s<=i&&l>=r&&l<=o&&c.push(t[d]);else{var g=Math.floor((f+h)/2);s=e[2*g],l=e[2*g+1],s>=n&&s<=i&&l>=r&&l<=o&&c.push(t[g]);var m=(p+1)%2;(0===p?n<=s:r<=l)&&(u.push(f),u.push(g-1),u.push(m)),(0===p?i>=s:o>=l)&&(u.push(g+1),u.push(h),u.push(m))}}return c}(this.ids,this.coords,t,e,n,r,this.nodeSize)},G.prototype.within=function(t,e,n){return function(t,e,n,r,i,o){for(var a=[0,t.length-1,0],s=[],l=i*i;a.length;){var u=a.pop(),c=a.pop(),p=a.pop();if(c-p<=o)for(var h=p;h<=c;h++)U(e[2*h],e[2*h+1],n,r)<=l&&s.push(t[h]);else{var f=Math.floor((p+c)/2),d=e[2*f],g=e[2*f+1];U(d,g,n,r)<=l&&s.push(t[f]);var m=(u+1)%2;(0===u?n-i<=d:r-i<=g)&&(a.push(p),a.push(f-1),a.push(m)),(0===u?n+i>=d:r+i>=g)&&(a.push(f+1),a.push(c),a.push(m))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)};var W={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,map:function(t){return t}},H=function(t){this.options=Q(Object.create(W),t),this.trees=new Array(this.options.maxZoom+1)};function Y(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function X(t,e){var n=t.geometry.coordinates,r=n[0],i=n[1];return{x:$(r),y:J(i),zoom:1/0,index:e,parentId:-1}}function Z(t){return{type:"Feature",id:t.id,properties:K(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function K(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return Q(Q({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function $(t){return t/360+.5}function J(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function Q(t,e){for(var n in e)t[n]=e[n];return t}function tt(t){return t.x}function et(t){return t.y}function nt(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((t-n)*a+(e-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return(a=t-n)*a+(s=e-r)*s}function rt(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)it(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)it(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)it(t,e[r][i])}(i),i}function it(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function ot(t,e,n,r){if(e.geometry){var i=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=e.id;if(n.promoteId?l=e.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)at(i,s);else if("MultiPoint"===o)for(var u=0;u<i.length;u++)at(i[u],s);else if("LineString"===o)st(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<i.length;u++)s=[],st(i[u],s,a,!1),t.push(rt(l,"LineString",s,e.properties));return}lt(i,s,a,!1)}else if("Polygon"===o)lt(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(u=0;u<e.geometry.geometries.length;u++)ot(t,{id:l,geometry:e.geometry.geometries[u],properties:e.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];lt(i[u],c,a,!0),s.push(c)}}t.push(rt(l,o,s,e.properties))}}function at(t,e){e.push(ut(t[0])),e.push(ct(t[1])),e.push(0)}function st(t,e,n,r){for(var i,o,a=0,s=0;s<t.length;s++){var l=ut(t[s][0]),u=ct(t[s][1]);e.push(l),e.push(u),e.push(0),s>0&&(a+=r?(i*u-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-o,2))),i=l,o=u}var c=e.length-3;e[2]=1,function t(e,n,r,i){for(var o,a=i,s=r-n>>1,l=r-n,u=e[n],c=e[n+1],p=e[r],h=e[r+1],f=n+3;f<r;f+=3){var d=nt(e[f],e[f+1],u,c,p,h);if(d>a)o=f,a=d;else if(d===a){var g=Math.abs(f-s);g<l&&(o=f,l=g)}}a>i&&(o-n>3&&t(e,n,o,i),e[o+2]=a,r-o>3&&t(e,o,r,i))}(e,0,c,n),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function lt(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];st(t[i],o,n,r),e.push(o)}}function ut(t){return t/360+.5}function ct(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function pt(t,e,n,r,i,o,a,s){if(r/=e,o>=(n/=e)&&a<r)return t;if(a<n||o>=r)return null;for(var l=[],u=0;u<t.length;u++){var c=t[u],p=c.geometry,h=c.type,f=0===i?c.minX:c.minY,d=0===i?c.maxX:c.maxY;if(f>=n&&d<r)l.push(c);else if(!(d<n||f>=r)){var g=[];if("Point"===h||"MultiPoint"===h)ht(p,g,n,r,i);else if("LineString"===h)ft(p,g,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===h)gt(p,g,n,r,i,!1);else if("Polygon"===h)gt(p,g,n,r,i,!0);else if("MultiPolygon"===h)for(var m=0;m<p.length;m++){var v=[];gt(p[m],v,n,r,i,!0),v.length&&g.push(v)}if(g.length){if(s.lineMetrics&&"LineString"===h){for(m=0;m<g.length;m++)l.push(rt(c.id,h,g[m],c.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===g.length?(h="LineString",g=g[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===g.length?"Point":"MultiPoint"),l.push(rt(c.id,h,g,c.tags))}}}return l.length?l:null}function ht(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function ft(t,e,n,r,i,o,a){for(var s,l,u=dt(t),c=0===i?vt:yt,p=t.start,h=0;h<t.length-3;h+=3){var f=t[h],d=t[h+1],g=t[h+2],m=t[h+3],v=t[h+4],y=0===i?f:d,_=0===i?m:v,b=!1;a&&(s=Math.sqrt(Math.pow(f-m,2)+Math.pow(d-v,2))),y<n?_>n&&(l=c(u,f,d,m,v,n),a&&(u.start=p+s*l)):y>r?_<r&&(l=c(u,f,d,m,v,r),a&&(u.start=p+s*l)):mt(u,f,d,g),_<n&&y>=n&&(l=c(u,f,d,m,v,n),b=!0),_>r&&y<=r&&(l=c(u,f,d,m,v,r),b=!0),!o&&b&&(a&&(u.end=p+s*l),e.push(u),u=dt(t)),a&&(p+=s)}var x=t.length-3;f=t[x],d=t[x+1],g=t[x+2],(y=0===i?f:d)>=n&&y<=r&&mt(u,f,d,g),x=u.length-3,o&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&mt(u,u[0],u[1],u[2]),u.length&&e.push(u)}function dt(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function gt(t,e,n,r,i,o){for(var a=0;a<t.length;a++)ft(t[a],e,n,r,i,o,!1)}function mt(t,e,n,r){t.push(e),t.push(n),t.push(r)}function vt(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function yt(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function _t(t,e){for(var n=[],r=0;r<t.length;r++){var i,o=t[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=bt(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(bt(o.geometry[s],e))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(bt(o.geometry[s][u],e));i.push(l)}n.push(rt(o.id,a,i,o.tags))}return n}function bt(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function xt(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(r=0;r<u.length;r+=2)l.geometry.push(wt(u[r],u[r+1],e,o,a,s));else for(r=0;r<u.length;r++){var p=[];for(i=0;i<u[r].length;i+=2)p.push(wt(u[r][i],u[r][i+1],e,o,a,s));l.geometry.push(p)}}return t.transformed=!0,t}function wt(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function Et(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,Ct(a,t[s],o,i);var l=t[s].minX,u=t[s].minY,c=t[s].maxX,p=t[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),p>a.maxY&&(a.maxY=p)}return a}function Ct(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)St(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)St(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)St(a,u[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var p in c={},e.tags)c[p]=e.tags[p];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var h={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(h.id=e.id),t.features.push(h)}}function St(t,e,n,r,i,o){var a=r*r;if(r>0&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],l=0;l<e.length;l+=3)(0===r||e[l+2]>a)&&(n.numSimplified++,s.push(e[l]),s.push(e[l+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function Tt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)ot(n,t.features[r],e,r);else"Feature"===t.type?ot(n,t,e):ot(n,{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var n=e.buffer/e.extent,r=t,i=pt(t,1,-1-n,n,0,-1,2,e),o=pt(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=pt(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=_t(i,1).concat(r)),o&&(r=r.concat(_t(o,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function kt(t,e,n){return 32*((1<<t)*n+e)+t}function Ot(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return e(null,null);var i=new E(r.features),o=O(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:i,rawData:o.buffer})}H.prototype.load=function(t){var e=this.options,n=e.log,r=e.minZoom,i=e.maxZoom,o=e.nodeSize;n&&console.time("total time");var a="prepare "+t.length+" points";n&&console.time(a),this.points=t;for(var s=[],l=0;l<t.length;l++)t[l].geometry&&s.push(X(t[l],l));this.trees[i+1]=new G(s,tt,et,o,Float32Array),n&&console.timeEnd(a);for(var u=i;u>=r;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new G(s,tt,et,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},H.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,i=180;else if(n>i){var a=this.getClusters([n,r,180,o],e),s=this.getClusters([-180,r,i,o],e);return a.concat(s)}for(var l=this.trees[this._limitZoom(e)],u=[],c=0,p=l.range($(n),J(o),$(i),J(r));c<p.length;c+=1){var h=p[c],f=l.points[h];u.push(f.numPoints?Z(f):this.points[f.index])}return u},H.prototype.getChildren=function(t){var e=t>>5,n=t%32,r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);var o=i.points[e];if(!o)throw new Error(r);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],l=0,u=i.within(o.x,o.y,a);l<u.length;l+=1){var c=u[l],p=i.points[c];p.parentId===t&&s.push(p.numPoints?Z(p):this.points[p.index])}if(0===s.length)throw new Error(r);return s},H.prototype.getLeaves=function(t,e,n){e=e||10,n=n||0;var r=[];return this._appendLeaves(r,t,e,n,0),r},H.prototype.getTile=function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options,a=o.extent,s=o.radius/a,l=(n-s)/i,u=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((e-s)/i,l,(e+1+s)/i,u),r.points,e,n,i,c),0===e&&this._addTileFeatures(r.range(1-s/i,l,1,u),r.points,i,n,i,c),e===i-1&&this._addTileFeatures(r.range(0,l,s/i,u),r.points,-1,n,i,c),c.features.length?c:null},H.prototype.getClusterExpansionZoom=function(t){for(var e=t%32-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},H.prototype._appendLeaves=function(t,e,n,r,i){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var s=a[o],l=s.properties;if(l&&l.cluster?i+l.point_count<=r?i+=l.point_count:i=this._appendLeaves(t,l.cluster_id,n,r,i):i<r?i++:t.push(s),t.length===n)break}return i},H.prototype._addTileFeatures=function(t,e,n,r,i,o){for(var a=0,s=t;a<s.length;a+=1){var l=e[s[a]],u={type:1,geometry:[[Math.round(this.options.extent*(l.x*i-n)),Math.round(this.options.extent*(l.y*i-r))]],tags:l.numPoints?K(l):this.points[l.index].properties},c=l.numPoints?l.id:this.points[l.index].id;void 0!==c&&(u.id=c),o.features.push(u)}},H.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},H.prototype._cluster=function(t,e){for(var n=[],r=this.options,i=r.radius,o=r.extent,a=r.reduce,s=i/(o*Math.pow(2,e)),l=0;l<t.length;l++){var u=t[l];if(!(u.zoom<=e)){u.zoom=e;for(var c=this.trees[e+1],p=c.within(u.x,u.y,s),h=u.numPoints||1,f=u.x*h,d=u.y*h,g=a?this._map(u,!0):null,m=(l<<5)+(e+1),v=0,y=p;v<y.length;v+=1){var _=y[v],b=c.points[_];if(!(b.zoom<=e)){b.zoom=e;var x=b.numPoints||1;f+=b.x*x,d+=b.y*x,h+=x,b.parentId=m,a&&a(g,this._map(b))}}1===h?n.push(u):(u.parentId=m,n.push(Y(f/h,d/h,m,h,g)))}}return n},H.prototype._map=function(t,e){if(t.numPoints)return e?Q({},t.properties):t.properties;var n=this.points[t.index].properties,r=this.options.map(n);return e&&r===n?Q({},r):r},Tt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Tt.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,p=kt(e,n,r),h=this.tiles[p];if(!h&&(u>1&&console.time("creation"),h=this.tiles[p]=Et(t,e,n,r,l),this.tileCoords.push({z:e,x:n,y:r}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var f="z"+e;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(h.source=t,i){if(e===l.maxZoom||e===i)continue;var d=1<<i-e;if(n!==Math.floor(o/d)||r!==Math.floor(a/d))continue}else if(e===l.indexMaxZoom||h.numPoints<=l.indexMaxPoints)continue;if(h.source=null,0!==t.length){u>1&&console.time("clipping");var g,m,v,y,_,b,x=.5*l.buffer/l.extent,w=.5-x,E=.5+x,C=1+x;g=m=v=y=null,_=pt(t,c,n-x,n+E,0,h.minX,h.maxX,l),b=pt(t,c,n+w,n+C,0,h.minX,h.maxX,l),t=null,_&&(g=pt(_,c,r-x,r+E,1,h.minY,h.maxY,l),m=pt(_,c,r+w,r+C,1,h.minY,h.maxY,l),_=null),b&&(v=pt(b,c,r-x,r+E,1,h.minY,h.maxY,l),y=pt(b,c,r+w,r+C,1,h.minY,h.maxY,l),b=null),u>1&&console.timeEnd("clipping"),s.push(g||[],e+1,2*n,2*r),s.push(m||[],e+1,2*n,2*r+1),s.push(v||[],e+1,2*n+1,2*r),s.push(y||[],e+1,2*n+1,2*r+1)}}},Tt.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,s=kt(t,e=(e%a+a)%a,n);if(this.tiles[s])return xt(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var l,u=t,c=e,p=n;!l&&u>0;)u--,c=Math.floor(c/2),p=Math.floor(p/2),l=this.tiles[kt(u,c,p)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",u,c,p),o>1&&console.time("drilling down"),this.splitTile(l.source,u,c,p,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?xt(this.tiles[s],i):null):null};var It=function(e){function n(t,n,r){e.call(this,t,n,Ot),r&&(this.loadGeoJSON=r)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(r&&r.request&&r.request.collectResourceTiming)&&new l.Performance(r.request);this.loadGeoJSON(r,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data is not a valid GeoJSON object."));!function t(e,n){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(y(t,n)),e;case"GeometryCollection":return e.geometries=e.geometries.map(y(t,n)),e;case"Feature":return e.geometry=t(e.geometry,n),e;case"Polygon":case"MultiPolygon":return function(t,e){return"Polygon"===t.type?t.coordinates=_(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(y(_,e))),t}(e,n);default:return e}}(a,!0);try{e._geoJSONIndex=r.cluster?new H(function(e){var n=e.superclusterOptions,r=e.clusterProperties;if(!r||!n)return n;for(var i={},o={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(r),u=0,c=l;u<c.length;u+=1){var p=c[u],h=r[p],f=h[0],d=h[1],g=t.createExpression(d),m=t.createExpression("string"==typeof f?[f,["accumulated"],["get",p]]:f);i[p]=g.value,o[p]=m.value}return n.map=function(t){s.properties=t;for(var e={},n=0,r=l;n<r.length;n+=1){var o=r[n];e[o]=i[o].evaluate(a,s)}return e},n.reduce=function(t,e){s.properties=e;for(var n=0,r=l;n<r.length;n+=1){var i=r[n];a.accumulated=t[i],t[i]=o[i].evaluate(a,s)}},n}(r)).load(a.features):function(t,e){return new Tt(t,e)}(a,r.geojsonVtOptions)}catch(o){return n(o)}e.loaded={};var s={};if(i){var l=i.finish();l&&(s.resourceTiming={},s.resourceTiming[r.source]=JSON.parse(JSON.stringify(l)))}n(null,s)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(t,n){var r=this.loaded,i=t.uid;return r&&r[i]?e.prototype.reloadTile.call(this,t,n):this.loadTile(t,n)},n.prototype.loadGeoJSON=function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data is not a valid GeoJSON object."));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},n.prototype.getClusterExpansionZoom=function(t,e){e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))},n.prototype.getClusterChildren=function(t,e){e(null,this._geoJSONIndex.getChildren(t.clusterId))},n.prototype.getClusterLeaves=function(t,e){e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))},n}(p),Pt=function(e){var n=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.workerSourceTypes={vector:p,geojson:It},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isLoaded())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return Pt.prototype.setReferrer=function(t,e){this.referrer=e},Pt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},Pt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},Pt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},Pt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},Pt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},Pt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},Pt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},Pt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},Pt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var r=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==r.removeSource?r.removeSource(e,n):n()}},Pt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},Pt.prototype.loadRTLTextPlugin=function(e,n,r){try{t.plugin.isLoaded()||(this.self.importScripts(n),r(t.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+n)))}catch(t){r(t.toString())}},Pt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},Pt.prototype.getWorkerSource=function(t,e,n){var r=this;if(this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),!this.workerSources[t][e][n]){var i={send:function(e,n,i){r.actor.send(e,n,i,t)}};this.workerSources[t][e][n]=new this.workerSourceTypes[e](i,this.getLayerIndex(t))}return this.workerSources[t][e][n]},Pt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new h),this.demWorkerSources[t][e]},"undefined"!=typeof WorkerGlobalScope&&void 0!==t.window&&t.window instanceof WorkerGlobalScope&&(t.window.worker=new Pt(t.window)),Pt})),r(0,(function(t){var e=t.createCommonjsModule((function(t){function e(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{e=new Worker(r),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(r),t}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(t){return void 0===n[t]&&(n[t]=function(t){var n=document.createElement("canvas"),r=Object.create(e.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=t,n.probablySupportsContext?n.probablySupportsContext("webgl",r)||n.probablySupportsContext("experimental-webgl",r):n.supportsContext?n.supportsContext("webgl",r)||n.supportsContext("experimental-webgl",r):n.getContext("webgl",r)||n.getContext("experimental-webgl",r)}(t)),n[t]}(t&&t.failIfMajorPerformanceCaveat))}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e);var n={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(e,n,r){var i=t.window.document.createElement(e);return n&&(i.className=n),r&&r.appendChild(i),i},createNS:function(e,n){return t.window.document.createElementNS(e,n)}},r=t.window.document?t.window.document.documentElement.style:null;function i(t){if(!r)return null;for(var e=0;e<t.length;e++)if(t[e]in r)return t[e];return t[0]}var o,a=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){r&&a&&(o=r[a],r[a]="none")},n.enableDrag=function(){r&&a&&(r[a]=o)};var s=i(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[s]=e};var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});t.window.addEventListener("test",u,u),t.window.removeEventListener("test",u,u)}catch(t){l=!1}n.addEventListener=function(t,e,n,r){void 0===r&&(r={}),"passive"in r&&l?t.addEventListener(e,n,r):t.addEventListener(e,n,r.capture)},n.removeEventListener=function(t,e,n,r){void 0===r&&(r={}),"passive"in r&&l?t.removeEventListener(e,n,r):t.removeEventListener(e,n,r.capture)};var c=function(e){e.preventDefault(),e.stopPropagation(),t.window.removeEventListener("click",c,!0)};function p(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}n.suppressClick=function(){t.window.addEventListener("click",c,!0),t.window.setTimeout((function(){t.window.removeEventListener("click",c,!0)}),0)},n.mousePos=function(e,n){var r=e.getBoundingClientRect();return n=n.touches?n.touches[0]:n,new t.Point(n.clientX-r.left-e.clientLeft,n.clientY-r.top-e.clientTop)},n.touchPos=function(e,n){for(var r=e.getBoundingClientRect(),i=[],o="touchend"===n.type?n.changedTouches:n.touches,a=0;a<o.length;a++)i.push(new t.Point(o[a].clientX-r.left-e.clientLeft,o[a].clientY-r.top-e.clientTop));return i},n.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var h=function(e){function n(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var r=n[e],i=r.ids,o=r.callback;this._notify(i,o)}this.requestors=[]}},n.prototype.getImage=function(t){return this.images[t]},n.prototype.addImage=function(t,e){this.images[t]=e},n.prototype.updateImage=function(t,e){var n=this.images[t];e.version=n.version+1,this.images[t]=e,this.updatedImages[t]=!0},n.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var r=0,i=t;r<i.length;r+=1){var o=i[r];this.images[o]||(n=!1)}this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},n.prototype._notify=function(e,n){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i];this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var s=this.images[a];s?r[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,r)},n.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},n.prototype.getPattern=function(e){var n=this.patterns[e],r=this.getImage(e);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+2,h:r.data.height+2,x:0,y:0},o=new t.ImagePosition(i,r);this.patterns[e]={bin:i,position:o}}return this._updatePatternAtlas(),this.patterns[e].position},n.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var r=t.potpack(e),i=r.w,o=r.h,a=this.atlasImage;for(var s in a.resize({width:i||1,height:o||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,p=this.images[s].data,h=p.width,f=p.height;t.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c},{width:h,height:f}),t.RGBAImage.copy(p,a,{x:0,y:f-1},{x:u,y:c-1},{width:h,height:1}),t.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c+f},{width:h,height:1}),t.RGBAImage.copy(p,a,{x:h-1,y:0},{x:u-1,y:c},{width:1,height:f}),t.RGBAImage.copy(p,a,{x:0,y:0},{x:u+h,y:c},{width:1,height:f})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];p(i)&&this.updateImage(r,i)}}},n}(t.Evented),f=g,d=1e20;function g(t,e,n,r,i,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function m(t,e,n,r,i,o,a){for(var s=0;s<e;s++){for(var l=0;l<n;l++)r[l]=t[l*e+s];for(v(r,i,o,a,n),l=0;l<n;l++)t[l*e+s]=i[l]}for(l=0;l<n;l++){for(s=0;s<e;s++)r[s]=t[l*e+s];for(v(r,i,o,a,e),s=0;s<e;s++)t[l*e+s]=Math.sqrt(i[s])}}function v(t,e,n,r,i){n[0]=0,r[0]=-d,r[1]=+d;for(var o=1,a=0;o<i;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=r[a];)a--,s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,r[a]=s,r[a+1]=+d}for(o=0,a=0;o<i;o++){for(;r[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}g.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=e.data[4*r+3]/255;this.gridOuter[r]=1===i?0:0===i?d:Math.pow(Math.max(0,.5-i),2),this.gridInner[r]=1===i?d:0===i?0:Math.pow(Math.max(0,i-.5),2)}for(m(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),m(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++){var o=this.gridOuter[r]-this.gridInner[r];n[r]=Math.max(0,Math.min(255,Math.round(255-255*(o/this.radius+this.cutoff))))}return n};var y=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};y.prototype.setURL=function(t){this.url=t},y.prototype.getGlyphs=function(e,n){var r=this,i=[];for(var o in e)for(var a=0,s=e[o];a<s.length;a+=1){var l=s[a];i.push({stack:o,id:l})}t.asyncAll(i,(function(t,e){var n=t.stack,i=t.id,o=r.entries[n];o||(o=r.entries[n]={glyphs:{},requests:{}});var a=o.glyphs[i];if(void 0===a)if(a=r._tinySDF(o,n,i))e(null,{stack:n,id:i,glyph:a});else{var s=Math.floor(i/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else{var l=o.requests[s];l||(l=o.requests[s]=[],y.loadGlyphRange(n,s,r.url,r.requestTransform,(function(t,e){if(e)for(var n in e)o.glyphs[+n]=e[+n];for(var r=0,i=l;r<i.length;r+=1)(0,i[r])(t,e);delete o.requests[s]}))),l.push((function(t,r){t?e(t):r&&e(null,{stack:n,id:i,glyph:r[i]||null})}))}}else e(null,{stack:n,id:i,glyph:a})}),(function(t,e){if(t)n(t);else if(e){for(var r={},i=0,o=e;i<o.length;i+=1){var a=o[i],s=a.stack,l=a.id,u=a.glyph;(r[s]||(r[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}n(null,r)}}))},y.prototype._tinySDF=function(e,n,r){var i=this.localIdeographFontFamily;if(i&&(t.isChar["CJK Unified Ideographs"](r)||t.isChar["Hangul Syllables"](r))){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=e.tinySDF=new y.TinySDF(24,3,8,.25,i,a)}return{id:r,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},y.loadGlyphRange=function(e,n,r,i,o){var a=256*n,s=a+255,l=i(t.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(l,(function(e,n){if(e)o(e);else if(n){for(var r={},i=0,a=t.parseGlyphPBF(n);i<a.length;i+=1){var s=a[i];r[s.id]=s}o(null,r)}}))},y.TinySDF=f;var _=function(){this.specification=t.styleSpec.light.position};_.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},_.prototype.interpolate=function(e,n,r){return{x:t.number(e.x,n.x,r),y:t.number(e.y,n.y,r),z:t.number(e.z,n.z,r)}};var b=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new _,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),x=function(e){function n(n){e.call(this),this._transitionable=new t.Transitionable(b),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(e,n){if(void 0===n&&(n={}),!this._validate(t.validateLight,e,n))for(var r in e){var i=e[r];t.endsWith(r,"-transition")?this._transitionable.setTransition(r.slice(0,-"-transition".length),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},n.prototype._validate=function(e,n,r){return(!r||!1!==r.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},n}(t.Evented),w=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};w.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},w.prototype.addDash=function(e,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];for(var s=this.width/o,l=s/2,u=e.length%2==1,c=-r;c<=r;c++)for(var p=this.nextRow+r+c,h=this.width*p,f=u?-e[e.length-1]:0,d=e[0],g=1,m=0;m<this.width;m++){for(;d<m/s;)f=d,d+=e[g],u&&g===e.length-1&&(d+=e[0]),g++;var v=Math.abs(m-f*s),y=Math.abs(m-d*s),_=Math.min(v,y),b=g%2==1,x=void 0;if(n){var w=r?c/r*(l+1):0;if(b){var E=l-Math.abs(w);x=Math.sqrt(_*_+E*E)}else x=l-Math.sqrt(_*_+w*w)}else x=(b?1:-1)*_;this.data[3+4*(h+m)]=Math.max(0,Math.min(255,x+128))}var C={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,C},w.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))};var E=function e(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var i=this.workerPool.acquire(this.id),o=0;o<i.length;o++){var a=i[o],s=new e.Actor(a,r,this.id);s.name="Worker "+o,this.actors.push(s)}};function C(e,n,r){var i=function(n,i){if(n)return r(n);if(i){var o=t.pick(i,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);i.vector_layers&&(o.vectorLayers=i.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(t){return t.id}))),e.url&&(o.tiles=t.canonicalizeTileset(o,e.url)),r(null,o)}};return e.url?t.getJSON(n(t.normalizeSourceURL(e.url),t.ResourceType.Source),i):t.browser.frame((function(){return i(null,e)}))}E.prototype.broadcast=function(e,n,r){r=r||function(){},t.asyncAll(this.actors,(function(t,r){t.send(e,n,r)}),r)},E.prototype.send=function(t,e,n,r){return("number"!=typeof r||isNaN(r))&&(r=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[r].send(t,e,n),r},E.prototype.remove=function(){this.actors.forEach((function(t){t.remove()})),this.actors=[],this.workerPool.release(this.id)},E.Actor=t.Actor;var S=function(e,n,r){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=r||24};S.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},S.prototype.contains=function(e){var n=Math.pow(2,e.z),r=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=r&&e.x<o&&e.y>=i&&e.y<a};var T=function(e){function n(n,r,i,o){if(e.call(this),this.id=n,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,t.extend(this,t.pick(r,["url","scheme","tileSize"])),this._options=t.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._transformRequest,(function(n,r){e._tileJSONRequest=null,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new S(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId()),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.loadTile=function(e,n){var r=t.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url),i={request:this.map._transformRequest(r,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function o(t,r){return e.aborted?n(null):t&&404!==t.status?n(t):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,void 0===e.workerID||"expired"===e.state?e.workerID=this.dispatcher.send("loadTile",i,o.bind(this)):"loading"===e.state?e.reloadCallback=n:this.dispatcher.send("reloadTile",i,o.bind(this),e.workerID)},n.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},n.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},n.prototype.hasTransition=function(){return!1},n}(t.Evented),k=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({},r),t.extend(this,t.pick(r,["url","scheme","tileSize"]))}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._transformRequest,(function(n,r){e._tileJSONRequest=null,n?e.fire(new t.ErrorEvent(n)):r&&(t.extend(e,r),r.bounds&&(e.tileBounds=new S(r.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(r.tiles),t.postMapLoadEvent(r.tiles,e.map._getMapId()),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.loadTile=function(e,n){var r=this,i=t.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(i,t.ResourceType.Tile),(function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){r.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=r.map.painter.context,s=a.gl;e.texture=r.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",n(null)}}))},n.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},n.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},n.prototype.hasTransition=function(){return!1},n}(t.Evented),O=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({},r),this.encoding=r.encoding||"mapbox"}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(e,n){var r=t.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);e.request=t.getImage(this.map._transformRequest(r,t.ResourceType.Tile),function(r,i){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(i){this.map._refreshExpiredTiles&&e.setExpiryData(i),delete i.cacheControl,delete i.expires;var o=t.browser.getImageData(i),a={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:o,encoding:this.encoding};e.workerID&&"expired"!==e.state||(e.workerID=this.dispatcher.send("loadDEMTile",a,function(t,r){t&&(e.state="errored",n(t)),r&&(e.dem=r,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}.bind(this)))}}.bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},n.prototype._getNeighboringTiles=function(e){var n=e.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+r)%r,s=n.x+1===r?e.wrap+1:e.wrap,l={};return l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new t.OverscaledTileID(e.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l},n.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},n}(k),I=function(e){function n(n,r,i,o){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=i,this.setEventedParent(o),this._data=r.data,this._options=t.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution);var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*a,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?Math.min(r.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:t.EXTENT,radius:(r.clusterRadius||50)*a,log:!1},clusterProperties:r.clusterProperties},r.workerOptions)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)e.fire(new t.ErrorEvent(n));else{var r={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(r.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",r))}}))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(e){if(e)n.fire(new t.ErrorEvent(e));else{var r={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",r))}})),this},n.prototype.getClusterExpansionZoom=function(t,e){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e,this.workerID),this},n.prototype.getClusterChildren=function(t,e){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e,this.workerID),this},n.prototype.getClusterLeaves=function(t,e,n,r){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},r,this.workerID),this},n.prototype._updateWorkerData=function(e){var n=this,r=t.extend({},this.workerOptions),i=this._data;"string"==typeof i?(r.request=this.map._transformRequest(t.browser.resolveURL(i),t.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.workerID=this.dispatcher.send(this.type+".loadData",r,(function(t,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.dispatcher.send(n.type+".coalesce",{source:r.source},null,n.workerID),e(t))}),this.workerID)},n.prototype.loadTile=function(e,n){var r=this,i=void 0===e.workerID?"loadTile":"reloadTile",o={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};e.workerID=this.dispatcher.send(i,o,(function(t,o){return e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(o,r.map.painter,"reloadTile"===i),n(null))}),this.workerID)},n.prototype.abortTile=function(t){t.aborted=!0},n.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},n.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},n.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(t.Evented),P=function(e){function n(t,n,r,i){e.call(this),this.id=t,this.dispatcher=r,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(i),this.options=n}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.load=function(e,n){var r=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._transformRequest(this.url,t.ResourceType.Image),(function(i,o){i?r.fire(new t.ErrorEvent(i)):o&&(r.image=o,e&&(r.coordinates=e),n&&n(),r._finishLoading())}))},n.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,(function(){e.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setCoordinates=function(e){var n=this;this.coordinates=e;var r=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0,s=e;a<s.length;a+=1){var l=s[a];n=Math.min(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.x),o=Math.max(o,l.y)}var u=i-n,c=o-r,p=Math.max(u,c),h=Math.max(0,Math.floor(-Math.log(p)/Math.LN2)),f=Math.pow(2,h);return new t.CanonicalTileID(h,Math.floor((n+i)/2*f),Math.floor((r+o)/2*f))}(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map((function(t){return n.tileID.getTilePoint(t)._round()}));return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(t.Evented),N=function(e){function n(t,n,r,i){e.call(this,t,n,r,i),this.roundZoom=!0,this.type="video",this.options=n}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.load=function(){var e=this,n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1){var o=i[r];this.urls.push(this.map._transformRequest(o,t.ResourceType.Source).url)}t.getVideo(this.urls,(function(n,r){n?e.fire(new t.ErrorEvent(n)):r&&(e.video=r,e.video.loop=!0,e.video.addEventListener("playing",(function(){e.map.triggerRepaint()})),e.map&&e.video.play(),e._finishLoading())}))},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(P),M=function(e){function n(n,r,i,o){e.call(this,n,r,i,o),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some((function(t){return!Array.isArray(t)||2!==t.length||t.some((function(t){return"number"!=typeof t}))}))||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,t.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[i];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},n}(P),A={vector:T,raster:k,"raster-dem":O,geojson:I,video:N,image:P,canvas:M};function L(e,n){var r=t.identity([]);return t.translate(r,r,[1,1,0]),t.scale(r,r,[.5*e.width,.5*e.height,1]),t.multiply(r,r,e.calculatePosMatrix(n.toUnwrapped()))}function R(t,e,n,r,i){var o=function(t,e,n){if(t)for(var r=0,i=t;r<i.length;r+=1){var o=e[i[r]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in e){var s=e[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(r&&r.layers,e,t.id),a=i.maxPitchScaleFactor(),s=t.tilesIn(n,a,o);s.sort(D);for(var l=[],u=0,c=s;u<c.length;u+=1){var p=c[u];l.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(e,t._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,r,i,a,L(t.transform,p.tileID))})}var h=function(t){for(var e={},n={},r=0,i=t;r<i.length;r+=1){var o=i[r],a=o.queryResults,s=o.wrappedTileID,l=n[s]=n[s]||{};for(var u in a)for(var c=a[u],p=l[u]=l[u]||{},h=e[u]=e[u]||[],f=0,d=c;f<d.length;f+=1){var g=d[f];p[g.featureIndex]||(p[g.featureIndex]=!0,h.push(g))}}return e}(l);for(var f in h)h[f].forEach((function(e){var n=e.feature,r=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return h}function D(t,e){var n=t.tileID,r=e.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}var z=function(t,e){this.max=t,this.onRemove=e,this.reset()};z.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var r=n[e];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},z.prototype.add=function(t,e,n){var r=this,i=t.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){r.remove(t,o)}),n)),this.data[i].push(o),this.order.push(i),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},z.prototype.has=function(t){return t.wrapped().key in this.data},z.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},z.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},z.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},z.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,r=void 0===e?0:this.data[n].indexOf(e),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},z.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this};var F=function(t,e,n){this.context=t;var r=t.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};F.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},F.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},F.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var j={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},B=function(t,e,n,r){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=r,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};B.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},B.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},B.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],i=e.attributes[r.name];void 0!==i&&t.enableVertexAttribArray(i)}},B.prototype.setVertexAttribPointers=function(t,e,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],o=e.attributes[i.name];void 0!==o&&t.vertexAttribPointer(o,i.components,t[j[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},B.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)};var U=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};U.prototype.get=function(){return this.current},U.prototype.set=function(t){},U.prototype.getDefault=function(){return this.default},U.prototype.setDefault=function(){this.set(this.default)};var V=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(U),q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(U),G=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(U),W=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(U),H=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(U),Y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(U),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(U),Z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(U),K=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(U),$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(U),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(U),Q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(U),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(U),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(U),nt=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(U),rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(U),it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(U),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(U),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(U),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(U),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(U),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(U),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(U),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(U),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(U),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(U),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(U),gt=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(U),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(U),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(U),yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(U),_t=function(t){function e(e,n){t.call(this,e),this.context=e,this.parent=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDefault=function(){return null},e}(U),bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(_t),xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(_t),wt=function(t,e,n){this.context=t,this.width=e,this.height=n;var r=t.gl,i=this.framebuffer=r.createFramebuffer();this.colorAttachment=new bt(t,i),this.depthAttachment=new xt(t,i)};wt.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n),t.deleteFramebuffer(this.framebuffer)};var Et=function(t,e,n){this.func=t,this.mask=e,this.range=n};Et.ReadOnly=!1,Et.ReadWrite=!0,Et.disabled=new Et(519,Et.ReadOnly,[0,1]);var Ct=function(t,e,n,r,i,o){this.test=t,this.ref=e,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o};Ct.disabled=new Ct({func:519,mask:0},0,0,7680,7680,7680);var St=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};St.disabled=new St(St.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),St.unblended=new St(St.Replace,t.Color.transparent,[!0,!0,!0,!0]),St.alphaBlended=new St([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Tt=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};Tt.disabled=new Tt(!1,1029,2305),Tt.backCCW=new Tt(!0,1029,2305);var kt=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new V(this),this.clearDepth=new q(this),this.clearStencil=new G(this),this.colorMask=new W(this),this.depthMask=new H(this),this.stencilMask=new Y(this),this.stencilFunc=new X(this),this.stencilOp=new Z(this),this.stencilTest=new K(this),this.depthRange=new $(this),this.depthTest=new J(this),this.depthFunc=new Q(this),this.blend=new tt(this),this.blendFunc=new et(this),this.blendColor=new nt(this),this.blendEquation=new rt(this),this.cullFace=new it(this),this.cullFaceSide=new ot(this),this.frontFace=new at(this),this.program=new st(this),this.activeTexture=new lt(this),this.viewport=new ut(this),this.bindFramebuffer=new ct(this),this.bindRenderbuffer=new pt(this),this.bindTexture=new ht(this),this.bindVertexBuffer=new ft(this),this.bindElementBuffer=new dt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new gt(this),this.pixelStoreUnpack=new mt(this),this.pixelStoreUnpackPremultiplyAlpha=new vt(this),this.pixelStoreUnpackFlipY=new yt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};kt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},kt.prototype.createIndexBuffer=function(t,e){return new F(this,t,e)},kt.prototype.createVertexBuffer=function(t,e,n){return new B(this,t,e,n)},kt.prototype.createRenderbuffer=function(t,e,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),i},kt.prototype.createFramebuffer=function(t,e){return new wt(this,t,e)},kt.prototype.clear=function(t){var e=t.color,n=t.depth,r=this.gl,i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},kt.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},kt.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},kt.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},kt.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,St.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},kt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ot=function(e){function n(n,r,i){var o=this;e.call(this),this.id=n,this.dispatcher=i,this.on("data",(function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=function(e,n,r,i){var o=new A[n.type](e,n,r,i);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,r,i,this),this._tiles={},this._cache=new z(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},n.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},n.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,(function(){}))},n.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(It)},n.prototype.getRenderableIds=function(e){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(+i,e)&&r.push(+i);return e?r.sort((function(e,r){var i=n._tiles[e].tileID,o=n._tiles[r].tileID,a=new t.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new t.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})):r.sort(It)},n.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},n.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},n.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},n.prototype._tileLoaded=function(e,n,r,i){if(i)return e.state="errored",void(404!==i.status?this._source.fire(new t.ErrorEvent(i,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},n.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var r=e[n];if(t.neighboringTiles&&t.neighboringTiles[r]){var i=this.getTileByID(r);o(t,i),o(i,t)}}function o(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,r=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,r),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(t){return this.getTileByID(t.key)},n.prototype.getTileByID=function(t){return this._tiles[t]},n.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},n.prototype._retainLoadedChildren=function(t,e,n,r){for(var i in this._tiles){var o=this._tiles[i];if(!(r[i]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var l=a;l.overscaledZ>e;)if(t[(l=l.scaledTo(l.overscaledZ-1)).key]){r[a.key]=a;break}}}},n.prototype.findLoadedParent=function(t,e){for(var n=t.overscaledZ-1;n>=e;n--){var r=t.scaledTo(n);if(!r)return;var i=String(r.key),o=this._tiles[i];if(o&&o.hasData())return o;if(this._cache.has(r))return this._cache.get(r)}},n.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/this._source.tileSize)+1)*(Math.ceil(t.height/this._source.tileSize)+1),n=Math.floor(5*e),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(r)},n.prototype.handleWrapJump=function(t){var e=(t-(void 0===this._prevLng?t:this._prevLng))/360,n=Math.round(e);if(this._prevLng=t,n){var r={};for(var i in this._tiles){var o=this._tiles[i];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+n),r[o.tileID.key]=o}for(var a in this._tiles=r,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var l=this._tiles[s];this._setTileReloadTimer(s,l)}}},n.prototype.update=function(e){var r=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var i;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(i=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter((function(t){return r._source.hasTile(t)})))):i=[];var o=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(e)),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(i,o);if(Pt(this._source.type)){for(var u={},c={},p=0,h=Object.keys(l);p<h.length;p+=1){var f=h[p],d=l[f],g=this._tiles[f];if(g&&!(g.fadeEndTime&&g.fadeEndTime<=t.browser.now())){var m=this.findLoadedParent(d,a);m&&(this._addTile(m.tileID),u[m.tileID.key]=m.tileID),c[f]=d}}for(var v in this._retainLoadedChildren(c,o,s,l),u)l[v]||(this._coveredTiles[v]=!0,l[v]=u[v])}for(var y in l)this._tiles[y].clearFadeHold();for(var _=0,b=t.keysDifference(this._tiles,l);_<b.length;_+=1){var x=b[_],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}}},n.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},n.prototype._updateRetainedTiles=function(t,e){for(var r={},i={},o=Math.max(e-n.maxOverzooming,this._source.minzoom),a=Math.max(e+n.maxUnderzooming,this._source.minzoom),s={},l=0,u=t;l<u.length;l+=1){var c=u[l],p=this._addTile(c);r[c.key]=c,p.hasData()||e<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,e,a,r);for(var h=0,f=t;h<f.length;h+=1){var d=f[h],g=this._tiles[d.key];if(!g.hasData()){if(e+1>this._source.maxzoom){var m=d.children(this._source.maxzoom)[0],v=this.getTile(m);if(v&&v.hasData()){r[m.key]=m;continue}}else{var y=d.children(this._source.maxzoom);if(r[y[0].key]&&r[y[1].key]&&r[y[2].key]&&r[y[3].key])continue}for(var _=g.wasRequested(),b=d.overscaledZ-1;b>=o;--b){var x=d.scaledTo(b);if(i[x.key])break;if(i[x.key]=!0,!(g=this.getTile(x))&&_&&(g=this._addTile(x)),g&&(r[x.key]=x,_=g.wasRequested(),g.hasData()))break}}}return r},n.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var r=Boolean(n);return r||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,r||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((function(){n._reloadTile(t,"expired"),delete n._timers[t]}),r))},n.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},n.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},n.prototype.tilesIn=function(e,n,r){var i=this,o=[],a=this.transform;if(!a)return o;for(var s=r?a.getCameraQueryGeometry(e):e,l=e.map((function(t){return a.pointCoordinate(t)})),u=s.map((function(t){return a.pointCoordinate(t)})),c=this.getIds(),p=1/0,h=1/0,f=-1/0,d=-1/0,g=0,m=u;g<m.length;g+=1){var v=m[g];p=Math.min(p,v.x),h=Math.min(h,v.y),f=Math.max(f,v.x),d=Math.max(d,v.y)}for(var y=function(e){var r=i._tiles[c[e]];if(!r.holdingForFade()){var s=r.tileID,g=Math.pow(2,a.zoom-r.tileID.overscaledZ),m=n*r.queryPadding*t.EXTENT/r.tileSize/g,v=[s.getTilePoint(new t.MercatorCoordinate(p,h)),s.getTilePoint(new t.MercatorCoordinate(f,d))];if(v[0].x-m<t.EXTENT&&v[0].y-m<t.EXTENT&&v[1].x+m>=0&&v[1].y+m>=0){var y=l.map((function(t){return s.getTilePoint(t)})),_=u.map((function(t){return s.getTilePoint(t)}));o.push({tile:r,tileID:s,queryGeometry:y,cameraQueryGeometry:_,scale:g})}}},_=0;_<c.length;_++)y(_);return o},n.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map((function(t){return e._tiles[t].tileID})),r=0,i=n;r<i.length;r+=1){var o=i[r];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Pt(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},n.prototype.setFeatureState=function(t,e,n){t=t||"_geojsonTileLayer",this._state.updateState(t,e,n)},n.prototype.removeFeatureState=function(t,e,n){t=t||"_geojsonTileLayer",this._state.removeFeatureState(t,e,n)},n.prototype.getFeatureState=function(t,e){return t=t||"_geojsonTileLayer",this._state.getState(t,e)},n}(t.Evented);function It(t,e){return t%32-e%32||e-t}function Pt(t){return"raster"===t||"image"===t||"video"===t}function Nt(){return new t.window.Worker(Kr.workerUrl)}Ot.maxOverzooming=10,Ot.maxUnderzooming=3;var Mt=function(){this.active={}};Mt.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Mt.workerCount;)this.workers.push(new Nt);return this.active[t]=!0,this.workers.slice()},Mt.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach((function(t){t.terminate()})),this.workers=null)};var At,Lt=Math.floor(t.browser.hardwareConcurrency/2);function Rt(e,n){var r={};for(var i in e)"ref"!==i&&(r[i]=e[i]);return t.refProperties.forEach((function(t){t in n&&(r[t]=n[t])})),r}function Dt(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=Rt(t[r],e[t[r].ref]));return t}Mt.workerCount=Math.max(Math.min(Lt,6),1);var zt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ft(t,e,n){n.push({command:zt.addSource,args:[t,e[t]]})}function jt(t,e,n){e.push({command:zt.removeSource,args:[t]}),n[t]=!0}function Bt(t,e,n,r){jt(t,n,r),Ft(t,e,n)}function Ut(e,n,r){var i;for(i in e[r])if(e[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&"data"!==i&&!t.deepEqual(e[r][i],n[r][i]))return!1;return!0}function Vt(e,n,r,i,o,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||r.push({command:a,args:[i,s,n[s],o]}))}function qt(t){return t.id}function Gt(t,e){return t[e.id]=e,t}var Wt=function(t,e,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};Wt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Wt.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Wt.prototype.insertCircle=function(t,e,n,r){this._forEachCell(e-r,n-r,e+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(r)},Wt.prototype._insertBoxCell=function(t,e,n,r,i,o){this.boxCells[i].push(o)},Wt.prototype._insertCircleCell=function(t,e,n,r,i,o){this.circleCells[i].push(o)},Wt.prototype._query=function(t,e,n,r,i,o){if(n<0||t>this.width||r<0||e>this.height)return!i&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],p=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-p,y1:c-p,x2:u+p,y2:c+p})}return o?a.filter(o):a}var h={hitTest:i,seenUids:{box:{},circle:{}}};return this._forEachCell(t,e,n,r,this._queryCell,a,h,o),i?a.length>0:a},Wt.prototype._queryCircle=function(t,e,n,r,i){var o=t-n,a=t+n,s=e-n,l=e+n;if(a<0||o>this.width||l<0||s>this.height)return!r&&[];var u=[],c={hitTest:r,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(o,s,a,l,this._queryCellCircle,u,c,i),r?u.length>0:u},Wt.prototype.query=function(t,e,n,r,i){return this._query(t,e,n,r,!1,i)},Wt.prototype.hitTest=function(t,e,n,r,i){return this._query(t,e,n,r,!0,i)},Wt.prototype.hitTestCircle=function(t,e,n,r){return this._queryCircle(t,e,n,!0,r)},Wt.prototype._queryCell=function(t,e,n,r,i,o,a,s){var l=a.seenUids,u=this.boxCells[i];if(null!==u)for(var c=this.bboxes,p=0,h=u;p<h.length;p+=1){var f=h[p];if(!l.box[f]){l.box[f]=!0;var d=4*f;if(t<=c[d+2]&&e<=c[d+3]&&n>=c[d+0]&&r>=c[d+1]&&(!s||s(this.boxKeys[f]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[f],x1:c[d],y1:c[d+1],x2:c[d+2],y2:c[d+3]})}}}var g=this.circleCells[i];if(null!==g)for(var m=this.circles,v=0,y=g;v<y.length;v+=1){var _=y[v];if(!l.circle[_]){l.circle[_]=!0;var b=3*_;if(this._circleAndRectCollide(m[b],m[b+1],m[b+2],t,e,n,r)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var x=m[b],w=m[b+1],E=m[b+2];o.push({key:this.circleKeys[_],x1:x-E,y1:w-E,x2:x+E,y2:w+E})}}}},Wt.prototype._queryCellCircle=function(t,e,n,r,i,o,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[i];if(null!==c)for(var p=this.bboxes,h=0,f=c;h<f.length;h+=1){var d=f[h];if(!u.box[d]){u.box[d]=!0;var g=4*d;if(this._circleAndRectCollide(l.x,l.y,l.radius,p[g+0],p[g+1],p[g+2],p[g+3])&&(!s||s(this.boxKeys[d])))return o.push(!0),!0}}var m=this.circleCells[i];if(null!==m)for(var v=this.circles,y=0,_=m;y<_.length;y+=1){var b=_[y];if(!u.circle[b]){u.circle[b]=!0;var x=3*b;if(this._circlesCollide(v[x],v[x+1],v[x+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},Wt.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var l=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),p=this._convertToYCellCoord(r),h=l;h<=c;h++)for(var f=u;f<=p;f++){var d=this.xCellCount*f+h;if(i.call(this,t,e,n,r,d,o,a,s))return}},Wt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Wt.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Wt.prototype._circlesCollide=function(t,e,n,r,i,o){var a=r-t,s=i-e,l=n+o;return l*l>a*a+s*s},Wt.prototype._circleAndRectCollide=function(t,e,n,r,i,o,a){var s=(o-r)/2,l=Math.abs(t-(r+s));if(l>s+n)return!1;var u=(a-i)/2,c=Math.abs(e-(i+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;var p=l-s,h=c-u;return p*p+h*h<=n*n};var Ht=t.properties.layout;function Yt(e,n,r,i,o){var a=t.create();return n?(t.scale(a,a,[1/o,1/o,1]),r||t.rotateZ(a,a,i.angle)):t.multiply(a,i.labelPlaneMatrix,e),a}function Xt(e,n,r,i,o){if(n){var a=t.clone(e);return t.scale(a,a,[o,o,1]),r||t.rotateZ(a,a,-i.angle),a}return i.glCoordMatrix}function Zt(e,n){var r=[e.x,e.y,0,1];oe(r,r,n);var i=r[3];return{point:new t.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function Kt(t,e){var n=t[0]/t[3],r=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&r>=-e[1]&&r<=e[1]}function $t(e,n,r,i,o,a,s,l){var u=i?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(u,r.transform.zoom,Ht.properties[i?"text-size":"icon-size"]),p=[256/r.width*2+1,256/r.height*2+1],h=i?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;h.clear();for(var f=e.lineVertexArray,d=i?e.text.placedSymbolArray:e.icon.placedSymbolArray,g=r.transform.width/r.transform.height,m=!1,v=0;v<d.length;v++){var y=d.get(v);if(y.hidden||y.writingMode===t.WritingMode.vertical&&!m)ie(y.numGlyphs,h);else{m=!1;var _=[y.anchorX,y.anchorY,0,1];if(t.transformMat4(_,_,n),Kt(_,p)){var b=.5+_[3]/r.transform.cameraToCenterDistance*.5,x=t.evaluateSizeForFeature(u,c,y),w=s?x*b:x/b,E=new t.Point(y.anchorX,y.anchorY),C=Zt(E,o).point,S={},T=te(y,w,!1,l,n,o,a,e.glyphOffsetArray,f,h,C,E,S,g);m=T.useVertical,(T.notEnoughRoom||m||T.needsFlipping&&te(y,w,!0,l,n,o,a,e.glyphOffsetArray,f,h,C,E,S,g).notEnoughRoom)&&ie(y.numGlyphs,h)}else ie(y.numGlyphs,h)}}i?e.text.dynamicLayoutVertexBuffer.updateData(h):e.icon.dynamicLayoutVertexBuffer.updateData(h)}function Jt(t,e,n,r,i,o,a,s,l,u,c,p){var h=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,d=s.lineStartIndex+s.lineLength,g=e.getoffsetX(s.glyphStartIndex),m=e.getoffsetX(h-1),v=ne(t*g,n,r,i,o,a,s.segment,f,d,l,u,c,p);if(!v)return null;var y=ne(t*m,n,r,i,o,a,s.segment,f,d,l,u,c,p);return y?{first:v,last:y}:null}function Qt(e,n,r,i){return e===t.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function te(e,n,r,i,o,a,s,l,u,c,p,h,f,d){var g,m=n/24,v=e.lineOffsetX*m,y=e.lineOffsetY*m;if(e.numGlyphs>1){var _=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,x=e.lineStartIndex+e.lineLength,w=Jt(m,l,v,y,r,p,h,e,u,a,f,!1);if(!w)return{notEnoughRoom:!0};var E=Zt(w.first.point,s).point,C=Zt(w.last.point,s).point;if(i&&!r){var S=Qt(e.writingMode,E,C,d);if(S)return S}g=[w.first];for(var T=e.glyphStartIndex+1;T<_-1;T++)g.push(ne(m*l.getoffsetX(T),v,y,r,p,h,e.segment,b,x,u,a,f,!1));g.push(w.last)}else{if(i&&!r){var k=Zt(h,o).point,O=e.lineStartIndex+e.segment+1,I=new t.Point(u.getx(O),u.gety(O)),P=Zt(I,o),N=P.signedDistanceFromCamera>0?P.point:ee(h,I,k,1,o),M=Qt(e.writingMode,k,N,d);if(M)return M}var A=ne(m*l.getoffsetX(e.glyphStartIndex),v,y,r,p,h,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,u,a,f,!1);if(!A)return{notEnoughRoom:!0};g=[A]}for(var L=0,R=g;L<R.length;L+=1){var D=R[L];t.addDynamicAttributes(c,D.point,D.angle)}return{}}function ee(t,e,n,r,i){var o=Zt(t.add(t.sub(e)._unit()),i).point,a=n.sub(o);return n.add(a._mult(r/a.mag()))}function ne(e,n,r,i,o,a,s,l,u,c,p,h,f){var d=i?e-n:e+n,g=d>0?1:-1,m=0;i&&(g*=-1,m=Math.PI),g<0&&(m+=Math.PI);for(var v=g>0?l+s:l+s+1,y=v,_=o,b=o,x=0,w=0,E=Math.abs(d);x+w<=E;){if((v+=g)<l||v>=u)return null;if(b=_,void 0===(_=h[v])){var C=new t.Point(c.getx(v),c.gety(v)),S=Zt(C,p);if(S.signedDistanceFromCamera>0)_=h[v]=S.point;else{var T=v-g;_=ee(0===x?a:new t.Point(c.getx(T),c.gety(T)),C,b,E-x+1,p)}}x+=w,w=b.dist(_)}var k=(E-x)/w,O=_.sub(b),I=O.mult(k)._add(b);return I._add(O._unit()._perp()._mult(r*g)),{point:I,angle:m+Math.atan2(_.y-b.y,_.x-b.x),tileDistance:f?{prevTileDistance:v-g===y?0:c.gettileUnitDistanceFromAnchor(v-g),lastSegmentViewportDistance:E-x}:null}}var re=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ie(t,e){for(var n=0;n<t;n++){var r=e.length;e.resize(r+4),e.float32.set(re,3*r)}}function oe(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t[3]=n[3]*r+n[7]*i+n[15],t}var ae=function(t,e,n){void 0===e&&(e=new Wt(t.width+200,t.height+200,25)),void 0===n&&(n=new Wt(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function se(t,e,n){t[e+4]=n?1:0}function le(e,n,r){return n*(t.EXTENT/(e.tileSize*Math.pow(2,r-e.tileID.overscaledZ)))}ae.prototype.placeCollisionBox=function(t,e,n,r,i){var o=this.projectAndGetPerspectiveRatio(r,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,s=t.x1*a+o.point.x,l=t.y1*a+o.point.y,u=t.x2*a+o.point.x,c=t.y2*a+o.point.y;return!this.isInsideGrid(s,l,u,c)||!e&&this.grid.hitTest(s,l,u,c,i)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},ae.prototype.approximateTileDistance=function(t,e,n,r,i){var o=i?1:r/this.pitchfactor,a=t.lastSegmentViewportDistance*n;return t.prevTileDistance+a+(o-1)*a*Math.abs(Math.sin(e))},ae.prototype.placeCollisionCircles=function(e,n,r,i,o,a,s,l,u,c,p,h,f){var d=[],g=this.projectAnchor(u,o.anchorX,o.anchorY),m=l/24,v=o.lineOffsetX*l,y=o.lineOffsetY*l,_=new t.Point(o.anchorX,o.anchorY),b=Jt(m,s,v,y,!1,Zt(_,c).point,_,o,a,c,{},!0),x=!1,w=!1,E=!0,C=g.perspectiveRatio*i,S=1/(i*r),T=0,k=0;b&&(T=this.approximateTileDistance(b.first.tileDistance,b.first.angle,S,g.cameraDistance,h),k=this.approximateTileDistance(b.last.tileDistance,b.last.angle,S,g.cameraDistance,h));for(var O=0;O<e.length;O+=5){var I=e[O],P=e[O+1],N=e[O+2],M=e[O+3];if(!b||M<-T||M>k)se(e,O,!1);else{var A=this.projectPoint(u,I,P),L=N*C;if(d.length>0){var R=A.x-d[d.length-4],D=A.y-d[d.length-3];if(L*L*2>R*R+D*D&&O+8<e.length){var z=e[O+8];if(z>-T&&z<k){se(e,O,!1);continue}}}var F=O/5;d.push(A.x,A.y,L,F),se(e,O,!0);var j=A.x-L,B=A.y-L,U=A.x+L,V=A.y+L;if(E=E&&this.isOffscreen(j,B,U,V),w=w||this.isInsideGrid(j,B,U,V),!n&&this.grid.hitTestCircle(A.x,A.y,L,f)){if(!p)return{circles:[],offscreen:!1};x=!0}}}return{circles:x||!w?[]:d,offscreen:E}},ae.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],r=1/0,i=1/0,o=-1/0,a=-1/0,s=0,l=e;s<l.length;s+=1){var u=l[s],c=new t.Point(u.x+100,u.y+100);r=Math.min(r,c.x),i=Math.min(i,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var p={},h={},f=0,d=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a));f<d.length;f+=1){var g=d[f],m=g.key;if(void 0===p[m.bucketInstanceId]&&(p[m.bucketInstanceId]={}),!p[m.bucketInstanceId][m.featureIndex]){var v=[new t.Point(g.x1,g.y1),new t.Point(g.x2,g.y1),new t.Point(g.x2,g.y2),new t.Point(g.x1,g.y2)];t.polygonIntersectsPolygon(n,v)&&(p[m.bucketInstanceId][m.featureIndex]=!0,void 0===h[m.bucketInstanceId]&&(h[m.bucketInstanceId]=[]),h[m.bucketInstanceId].push(m.featureIndex))}}return h},ae.prototype.insertCollisionBox=function(t,e,n,r,i){var o={bucketInstanceId:n,featureIndex:r,collisionGroupID:i};(e?this.ignoredGrid:this.grid).insert(o,t[0],t[1],t[2],t[3])},ae.prototype.insertCollisionCircles=function(t,e,n,r,i){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},ae.prototype.projectAnchor=function(t,e,n){var r=[e,n,0,1];return oe(r,r,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5,cameraDistance:r[3]}},ae.prototype.projectPoint=function(e,n,r){var i=[n,r,0,1];return oe(i,i,e),new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100)},ae.prototype.projectAndGetPerspectiveRatio=function(e,n,r){var i=[n,r,0,1];return oe(i,i,e),{point:new t.Point((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},ae.prototype.isOffscreen=function(t,e,n,r){return n<100||t>=this.screenRightBoundary||r<100||e>this.screenBottomBoundary},ae.prototype.isInsideGrid=function(t,e,n,r){return n>=0&&t<this.gridRightBoundary&&r>=0&&e<this.gridBottomBoundary};var ue=function(t,e,n,r){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):r&&n?1:0,this.placed=n};ue.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var ce=function(t,e,n,r,i){this.text=new ue(t?t.text:null,e,n,i),this.icon=new ue(t?t.icon:null,e,r,i)};ce.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var pe=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},he=function(t,e,n,r,i){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},fe=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function de(e,n,r,i,o){var a=t.getAnchorAlignment(e),s=-(a.horizontalAlign-.5)*n,l=-(a.verticalAlign-.5)*r,u=t.evaluateRadialOffset(e,i);return new t.Point(s+u[0]*o,l+u[1]*o)}fe.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var ge=function(t,e,n,r){this.transform=t.clone(),this.collisionIndex=new ae(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new fe(n),this.prevPlacement=r,r&&(r.prevPlacement=void 0)};function me(t,e,n,r,i){t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0),t.emplaceBack(e?1:0,n?1:0,r||0,i||0)}ge.prototype.placeLayerTile=function(e,n,r,i){var o=n.getBucket(e),a=n.latestFeatureIndex;if(o&&a&&e.id===o.layerIds[0]){var s=n.collisionBoxArray,l=o.layers[0].layout,u=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),c=n.tileSize/t.EXTENT,p=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),h=Yt(p,"map"===l.get("text-pitch-alignment"),"map"===l.get("text-rotation-alignment"),this.transform,le(n,1,this.transform.zoom)),f=Yt(p,"map"===l.get("icon-pitch-alignment"),"map"===l.get("icon-rotation-alignment"),this.transform,le(n,1,this.transform.zoom));this.retainedQueryData[o.bucketInstanceId]=new he(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,n.tileID),this.placeLayerBucket(o,p,h,f,u,c,r,n.holdingForFade(),i,s)}},ge.prototype.attemptAnchorPlacement=function(e,n,r,i,o,a,s,l,u,c,p,h,f,d){var g,m=de(e,r,i,o,a),v=this.collisionIndex.placeCollisionBox(function(e,n,r,i,o,a){var s=e.x1,l=e.x2,u=e.y1,c=e.y2,p=e.anchorPointX,h=e.anchorPointY,f=new t.Point(n,r);return i&&f._rotate(o?a:-a),{x1:s+f.x,y1:u+f.y,x2:l+f.x,y2:c+f.y,anchorPointX:p,anchorPointY:h}}(n,m.x,m.y,s,l,this.transform.angle),h,u,c,p.predicate);if(v.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(g=this.prevPlacement.variableOffsets[f.crossTileID].anchor),this.variableOffsets[f.crossTileID]={radialOffset:o,width:r,height:i,anchor:e,textBoxScale:a,prevAnchor:g},this.markUsedJustification(d,e,f),v},ge.prototype.placeLayerBucket=function(e,n,r,i,o,a,s,l,u,c){var p=e.layers[0].layout,h=t.evaluateSizeForZoom(e.textSizeData,this.transform.zoom,t.properties.layout.properties["text-size"]),f=p.get("text-optional"),d=p.get("icon-optional"),g=p.get("text-allow-overlap"),m=p.get("icon-allow-overlap"),v=g&&(m||!e.hasIconData()||d),y=m&&(g||!e.hasTextData()||f),_=this.collisionGroups.get(e.sourceID),b="map"===p.get("text-rotation-alignment"),x="map"===p.get("text-pitch-alignment");!e.collisionArrays&&c&&e.deserializeCollisionBoxes(c);for(var w=0;w<e.symbolInstances.length;w++){var E=e.symbolInstances.get(w);if(!u[E.crossTileID]){if(l){this.placements[E.crossTileID]=new pe(!1,!1,!1);continue}var C=!1,S=!1,T=!0,k=null,O=null,I=null,P=0,N=0,M=e.collisionArrays[w];M.textFeatureIndex&&(P=M.textFeatureIndex);var A=M.textBox;if(A)if(p.get("text-variable-anchor")){var L=A.x2-A.x1,R=A.y2-A.y1,D=E.textBoxScale,z=p.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[E.crossTileID]){var F=this.prevPlacement.variableOffsets[E.crossTileID];z[0]!==F.anchor&&(z=z.filter((function(t){return t!==F.anchor}))).unshift(F.anchor)}for(var j=0,B=z;j<B.length;j+=1){var U=B[j];if(k=this.attemptAnchorPlacement(U,A,L,R,E.radialTextOffset,D,b,x,a,n,_,g,E,e)){C=!0;break}}if(!this.variableOffsets[E.crossTileID]&&this.prevPlacement){var V=this.prevPlacement.variableOffsets[E.crossTileID];V&&(this.variableOffsets[E.crossTileID]=V,this.markUsedJustification(e,V.anchor,E))}}else C=(k=this.collisionIndex.placeCollisionBox(A,p.get("text-allow-overlap"),a,n,_.predicate)).box.length>0;T=k&&k.offscreen;var q=M.textCircles;if(q){var G=e.text.placedSymbolArray.get(E.centerJustifiedTextSymbolIndex),W=t.evaluateSizeForFeature(e.textSizeData,h,G);O=this.collisionIndex.placeCollisionCircles(q,p.get("text-allow-overlap"),o,a,G,e.lineVertexArray,e.glyphOffsetArray,W,n,r,s,x,_.predicate),C=p.get("text-allow-overlap")||O.circles.length>0,T=T&&O.offscreen}M.iconFeatureIndex&&(N=M.iconFeatureIndex),M.iconBox&&(S=(I=this.collisionIndex.placeCollisionBox(M.iconBox,p.get("icon-allow-overlap"),a,n,_.predicate)).box.length>0,T=T&&I.offscreen);var H=f||0===E.numHorizontalGlyphVertices&&0===E.numVerticalGlyphVertices,Y=d||0===E.numIconVertices;H||Y?Y?H||(S=S&&C):C=S&&C:S=C=S&&C,C&&k&&this.collisionIndex.insertCollisionBox(k.box,p.get("text-ignore-placement"),e.bucketInstanceId,P,_.ID),S&&I&&this.collisionIndex.insertCollisionBox(I.box,p.get("icon-ignore-placement"),e.bucketInstanceId,N,_.ID),C&&O&&this.collisionIndex.insertCollisionCircles(O.circles,p.get("text-ignore-placement"),e.bucketInstanceId,P,_.ID),this.placements[E.crossTileID]=new pe(C||v,S||y,T||e.justReloaded),u[E.crossTileID]=!0}}e.justReloaded=!1},ge.prototype.markUsedJustification=function(e,n,r){var i={left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex},o=i[t.getAnchorJustification(n)];for(var a in i){var s=i[a];s>=0&&(e.text.placedSymbolArray.get(s).crossTileID=o>=0&&s!==o?0:r.crossTileID)}},ge.prototype.commit=function(t){this.commitTime=t;var e=this.prevPlacement,n=!1,r=e&&0!==this.fadeDuration?(this.commitTime-e.commitTime)/this.fadeDuration:1,i=e?e.opacities:{},o=e?e.variableOffsets:{};for(var a in this.placements){var s=this.placements[a],l=i[a];l?(this.opacities[a]=new ce(l,r,s.text,s.icon),n=n||s.text!==l.text.placed||s.icon!==l.icon.placed):(this.opacities[a]=new ce(null,r,s.text,s.icon,s.skipFade),n=n||s.text||s.icon)}for(var u in i){var c=i[u];if(!this.opacities[u]){var p=new ce(c,r,!1,!1);p.isHidden()||(this.opacities[u]=p,n=n||c.text.placed||c.icon.placed)}}for(var h in o)this.variableOffsets[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.variableOffsets[h]=o[h]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},ge.prototype.updateLayerOpacities=function(t,e){for(var n={},r=0,i=e;r<i.length;r+=1){var o=i[r],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},ge.prototype.updateBucketOpacities=function(e,n,r){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasCollisionBoxData()&&e.collisionBox.collisionVertexArray.clear(),e.hasCollisionCircleData()&&e.collisionCircle.collisionVertexArray.clear();var i=e.layers[0].layout,o=new ce(null,0,!1,!1,!0),a=i.get("text-allow-overlap"),s=i.get("icon-allow-overlap"),l=i.get("text-variable-anchor"),u="map"===i.get("text-rotation-alignment"),c="map"===i.get("text-pitch-alignment"),p=new ce(null,0,a&&(s||!e.hasIconData()||i.get("icon-optional")),s&&(a||!e.hasTextData()||i.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasCollisionBoxData()||e.hasCollisionCircleData())&&e.deserializeCollisionBoxes(r);for(var h=0;h<e.symbolInstances.length;h++){var f=e.symbolInstances.get(h),d=f.numHorizontalGlyphVertices,g=f.numVerticalGlyphVertices,m=f.crossTileID,v=n[m],y=this.opacities[m];v?y=o:y||(y=p,this.opacities[m]=y),n[m]=!0;var _=d>0||g>0,b=f.numIconVertices>0;if(_){for(var x=Ce(y.text),w=(d+g)/4,E=0;E<w;E++)e.text.opacityVertexArray.emplaceBack(x);var C=y.text.isHidden()?1:0;[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex,f.verticalPlacedTextSymbolIndex].forEach((function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=C)}));var S=this.variableOffsets[f.crossTileID];S&&this.markUsedJustification(e,S.anchor,f)}if(b){for(var T=Ce(y.icon),k=0;k<f.numIconVertices/4;k++)e.icon.opacityVertexArray.emplaceBack(T);e.icon.placedSymbolArray.get(h).hidden=y.icon.isHidden()}if(e.hasCollisionBoxData()||e.hasCollisionCircleData()){var O=e.collisionArrays[h];if(O){if(O.textBox){var I=new t.Point(0,0),P=!0;if(l){var N=this.variableOffsets[m];N?(I=de(N.anchor,N.width,N.height,N.radialOffset,N.textBoxScale),u&&I._rotate(c?this.transform.angle:-this.transform.angle)):P=!1}me(e.collisionBox.collisionVertexArray,y.text.placed,!P,I.x,I.y)}O.iconBox&&me(e.collisionBox.collisionVertexArray,y.icon.placed,!1);var M=O.textCircles;if(M&&e.hasCollisionCircleData())for(var A=0;A<M.length;A+=5){var L=v||0===M[A+4];me(e.collisionCircle.collisionVertexArray,y.text.placed,L)}}}}e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasCollisionBoxData()&&e.collisionBox.collisionVertexBuffer&&e.collisionBox.collisionVertexBuffer.updateData(e.collisionBox.collisionVertexArray),e.hasCollisionCircleData()&&e.collisionCircle.collisionVertexBuffer&&e.collisionCircle.collisionVertexBuffer.updateData(e.collisionCircle.collisionVertexArray)},ge.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},ge.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},ge.prototype.stillRecent=function(t){return this.commitTime+this.fadeDuration>t},ge.prototype.setStale=function(){this.stale=!0};var ve=Math.pow(2,25),ye=Math.pow(2,24),_e=Math.pow(2,17),be=Math.pow(2,16),xe=Math.pow(2,9),we=Math.pow(2,8),Ee=Math.pow(2,1);function Ce(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*ve+e*ye+n*_e+e*be+n*xe+e*we+n*Ee+e}var Se=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Se.prototype.continuePlacement=function(t,e,n,r,i){for(;this._currentTileIndex<t.length;){var o=t[this._currentTileIndex];if(e.placeLayerTile(r,o,n,this._seenCrossTileIDs),this._currentTileIndex++,i())return!0}};var Te=function(t,e,n,r,i,o,a){this.placement=new ge(t,i,o,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};Te.prototype.isDone=function(){return this._done},Te.prototype.continuePlacement=function(e,n,r){for(var i=this,o=t.browser.now(),a=function(){var e=t.browser.now()-o;return!i._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=n[e[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new Se),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Te.prototype.commit=function(t){return this.placement.commit(t),this.placement};var ke=512/t.EXTENT/2,Oe=function(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<e.length;r++){var i=e.get(r),o=i.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,t)})}};Oe.prototype.getScaledCoordinates=function(e,n){var r=n.canonical.z-this.tileID.canonical.z,i=ke/Math.pow(2,r);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*i),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*i)}},Oe.prototype.findMatches=function(t,e,n){for(var r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),i=0;i<t.length;i++){var o=t.get(i);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,e),l=0,u=a;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=r&&Math.abs(c.coord.y-s.y)<=r&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var Ie=function(){this.maxCrossTileID=0};Ie.prototype.generate=function(){return++this.maxCrossTileID};var Pe=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Pe.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var r=this.indexes[n],i={};for(var o in r){var a=r[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),i[a.tileID.key]=a}this.indexes[n]=i}this.lng=t},Pe.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0;r<e.symbolInstances.length;r++)e.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var i=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(t)&&l.findMatches(e.symbolInstances,t,i)}else{var u=a[t.scaledTo(Number(o)).key];u&&u.findMatches(e.symbolInstances,t,i)}}for(var c=0;c<e.symbolInstances.length;c++){var p=e.symbolInstances.get(c);p.crossTileID||(p.crossTileID=n.generate(),i[p.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Oe(t,e.symbolInstances,e.bucketInstanceId),!0},Pe.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var r=0,i=e.indexedSymbolInstances[n];r<i.length;r+=1){var o=i[r];delete this.usedCrossTileIDs[t][o.crossTileID]}},Pe.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)t[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],e=!0)}return e};var Ne=function(){this.layerIndexes={},this.crossTileIDs=new Ie,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Ne.prototype.addLayer=function(t,e,n){var r=this.layerIndexes[t.id];void 0===r&&(r=this.layerIndexes[t.id]=new Pe);var i=!1,o={};r.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var l=s[a],u=l.getBucket(t);u&&t.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(l.tileID,u,this.crossTileIDs)&&(i=!0),o[u.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i},Ne.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach((function(t){e[t]=!0})),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var Me=function(e,n){return t.emitValidationErrors(e,n&&n.filter((function(t){return"source.canvas"!==t.identifier})))},Ae=t.pick(zt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Le=t.pick(zt,["setCenter","setZoom","setBearing","setPitch"]),Re=function(e){function n(r,i){var o=this;void 0===i&&(i={}),e.call(this),this.map=r,this.dispatcher=new E((At||(At=new Mt),At),this),this.imageManager=new h,this.imageManager.setEventedParent(this),this.glyphManager=new y(r._transformRequest,i.localIdeographFontFamily),this.lineAtlas=new w(256,512),this.crossTileSymbolIndex=new Ne,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginAvailability((function(t){for(var e in a.dispatcher.broadcast("loadRTLTextPlugin",t.pluginURL,t.completionCallback),a.sourceCaches)a.sourceCaches[e].reload()})),this.on("data",(function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in o._layers){var i=o._layers[r];i.source===n.id&&o._validateLayer(i)}}}}))}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.loadURL=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var i="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=t.normalizeStyleURL(e,n.accessToken);var o=this.map._transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,(function(e,n){r._request=null,e?r.fire(new t.ErrorEvent(e)):n&&r._load(n,i)}))},n.prototype.loadJSON=function(e,n){var r=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame((function(){r._request=null,r._load(e,!1!==n.validate)}))},n.prototype._load=function(e,n){var r=this;if(!n||!Me(this,t.validateStyle(e))){for(var i in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(i,e.sources[i],{validate:!1});e.sprite?this._spriteRequest=function(e,n,r){var i,o,a,s=t.browser.devicePixelRatio>1?"@2x":"",l=t.getJSON(n(t.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),(function(t,e){l=null,a||(a=t,i=e,c())})),u=t.getImage(n(t.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),(function(t,e){u=null,a||(a=t,o=e,c())}));function c(){if(a)r(a);else if(i&&o){var e=t.browser.getImageData(o),n={};for(var s in i){var l=i[s],u=l.width,c=l.height,p=l.x,h=l.y,f=l.sdf,d=l.pixelRatio,g=new t.RGBAImage({width:u,height:c});t.RGBAImage.copy(e,g,{x:p,y:h},{x:0,y:0},{width:u,height:c}),n[s]={data:g,pixelRatio:d,sdf:f}}r(null,n)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(e.sprite,this.map._transformRequest,(function(e,n){if(r._spriteRequest=null,e)r.fire(new t.ErrorEvent(e));else if(n)for(var i in n)r.imageManager.addImage(i,n[i]);r.imageManager.setLoaded(!0),r.fire(new t.Event("data",{dataType:"style"}))})):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var o=Dt(this.stylesheet.layers);this._order=o.map((function(t){return t.id})),this._layers={};for(var a=0,s=o;a<s.length;a+=1){var l=s[a];(l=t.createStyleLayer(l)).setEventedParent(this,{layer:{id:l.id}}),this._layers[l.id]=l}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},n.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var r=e.sourceLayer;if(r){var i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+r+'" does not exist on source "'+i.id+'" as specified by style layer "'+e.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(t){for(var e=[],n=0,r=t;n<r.length;n+=1){var i=r[n],o=this._layers[i];"custom"!==o.type&&e.push(o.serialize())}return e},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var o in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}for(var l in this.sourceCaches)this.sourceCaches[l].used=!1;for(var u=0,c=this._order;u<c.length;u+=1){var p=c[u],h=this._layers[p];h.recalculate(e),!h.isHidden(e.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},n.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},n.prototype.setState=function(e){var n=this;if(this._checkLoaded(),Me(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=Dt(e.layers);var r=function(e,n){if(!e)return[{command:zt.setStyle,args:[n]}];var r=[];try{if(!t.deepEqual(e.version,n.version))return[{command:zt.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||r.push({command:zt.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||r.push({command:zt.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||r.push({command:zt.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||r.push({command:zt.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||r.push({command:zt.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||r.push({command:zt.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||r.push({command:zt.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||r.push({command:zt.setLight,args:[n.light]});var i={},o=[];!function(e,n,r,i){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||jt(o,r,i));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.deepEqual(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&Ut(e,n,o)?r.push({command:zt.setGeoJSONSourceData,args:[o,n[o].data]}):Bt(o,n,r,i)):Ft(o,n,r))}(e.sources,n.sources,o,i);var a=[];e.layers&&e.layers.forEach((function(t){i[t.source]?r.push({command:zt.removeLayer,args:[t.id]}):a.push(t)})),r=r.concat(o),function(e,n,r){n=n||[];var i,o,a,s,l,u,c,p=(e=e||[]).map(qt),h=n.map(qt),f=e.reduce(Gt,{}),d=n.reduce(Gt,{}),g=p.slice(),m=Object.create(null);for(i=0,o=0;i<p.length;i++)a=p[i],d.hasOwnProperty(a)?o++:(r.push({command:zt.removeLayer,args:[a]}),g.splice(g.indexOf(a,o),1));for(i=0,o=0;i<h.length;i++)a=h[h.length-1-i],g[g.length-1-i]!==a&&(f.hasOwnProperty(a)?(r.push({command:zt.removeLayer,args:[a]}),g.splice(g.lastIndexOf(a,g.length-o),1)):o++,u=g[g.length-i],r.push({command:zt.addLayer,args:[d[a],u]}),g.splice(g.length-i,0,a),m[a]=!0);for(i=0;i<h.length;i++)if(s=f[a=h[i]],l=d[a],!m[a]&&!t.deepEqual(s,l))if(t.deepEqual(s.source,l.source)&&t.deepEqual(s["source-layer"],l["source-layer"])&&t.deepEqual(s.type,l.type)){for(c in Vt(s.layout,l.layout,r,a,null,zt.setLayoutProperty),Vt(s.paint,l.paint,r,a,null,zt.setPaintProperty),t.deepEqual(s.filter,l.filter)||r.push({command:zt.setFilter,args:[a,l.filter]}),t.deepEqual(s.minzoom,l.minzoom)&&t.deepEqual(s.maxzoom,l.maxzoom)||r.push({command:zt.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Vt(s[c],l[c],r,a,c.slice(6),zt.setPaintProperty):t.deepEqual(s[c],l[c])||r.push({command:zt.setLayerProperty,args:[a,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Vt(s[c],l[c],r,a,c.slice(6),zt.setPaintProperty):t.deepEqual(s[c],l[c])||r.push({command:zt.setLayerProperty,args:[a,c,l[c]]}))}else r.push({command:zt.removeLayer,args:[a]}),u=g[g.lastIndexOf(a)+1],r.push({command:zt.addLayer,args:[l,u]})}(a,n.layers,r)}catch(t){console.warn("Unable to compute style diff:",t),r=[{command:zt.setStyle,args:[n]}]}return r}(this.serialize(),e).filter((function(t){return!(t.command in Le)}));if(0===r.length)return!1;var i=r.filter((function(t){return!(t.command in Ae)}));if(i.length>0)throw new Error("Unimplemented: "+i.map((function(t){return t.command})).join(", ")+".");return r.forEach((function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)})),this.stylesheet=e,!0},n.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},n.prototype.getImage=function(t){return this.imageManager.getImage(t)},n.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(e,n,r){var i=this;if(void 0===r&&(r={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[e]=new Ot(e,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:i.loaded(),source:o.serialize(),sourceId:e}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var r=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],r.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},n.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},n.prototype.addLayer=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=e.id;if(this.getLayer(i))this.fire(new t.ErrorEvent(new Error('Layer with id "'+i+'" already exists on this map')));else{var o;if("custom"===e.type){if(Me(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(i,e.source),e=t.clone$1(e),e=t.extend(e,{source:i})),this._validate(t.validateStyle.layer,"layers."+i,e,{arrayIndex:-1},r))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}})}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var r=this._order.indexOf(e);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(t){return this._layers[t]},n.prototype.setLayerZoomRange=function(e,n,r){this._checkLoaded();var i=this.getLayer(e);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(e,n,r){void 0===r&&(r={}),this._checkLoaded();var i=this.getLayer(e);if(i){if(!t.deepEqual(i.filter,n))return null==n?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(t.validateStyle.filter,"layers."+i.id+".filter",n,null,r)||(i.filter=t.clone$1(n),this._updateLayer(i)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},n.prototype.setLayoutProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(e,n){var r=this.getLayer(e);if(r)return r.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(e,n,r,i){void 0===i&&(i={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(n),r)||(o.setPaintProperty(n,r,i)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},n.prototype.setFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=e.sourceLayer,o=this.sourceCaches[r],a=parseInt(e.id,10);if(void 0!==o){var s=o.getSource().type;"geojson"===s&&i?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==s||i?isNaN(a)||a<0?this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):o.setFeatureState(i,a,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(e,n){this._checkLoaded();var r=e.source,i=this.sourceCaches[r];if(void 0!==i){var o=i.getSource().type,a="vector"===o?e.sourceLayer:void 0,s=parseInt(e.id,10);"vector"!==o||a?void 0!==e.id&&isNaN(s)||s<0?this.fire(new t.ErrorEvent(new Error("The feature id parameter must be non-negative."))):n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):i.removeFeatureState(a,s,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,r=e.sourceLayer,i=this.sourceCaches[n],o=parseInt(e.id,10);if(void 0!==i)if("vector"!==i.getSource().type||r){if(!(isNaN(o)||o<0))return i.getFeatureState(r,o);this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,(function(t){return t.serialize()})),layers:this._serializeLayers(this._order)},(function(t){return void 0!==t}))},n.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,n=function(t){return"fill-extrusion"===e._layers[t].type},r={},i=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){r[a]=o;for(var s=0,l=t;s<l.length;s+=1){var u=l[s][a];if(u)for(var c=0,p=u;c<p.length;c+=1){var h=p[c];i.push(h)}}}}i.sort((function(t,e){return e.intersectionZ-t.intersectionZ}));for(var f=[],d=this._order.length-1;d>=0;d--){var g=this._order[d];if(n(g))for(var m=i.length-1;m>=0;m--){var v=i[m].feature;if(r[v.layer.id]<d)break;f.push(v),i.pop()}else for(var y=0,_=t;y<_.length;y+=1){var b=_[y][g];if(b)for(var x=0,w=b;x<w.length;x+=1){var E=w[x];f.push(E.feature)}}}return f},n.prototype.queryRenderedFeatures=function(e,n,r){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],l=this._layers[s];if(!l)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];i[l.source]=!0}}var u=[];for(var c in this.sourceCaches)n.layers&&!i[c]||u.push(R(this.sourceCaches[c],this._layers,e,n,r));return this.placement&&u.push(function(t,e,n,r,i,o){for(var a={},s=i.queryRenderedSymbols(n),l=[],u=0,c=Object.keys(s).map(Number);u<c.length;u+=1){var p=c[u];l.push(o[p])}l.sort(D);for(var h=function(){var e=d[f],n=e.featureIndex.lookupSymbolFeatures(s[e.bucketInstanceId],e.bucketIndex,e.sourceLayerIndex,r.filter,r.layers,t);for(var i in n){var o=a[i]=a[i]||[],l=n[i];l.sort((function(t,n){var r=e.featureSortOrder;if(r){var i=r.indexOf(t.featureIndex);return r.indexOf(n.featureIndex)-i}return n.featureIndex-t.featureIndex}));for(var u=0,c=l;u<c.length;u+=1){var p=c[u];o.push(p)}}},f=0,d=l;f<d.length;f+=1)h();var g=function(n){a[n].forEach((function(r){var i=r.feature,o=t[n],a=e[o.source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=a}))};for(var m in a)g(m);return a}(this._layers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u)},n.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter);var r=this.sourceCaches[e];return r?function(t,e){for(var n=t.getRenderableIds().map((function(e){return t.getTileByID(e)})),r=[],i={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;i[s]||(i[s]=!0,a.querySourceFeatures(r,e))}return r}(r,n):[]},n.prototype.addSourceType=function(t,e,r){return n.getSourceType(t)?r(new Error('A source type called "'+t+'" already exists.')):(n.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},r):r(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(e,n){void 0===n&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var o in e)if(!t.deepEqual(e[o],r[o])){i=!0;break}if(i){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(a)}},n.prototype._validate=function(e,n,r,i,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Me(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:r,styleSpec:t.styleSpec},i)))},n.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[e].clearTiles();this.dispatcher.remove()},n.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},n.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},n.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},n.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},n.prototype._updatePlacement=function(e,n,r,i){for(var o=!1,a=!1,s={},l=0,u=this._order;l<u.length;l+=1){var c=u[l],p=this._layers[c];if("symbol"===p.type){if(!s[p.source]){var h=this.sourceCaches[p.source];s[p.source]=h.getRenderableIds(!0).map((function(t){return h.getTileByID(t)})).sort((function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)}))}var f=this.crossTileSymbolIndex.addLayer(p,s[p.source],e.center.lng);o=o||f}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged||0===r;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now()))&&(this.pauseablePlacement=new Te(e,this._order,d,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),a=!0),o&&this.pauseablePlacement.placement.setStale()),a||o)for(var g=0,m=this._order;g<m.length;g+=1){var v=m[g],y=this._layers[v];"symbol"===y.type&&this.placement.updateLayerOpacities(y,s[y.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},n.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n)},n.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},n.prototype.getResource=function(e,n,r){return t.makeRequest(n,r)},n}(t.Evented);Re.getSourceType=function(t){return A[t]},Re.setSourceType=function(t,e){A[t]=e},Re.registerForPluginAvailability=t.registerForPluginAvailability;var De=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),ze=un("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Fe=un("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),je=un("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Be=un("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/DEVICE_PIXEL_RATIO/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ue=un("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ve=un("#pragma mapbox: define highp float weight\nuniform highp float u_intensity;varying vec2 v_extrude;\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nuniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;const highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),qe=un("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ge=un("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),We=un("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),He=un("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ye=un("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Xe=un("#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_pos;void main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Ze=un("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Ke=un("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),$e=un("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),Je=un("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),Qe=un("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;return (data.r+data.g*256.0+data.b*256.0*256.0)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),tn=un("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),en=un("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),nn=un("#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nuniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;void main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),rn=un("uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_gl_units_to_pixels;uniform mediump float u_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),on=un("uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),an=un("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),sn=un("uniform sampler2D u_texture;\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;\n#pragma mapbox: define lowp float opacity\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),ln=un("#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=vec2(tex.x,tex.y);v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}");function un(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r={};return{fragmentSource:t=t.replace(n,(function(t,e,n,i,o){return r[o]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+n+" "+i+" "+o+";\n#else\nuniform "+n+" "+i+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n"})),vertexSource:e=e.replace(n,(function(t,e,n,i,o){var a="float"===i?"vec2":"vec4",s=o.match(/color/)?"color":a;return r[o]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+n+" "+a+" a_"+o+";\nvarying "+n+" "+i+" "+o+";\n#else\nuniform "+n+" "+i+" u_"+o+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = a_"+o+";\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+s+"(a_"+o+", a_"+o+"_t);\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+n+" "+a+" a_"+o+";\n#else\nuniform "+n+" "+i+" u_"+o+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+n+" "+i+" "+o+" = a_"+o+";\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+n+" "+i+" "+o+" = unpack_mix_"+s+"(a_"+o+", a_"+o+"_t);\n#else\n    "+n+" "+i+" "+o+" = u_"+o+";\n#endif\n"}))}}var cn=Object.freeze({prelude:ze,background:Fe,backgroundPattern:je,circle:Be,clippingMask:Ue,heatmap:Ve,heatmapTexture:qe,collisionBox:Ge,collisionCircle:We,debug:He,fill:Ye,fillOutline:Xe,fillOutlinePattern:Ze,fillPattern:Ke,fillExtrusion:$e,fillExtrusionPattern:Je,hillshadePrepare:Qe,hillshade:tn,line:en,lineGradient:nn,linePattern:rn,lineSDF:on,raster:an,symbolIcon:sn,symbolSDF:ln}),pn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};pn.prototype.bind=function(t,e,n,r,i,o,a,s){this.context=t;for(var l=this.boundPaintVertexBuffers.length!==r.length,u=0;!l&&u<r.length;u++)this.boundPaintVertexBuffers[u]!==r[u]&&(l=!0);var c=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==n||l||this.boundIndexBuffer!==i||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||c?this.freshBind(e,n,r,i,o,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind())},pn.prototype.freshBind=function(t,e,n,r,i,o,a){var s,l=t.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var p=l;p<s;p++)c.disableVertexAttribArray(p)}e.enableAttributes(c,t);for(var h=0,f=n;h<f.length;h+=1)f[h].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,i);for(var d=0,g=n;d<g.length;d+=1){var m=g[d];m.bind(),m.setVertexAttribPointers(c,t,i)}o&&(o.bind(),o.setVertexAttribPointers(c,t,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,i)),u.currentNumAttributes=l},pn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var hn=function(e,n,r,i,o){var a=e.gl;this.program=a.createProgram();var s=r.defines().concat("#define DEVICE_PIXEL_RATIO "+t.browser.devicePixelRatio.toFixed(1));o&&s.push("#define OVERDRAW_INSPECTOR;");var l=s.concat(ze.fragmentSource,n.fragmentSource).join("\n"),u=s.concat(ze.vertexSource,n.vertexSource).join("\n"),c=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(c,l),a.compileShader(c),a.attachShader(this.program,c);var p=a.createShader(a.VERTEX_SHADER);a.shaderSource(p,u),a.compileShader(p),a.attachShader(this.program,p);for(var h=r.layoutAttributes||[],f=0;f<h.length;f++)a.bindAttribLocation(this.program,f,h[f].name);a.linkProgram(this.program),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var d={},g=0;g<this.numAttributes;g++){var m=a.getActiveAttrib(this.program,g);m&&(this.attributes[m.name]=a.getAttribLocation(this.program,m.name))}for(var v=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),y=0;y<v;y++){var _=a.getActiveUniform(this.program,y);_&&(d[_.name]=a.getUniformLocation(this.program,_.name))}this.fixedUniforms=i(e,d),this.binderUniforms=r.getUniforms(e,d)};function fn(e,n,r){var i=1/le(r,1,n.transform.tileZoom),o=Math.pow(2,r.tileID.overscaledZ),a=r.tileSize*Math.pow(2,n.transform.tileZoom)/o,s=a*(r.tileID.canonical.x+r.tileID.wrap*o),l=a*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[t.browser.devicePixelRatio,i,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,l>>16],u_pixel_coord_lower:[65535&s,65535&l]}}hn.prototype.draw=function(t,e,n,r,i,o,a,s,l,u,c,p,h,f,d,g){var m,v=t.gl;for(var y in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(r),t.setColorMode(i),t.setCullFace(o),this.fixedUniforms)this.fixedUniforms[y].set(a[y]);f&&f.setUniforms(t,this.binderUniforms,p,{zoom:h});for(var _=(m={},m[v.LINES]=2,m[v.TRIANGLES]=3,m[v.LINE_STRIP]=1,m)[e],b=0,x=c.get();b<x.length;b+=1){var w=x[b],E=w.vaos||(w.vaos={});(E[s]||(E[s]=new pn)).bind(t,this,l,f?f.getPaintVertexBuffers():[],u,w.vertexOffset,d,g),v.drawElements(e,w.primitiveLength*_,v.UNSIGNED_SHORT,w.primitiveOffset*_*2)}};var dn=function(e,n,r,i){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=t.create$1();"viewport"===o.properties.get("anchor")&&t.fromRotation(l,-n.transform.angle),t.transformMat3(s,s,l);var u=o.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+r,u_opacity:i}},gn=function(e,n,r,i,o,a,s){return t.extend(dn(e,n,r,i),fn(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},mn=function(t){return{u_matrix:t}},vn=function(e,n,r,i){return t.extend(mn(e),fn(r,n,i))},yn=function(t,e){return{u_matrix:t,u_world:e}},_n=function(e,n,r,i,o){return t.extend(vn(e,n,r,i),{u_world:o})},bn=function(t,e,n,r){var i,o,a=t.transform;if("map"===r.paint.get("circle-pitch-alignment")){var s=le(n,1,a.zoom);i=!0,o=[s,s]}else i=!1,o=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:t.translatePosMatrix(e.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+i,u_extrude_scale:o}},xn=function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},wn=function(t,e,n){var r=le(n,1,e.zoom),i=Math.pow(2,e.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[e.pixelsToGLUnits[0]/(r*i),e.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},En=function(t,e){return{u_matrix:t,u_color:e}},Cn=function(t){return{u_matrix:t}},Sn=function(t,e,n,r){return{u_matrix:t,u_extrude_scale:le(e,1,n),u_intensity:r}};function Tn(e,n){var r=Math.pow(2,n.canonical.z),i=n.canonical.y;return[new t.MercatorCoordinate(0,i/r).toLngLat().lat,new t.MercatorCoordinate(0,(i+1)/r).toLngLat().lat]}var kn=function(t,e,n){var r=t.transform;return{u_matrix:Mn(t,e,n),u_ratio:1/le(e,1,r.zoom),u_gl_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},On=function(e,n,r){return t.extend(kn(e,n,r),{u_image:0})},In=function(e,n,r,i){var o=e.transform,a=Nn(n,o);return{u_matrix:Mn(e,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/le(n,1,o.zoom),u_image:0,u_scale:[t.browser.devicePixelRatio,a,i.fromScale,i.toScale],u_fade:i.t,u_gl_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Pn=function(e,n,r,i,o){var a=e.transform,s=e.lineAtlas,l=Nn(n,a),u="round"===r.layout.get("line-cap"),c=s.getDash(i.from,u),p=s.getDash(i.to,u),h=c.width*o.fromScale,f=p.width*o.toScale;return t.extend(kn(e,n,r),{u_patternscale_a:[l/h,-c.height/2],u_patternscale_b:[l/f,-p.height/2],u_sdfgamma:s.width/(256*Math.min(h,f)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:p.y,u_mix:o.t})};function Nn(t,e){return 1/le(t,1,e.tileZoom)}function Mn(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var An=function(t,e,n,r,i){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Ln(i.paint.get("raster-hue-rotate"))};var o,a};function Ln(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}var Rn=function(t,e,n,r,i,o,a,s,l,u){var c=i.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_gl_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:u,u_texture:0}},Dn=function(e,n,r,i,o,a,s,l,u,c,p){var h=o.transform;return t.extend(Rn(e,n,r,i,o,a,s,l,u,c),{u_gamma_scale:i?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_is_halo:+p})},zn=function(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},Fn=function(e,n,r,i,o,a){return t.extend(function(t,e,n,r){var i=n.imageManager.getPattern(t.from),o=n.imageManager.getPattern(t.to),a=n.imageManager.getPixelSize(),s=a.width,l=a.height,u=Math.pow(2,r.tileID.overscaledZ),c=r.tileSize*Math.pow(2,n.transform.tileZoom)/u,p=c*(r.tileID.canonical.x+r.tileID.wrap*u),h=c*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,l],u_mix:e.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/le(r,1,n.transform.tileZoom),u_pixel_coord_upper:[p>>16,h>>16],u_pixel_coord_lower:[65535&p,65535&h]}}(i,a,r,o),{u_matrix:e,u_opacity:n})},jn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:xn,collisionCircle:xn,debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_maxzoom:new t.Uniform1f(e,n.u_maxzoom)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,n.u_gl_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,n.u_gl_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_image:new t.Uniform1i(e,n.u_image),u_gl_units_to_pixels:new t.Uniform2f(e,n.u_gl_units_to_pixels),u_scale:new t.Uniform4f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_gl_units_to_pixels:new t.Uniform2f(e,n.u_gl_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_gl_coord_matrix:new t.UniformMatrix4f(e,n.u_gl_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_gl_coord_matrix:new t.UniformMatrix4f(e,n.u_gl_coord_matrix),u_is_text:new t.Uniform1f(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_is_halo:new t.Uniform1f(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function Bn(e,n){for(var r=e.sort((function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0})),i=0;i<r.length;i++){var o={},a=r[i],s=r.slice(i+1);Un(a.tileID.wrapped(),a.tileID,s,new t.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),o),a.setMask(o,n)}}function Un(e,n,r,i,o){for(var a=0;a<r.length;a++){var s=r[a];if(i.isLessThan(s.tileID))break;if(n.key===s.tileID.key)return;if(s.tileID.isChildOf(n)){for(var l=n.children(1/0),u=0;u<l.length;u++)Un(e,l[u],r.slice(a),i,o);return}}var c=n.overscaledZ-e.overscaledZ,p=new t.CanonicalTileID(c,n.canonical.x-(e.canonical.x<<c),n.canonical.y-(e.canonical.y<<c));o[p.key]=o[p.key]||p}function Vn(t,e,n,r,i){for(var o=t.context,a=o.gl,s=i?t.useProgram("collisionCircle"):t.useProgram("collisionBox"),l=0;l<r.length;l++){var u=r[l],c=e.getTile(u),p=c.getBucket(n);if(p){var h=i?p.collisionCircle:p.collisionBox;h&&s.draw(o,i?a.TRIANGLES:a.LINES,Et.disabled,Ct.disabled,t.colorModeForRenderPass(),Tt.disabled,wn(u.posMatrix,t.transform,c),n.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,null,t.transform.zoom,null,null,h.collisionVertexBuffer)}}}var qn=t.identity(new Float32Array(16)),Gn=t.properties.layout;function Wn(e,n,r,i,o,a){var s=t.getAnchorAlignment(e),l=-(s.horizontalAlign-.5)*n,u=-(s.verticalAlign-.5)*r,c=t.evaluateRadialOffset(e,i);return new t.Point((l/o+c[0])*a,(u/o+c[1])*a)}function Hn(e,n,r,i,o,a,s,l,u,c){var p=e.text.placedSymbolArray,h=e.text.dynamicLayoutVertexArray;h.clear();for(var f=0;f<p.length;f++){var d=p.get(f),g=!d.hidden&&d.crossTileID?i[d.crossTileID]:null;if(g){var m=new t.Point(d.anchorX,d.anchorY),v=Zt(m,r?l:s),y=.5+a.cameraToCenterDistance/v.signedDistanceFromCamera*.5,_=o.evaluateSizeForFeature(e.textSizeData,c,d)*y/t.ONE_EM;r&&(_*=e.tilePixelRatio/u);for(var b=g.width,x=g.height,w=g.radialOffset,E=g.textBoxScale,C=Wn(g.anchor,b,x,w,E,_),S=r?Zt(m.add(C),s).point:v.point.add(n?C.rotate(-a.angle):C),T=0;T<d.numGlyphs;T++)t.addDynamicAttributes(h,S,0)}else ie(d.numGlyphs,h)}e.text.dynamicLayoutVertexBuffer.updateData(h)}function Yn(e,n,r,i,o,a,s,l,u,c,p,h,f){for(var d,g,m=e.context,v=m.gl,y=e.transform,_="map"===l,b="map"===u,x=_&&"point"!==r.layout.get("symbol-placement"),w=_&&!b&&!x,E=void 0!==r.layout.get("symbol-sort-key").constantOr(1),C=e.depthModeForSublayer(0,Et.ReadOnly),S=r.layout.get("text-variable-anchor"),T=[],k=0,O=i;k<O.length;k+=1){var I=O[k],P=n.getTile(I),N=P.getBucket(r);if(N){var M=o?N.text:N.icon;if(M&&M.segments.get().length){var A=M.programConfigurations.get(r.id),L=o||N.sdfIcons,R=o?N.textSizeData:N.iconSizeData;d||(d=e.useProgram(L?"symbolSDF":"symbolIcon",A),g=t.evaluateSizeForZoom(R,y.zoom,Gn.properties[o?"text-size":"icon-size"])),m.activeTexture.set(v.TEXTURE0);var D=void 0,z=void 0,F=void 0;if(o)z=P.glyphAtlasTexture,F=v.LINEAR,D=P.glyphAtlasTexture.size;else{var j=1!==r.layout.get("icon-size").constantOr(0)||N.iconsNeedLinear,B=b||0!==y.pitch;z=P.imageAtlasTexture,F=L||e.options.rotating||e.options.zooming||j||B?v.LINEAR:v.NEAREST,D=P.imageAtlasTexture.size}var U=le(P,1,e.transform.zoom),V=Yt(I.posMatrix,b,_,e.transform,U),q=Xt(I.posMatrix,b,_,e.transform,U);if(x)$t(N,I.posMatrix,e,o,V,q,b,c);else if(o&&g&&S){var G=Math.pow(2,y.zoom-P.tileID.overscaledZ);Hn(N,_,b,f,t.symbolSize,y,V,I.posMatrix,G,g)}var W=e.translatePosMatrix(I.posMatrix,P,a,s),H=x||o&&S?qn:V,Y=e.translatePosMatrix(q,P,a,s,!0),X=L&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),Z={program:d,buffers:M,uniformValues:L?Dn(R.functionType,g,w,b,e,W,H,Y,o,D,!0):Rn(R.functionType,g,w,b,e,W,H,Y,o,D),atlasTexture:z,atlasInterpolation:F,isSDF:L,hasHalo:X};if(E)for(var K=0,$=M.segments.get();K<$.length;K+=1){var J=$[K];T.push({segments:new t.SegmentVector([J]),sortKey:J.sortKey,state:Z})}else T.push({segments:M.segments,sortKey:0,state:Z})}}}E&&T.sort((function(t,e){return t.sortKey-e.sortKey}));for(var Q=0,tt=T;Q<tt.length;Q+=1){var et=tt[Q],nt=et.state;if(nt.atlasTexture.bind(nt.atlasInterpolation,v.CLAMP_TO_EDGE),nt.isSDF){var rt=nt.uniformValues;nt.hasHalo&&(rt.u_is_halo=1,Xn(nt.buffers,et.segments,r,e,nt.program,C,p,h,rt)),rt.u_is_halo=0}Xn(nt.buffers,et.segments,r,e,nt.program,C,p,h,nt.uniformValues)}}function Xn(t,e,n,r,i,o,a,s,l){var u=r.context,c=u.gl;i.draw(u,c.TRIANGLES,o,a,s,Tt.disabled,l,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,r.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function Zn(t,e,n,r,i,o,a){var s,l,u,c,p,h=t.context.gl,f=n.paint.get("fill-pattern"),d=f&&f.constantOr(1),g=n.getCrossfadeParameters();a?(l=d&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=h.LINES):(l=d?"fillPattern":"fill",s=h.TRIANGLES);for(var m=0,v=r;m<v.length;m+=1){var y=v[m],_=e.getTile(y);if(!d||_.patternsLoaded()){var b=_.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),w=t.useProgram(l,x);d&&(t.context.activeTexture.set(h.TEXTURE0),_.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),x.updatePatternPaintBuffers(g));var E=f.constantOr(null);if(E&&_.imageAtlas){var C=_.imageAtlas.patternPositions[E.to],S=_.imageAtlas.patternPositions[E.from];C&&S&&x.setConstantPatternPositions(C,S)}var T=t.translatePosMatrix(y.posMatrix,_,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,p=b.segments2;var k=[h.drawingBufferWidth,h.drawingBufferHeight];u="fillOutlinePattern"===l&&d?_n(T,t,g,_,k):yn(T,k)}else c=b.indexBuffer,p=b.segments,u=d?vn(T,t,g,_):mn(T);w.draw(t.context,s,i,t.stencilModeForClipping(y),o,Tt.disabled,u,n.id,b.layoutVertexBuffer,c,p,n.paint,t.transform.zoom,x)}}}}function Kn(t,e,n,r,i,o,a){for(var s=t.context,l=s.gl,u=n.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),p=n.getCrossfadeParameters(),h=n.paint.get("fill-extrusion-opacity"),f=0,d=r;f<d.length;f+=1){var g=d[f],m=e.getTile(g),v=m.getBucket(n);if(v){var y=v.programConfigurations.get(n.id),_=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",y);c&&(t.context.activeTexture.set(l.TEXTURE0),m.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePatternPaintBuffers(p));var b=u.constantOr(null);if(b&&m.imageAtlas){var x=m.imageAtlas.patternPositions[b.to],w=m.imageAtlas.patternPositions[b.from];x&&w&&y.setConstantPatternPositions(x,w)}var E=t.translatePosMatrix(g.posMatrix,m,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),C=n.paint.get("fill-extrusion-vertical-gradient"),S=c?gn(E,t,C,h,g,p,m):dn(E,t,C,h);_.draw(s,s.gl.TRIANGLES,i,o,a,Tt.backCCW,S,n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,n.paint,t.transform.zoom,y)}}}function $n(t,e,n,r,i,o){var a=t.context,s=a.gl,l=e.fbo;if(l){var u=t.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,l.colorAttachment.get());var c=function(t,e,n){var r=n.paint.get("hillshade-shadow-color"),i=n.paint.get("hillshade-highlight-color"),o=n.paint.get("hillshade-accent-color"),a=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(a-=t.transform.angle);var s=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped(),s),u_image:0,u_latrange:Tn(0,e.tileID),u_light:[n.paint.get("hillshade-exaggeration"),a],u_shadow:r,u_highlight:i,u_accent:o}}(t,e,n);e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments?u.draw(a,s.TRIANGLES,r,i,o,Tt.disabled,c,n.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments):u.draw(a,s.TRIANGLES,r,i,o,Tt.disabled,c,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}}function Jn(e,n,r,i,o,a,s){var l=e.context,u=l.gl;if(n.dem&&n.dem.data){var c=n.dem.dim,p=n.dem.stride,h=n.dem.getPixels();if(l.activeTexture.set(u.TEXTURE1),l.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(p),n.demTexture){var f=n.demTexture;f.update(h,{premultiply:!1}),f.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(l,h,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);l.activeTexture.set(u.TEXTURE0);var d=n.fbo;if(!d){var g=new t.Texture(l,{width:c,height:c,data:null},u.RGBA);g.bind(u.LINEAR,u.CLAMP_TO_EDGE),(d=n.fbo=l.createFramebuffer(c,c)).colorAttachment.set(g.texture)}l.bindFramebuffer.set(d.framebuffer),l.viewport.set([0,0,c,c]),e.useProgram("hillshadePrepare").draw(l,u.TRIANGLES,o,a,s,Tt.disabled,function(e,n){var r=e.dem.stride,i=t.create();return t.ortho(i,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(i,i,[0,-t.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:e.tileID.overscaledZ,u_maxzoom:n}}(n,i),r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function Qn(e,n,r,i,o){var a=i.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),l=(s-e.timeAdded)/a,u=n?(s-n.timeAdded)/a:-1,c=r.getSource(),p=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!n||Math.abs(n.tileID.overscaledZ-p)>Math.abs(e.tileID.overscaledZ-p),f=h&&e.refreshedUponExpiration?1:t.clamp(h?l:1-u,0,1);return e.refreshedUponExpiration&&l>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}function tr(e,n,r){var i=e.context,o=i.gl,a=r.posMatrix,s=e.useProgram("debug"),l=Et.disabled,u=Ct.disabled,c=e.colorModeForRenderPass(),p="$debug";s.draw(i,o.LINE_STRIP,l,u,c,Tt.disabled,En(a,t.Color.red),p,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);for(var h=n.getTileByID(r.key).latestRawTileData,f=h&&h.byteLength||0,d=Math.floor(f/1024),g=function(t,e,n,r){r=r||1;var i,o,a,s,l,u,c,p,h=[];for(i=0,o=t.length;i<o;i++)if(l=er[t[i]]){for(p=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?p=null:(u=e+l[1][a]*r,c=200-l[1][a+1]*r,p&&h.push(p.x,p.y,u,c),p={x:u,y:c});e+=l[0]*r}return h}(r.toString()+" "+d+"kb",50,0,5),m=new t.StructArrayLayout2i4,v=new t.StructArrayLayout2ui4,y=0;y<g.length;y+=2)m.emplaceBack(g[y],g[y+1]),v.emplaceBack(y,y+1);for(var _=i.createVertexBuffer(m,De.members),b=i.createIndexBuffer(v),x=t.SegmentVector.simpleSegment(0,0,m.length/2,m.length/2),w=n.getTile(r).tileSize,E=t.EXTENT/(Math.pow(2,e.transform.zoom-r.overscaledZ)*w),C=[[-1,-1],[-1,1],[1,-1],[1,1]],S=0;S<C.length;S++){var T=C[S];s.draw(i,o.LINES,l,u,c,Tt.disabled,En(t.translate([],a,[E*T[0],E*T[1],0]),t.Color.white),p,_,b,x)}s.draw(i,o.LINES,l,u,c,Tt.disabled,En(a,t.Color.black),p,_,b,x)}var er={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},nr={symbol:function(t,e,n,r,i){if("translucent"===t.renderPass){var o=Ct.disabled,a=t.colorModeForRenderPass();0!==n.paint.get("icon-opacity").constantOr(1)&&Yn(t,e,n,r,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),o,a,i),0!==n.paint.get("text-opacity").constantOr(1)&&Yn(t,e,n,r,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),o,a,i),e.map.showCollisionBoxes&&function(t,e,n,r){Vn(t,e,n,r,!1),Vn(t,e,n,r,!0)}(t,e,n,r)}},circle:function(t,e,n,r){if("translucent"===t.renderPass){var i=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),a=n.paint.get("circle-stroke-opacity");if(0!==i.constantOr(1)||0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=t.context,l=s.gl,u=t.depthModeForSublayer(0,Et.ReadOnly),c=Ct.disabled,p=t.colorModeForRenderPass(),h=0;h<r.length;h++){var f=r[h],d=e.getTile(f),g=d.getBucket(n);if(g){var m=g.programConfigurations.get(n.id);t.useProgram("circle",m).draw(s,l.TRIANGLES,u,c,p,Tt.disabled,bn(t,f,d,n),n.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,n.paint,t.transform.zoom,m)}}}},heatmap:function(e,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,s=e.depthModeForSublayer(0,Et.ReadOnly),l=Ct.disabled,u=new St([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var r=t.gl;t.activeTexture.set(r.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),t.bindFramebuffer.set(i.framebuffer);else{var o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),function t(e,n,r,i){var o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,n.width/4,n.height/4,0,o.RGBA,e.extTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),i.colorAttachment.set(r),e.extTextureHalfFloat&&o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE&&(e.extTextureHalfFloat=null,i.colorAttachment.setDirty(),t(e,n,r,i))}(t,e,o,i)}}(o,e,r),o.clear({color:t.Color.transparent});for(var c=0;c<i.length;c++){var p=i[c];if(!n.hasRenderableParent(p)){var h=n.getTile(p),f=h.getBucket(r);if(f){var d=f.programConfigurations.get(r.id),g=e.useProgram("heatmap",d),m=e.transform.zoom;g.draw(o,a.TRIANGLES,s,l,u,Tt.disabled,Sn(p.posMatrix,h,m,r.paint.get("heatmap-intensity")),r.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,r.paint,e.transform.zoom,d)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var r=e.context,i=r.gl,o=n.heatmapFbo;if(o){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,i.TRIANGLES,Et.disabled,Ct.disabled,e.colorModeForRenderPass(),Tt.disabled,function(e,n,r,i){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:r,u_color_ramp:i,u_opacity:n.paint.get("heatmap-opacity")}}(e,n,0,1),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,r))},line:function(e,n,r,i){if("translucent"===e.renderPass){var o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1)){var s=e.depthModeForSublayer(0,Et.ReadOnly),l=e.colorModeForRenderPass(),u=r.paint.get("line-dasharray"),c=r.paint.get("line-pattern"),p=c.constantOr(1),h=r.paint.get("line-gradient"),f=r.getCrossfadeParameters(),d=u?"lineSDF":p?"linePattern":h?"lineGradient":"line",g=e.context,m=g.gl,v=!0;if(h){g.activeTexture.set(m.TEXTURE0);var y=r.gradientTexture;if(!r.gradient)return;y||(y=r.gradientTexture=new t.Texture(g,r.gradient,m.RGBA)),y.bind(m.LINEAR,m.CLAMP_TO_EDGE)}for(var _=0,b=i;_<b.length;_+=1){var x=b[_],w=n.getTile(x);if(!p||w.patternsLoaded()){var E=w.getBucket(r);if(E){var C=E.programConfigurations.get(r.id),S=e.context.program.get(),T=e.useProgram(d,C),k=v||T.program!==S,O=c.constantOr(null);if(O&&w.imageAtlas){var I=w.imageAtlas.patternPositions[O.to],P=w.imageAtlas.patternPositions[O.from];I&&P&&C.setConstantPatternPositions(I,P)}var N=u?Pn(e,w,r,u,f):p?In(e,w,r,f):h?On(e,w,r):kn(e,w,r);u&&(k||e.lineAtlas.dirty)?(g.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(g)):p&&(g.activeTexture.set(m.TEXTURE0),w.imageAtlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE),C.updatePatternPaintBuffers(f)),T.draw(g,m.TRIANGLES,s,e.stencilModeForClipping(x),l,Tt.disabled,N,r.id,E.layoutVertexBuffer,E.indexBuffer,E.segments,r.paint,e.transform.zoom,C),v=!1}}}}}},fill:function(e,n,r,i){var o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),u=e.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===u){var c=e.depthModeForSublayer(1,"opaque"===e.renderPass?Et.ReadWrite:Et.ReadOnly);Zn(e,n,r,i,c,s,!1)}if("translucent"===e.renderPass&&r.paint.get("fill-antialias")){var p=e.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,Et.ReadOnly);Zn(e,n,r,i,p,s,!0)}}},"fill-extrusion":function(t,e,n,r){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===t.renderPass){var o=new Et(t.context.gl.LEQUAL,Et.ReadWrite,t.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))Kn(t,e,n,r,o,Ct.disabled,St.disabled),Kn(t,e,n,r,o,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var a=t.colorModeForRenderPass();Kn(t,e,n,r,o,Ct.disabled,a)}}},hillshade:function(t,e,n,r){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var i=t.context,o=e.getSource().maxzoom,a=t.depthModeForSublayer(0,Et.ReadOnly),s=Ct.disabled,l=t.colorModeForRenderPass(),u=0,c=r;u<c.length;u+=1){var p=c[u],h=e.getTile(p);h.needsHillshadePrepare&&"offscreen"===t.renderPass?Jn(t,h,n,o,a,s,l):"translucent"===t.renderPass&&$n(t,h,n,a,s,l)}i.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity"))for(var i=t.context,o=i.gl,a=e.getSource(),s=t.useProgram("raster"),l=Ct.disabled,u=t.colorModeForRenderPass(),c=r.length&&r[0].overscaledZ,p=!t.options.moving,h=0,f=r;h<f.length;h+=1){var d=f[h],g=t.depthModeForSublayer(d.overscaledZ-c,1===n.paint.get("raster-opacity")?Et.ReadWrite:Et.ReadOnly,o.LESS),m=e.getTile(d),v=t.transform.calculatePosMatrix(d.toUnwrapped(),p);m.registerFadeDuration(n.paint.get("raster-fade-duration"));var y=e.findLoadedParent(d,0),_=Qn(m,y,e,n,t.transform),b=void 0,x=void 0,w="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),m.texture.bind(w,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),y?(y.texture.bind(w,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),b=Math.pow(2,y.tileID.overscaledZ-m.tileID.overscaledZ),x=[m.tileID.canonical.x*b%1,m.tileID.canonical.y*b%1]):m.texture.bind(w,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var E=An(v,x||[0,0],b||1,_,n);a instanceof P?s.draw(i,o.TRIANGLES,g,l,u,Tt.disabled,E,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):m.maskedBoundsBuffer&&m.maskedIndexBuffer&&m.segments?s.draw(i,o.TRIANGLES,g,l,u,Tt.disabled,E,n.id,m.maskedBoundsBuffer,m.maskedIndexBuffer,m.segments,n.paint,t.transform.zoom):s.draw(i,o.TRIANGLES,g,l,u,Tt.disabled,E,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,n){var r=n.paint.get("background-color"),i=n.paint.get("background-opacity");if(0!==i){var o=t.context,a=o.gl,s=t.transform,l=s.tileSize,u=n.paint.get("background-pattern");if(!t.isPatternMissing(u)){var c=u||1!==r.a||1!==i?"translucent":"opaque";if(t.renderPass===c){var p=Ct.disabled,h=t.depthModeForSublayer(0,"opaque"===c?Et.ReadWrite:Et.ReadOnly),f=t.colorModeForRenderPass(),d=t.useProgram(u?"backgroundPattern":"background"),g=s.coveringTiles({tileSize:l});u&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var m=n.getCrossfadeParameters(),v=0,y=g;v<y.length;v+=1){var _=y[v],b=t.transform.calculatePosMatrix(_.toUnwrapped()),x=u?Fn(b,i,t,u,{tileID:_,tileSize:l},m):zn(b,i,r);d.draw(o,a.TRIANGLES,h,p,f,Tt.disabled,x,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,n){for(var r=0;r<n.length;r++)tr(t,e,n[r])},custom:function(t,e,n){var r=t.context,i=n.implementation;if("offscreen"===t.renderPass){var o=i.prerender;o&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),o.call(i,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(Ct.disabled);var a="3d"===i.renderingMode?new Et(t.context.gl.LEQUAL,Et.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,Et.ReadOnly);r.setDepthMode(a),i.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}},rr=function(e,n){this.context=new kt(e),this.transform=n,this._tileTextures={},this.setup(),this.numSublayers=Ot.maxUnderzooming+Ot.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new t.ProgramConfiguration,this.crossTileSymbolIndex=new Ne};function ir(t,e){if(t.y>e.y){var n=t;t=e,e=n}return{x0:t.x,y0:t.y,x1:e.x,y1:e.y,dx:e.x-t.x,dy:e.y-t.y}}function or(t,e,n,r,i){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(r,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,u=e.dx/e.dy,c=t.dx>0,p=e.dx<0,h=o;h<a;h++){var f=l*Math.max(0,Math.min(t.dy,h+c-t.y0))+t.x0,d=u*Math.max(0,Math.min(e.dy,h+p-e.y0))+e.x0;i(Math.floor(d),Math.ceil(f),h)}}function ar(t,e,n,r,i,o){var a,s=ir(t,e),l=ir(e,n),u=ir(n,t);s.dy>l.dy&&(a=s,s=l,l=a),s.dy>u.dy&&(a=s,s=u,u=a),l.dy>u.dy&&(a=l,l=u,u=a),s.dy&&or(u,s,r,i,o),l.dy&&or(u,l,r,i,o)}rr.prototype.resize=function(e,n){var r=this.context.gl;if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var i=0,o=this.style._order;i<o.length;i+=1){var a=o[i];this.style._layers[a].resize()}this.depthRbo&&(r.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},rr.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,De.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var r=new t.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(t.EXTENT,0),r.emplaceBack(0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(r,De.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var i=new t.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(t.EXTENT,0,t.EXTENT,0),i.emplaceBack(0,t.EXTENT,0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(i,t.rasterBoundsAttributes.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,De.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s);var l=this.context.gl;this.stencilClearMode=new Ct({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},rr.prototype.clearStencil=function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=t.create();t.ortho(r,0,this.width,this.height,0,0,1),t.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,Et.disabled,this.stencilClearMode,St.disabled,Tt.disabled,Cn(r),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},rr.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var n=this.context,r=n.gl;this.nextStencilID+e.length>256&&this.clearStencil(),n.setColorMode(St.disabled),n.setDepthMode(Et.disabled);var i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,Et.disabled,new Ct({func:r.ALWAYS,mask:0},l,255,r.KEEP,r.KEEP,r.REPLACE),St.disabled,Tt.disabled,Cn(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},rr.prototype.stencilModeFor3D=function(){this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new Ct({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},rr.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Ct({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},rr.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new St([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?St.unblended:St.alphaBlended},rr.prototype.depthModeForSublayer=function(t,e,n){if(!this.opaquePassEnabledForLayer())return Et.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new Et(n||this.context.gl.LEQUAL,e,[r,r])},rr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},rr.prototype.render=function(e,n){this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var r=this.style._order,i=this.style.sourceCaches;for(var o in i){var a=i[o];a.used&&a.prepare(this.context)}var s={},l={},u={};for(var c in i){var p=i[c];s[c]=p.getVisibleCoordinates(),l[c]=s[c].slice().reverse(),u[c]=p.getVisibleCoordinates(!0).reverse()}for(var h in i){var f=i[h],d=f.getSource();if("raster"===d.type||"raster-dem"===d.type){for(var g=[],m=0,v=s[h];m<v.length;m+=1){var y=v[m];g.push(f.getTile(y))}Bn(g,this.context)}}this.opaquePassCutoff=1/0;for(var _=0;_<r.length;_++){var b=r[_];if(this.style._layers[b].is3D()){this.opaquePassCutoff=_;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var x=0,w=r;x<w.length;x+=1){var E=w[x],C=this.style._layers[E];if(C.hasOffscreenPass()&&!C.isHidden(this.transform.zoom)){var S=l[C.source];("custom"===C.type||S.length)&&this.renderLayer(this,i[C.source],C,S)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){var T=this.style._layers[r[this.currentLayer]],k=i[T.source],O=s[T.source];this._renderTileClippingMasks(T,O),this.renderLayer(this,k,T,O)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){var I=this.style._layers[r[this.currentLayer]],P=i[I.source],N=("symbol"===I.type?u:l)[I.source];this._renderTileClippingMasks(I,s[I.source]),this.renderLayer(this,P,I,N)}if(this.options.showTileBoundaries)for(var M in i){nr.debug(this,i[M],s[M]);break}this.setCustomLayerDefaults()},rr.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},rr.prototype.renderLayer=function(t,e,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||r.length)&&(this.id=n.id,nr[n.type](t,e,n,r,this.style.placement.variableOffsets))},rr.prototype.translatePosMatrix=function(e,n,r,i,o){if(!r[0]&&!r[1])return e;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);r=[r[0]*l-r[1]*s,r[0]*s+r[1]*l]}var u=[o?r[0]:le(n,r[0],this.transform.zoom),o?r[1]:le(n,r[1],this.transform.zoom),0],c=new Float32Array(16);return t.translate(c,e,u),c},rr.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},rr.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},rr.prototype.isPatternMissing=function(t){if(!t)return!1;var e=this.imageManager.getPattern(t.from),n=this.imageManager.getPattern(t.to);return!e||!n},rr.prototype.useProgram=function(t,e){void 0===e&&(e=this.emptyProgramConfiguration),this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new hn(this.context,cn[t],e,jn[t],this._showOverdrawInspector)),this.cache[n]},rr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},rr.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)};var sr=function(e,n,r){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===r||r,this._minZoom=e||0,this._maxZoom=n||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},lr={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};sr.prototype.clone=function(){var t=new sr(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},lr.minZoom.get=function(){return this._minZoom},lr.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},lr.maxZoom.get=function(){return this._maxZoom},lr.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},lr.renderWorldCopies.get=function(){return this._renderWorldCopies},lr.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},lr.worldSize.get=function(){return this.tileSize*this.scale},lr.centerPoint.get=function(){return this.size._div(2)},lr.size.get=function(){return new t.Point(this.width,this.height)},lr.bearing.get=function(){return-this.angle/Math.PI*180},lr.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},lr.pitch.get=function(){return this._pitch/Math.PI*180},lr.pitch.set=function(e){var n=t.clamp(e,0,60)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},lr.fov.get=function(){return this._fov/Math.PI*180},lr.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},lr.zoom.get=function(){return this._zoom},lr.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},lr.center.get=function(){return this._center},lr.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},sr.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},sr.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new t.Point(0,0)),i=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),l=Math.floor(Math.max(r.x,i.x,o.x,a.x)),u=s-1;u<=l+1;u++)0!==u&&n.push(new t.UnwrappedTileID(u,e));return n},sr.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),r=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var i=t.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=new t.Point(o*i.x-.5,o*i.y-.5);return function(e,n,r,i){void 0===i&&(i=!0);var o=1<<e,a={};function s(n,s,l){var u,c,p,h;if(l>=0&&l<=o)for(u=n;u<s;u++)c=Math.floor(u/o),p=(u%o+o)%o,0!==c&&!0!==i||(h=new t.OverscaledTileID(r,c,e,p,l),a[h.key]=h)}var l=n.map((function(e){return new t.Point(e.x,e.y)._mult(o)}));return ar(l[0],l[1],l[2],0,o,s),ar(l[2],l[3],l[0],0,o,s),Object.keys(a).map((function(t){return a[t]}))}(n,[this.pointCoordinate(new t.Point(0,0)),this.pointCoordinate(new t.Point(this.width,0)),this.pointCoordinate(new t.Point(this.width,this.height)),this.pointCoordinate(new t.Point(0,this.height))],e.reparseOverscaled?r:n,this._renderWorldCopies).sort((function(t,e){return a.dist(t.canonical)-a.dist(e.canonical)}))},sr.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},lr.unmodified.get=function(){return this._unmodified},sr.prototype.zoomScale=function(t){return Math.pow(2,t)},sr.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},sr.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},sr.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},lr.point.get=function(){return this.project(this.center)},sr.prototype.setLocationAtPoint=function(e,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},sr.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},sr.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},sr.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},sr.prototype.coordinateLocation=function(t){return t.toLngLat()},sr.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],r=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(r,r,this.pixelMatrixInverse);var i=n[3],o=r[3],a=n[0]/i,s=r[0]/o,l=n[1]/i,u=r[1]/o,c=n[2]/i,p=r[2]/o,h=c===p?0:(0-c)/(p-c);return new t.MercatorCoordinate(t.number(a,s,h)/this.worldSize,t.number(l,u,h)/this.worldSize)},sr.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},sr.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},sr.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},sr.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},sr.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var r=e.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,l=t.identity(new Float64Array(16));return t.translate(l,l,[s*a,o.y*a,0]),t.scale(l,l,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(l,n?this.alignedProjMatrix:this.projMatrix,l),i[r]=new Float32Array(l),i[r]},sr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},sr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,r,i,o=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;o=t.mercatorYfromLat(p[1])*this.worldSize,e=(a=t.mercatorYfromLat(p[0])*this.worldSize)-o<u.y?u.y/(a-o):0}if(this.lngRange){var h=this.lngRange;s=t.mercatorXfromLng(h[0])*this.worldSize,n=(l=t.mercatorXfromLng(h[1])*this.worldSize)-s<u.x?u.x/(l-s):0}var f=this.point,d=Math.max(n||0,e||0);if(d)return this.center=this.unproject(new t.Point(n?(l+s)/2:f.x,e?(a+o)/2:f.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var g=f.y,m=u.y/2;g-m<o&&(i=o+m),g+m>a&&(i=a-m)}if(this.lngRange){var v=f.x,y=u.x/2;v-y<s&&(r=s+y),v+y>l&&(r=l-y)}void 0===r&&void 0===i||(this.center=this.unproject(new t.Point(void 0!==r?r:f.x,void 0!==i?i:f.y))),this._unmodified=c,this._constraining=!1}},sr.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var e=this._fov/2,n=Math.PI/2+this._pitch,r=Math.sin(e)*this.cameraToCenterDistance/Math.sin(Math.PI-n-e),i=this.point,o=i.x,a=i.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*r+this.cameraToCenterDistance),l=new Float64Array(16);t.perspective(l,this._fov,this.width/this.height,1,s),t.scale(l,l,[1,-1,1]),t.translate(l,l,[0,0,-this.cameraToCenterDistance]),t.rotateX(l,l,this._pitch),t.rotateZ(l,l,this.angle),t.translate(l,l,[-o,-a,0]),this.mercatorMatrix=t.scale([],l,[this.worldSize,this.worldSize,this.worldSize]),t.scale(l,l,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=l;var u=this.width%2/2,c=this.height%2/2,p=Math.cos(this.angle),h=Math.sin(this.angle),f=o-Math.round(o)+p*u+h*c,d=a-Math.round(a)+p*c+h*u,g=new Float64Array(l);if(t.translate(g,g,[f>.5?f-1:f,d>.5?d-1:d,0]),this.alignedProjMatrix=g,l=t.create(),t.scale(l,l,[this.width/2,-this.height/2,1]),t.translate(l,l,[1,-1,0]),this.labelPlaneMatrix=l,l=t.create(),t.scale(l,l,[1,-1,1]),t.translate(l,l,[-1,-1,0]),t.scale(l,l,[2/this.width,2/this.height,1]),this.glCoordMatrix=l,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(l=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}},sr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},sr.prototype.getCameraPoint=function(){var e=this._pitch,n=Math.tan(e)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,n))},sr.prototype.getCameraQueryGeometry=function(e){var n=this.getCameraPoint();if(1===e.length)return[e[0],n];for(var r=n.x,i=n.y,o=n.x,a=n.y,s=0,l=e;s<l.length;s+=1){var u=l[s];r=Math.min(r,u.x),i=Math.min(i,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}return[new t.Point(r,i),new t.Point(o,i),new t.Point(o,a),new t.Point(r,a),new t.Point(r,i)]},Object.defineProperties(sr.prototype,lr);var ur=function(){var e,n,r,i;t.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(e=this._updateHashUnthrottled.bind(this),n=!1,r=0,i=function(){r=0,n&&(e(),r=setTimeout(i,300),n=!1)},function(){return n=!0,r||i(),r})};ur.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},ur.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},ur.prototype.getHashString=function(t){var e=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(e.lng*i)/i,a=Math.round(e.lat*i)/i,s=this._map.getBearing(),l=this._map.getPitch(),u="";return u+=t?"#/"+o+"/"+a+"/"+n:"#"+n+"/"+a+"/"+o,(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+="/"+Math.round(l)),u},ur.prototype._onHashChange=function(){var e=t.window.location.hash.replace("#","").split("/");return e.length>=3&&(this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:+(e[3]||0),pitch:+(e[4]||0)}),!0)},ur.prototype._updateHashUnthrottled=function(){var e=this.getHashString();try{t.window.history.replaceState(t.window.history.state,"",e)}catch(t){}};var cr=function(e){function r(r,i,o,a){void 0===a&&(a={});var s=n.mousePos(i.getCanvasContainer(),o),l=i.unproject(s);e.call(this,r,t.extend({point:s,lngLat:l,originalEvent:o},a)),this._defaultPrevented=!1,this.target=i}e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),pr=function(e){function r(r,i,o){var a=n.touchPos(i.getCanvasContainer(),o),s=a.map((function(t){return i.unproject(t)})),l=a.reduce((function(t,e,n,r){return t.add(e.div(r.length))}),new t.Point(0,0)),u=i.unproject(l);e.call(this,r,{points:a,point:l,lngLats:s,lngLat:u,originalEvent:o}),this._defaultPrevented=!1}e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(t.Event),hr=function(t){function e(e,n,r){t.call(this,e,{originalEvent:r}),this._defaultPrevented=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),fr=function(e){this._map=e,this._el=e.getCanvasContainer(),this._delta=0,t.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};fr.prototype.isEnabled=function(){return!!this._enabled},fr.prototype.isActive=function(){return!!this._active},fr.prototype.isZooming=function(){return!!this._zooming},fr.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},fr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},fr.prototype.onWheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,r=t.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this.isActive()||this._start(e)),e.preventDefault()}},fr.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},fr.prototype._start=function(e){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._zooming=!0,this._map.fire(new t.Event("movestart",{originalEvent:e})),this._map.fire(new t.Event("zoomstart",{originalEvent:e})),this._finishTimeout&&clearTimeout(this._finishTimeout);var r=n.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},fr.prototype._onScrollFrame=function(){var e=this;if(this._frameId=null,this.isActive()){var n=this._map.transform;if(0!==this._delta){var r="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,i=2/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&0!==i&&(i=1/i);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*i))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"==typeof this._targetZoom?this._targetZoom:n.zoom,s=this._startZoom,l=this._easing,u=!1;if("wheel"===this._type&&s&&l){var c=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),p=l(c);n.zoom=t.number(s,a,p),c<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):u=!0}else n.zoom=a,u=!0;n.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new t.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new t.Event("zoom",{originalEvent:this._lastWheelEvent})),u&&(this._active=!1,this._finishTimeout=setTimeout((function(){e._zooming=!1,e._map.fire(new t.Event("zoomend",{originalEvent:e._lastWheelEvent})),e._map.fire(new t.Event("moveend",{originalEvent:e._lastWheelEvent})),delete e._targetZoom}),200))}},fr.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var r=this._prevEase,i=(t.browser.now()-r.start)/r.duration,o=r.easing(i+.01)-r.easing(i),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n};var dr=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=n.clickTolerance||1,t.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};dr.prototype.isEnabled=function(){return!!this._enabled},dr.prototype.isActive=function(){return!!this._active},dr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},dr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},dr.prototype.onMouseDown=function(e){this.isEnabled()&&e.shiftKey&&0===e.button&&(t.window.document.addEventListener("mousemove",this._onMouseMove,!1),t.window.document.addEventListener("keydown",this._onKeyDown,!1),t.window.document.addEventListener("mouseup",this._onMouseUp,!1),n.disableDrag(),this._startPos=this._lastPos=n.mousePos(this._el,e),this._active=!0)},dr.prototype._onMouseMove=function(t){var e=n.mousePos(this._el,t);if(!(this._lastPos.equals(e)||!this._box&&e.dist(this._startPos)<this._clickTolerance)){var r=this._startPos;this._lastPos=e,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var i=Math.min(r.x,e.x),o=Math.max(r.x,e.x),a=Math.min(r.y,e.y),s=Math.max(r.y,e.y);n.setTransform(this._box,"translate("+i+"px,"+a+"px)"),this._box.style.width=o-i+"px",this._box.style.height=s-a+"px"}},dr.prototype._onMouseUp=function(e){if(0===e.button){var r=this._startPos,i=n.mousePos(this._el,e);this._finish(),n.suppressClick(),r.x===i.x&&r.y===i.y?this._fireEvent("boxzoomcancel",e):this._map.fitScreenCoordinates(r,i,this._map.getBearing(),{linear:!0}).fire(new t.Event("boxzoomend",{originalEvent:e}))}},dr.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},dr.prototype._finish=function(){this._active=!1,t.window.document.removeEventListener("mousemove",this._onMouseMove,!1),t.window.document.removeEventListener("keydown",this._onKeyDown,!1),t.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},dr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var gr=t.bezier(0,0,.25,1),mr=function(e,n){this._map=e,this._el=n.element||e.getCanvasContainer(),this._state="disabled",this._button=n.button||"right",this._bearingSnap=n.bearingSnap||0,this._pitchWithRotate=!1!==n.pitchWithRotate,t.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};mr.prototype.isEnabled=function(){return"disabled"!==this._state},mr.prototype.isActive=function(){return"active"===this._state},mr.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},mr.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},mr.prototype.onMouseDown=function(e){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=n.mouseButton(e),this._eventButton!==(e.ctrlKey?0:2))return}else{if(e.ctrlKey||0!==n.mouseButton(e))return;this._eventButton=0}n.disableDrag(),t.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.addEventListener("mouseup",this._onMouseUp),t.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[t.browser.now(),this._map.getBearing()]],this._startPos=this._lastPos=n.mousePos(this._el,e),this._center=this._map.transform.centerPoint,e.preventDefault()}},mr.prototype._onMouseMove=function(t){var e=n.mousePos(this._el,t);this._lastPos.equals(e)||(this._lastMoveEvent=t,this._lastPos=e,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},mr.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var n=this._map.transform,r=this._startPos,i=this._lastPos,o=.8*(r.x-i.x),a=-.5*(r.y-i.y),s=n.bearing-o,l=n.pitch-a,u=this._inertia,c=u[u.length-1];this._drainInertiaBuffer(),u.push([t.browser.now(),this._map._normalizeBearing(s,c[1])]),n.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",e),n.pitch=l),this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._startPos=this._lastPos}},mr.prototype._onMouseUp=function(t){if(n.mouseButton(t)===this._eventButton)switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(t);break;case"pending":this._state="enabled",this._unbind()}},mr.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",t),this._pitchWithRotate&&this._fireEvent("pitchend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},mr.prototype._unbind=function(){t.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),t.window.document.removeEventListener("mouseup",this._onMouseUp),t.window.removeEventListener("blur",this._onBlur),n.enableDrag()},mr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},mr.prototype._inertialRotate=function(t){var e=this;this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,r=n.getBearing(),i=this._inertia,o=function(){Math.abs(r)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):e._fireEvent("moveend",t),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(i.length<2)o();else{var a=i[0],s=i[i.length-1],l=i[i.length-2],u=n._normalizeBearing(r,l[1]),c=s[1]-a[1],p=c<0?-1:1,h=(s[0]-a[0])/1e3;if(0!==c&&0!==h){var f=Math.abs(c*(.25/h));f>180&&(f=180);var d=f/180;u+=p*f*(d/2),Math.abs(n._normalizeBearing(u,0))<this._bearingSnap&&(u=n._normalizeBearing(0,u)),n.rotateTo(u,{duration:1e3*d,easing:gr,noMoveStart:!0},{originalEvent:t})}else o()}},mr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},mr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>0&&n-e[0][0]>160;)e.shift()};var vr=t.bezier(0,0,.3,1),yr=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._state="disabled",this._clickTolerance=n.clickTolerance||1,t.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};yr.prototype.isEnabled=function(){return"disabled"!==this._state},yr.prototype.isActive=function(){return"active"===this._state},yr.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},yr.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},yr.prototype.onMouseDown=function(e){"enabled"===this._state&&(e.ctrlKey||0!==n.mouseButton(e)||(n.addEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),n.addEventListener(t.window.document,"mouseup",this._onMouseUp),this._start(e)))},yr.prototype.onTouchStart=function(e){"enabled"===this._state&&(e.touches.length>1||(n.addEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.addEventListener(t.window.document,"touchend",this._onTouchEnd),this._start(e)))},yr.prototype._start=function(e){t.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=n.mousePos(this._el,e),this._inertia=[[t.browser.now(),this._startPos]]},yr.prototype._onMove=function(e){e.preventDefault();var r=n.mousePos(this._el,e);this._lastPos.equals(r)||"pending"===this._state&&r.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=e,this._lastPos=r,this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",e),this._fireEvent("movestart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},yr.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var e=this._map.transform;e.setLocationAtPoint(e.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",t),this._fireEvent("move",t),this._startPos=this._lastPos,delete this._lastMoveEvent}},yr.prototype._onMouseUp=function(t){if(0===n.mouseButton(t))switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},yr.prototype._onTouchEnd=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(t);break;case"pending":this._state="enabled",this._unbind()}},yr.prototype._onBlur=function(t){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",t),this._fireEvent("moveend",t);break;case"pending":this._state="enabled",this._unbind()}},yr.prototype._unbind=function(){n.removeEventListener(t.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.removeEventListener(t.window.document,"touchend",this._onTouchEnd),n.removeEventListener(t.window.document,"mousemove",this._onMove,{capture:!0}),n.removeEventListener(t.window.document,"mouseup",this._onMouseUp),n.removeEventListener(t.window,"blur",this._onBlur)},yr.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},yr.prototype._inertialPan=function(t){this._fireEvent("dragend",t),this._drainInertiaBuffer();var e=this._inertia;if(e.length<2)this._fireEvent("moveend",t);else{var n=e[e.length-1],r=e[0],i=n[1].sub(r[1]),o=(n[0]-r[0])/1e3;if(0===o||n[1].equals(r[1]))this._fireEvent("moveend",t);else{var a=i.mult(.3/o),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var l=s/750,u=a.mult(-l/2);this._map.panBy(u,{duration:1e3*l,easing:vr,noMoveStart:!0},{originalEvent:t})}}},yr.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},yr.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>0&&n-e[0][0]>160;)e.shift()};var _r=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onKeyDown"],this)};function br(t){return t*(2-t)}_r.prototype.isEnabled=function(){return!!this._enabled},_r.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},_r.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},_r.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,r=0,i=0,o=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),i=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),i=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),o=-1);break;case 40:t.shiftKey?r=-1:(o=1,t.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),l={duration:300,delayEndEvents:500,easing:br,zoom:e?Math.round(s)+e*(t.shiftKey?2:1):s,bearing:a.getBearing()+15*n,pitch:a.getPitch()+10*r,offset:[100*-i,100*-o],center:a.getCenter()};a.easeTo(l,{originalEvent:t})}};var xr=function(e){this._map=e,t.bindAll(["_onDblClick","_onZoomEnd"],this)};xr.prototype.isEnabled=function(){return!!this._enabled},xr.prototype.isActive=function(){return!!this._active},xr.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},xr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},xr.prototype.onTouchStart=function(t){var e=this;this.isEnabled()&&(t.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(t)):this._tapped=setTimeout((function(){e._tapped=null}),300)))},xr.prototype.onDblClick=function(t){this.isEnabled()&&(t.originalEvent.preventDefault(),this._zoom(t))},xr.prototype._zoom=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},xr.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var wr=t.bezier(0,0,.15,1),Er=function(e){this._map=e,this._el=e.getCanvasContainer(),t.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};Er.prototype.isEnabled=function(){return!!this._enabled},Er.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around)},Er.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},Er.prototype.disableRotation=function(){this._rotationDisabled=!0},Er.prototype.enableRotation=function(){this._rotationDisabled=!1},Er.prototype.onStart=function(e){if(this.isEnabled()&&2===e.touches.length){var r=n.mousePos(this._el,e.touches[0]),i=n.mousePos(this._el,e.touches[1]),o=r.add(i).div(2);this._startVec=r.sub(i),this._startAround=this._map.transform.pointLocation(o),this._gestureIntent=void 0,this._inertia=[],n.addEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),n.addEventListener(t.window.document,"touchend",this._onEnd)}},Er.prototype._getTouchEventData=function(t){var e=n.mousePos(this._el,t.touches[0]),r=n.mousePos(this._el,t.touches[1]),i=e.sub(r);return{vec:i,center:e.add(r).div(2),scale:i.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*i.angleWith(this._startVec)/Math.PI}},Er.prototype._onMove=function(e){if(2===e.touches.length){var n=this._getTouchEventData(e),r=n.vec,i=n.scale,o=n.bearing;if(!this._gestureIntent){var a=this._rotationDisabled&&1!==i||Math.abs(1-i)>.15;Math.abs(o)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new t.Event(this._gestureIntent+"start",{originalEvent:e})),this._map.fire(new t.Event("movestart",{originalEvent:e})),this._startVec=r)}this._lastTouchEvent=e,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),e.preventDefault()}},Er.prototype._onTouchFrame=function(){this._frameId=null;var e=this._gestureIntent;if(e){var n=this._map.transform;this._startScale||(this._startScale=n.scale,this._startBearing=n.bearing);var r=this._getTouchEventData(this._lastTouchEvent),i=r.center,o=r.bearing,a=r.scale,s=n.pointLocation(i),l=n.locationPoint(s);"rotate"===e&&(n.bearing=this._startBearing+o),n.zoom=n.scaleZoom(this._startScale*a),n.setLocationAtPoint(this._startAround,l),this._map.fire(new t.Event(e,{originalEvent:this._lastTouchEvent})),this._map.fire(new t.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([t.browser.now(),a,i])}},Er.prototype._onEnd=function(e){n.removeEventListener(t.window.document,"touchmove",this._onMove,{passive:!1}),n.removeEventListener(t.window.document,"touchend",this._onEnd);var r=this._gestureIntent,i=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,r){this._map.fire(new t.Event(r+"end",{originalEvent:e})),this._drainInertiaBuffer();var o=this._inertia,a=this._map;if(o.length<2)a.snapToNorth({},{originalEvent:e});else{var s=o[o.length-1],l=o[0],u=a.transform.scaleZoom(i*s[1]),c=a.transform.scaleZoom(i*l[1]),p=u-c,h=(s[0]-l[0])/1e3,f=s[2];if(0!==h&&u!==c){var d=.15*p/h;Math.abs(d)>2.5&&(d=d>0?2.5:-2.5);var g=1e3*Math.abs(d/(12*.15)),m=u+d*g/2e3;m<0&&(m=0),a.easeTo({zoom:m,duration:g,easing:wr,around:this._aroundCenter?a.getCenter():a.unproject(f),noMoveStart:!0},{originalEvent:e})}else a.snapToNorth({},{originalEvent:e})}}},Er.prototype._drainInertiaBuffer=function(){for(var e=this._inertia,n=t.browser.now();e.length>2&&n-e[0][0]>160;)e.shift()};var Cr={scrollZoom:fr,boxZoom:dr,dragRotate:mr,dragPan:yr,keyboard:_r,doubleClickZoom:xr,touchZoomRotate:Er},Sr=function(e){function n(n,r){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},n.prototype.panBy=function(e,n,r){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),r)},n.prototype.panTo=function(e,n,r){return this.easeTo(t.extend({center:e},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},n.prototype.zoomTo=function(e,n,r){return this.easeTo(t.extend({zoom:e},n),r)},n.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},n.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},n.prototype.rotateTo=function(e,n,r){return this.easeTo(t.extend({bearing:e},n),r)},n.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},n.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},n.prototype.cameraForBounds=function(e,n){return e=t.LngLatBounds.convert(e),this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),0,n)},n.prototype._cameraForBoxAndBearing=function(e,n,r,i){if("number"==typeof(i=t.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}if(t.deepEqual(Object.keys(i.padding).sort((function(t,e){return t<e?-1:t>e?1:0})),["bottom","left","right","top"])){var a=this.transform,s=a.project(t.LngLat.convert(e)),l=a.project(t.LngLat.convert(n)),u=s.rotate(-r*Math.PI/180),c=l.rotate(-r*Math.PI/180),p=new t.Point(Math.max(u.x,c.x),Math.max(u.y,c.y)),h=new t.Point(Math.min(u.x,c.x),Math.min(u.y,c.y)),f=p.sub(h),d=(a.width-i.padding.left-i.padding.right)/f.x,g=(a.height-i.padding.top-i.padding.bottom)/f.y;if(!(g<0||d<0)){var m=Math.min(a.scaleZoom(a.scale*Math.min(d,g)),i.maxZoom),v=t.Point.convert(i.offset),y=(i.padding.left-i.padding.right)/2,_=(i.padding.top-i.padding.bottom)/2,b=new t.Point(v.x+y,v.y+_).mult(a.scale/a.zoomScale(m));return{center:a.unproject(s.add(l).div(2).sub(b)),zoom:m,bearing:r}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else t.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},n.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},n.prototype.fitScreenCoordinates=function(e,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),r,i),i,o)},n.prototype._fitInternal=function(e,n,r){return e?(n=t.extend(e,n)).linear?this.easeTo(n,r):this.flyTo(n,r):this},n.prototype.jumpTo=function(e,n){this.stop();var r=this.transform,i=!1,o=!1,a=!1;return"zoom"in e&&r.zoom!==+e.zoom&&(i=!0,r.zoom=+e.zoom),void 0!==e.center&&(r.center=t.LngLat.convert(e.center)),"bearing"in e&&r.bearing!==+e.bearing&&(o=!0,r.bearing=+e.bearing),"pitch"in e&&r.pitch!==+e.pitch&&(a=!0,r.pitch=+e.pitch),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),i&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},n.prototype.easeTo=function(e,n){var r=this;this.stop(),!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate&&(e.duration=0);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?+e.zoom:o,u="bearing"in e?this._normalizeBearing(e.bearing,a):a,c="pitch"in e?+e.pitch:s,p=i.centerPoint.add(t.Point.convert(e.offset)),h=i.pointLocation(p),f=t.LngLat.convert(e.center||h);this._normalizeCenter(f);var d,g,m=i.project(h),v=i.project(f).sub(m),y=i.zoomScale(l-o);return e.around&&(d=t.LngLat.convert(e.around),g=i.locationPoint(d)),this._zooming=l!==o,this._rotating=a!==u,this._pitching=c!==s,this._prepareEase(n,e.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(e){if(r._zooming&&(i.zoom=t.number(o,l,e)),r._rotating&&(i.bearing=t.number(a,u,e)),r._pitching&&(i.pitch=t.number(s,c,e)),d)i.setLocationAtPoint(d,g);else{var h=i.zoomScale(i.zoom-o),f=l>o?Math.min(2,y):Math.max(.5,y),_=Math.pow(f,1-e),b=i.unproject(m.add(v.mult(e*_)).mult(h));i.setLocationAtPoint(i.renderWorldCopies?b.wrap():b,p)}r._fireMoveEvents(n)}),(function(){e.delayEndEvents?r._easeEndTimeoutID=setTimeout((function(){return r._afterEase(n)}),e.delayEndEvents):r._afterEase(n)}),e),this},n.prototype._prepareEase=function(e,n){this._moving=!0,n||this.fire(new t.Event("movestart",e)),this._zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&this.fire(new t.Event("pitchstart",e))},n.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},n.prototype._afterEase=function(e){var n=this._zooming,r=this._rotating,i=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,n&&this.fire(new t.Event("zoomend",e)),r&&this.fire(new t.Event("rotateend",e)),i&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))},n.prototype.flyTo=function(e,n){var r=this;this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var i=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in e?t.clamp(+e.zoom,i.minZoom,i.maxZoom):o,u="bearing"in e?this._normalizeBearing(e.bearing,a):a,c="pitch"in e?+e.pitch:s,p=i.zoomScale(l-o),h=i.centerPoint.add(t.Point.convert(e.offset)),f=i.pointLocation(h),d=t.LngLat.convert(e.center||f);this._normalizeCenter(d);var g=i.project(f),m=i.project(d).sub(g),v=e.curve,y=Math.max(i.width,i.height),_=y/p,b=m.mag();if("minZoom"in e){var x=t.clamp(Math.min(e.minZoom,o,l),i.minZoom,i.maxZoom),w=y/i.zoomScale(x-o);v=Math.sqrt(w/b*2)}var E=v*v;function C(t){var e=(_*_-y*y+(t?-1:1)*E*E*b*b)/(2*(t?_:y)*E*b);return Math.log(Math.sqrt(e*e+1)-e)}function S(t){return(Math.exp(t)-Math.exp(-t))/2}function T(t){return(Math.exp(t)+Math.exp(-t))/2}var k=C(0),O=function(t){return T(k)/T(k+v*t)},I=function(t){return y*((T(k)*(S(e=k+v*t)/T(e))-S(k))/E)/b;var e},P=(C(1)-k)/v;if(Math.abs(b)<1e-6||!isFinite(P)){if(Math.abs(y-_)<1e-6)return this.easeTo(e,n);var N=_<y?-1:1;P=Math.abs(Math.log(_/y))/v,I=function(){return 0},O=function(t){return Math.exp(N*v*t)}}if("duration"in e)e.duration=+e.duration;else{var M="screenSpeed"in e?+e.screenSpeed/v:+e.speed;e.duration=1e3*P/M}return e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=a!==u,this._pitching=c!==s,this._prepareEase(n,!1),this._ease((function(e){var p=e*P,f=1/O(p);i.zoom=1===e?l:o+i.scaleZoom(f),r._rotating&&(i.bearing=t.number(a,u,e)),r._pitching&&(i.pitch=t.number(s,c,e));var v=1===e?d:i.unproject(g.add(m.mult(I(p))).mult(f));i.setLocationAtPoint(i.renderWorldCopies?v.wrap():v,h),r._fireMoveEvents(n)}),(function(){return r._afterEase(n)}),e),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var t=this._onEaseEnd;delete this._onEaseEnd,t.call(this)}return this},n.prototype._ease=function(e,n,r){!1===r.animate||0===r.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=r,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var r=Math.abs(e-n);return Math.abs(e-360-n)<r&&(e-=360),Math.abs(e+360-n)<r&&(e+=360),e},n.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},n}(t.Evented),Tr=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Tr.prototype.getDefaultPosition=function(){return"bottom-right"},Tr.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Tr.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},Tr.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:t.config.ACCESS_TOKEN}];if(e){var r=n.reduce((function(t,e,r){return e.value&&(t+=e.key+"="+e.value+(r<n.length-1?"&":"")),t}),"?");e.href=t.config.FEEDBACK_URL+"/"+r+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener"}},Tr.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},Tr.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map((function(t){return"string"!=typeof t?"":t}))):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var o=i.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort((function(t,e){return t.length-e.length})),(t=t.filter((function(e,n){for(var r=n+1;r<t.length;r++)if(t[r].indexOf(e)>=0)return!1;return!0}))).length?(this._innerContainer.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},Tr.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var kr=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};kr.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),e.setAttribute("rel","noopener"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},kr.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},kr.prototype.getDefaultPosition=function(){return"bottom-left"},kr.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},kr.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},kr.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var Or=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Or.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},Or.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,r=e?this._queue.concat(e):this._queue;n<r.length;n+=1){var i=r[n];if(i.id===t)return void(i.cancelled=!0)}},Or.prototype.run=function(){var t=this._currentlyRunning=this._queue;this._queue=[];for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!r.cancelled&&(r.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Or.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Ir=t.window.HTMLImageElement,Pr=t.window.HTMLElement,Nr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Mr=function(r){function i(e){var i=this;if(null!=(e=t.extend({},Nr,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var o=new sr(e.minZoom,e.maxZoom,e.renderWorldCopies);r.call(this,o,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new Or,this._controls=[],this._mapId=t.uniqueId();var a=e.transformRequest;if(this._transformRequest=a?function(t,e){return a(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof Pr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return i._update(!1)})),this.on("moveend",(function(){return i._update(!1)})),this.on("zoom",(function(){return i._update(!0)})),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1)),function(t,e){var r=t.getCanvasContainer(),i=null,o=!1,a=null;for(var s in Cr)t[s]=new Cr[s](t,e),e.interactive&&e[s]&&t[s].enable(e[s]);n.addEventListener(r,"mouseout",(function(e){t.fire(new cr("mouseout",t,e))})),n.addEventListener(r,"mousedown",(function(i){o=!0,a=n.mousePos(r,i);var s=new cr("mousedown",t,i);t.fire(s),s.defaultPrevented||(e.interactive&&!t.doubleClickZoom.isActive()&&t.stop(),t.boxZoom.onMouseDown(i),t.boxZoom.isActive()||t.dragPan.isActive()||t.dragRotate.onMouseDown(i),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onMouseDown(i))})),n.addEventListener(r,"mouseup",(function(e){var n=t.dragRotate.isActive();i&&!n&&t.fire(new cr("contextmenu",t,i)),i=null,o=!1,t.fire(new cr("mouseup",t,e))})),n.addEventListener(r,"mousemove",(function(e){if(!t.dragPan.isActive()&&!t.dragRotate.isActive()){for(var n=e.target;n&&n!==r;)n=n.parentNode;n===r&&t.fire(new cr("mousemove",t,e))}})),n.addEventListener(r,"mouseover",(function(e){for(var n=e.target;n&&n!==r;)n=n.parentNode;n===r&&t.fire(new cr("mouseover",t,e))})),n.addEventListener(r,"touchstart",(function(n){var r=new pr("touchstart",t,n);t.fire(r),r.defaultPrevented||(e.interactive&&t.stop(),t.boxZoom.isActive()||t.dragRotate.isActive()||t.dragPan.onTouchStart(n),t.touchZoomRotate.onStart(n),t.doubleClickZoom.onTouchStart(r))}),{passive:!1}),n.addEventListener(r,"touchmove",(function(e){t.fire(new pr("touchmove",t,e))}),{passive:!1}),n.addEventListener(r,"touchend",(function(e){t.fire(new pr("touchend",t,e))})),n.addEventListener(r,"touchcancel",(function(e){t.fire(new pr("touchcancel",t,e))})),n.addEventListener(r,"click",(function(i){var o=n.mousePos(r,i);(o.equals(a)||o.dist(a)<e.clickTolerance)&&t.fire(new cr("click",t,i))})),n.addEventListener(r,"dblclick",(function(e){var n=new cr("dblclick",t,e);t.fire(n),n.defaultPrevented||t.doubleClickZoom.onDblClick(n)})),n.addEventListener(r,"contextmenu",(function(e){var n=t.dragRotate.isActive();o||n?o&&(i=e):t.fire(new cr("contextmenu",t,e)),(t.dragRotate.isEnabled()||t.listens("contextmenu"))&&e.preventDefault()})),n.addEventListener(r,"wheel",(function(n){e.interactive&&t.stop();var r=new hr("wheel",t,n);t.fire(r),r.defaultPrevented||t.scrollZoom.onWheel(n)}),{passive:!1})}(this,e),this._hash=e.hash&&(new ur).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new Tr({customAttribution:e.customAttribution})),this.addControl(new kr,e.logoPosition),this.on("style.load",(function(){i.transform.unmodified&&i.jumpTo(i.style.stylesheet)})),this.on("data",(function(e){i._update("style"===e.dataType),i.fire(new t.Event(e.dataType+"data",e))})),this.on("dataloading",(function(e){i.fire(new t.Event(e.dataType+"dataloading",e))}))}r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i;var o={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(e,n){if(void 0===n&&e.getDefaultPosition&&(n=e.getDefaultPosition()),void 0===n&&(n="top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var r=e.onAdd(this);this._controls.push(e);var i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this},i.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this},i.prototype.resize=function(e){var n=this._containerDimensions(),r=n[0],i=n[1];return this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e)).fire(new t.Event("resize",e)).fire(new t.Event("moveend",e)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},i.prototype.setMinZoom=function(t){if((t=null==t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},i.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},i.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},i.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},i.prototype.on=function(t,e,n){var i=this;if(void 0===n)return r.prototype.on.call(this,t,e);var o=function(){var r;if("mouseenter"===t||"mouseover"===t){var o=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){var a=i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[];a.length?o||(o=!0,n.call(i,new cr(t,i,r.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(r){(i.getLayer(e)?i.queryRenderedFeatures(r.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(i,new cr(t,i,r.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(i,new cr(t,i,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(r={},r[t]=function(t){var r=i.getLayer(e)?i.queryRenderedFeatures(t.point,{layers:[e]}):[];r.length&&(t.features=r,n.call(i,t),delete t.features)},r)}}();for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(o),o.delegates)this.on(a,o.delegates[a]);return this},i.prototype.off=function(t,e,n){if(void 0===n)return r.prototype.off.call(this,t,e);if(this._delegatedListeners&&this._delegatedListeners[t])for(var i=this._delegatedListeners[t],o=0;o<i.length;o++){var a=i[o];if(a.layer===e&&a.listener===n){for(var s in a.delegates)this.off(s,a.delegates[s]);return i.splice(o,1),this}}return this},i.prototype.queryRenderedFeatures=function(e,n){if(!this.style)return[];var r;if(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])r=[t.Point.convert(e)];else{var i=t.Point.convert(e[0]),o=t.Point.convert(e[1]);r=[i,new t.Point(o.x,i.y),o,new t.Point(i.x,o.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},i.prototype.setStyle=function(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:Nr.localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))},i.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new Re(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},i.prototype._diffStyle=function(e,n){var r=this;if("string"==typeof e){var i=t.normalizeStyleURL(e),o=this._transformRequest(i,t.ResourceType.Style);t.getJSON(o,(function(e,i){e?r.fire(new t.ErrorEvent(e)):i&&r._updateDiff(i,n)}))}else"object"==typeof e&&this._updateDiff(e,n)},i.prototype._updateDiff=function(e,n){try{this.style.setState(e)&&this._update(!0)}catch(r){t.warnOnce("Unable to perform style diff: "+(r.message||r.error||r)+".  Rebuilding the style from scratch."),this._updateStyle(e,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},i.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0)},i.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},i.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var r in n){var i=n[r];if("loaded"!==i.state&&"errored"!==i.state)return!1}}return!0},i.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},i.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},i.prototype.getSource=function(t){return this.style.getSource(t)},i.prototype.addImage=function(e,n,r){void 0===r&&(r={});var i=r.pixelRatio;void 0===i&&(i=1);var o=r.sdf;if(void 0===o&&(o=!1),n instanceof Ir){var a=t.browser.getImageData(n),s=a.width,l=a.height,u=a.data;this.style.addImage(e,{data:new t.RGBAImage({width:s,height:l},u),pixelRatio:i,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n.width,p=n.height,h=n.data,f=n;this.style.addImage(e,{data:new t.RGBAImage({width:c,height:p},new Uint8Array(h)),pixelRatio:i,sdf:o,version:0,userImage:f}),f.onAdd&&f.onAdd(this,e)}},i.prototype.updateImage=function(e,n){var r=this.style.getImage(e);if(!r)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof Ir?t.browser.getImageData(n):n,o=i.width,a=i.height,s=i.data;if(void 0===o||void 0===a)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(o!==r.data.width||a!==r.data.height)return this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var l=!(n instanceof Ir);r.data.replace(s,l),this.style.updateImage(e,r)},i.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},i.prototype.removeImage=function(t){this.style.removeImage(t)},i.prototype.loadImage=function(e,n){t.getImage(this._transformRequest(e,t.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0)},i.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},i.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},i.prototype.getLayer=function(t){return this.style.getLayer(t)},i.prototype.setFilter=function(t,e,n){return void 0===n&&(n={}),this.style.setFilter(t,e,n),this._update(!0)},i.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},i.prototype.getFilter=function(t){return this.style.getFilter(t)},i.prototype.setPaintProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setPaintProperty(t,e,n,r),this._update(!0)},i.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},i.prototype.setLayoutProperty=function(t,e,n,r){return void 0===r&&(r={}),this.style.setLayoutProperty(t,e,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},i.prototype.setLight=function(t,e){return void 0===e&&(e={}),this.style.setLight(t,e),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},i.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},i.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},i.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},i.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=n.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var r=this._containerDimensions();this._resizeCanvas(r[0],r[1]);var i=this._controlContainer=n.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(t){o[t]=n.create("div","mapboxgl-ctrl-"+t,i)}))},i.prototype._resizeCanvas=function(e,n){var r=t.window.devicePixelRatio||1;this._canvas.width=r*e,this._canvas.height=r*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},i.prototype._setupPainter=function(){var n=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new rr(r,this.transform),t.webpSupported.testSupport(r)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},i.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},i.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},i.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},i.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var e=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var n=this.transform.zoom,r=t.browser.now();this.style.zoomHistory.update(n,r);var i=new t.EvaluationParameters(n,{now:r,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),o=i.crossFadingFactor();1===o&&o===this._crossFadingFactor||(e=!0,this._crossFadingFactor=o),this.style.update(i)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||e)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.Event("idle")),this},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,n=this._controls;e<n.length;e+=1)n[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension("WEBGL_lose_context");r&&r.loseContext(),Ar(this._canvasContainer),Ar(this._controlContainer),Ar(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new t.Event("remove"))},i.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame((function(){e._frame=null,e._render()})))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},Object.defineProperties(i.prototype,o),i}(Sr);function Ar(t){t.parentNode&&t.parentNode.removeChild(t)}var Lr={showCompass:!0,showZoom:!0},Rr=function(e){var r=this;this.options=t.extend({},Lr,e),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this.options.showZoom&&(t.bindAll(["_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",(function(){return r._map.zoomIn()})),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",(function(){return r._map.zoomOut()}))),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",(function(){return r._map.resetNorth()})),this._compassArrow=n.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function Dr(e,n,r){if(e=new t.LngLat(e.lng,e.lat),n){var i=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=r.locationPoint(e).distSqr(n);r.locationPoint(i).distSqr(n)<a?e=i:r.locationPoint(o).distSqr(n)<a&&(e=o)}for(;Math.abs(e.lng-r.center.lng)>180;){var s=r.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e}Rr.prototype._updateZoomButtons=function(){var t=this._map.getZoom();this._zoomInButton.classList.toggle("mapboxgl-ctrl-icon-disabled",t===this._map.getMaxZoom()),this._zoomOutButton.classList.toggle("mapboxgl-ctrl-icon-disabled",t===this._map.getMinZoom())},Rr.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},Rr.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new mr(t,{button:"left",element:this._compass}),n.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},Rr.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),n.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},Rr.prototype._createButton=function(t,e,r){var i=n.create("button",t,this._container);return i.type="button",i.title=e,i.setAttribute("aria-label",e),i.addEventListener("click",r),i};var zr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Fr(t,e,n){var r=t.classList;for(var i in zr)r.remove("mapboxgl-"+n+"-anchor-"+i);r.add("mapboxgl-"+n+"-anchor-"+e)}var jr,Br=function(e){function r(r,i){if(e.call(this),(r instanceof t.window.HTMLElement||i)&&(r=t.extend({element:r},i)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._draggable=r&&r.draggable||!1,this._state="inactive",r&&r.element)this._element=r.element,this._offset=t.Point.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var l=n.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");for(var u=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<c.length;u+=1){var p=c[u],h=n.createNS("http://www.w3.org/2000/svg","ellipse");h.setAttributeNS(null,"opacity","0.04"),h.setAttributeNS(null,"cx","10.5"),h.setAttributeNS(null,"cy","5.80029008"),h.setAttributeNS(null,"rx",p.rx),h.setAttributeNS(null,"ry",p.ry),l.appendChild(h)}var f=n.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill",this._color);var d=n.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),f.appendChild(d);var g=n.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"fill","#000000");var m=n.createNS("http://www.w3.org/2000/svg","path");m.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),g.appendChild(m);var v=n.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(6.0, 7.0)"),v.setAttributeNS(null,"fill","#FFFFFF");var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=n.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),y.appendChild(_),y.appendChild(b),s.appendChild(l),s.appendChild(f),s.appendChild(g),s.appendChild(v),s.appendChild(y),o.appendChild(s),this._element.appendChild(o),this._offset=t.Point.convert(r&&r.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(t){t.preventDefault()})),Fr(this._element,this._anchor,"marker"),this._popup=null}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},r.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},r.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=Dr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,zr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"))},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},r.prototype._onMove=function(e){this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag"))},r.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},r.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},r.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r}(t.Evented),Ur={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Vr=function(e){function r(n){e.call(this),this.options=t.extend({},Ur,n),t.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.onAdd=function(e){var r;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==jr?r(jr):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then((function(t){jr="denied"!==t.state,r(jr)})):(jr=!!t.window.navigator.geolocation,r(jr)),this._container},r.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),n.remove(this._container),this._map=void 0},r.prototype._onSuccess=function(e){if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()},r.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,i=this._map.getBearing(),o=t.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})},r.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},r.prototype._onError=function(e){if(this.options.trackUserLocation)if(1===e.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(e){var r=this;!1!==e?(this._container.addEventListener("contextmenu",(function(t){return t.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Br(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(e){e.geolocateSource||"ACTIVE_LOCK"!==r._watchState||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new t.Event("trackuserlocationend")))}))):t.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},r.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},r}(t.Evented),qr={maxWidth:100,unit:"metric"},Gr=function(e){this.options=t.extend({},qr,e),t.bindAll(["_onMove","setUnit"],this)};function Wr(t,e,n){var r,i,o,a,s,l,u=n&&n.maxWidth||100,c=t._container.clientHeight/2,p=(r=t.unproject([0,c]),i=t.unproject([u,c]),o=Math.PI/180,a=r.lat*o,s=i.lat*o,l=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((i.lng-r.lng)*o),6371e3*Math.acos(Math.min(l,1)));if(n&&"imperial"===n.unit){var h=3.2808*p;h>5280?Hr(e,u,h/5280,"mi"):Hr(e,u,h,"ft")}else n&&"nautical"===n.unit?Hr(e,u,p/1852,"nm"):Hr(e,u,p,"m")}function Hr(t,e,n,r){var i,o,a,s=(i=n,(o=Math.pow(10,(""+Math.floor(i)).length-1))*(a=(a=i/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a))),l=s/n;"m"===r&&s>=1e3&&(s/=1e3,r="km"),t.style.width=e*l+"px",t.innerHTML=s+r}Gr.prototype.getDefaultPosition=function(){return"bottom-left"},Gr.prototype._onMove=function(){Wr(this._map,this._container,this.options)},Gr.prototype.onAdd=function(t){return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Gr.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Gr.prototype.setUnit=function(t){this.options.unit=t,Wr(this._map,this._container,this.options)};var Yr=function(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Yr.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Yr.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Yr.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},Yr.prototype._setupUI=function(){(this._fullscreenButton=n.create("button",this._className+"-icon "+this._className+"-fullscreen",this._controlContainer)).type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Yr.prototype._updateTitle=function(){var t=this._isFullscreen()?"Exit fullscreen":"Enter fullscreen";this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},Yr.prototype._isFullscreen=function(){return this._fullscreen},Yr.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"),this._updateTitle())},Yr.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Xr={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Zr=function(e){function r(n){e.call(this),this.options=t.extend(Object.create(Xr),n),t.bindAll(["_update","_onClickClose","remove"],this)}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.addTo=function(e){return this._map=e,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this.fire(new t.Event("open")),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),delete this._map),this.fire(new t.Event("close")),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._update(),this},r.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},r.prototype.setHTML=function(e){var n,r=t.window.document.createDocumentFragment(),i=t.window.document.createElement("body");for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return this.setDOMContent(r)},r.prototype.getMaxWidth=function(){return this._container.style.maxWidth},r.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},r.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},r.prototype._createContent=function(){this._content&&n.remove(this._content),this._content=n.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},r.prototype._update=function(){var e=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(t){return e._container.classList.add(t)}))),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&(this._lngLat=Dr(this._lngLat,this._pos,this._map.transform));var r=this._pos=this._map.project(this._lngLat),i=this.options.anchor,o=function e(n){if(n){if("number"==typeof n){var r=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(r,r),"top-right":new t.Point(-r,r),bottom:new t.Point(0,-n),"bottom-left":new t.Point(r,-r),"bottom-right":new t.Point(-r,-r),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var i=t.Point.convert(n);return{center:i,top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!i){var a,s=this._container.offsetWidth,l=this._container.offsetHeight;a=r.y+o.bottom.y<l?["top"]:r.y>this._map.transform.height-l?["bottom"]:[],r.x<s/2?a.push("left"):r.x>this._map.transform.width-s/2&&a.push("right"),i=0===a.length?"bottom":a.join("-")}var u=r.add(o[i]).round();n.setTransform(this._container,zr[i]+" translate("+u.x+"px,"+u.y+"px)"),Fr(this._container,i,"popup")}},r.prototype._onClickClose=function(){this.remove()},r}(t.Evented),Kr={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,Map:Mr,NavigationControl:Rr,GeolocateControl:Vr,AttributionControl:Tr,ScaleControl:Gr,FullscreenControl:Yr,Popup:Zr,Marker:Br,Style:Re,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Mt.workerCount},set workerCount(t){Mt.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},workerUrl:""};return Kr})),n}()},function(t,e,n){t.exports={isolines:n(581),convex:n(585),within:n(600),concave:n(601),difference:n(602),collect:n(603),flip:n(604),simplify:n(605),bezier:n(607),tag:n(609),sample:n(610),envelope:n(611),square:n(302),midpoint:n(612),buffer:n(613),center:n(306),centroid:n(615),combine:n(616),distance:n(36),explode:n(307),bbox:n(149),tesselate:n(617),bboxPolygon:n(305),inside:n(86),intersect:n(619),nearest:n(620),planepoint:n(301),random:n(621),tin:n(213),union:n(304),bearing:n(151),destination:n(152),kinks:n(623),pointOnSurface:n(624),area:n(625),along:n(628),lineDistance:n(629),lineSlice:n(630),pointOnLine:n(308),pointGrid:n(631),squareGrid:n(632),triangleGrid:n(633),hexGrid:n(634)};var r=n(16);t.exports.point=r.point,t.exports.polygon=r.polygon,t.exports.lineString=r.lineString,t.exports.multiPoint=r.multiPoint,t.exports.multiPolygon=r.multiPolygon,t.exports.multiLineString=r.multiLineString,t.exports.feature=r.feature,t.exports.featureCollection=r.featureCollection,t.exports.geometryCollection=r.geometryCollection},function(t,e,n){var r=n(16).polygon,i=n(16).featureCollection;function o(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o,a,s=e.x-t.x,l=e.y-t.y,u=n.x-t.x,c=n.y-t.y,p=s*(t.x+e.x)+l*(t.y+e.y),h=u*(t.x+n.x)+c*(t.y+n.y),f=2*(s*(n.y-e.y)-l*(n.x-e.x));Math.abs(f)<1e-6?(r=Math.min(t.x,e.x,n.x),i=Math.min(t.y,e.y,n.y),o=.5*(Math.max(t.x,e.x,n.x)-r),a=.5*(Math.max(t.y,e.y,n.y)-i),this.x=r+o,this.y=i+a,this.r=o*o+a*a):(this.x=(c*p-l*h)/f,this.y=(s*h-u*p)/f,o=this.x-t.x,a=this.y-t.y,this.r=o*o+a*a)}function a(t,e){return e.x-t.x}function s(t){var e,n,r,i,o,a=t.length;t:for(;a;)for(n=t[--a],e=t[--a],r=a;r;)if(o=t[--r],e===(i=t[--r])&&n===o||e===o&&n===i){t.splice(a,2),t.splice(r,2),a-=2;continue t}}t.exports=function(t,e){return i(function(t){if(t.length<3)return[];t.sort(a);var e=t.length-1,n=t[e].x,r=t[0].x,i=t[e].y,l=i;for(;e--;)t[e].y<i&&(i=t[e].y),t[e].y>l&&(l=t[e].y);var u,c,p,h=r-n,f=l-i,d=h>f?h:f,g=.5*(r+n),m=.5*(l+i),v=[new o({x:g-20*d,y:m-d,__sentinel:!0},{x:g,y:m+20*d,__sentinel:!0},{x:g+20*d,y:m-d,__sentinel:!0})],y=[],_=[];e=t.length;for(;e--;){for(_.length=0,u=v.length;u--;)(h=t[e].x-v[u].x)>0&&h*h>v[u].r?(y.push(v[u]),v.splice(u,1)):(f=t[e].y-v[u].y,h*h+f*f>v[u].r||(_.push(v[u].a,v[u].b,v[u].b,v[u].c,v[u].c,v[u].a),v.splice(u,1)));for(s(_),u=_.length;u;)p=_[--u],c=_[--u],v.push(new o(c,p,t[e]))}Array.prototype.push.apply(y,v),e=y.length;for(;e--;)(y[e].a.__sentinel||y[e].b.__sentinel||y[e].c.__sentinel)&&y.splice(e,1);return y}(t.features.map((function(t){var n={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e&&(n.z=t.properties[e]),n}))).map((function(t){return r([[[t.a.x,t.a.y],[t.b.x,t.b.y],[t.c.x,t.c.y],[t.a.x,t.a.y]]],{a:t.a.z,b:t.b.z,c:t.c.z})})))}},function(t,e,n){"use strict";var r=n(303),i=n(590),o=n(591),a=n(593);function s(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[r][o]);return n}function l(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",l(t.slice(0,e)),",",l(t.slice(e)),")"].join("")}function u(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",l(u(s(t,n))),",",(r=n,1&r?"-":""),t[0][n],")"].join(""));return e;var r}function c(t){for(var e=[],n=[],c=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),p=[],h=0;h<t;++h)0==(1&h)?e.push.apply(e,u(s(c,h))):n.push.apply(n,u(s(c,h))),p.push("m"+h);var f=l(e),d=l(n),g="orientation"+t+"Exact",m=["function ",g,"(",p.join(),"){var p=",f,",n=",d,",d=sub(p,n);return d[d.length-1];};return ",g].join("");return new Function("sum","prod","scale","sub",m)(i,r,o,a)}var p=c(3),h=c(4),f=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var s=33306690738754716e-32*r;return a>=s||a<=-s?a:p(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],a=n[0]-r[0],s=t[1]-r[1],l=e[1]-r[1],u=n[1]-r[1],c=t[2]-r[2],p=e[2]-r[2],f=n[2]-r[2],d=o*u,g=a*l,m=a*s,v=i*u,y=i*l,_=o*s,b=c*(d-g)+p*(m-v)+f*(y-_),x=7771561172376103e-31*((Math.abs(d)+Math.abs(g))*Math.abs(c)+(Math.abs(m)+Math.abs(v))*Math.abs(p)+(Math.abs(y)+Math.abs(_))*Math.abs(f));return b>x||-b>x?b:h(t,e,n,r)}];function d(t){var e=f[t.length];return e||(e=f[t.length]=c(t.length)),e.apply(void 0,t)}!function(){for(;f.length<=5;)f.push(c(f.length));for(var e=[],n=["slow"],r=0;r<=5;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);for(t.exports=o.apply(void 0,[d].concat(f)),r=0;r<=5;++r)t.exports[r]=f[r]}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canUseDOM=void 0;var r,i=n(645);var o=((r=i)&&r.__esModule?r:{default:r}).default,a=o.canUseDOM?window.HTMLElement:{};e.canUseDOM=o.canUseDOM;e.default=a},function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function i(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!=n?n:null}.bind(this))}function o(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?s="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=t.displayName||t.name,u="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=i),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=o;var c=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={toggle:function(t){var e=t.node.toggled,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return{animation:{rotateZ:e?90:0},duration:n}},drawer:function(){return{enter:{animation:"slideDown",duration:300},leave:{animation:"slideUp",duration:300}}}};e.default=r},function(t,e,n){"use strict";if("undefined"==typeof window||"undefined"==typeof navigator||-1!==navigator.userAgent.indexOf("Node.js")||-1!==navigator.userAgent.indexOf("jsdom")){var r=function(){};(r.Utilities={}).removeData=function(){},r.velocityReactServerShim=!0,t.exports=r}else{var i=window.jQuery||window.Zepto||window;t.exports=i.Velocity?i.Velocity:n(656)}},function(t,e,n){"use strict";var r=n(677);t.exports=Function.prototype.bind||r},function(t,e,n){"use strict";var r=n(315),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),u=function(t,e,n,r){var i;e in t&&("function"!=typeof(i=r)||"[object Function]"!==o.call(i)||!r())||(l?s(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},c=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=a.call(o,Object.getOwnPropertySymbols(e)));for(var s=0;s<o.length;s+=1)u(t,o[s],e[o[s]],n[o[s]])};c.supportsDescriptors=!!l,t.exports=c},function(t,e,n){var r,i;i=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var r=n(1).Beautifier,i=n(5).Options;t.exports=function(t,e){return new r(t,e).beautify()},t.exports.defaultOptions=function(){return new i}},function(t,e,n){"use strict";var r=n(2).Output,i=n(3).Token,o=n(4),a=n(5).Options,s=n(7).Tokenizer,l=n(7).line_starters,u=n(7).positionable_operators,c=n(7).TOKEN;function p(t,e){return-1!==e.indexOf(t)}function h(t,e){return t&&t.type===c.RESERVED&&t.text===e}function f(t,e){return t&&t.type===c.RESERVED&&p(t.text,e)}var d=["case","return","do","if","throw","else","await","break","continue","async"],g=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].replace(/-/g,"_")]=t[n];return e}(["before-newline","after-newline","preserve-newline"]),m=[g.before_newline,g.preserve_newline],v="BlockStatement",y="Statement",_="ObjectLiteral",b="ArrayLiteral",x="ForInitializer",w="Conditional",E="Expression";function C(t,e){e.multiline_frame||e.mode===x||e.mode===w||t.remove_indent(e.start_line_index)}function S(t){return t===b}function T(t){return p(t,[E,x,w])}function k(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new a(e)}k.prototype.create_flags=function(t,e){var n=0;return t&&(n=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>n&&(n=t.line_indent_level)),{mode:e,parent:t,last_token:t?t.last_token:new i(c.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:n,alignment:0,line_indent_level:t?t.line_indent_level:n,start_line_index:this._output.get_line_number(),ternary_depth:0}},k.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new r(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(v);var n=new s(t,this._options);return this._tokens=n.tokenize(),t},k.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._reset(this._source_text),e=this._options.eol;"auto"===this._options.eol&&(e="\n",t&&o.lineBreak.test(t||"")&&(e=t.match(o.lineBreak)[0]));for(var n=this._tokens.next();n;)this.handle_token(n),this._last_last_text=this._flags.last_token.text,this._flags.last_token=n,n=this._tokens.next();return this._output.get_code(e)},k.prototype.handle_token=function(t,e){t.type===c.START_EXPR?this.handle_start_expr(t):t.type===c.END_EXPR?this.handle_end_expr(t):t.type===c.START_BLOCK?this.handle_start_block(t):t.type===c.END_BLOCK?this.handle_end_block(t):t.type===c.WORD?this.handle_word(t):t.type===c.RESERVED?this.handle_word(t):t.type===c.SEMICOLON?this.handle_semicolon(t):t.type===c.STRING?this.handle_string(t):t.type===c.EQUALS?this.handle_equals(t):t.type===c.OPERATOR?this.handle_operator(t):t.type===c.COMMA?this.handle_comma(t):t.type===c.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===c.COMMENT?this.handle_comment(t,e):t.type===c.DOT?this.handle_dot(t):t.type===c.EOF?this.handle_eof(t):(t.type,c.UNKNOWN,this.handle_unknown(t,e))},k.prototype.handle_whitespace_and_comments=function(t,e){var n=t.newlines,r=this._options.keep_array_indentation&&S(this._flags.mode);if(t.comments_before)for(var i=t.comments_before.next();i;)this.handle_whitespace_and_comments(i,e),this.handle_token(i,e),i=t.comments_before.next();if(r)for(var o=0;o<n;o+=1)this.print_newline(o>0,e);else if(this._options.max_preserve_newlines&&n>this._options.max_preserve_newlines&&(n=this._options.max_preserve_newlines),this._options.preserve_newlines&&n>1){this.print_newline(!1,e);for(var a=1;a<n;a+=1)this.print_newline(!0,e)}};var O=["async","break","continue","return","throw","yield"];k.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=void 0!==e&&e,!this._output.just_added_newline()){var n=this._options.preserve_newlines&&t.newlines||e;if(p(this._flags.last_token.text,u)||p(t.text,u)){var r=p(this._flags.last_token.text,u)&&p(this._options.operator_position,m)||p(t.text,u);n=n&&r}if(n)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(f(this._flags.last_token,O))return;this._output.set_wrap_point()}}},k.prototype.print_newline=function(t,e){if(!e&&";"!==this._flags.last_token.text&&","!==this._flags.last_token.text&&"="!==this._flags.last_token.text&&(this._flags.last_token.type!==c.OPERATOR||"--"===this._flags.last_token.text||"++"===this._flags.last_token.text))for(var n=this._tokens.peek();!(this._flags.mode!==y||this._flags.if_block&&h(n,"else")||this._flags.do_block);)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)},k.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&("["===t.text||S(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},k.prototype.print_token=function(t){if(this._output.raw)this._output.add_raw_token(t);else{if(this._options.comma_first&&t.previous&&t.previous.type===c.COMMA&&this._output.just_added_newline()&&","===this._output.previous_line.last()){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)}},k.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},k.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},k.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},k.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===y&&C(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},k.prototype.start_of_object_property=function(){return this._flags.parent.mode===_&&this._flags.mode===y&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||f(this._flags.last_token,["get","set"]))},k.prototype.start_of_statement=function(t){var e=!1;return!!(e=(e=(e=(e=(e=(e=(e=e||f(this._flags.last_token,["var","let","const"])&&t.type===c.WORD)||h(this._flags.last_token,"do"))||!(this._flags.parent.mode===_&&this._flags.mode===y)&&f(this._flags.last_token,O)&&!t.newlines)||h(this._flags.last_token,"else")&&!(h(t,"if")&&!t.comments_before))||this._flags.last_token.type===c.END_EXPR&&(this._previous_flags.mode===x||this._previous_flags.mode===w))||this._flags.last_token.type===c.WORD&&this._flags.mode===v&&!this._flags.in_case&&!("--"===t.text||"++"===t.text)&&"function"!==this._last_last_text&&t.type!==c.WORD&&t.type!==c.RESERVED)||this._flags.mode===_&&(":"===this._flags.last_token.text&&0===this._flags.ternary_depth||f(this._flags.last_token,["get","set"])))&&(this.set_mode(y),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,f(t,["do","for","if","while"])),!0)},k.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=E;if("["===t.text){if(this._flags.last_token.type===c.WORD||")"===this._flags.last_token.text)return f(this._flags.last_token,l)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),void(this._options.space_in_paren&&(this._output.space_before_token=!0));e=b,S(this._flags.mode)&&("["!==this._flags.last_token.text&&(","!==this._flags.last_token.text||"]"!==this._last_last_text&&"}"!==this._last_last_text)||this._options.keep_array_indentation||this.print_newline()),p(this._flags.last_token.type,[c.START_EXPR,c.END_EXPR,c.WORD,c.OPERATOR])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===c.RESERVED)"for"===this._flags.last_token.text?(this._output.space_before_token=this._options.space_before_conditional,e=x):p(this._flags.last_token.text,["if","while"])?(this._output.space_before_token=this._options.space_before_conditional,e=w):p(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:"import"===this._flags.last_token.text&&""===t.whitespace_before?this._output.space_before_token=!1:(p(this._flags.last_token.text,l)||"catch"===this._flags.last_token.text)&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===c.EQUALS||this._flags.last_token.type===c.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===c.WORD){this._output.space_before_token=!1;var n=this._tokens.peek(-3);if(this._options.space_after_named_function&&n){var r=this._tokens.peek(-4);f(n,["async","function"])||"*"===n.text&&f(r,["async","function"])?this._output.space_before_token=!0:this._flags.mode===_&&("{"!==n.text&&","!==n.text&&("*"!==n.text||"{"!==r.text&&","!==r.text)||(this._output.space_before_token=!0))}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===c.RESERVED&&("function"===this._flags.last_word||"typeof"===this._flags.last_word)||"*"===this._flags.last_token.text&&(p(this._last_last_text,["function","yield"])||this._flags.mode===_&&p(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}";"===this._flags.last_token.text||this._flags.last_token.type===c.START_BLOCK?this.print_newline():this._flags.last_token.type!==c.END_EXPR&&this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.END_BLOCK&&"."!==this._flags.last_token.text&&this._flags.last_token.type!==c.COMMA||this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},k.prototype.handle_end_expr=function(t){for(;this._flags.mode===y;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,"]"===t.text&&S(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type!==c.START_EXPR||this._options.space_in_empty_paren?this._output.space_before_token=!0:(this._output.trim(),this._output.space_before_token=!1)),this.deindent(),this.print_token(t),this.restore_mode(),C(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===w&&(this._previous_flags.mode=E,this._flags.do_block=!1,this._flags.do_while=!1)},k.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),n=this._tokens.peek(1);"switch"===this._flags.last_word&&this._flags.last_token.type===c.END_EXPR?(this.set_mode(v),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(v):n&&(p(n.text,[":",","])&&p(e.type,[c.STRING,c.WORD,c.RESERVED])||p(e.text,["get","set","..."])&&p(n.type,[c.WORD,c.RESERVED]))?p(this._last_last_text,["class","interface"])?this.set_mode(v):this.set_mode(_):this._flags.last_token.type===c.OPERATOR&&"=>"===this._flags.last_token.text?this.set_mode(v):p(this._flags.last_token.type,[c.EQUALS,c.START_EXPR,c.COMMA,c.OPERATOR])||f(this._flags.last_token,["return","throw","import","default"])?this.set_mode(_):this.set_mode(v);var r=!e.comments_before&&"}"===e.text,i=r&&"function"===this._flags.last_word&&this._flags.last_token.type===c.END_EXPR;if(this._options.brace_preserve_inline){var o=0,a=null;this._flags.inline_frame=!0;do{if(o+=1,(a=this._tokens.peek(o-1)).newlines){this._flags.inline_frame=!1;break}}while(a.type!==c.EOF&&(a.type!==c.END_BLOCK||a.opened!==t))}("expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==c.OPERATOR&&(i||this._flags.last_token.type===c.EQUALS||f(this._flags.last_token,d)&&"else"!==this._flags.last_token.text)?this._output.space_before_token=!0:this.print_newline(!1,!0):(!S(this._previous_flags.mode)||this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.COMMA||((this._flags.last_token.type===c.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===c.COMMA||this._flags.last_token.type===c.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==c.OPERATOR&&this._flags.last_token.type!==c.START_EXPR&&(this._flags.last_token.type!==c.START_BLOCK||this._flags.inline_frame?this._output.space_before_token=!0:this.print_newline())),this.print_token(t),this.indent(),r||this._options.brace_preserve_inline&&this._flags.inline_frame||this.print_newline()},k.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===y;)this.restore_mode();var e=this._flags.last_token.type===c.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:"expand"===this._options.brace_style?e||this.print_newline():e||(S(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)},k.prototype.handle_word=function(t){if(t.type===c.RESERVED&&(p(t.text,["set","get"])&&this._flags.mode!==_?t.type=c.WORD:"import"===t.text&&"("===this._tokens.peek().text?t.type=c.WORD:p(t.text,["as","from"])&&!this._flags.import_block?t.type=c.WORD:this._flags.mode===_&&":"===this._tokens.peek().text&&(t.type=c.WORD)),this.start_of_statement(t)?f(this._flags.last_token,["var","let","const"])&&t.type===c.WORD&&(this._flags.declaration_statement=!0):!t.newlines||T(this._flags.mode)||this._flags.last_token.type===c.OPERATOR&&"--"!==this._flags.last_token.text&&"++"!==this._flags.last_token.text||this._flags.last_token.type===c.EQUALS||!this._options.preserve_newlines&&f(this._flags.last_token,["var","let","const","set","get"])?this.handle_whitespace_and_comments(t):(this.handle_whitespace_and_comments(t),this.print_newline()),this._flags.do_block&&!this._flags.do_while){if(h(t,"while"))return this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,void(this._flags.do_while=!0);this.print_newline(),this._flags.do_block=!1}if(this._flags.if_block)if(!this._flags.else_block&&h(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===y;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&f(t,["case","default"]))return this.print_newline(),this._flags.last_token.type!==c.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),void(this._flags.in_case=!0);if(this._flags.last_token.type!==c.COMMA&&this._flags.last_token.type!==c.START_EXPR&&this._flags.last_token.type!==c.EQUALS&&this._flags.last_token.type!==c.OPERATOR||this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t),h(t,"function"))return(p(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!p(this._flags.last_token.text,["(","[","{",":","=",","])&&this._flags.last_token.type!==c.OPERATOR)&&(this._output.just_added_blankline()||t.comments_before||(this.print_newline(),this.print_newline(!0))),this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD?f(this._flags.last_token,["get","set","new","export"])||f(this._flags.last_token,O)?this._output.space_before_token=!0:h(this._flags.last_token,"default")&&"export"===this._last_last_text?this._output.space_before_token=!0:"declare"===this._flags.last_token.text?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===c.OPERATOR||"="===this._flags.last_token.text?this._output.space_before_token=!0:(this._flags.multiline_frame||!T(this._flags.mode)&&!S(this._flags.mode))&&this.print_newline(),this.print_token(t),void(this._flags.last_word=t.text);var e="NONE";this._flags.last_token.type===c.END_BLOCK?this._previous_flags.inline_frame?e="SPACE":f(t,["else","catch","finally","from"])?"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines?e="NEWLINE":(e="SPACE",this._output.space_before_token=!0):e="NEWLINE":this._flags.last_token.type===c.SEMICOLON&&this._flags.mode===v?e="NEWLINE":this._flags.last_token.type===c.SEMICOLON&&T(this._flags.mode)?e="SPACE":this._flags.last_token.type===c.STRING?e="NEWLINE":this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD||"*"===this._flags.last_token.text&&(p(this._last_last_text,["function","yield"])||this._flags.mode===_&&p(this._last_last_text,["{",","]))?e="SPACE":this._flags.last_token.type===c.START_BLOCK?e=this._flags.inline_frame?"SPACE":"NEWLINE":this._flags.last_token.type===c.END_EXPR&&(this._output.space_before_token=!0,e="NEWLINE"),f(t,l)&&")"!==this._flags.last_token.text&&(e=this._flags.inline_frame||"else"===this._flags.last_token.text||"export"===this._flags.last_token.text?"SPACE":"NEWLINE"),f(t,["else","catch","finally"])?(this._flags.last_token.type!==c.END_BLOCK||this._previous_flags.mode!==v||"expand"===this._options.brace_style||"end-expand"===this._options.brace_style||"none"===this._options.brace_style&&t.newlines)&&!this._flags.inline_frame?this.print_newline():(this._output.trim(!0),"}"!==this._output.current_line.last()&&this.print_newline(),this._output.space_before_token=!0):"NEWLINE"===e?f(this._flags.last_token,d)?this._output.space_before_token=!0:"declare"===this._flags.last_token.text&&f(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==c.END_EXPR?this._flags.last_token.type===c.START_EXPR&&f(t,["var","let","const"])||":"===this._flags.last_token.text||(h(t,"if")&&h(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):f(t,l)&&")"!==this._flags.last_token.text&&this.print_newline():this._flags.multiline_frame&&S(this._flags.mode)&&","===this._flags.last_token.text&&"}"===this._last_last_text?this.print_newline():"SPACE"===e&&(this._output.space_before_token=!0),!t.previous||t.previous.type!==c.WORD&&t.previous.type!==c.RESERVED||(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===c.RESERVED&&("do"===t.text?this._flags.do_block=!0:"if"===t.text?this._flags.if_block=!0:"import"===t.text?this._flags.import_block=!0:this._flags.import_block&&h(t,"from")&&(this._flags.import_block=!1))},k.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();!(this._flags.mode!==y||this._flags.if_block&&h(e,"else")||this._flags.do_block);)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)},k.prototype.handle_string=function(t){this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===c.RESERVED||this._flags.last_token.type===c.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===c.COMMA||this._flags.last_token.type===c.START_EXPR||this._flags.last_token.type===c.EQUALS||this._flags.last_token.type===c.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):this.print_newline()),this.print_token(t)},k.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0},k.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(T(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===_||this._flags.mode===y&&this._flags.parent.mode===_?(this._flags.mode===y&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)},k.prototype.handle_operator=function(t){var e="*"===t.text&&(f(this._flags.last_token,["function","yield"])||p(this._flags.last_token.type,[c.START_BLOCK,c.COMMA,c.END_BLOCK,c.SEMICOLON])),n=p(t.text,["-","+"])&&(p(this._flags.last_token.type,[c.START_BLOCK,c.START_EXPR,c.EQUALS,c.OPERATOR])||p(this._flags.last_token.text,l)||","===this._flags.last_token.text);if(this.start_of_statement(t));else{var r=!e;this.handle_whitespace_and_comments(t,r)}if(f(this._flags.last_token,d))return this._output.space_before_token=!0,void this.print_token(t);if("*"!==t.text||this._flags.last_token.type!==c.DOT)if("::"!==t.text){if(this._flags.last_token.type===c.OPERATOR&&p(this._options.operator_position,m)&&this.allow_wrap_or_preserved_newline(t),":"===t.text&&this._flags.in_case)return this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,void(this._tokens.peek().type!==c.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0);var i=!0,o=!0,a=!1;if(":"===t.text?0===this._flags.ternary_depth?i=!1:(this._flags.ternary_depth-=1,a=!0):"?"===t.text&&(this._flags.ternary_depth+=1),!n&&!e&&this._options.preserve_newlines&&p(t.text,u)){var s=":"===t.text,h=s&&a,_=s&&!a;switch(this._options.operator_position){case g.before_newline:return this._output.space_before_token=!_,this.print_token(t),s&&!h||this.allow_wrap_or_preserved_newline(t),void(this._output.space_before_token=!0);case g.after_newline:return this._output.space_before_token=!0,!s||h?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),void(this._output.space_before_token=!0);case g.preserve_newline:return _||this.allow_wrap_or_preserved_newline(t),i=!(this._output.just_added_newline()||_),this._output.space_before_token=i,this.print_token(t),void(this._output.space_before_token=!0)}}if(e){this.allow_wrap_or_preserved_newline(t),i=!1;var b=this._tokens.peek();o=b&&p(b.type,[c.WORD,c.RESERVED])}else"..."===t.text?(this.allow_wrap_or_preserved_newline(t),i=this._flags.last_token.type===c.START_BLOCK,o=!1):(p(t.text,["--","++","!","~"])||n)&&(this._flags.last_token.type!==c.COMMA&&this._flags.last_token.type!==c.START_EXPR||this.allow_wrap_or_preserved_newline(t),i=!1,o=!1,!t.newlines||"--"!==t.text&&"++"!==t.text||this.print_newline(!1,!0),";"===this._flags.last_token.text&&T(this._flags.mode)&&(i=!0),this._flags.last_token.type===c.RESERVED?i=!0:this._flags.last_token.type===c.END_EXPR?i=!("]"===this._flags.last_token.text&&("--"===t.text||"++"===t.text)):this._flags.last_token.type===c.OPERATOR&&(i=p(t.text,["--","-","++","+"])&&p(this._flags.last_token.text,["--","-","++","+"]),p(t.text,["+","-"])&&p(this._flags.last_token.text,["--","++"])&&(o=!0)),(this._flags.mode!==v||this._flags.inline_frame)&&this._flags.mode!==y||"{"!==this._flags.last_token.text&&";"!==this._flags.last_token.text||this.print_newline());this._output.space_before_token=this._output.space_before_token||i,this.print_token(t),this._output.space_before_token=o}else this.print_token(t);else this.print_token(t)},k.prototype.handle_block_comment=function(t,e){return this._output.raw?(this._output.add_raw_token(t),void(t.directives&&"end"===t.directives.preserve&&(this._output.raw=this._options.test_output_raw))):t.directives?(this.print_newline(!1,e),this.print_token(t),"start"===t.directives.preserve&&(this._output.raw=!0),void this.print_newline(!1,!0)):o.newline.test(t.text)||t.newlines?void this.print_block_commment(t,e):(this._output.space_before_token=!0,this.print_token(t),void(this._output.space_before_token=!0))},k.prototype.print_block_commment=function(t,e){var n,r=function(t){for(var e=[],n=(t=t.replace(o.allLineBreaks,"\n")).indexOf("\n");-1!==n;)e.push(t.substring(0,n)),n=(t=t.substring(n+1)).indexOf("\n");return t.length&&e.push(t),e}(t.text),i=!1,a=!1,s=t.whitespace_before,l=s.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(r[0]),this.print_newline(!1,e),r.length>1){for(i=function(t,e){for(var n=0;n<t.length;n++)if(t[n].trim().charAt(0)!==e)return!1;return!0}(r=r.slice(1),"*"),a=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if((n=t[r])&&0!==n.indexOf(e))return!1;return!0}(r,s),i&&(this._flags.alignment=1),n=0;n<r.length;n++)i?(this.print_token_line_indentation(t),this._output.add_token(r[n].replace(/^\s+/g,""))):a&&r[n]?(this.print_token_line_indentation(t),this._output.add_token(r[n].substring(l))):(this._output.current_line.set_indent(-1),this._output.add_token(r[n])),this.print_newline(!1,e);this._flags.alignment=0}},k.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)},k.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),f(this._flags.last_token,d)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,")"===this._flags.last_token.text&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)},k.prototype.handle_unknown=function(t,e){this.print_token(t),"\n"===t.text[t.text.length-1]&&this.print_newline(!1,e)},k.prototype.handle_eof=function(t){for(;this._flags.mode===y;)this.restore_mode();this.handle_whitespace_and_comments(t)},t.exports.Beautifier=k},function(t,e,n){"use strict";function r(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function i(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function o(t,e){this.__indent_cache=new i(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var t=new r(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},r.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},r.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},r.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},r.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},i.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e},i.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e]},i.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},i.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(t-=(e=Math.floor(t/this.__indent_size))*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},o.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},o.prototype.get_line_number=function(){return this.__lines.length},o.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},o.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},o.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},o.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},o.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},o.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},o.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},o.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},o.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},o.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},o.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},o.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},o.prototype.just_added_newline=function(){return this.current_line.is_empty()},o.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},o.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==e){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},t.exports.Output=o},function(t,e,n){"use strict";t.exports.Token=function(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},function(t,e,n){"use strict";var r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",i="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",o="(?:\\\\u[0-9a-fA-F]{4}|[\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a"+r+"])";e.identifier=new RegExp(o+"(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f])*","g"),e.identifierStart=new RegExp(o),e.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|[\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a"+r+i+"])+"),e.newline=/[\n\r\u2028\u2029]/,e.lineBreak=new RegExp("\r\n|"+e.newline.source),e.allLineBreaks=new RegExp(e.lineBreak.source,"g")},function(t,e,n){"use strict";var r=n(6).Options,i=["before-newline","after-newline","preserve-newline"];function o(t){r.call(this,t,"js");var e=this.raw_options.brace_style||null;"expand-strict"===e?this.raw_options.brace_style="expand":"collapse-preserve-inline"===e?this.raw_options.brace_style="collapse,preserve-inline":void 0!==this.raw_options.braces_on_own_line&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var n=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var o=0;o<n.length;o++)"preserve-inline"===n[o]?this.brace_preserve_inline=!0:this.brace_style=n[o];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",i),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}o.prototype=new r,t.exports.Options=o},function(t,e,n){"use strict";function r(t,e){this.raw_options=i(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function i(t,e){var n,r={};for(n in t=o(t))n!==e&&(r[n]=t[n]);if(e&&t[e])for(n in t[e])r[n]=t[e][n];return r}function o(t){var e,n={};for(e in t)n[e.replace(/-/g,"_")]=t[e];return n}r.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},r.prototype._get_boolean=function(t,e){var n=this.raw_options[t];return void 0===n?!!e:!!n},r.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},r.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r},r.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r[0]},r.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r},r.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=r,t.exports.normalizeOpts=o,t.exports.mergeOpts=i},function(t,e,n){"use strict";var r=n(8).InputScanner,i=n(9).Tokenizer,o=n(9).TOKEN,a=n(13).Directives,s=n(4),l=n(12).Pattern,u=n(14).TemplatablePattern;function c(t,e){return-1!==e.indexOf(t)}var p={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:o.START,RAW:o.RAW,EOF:o.EOF},h=new a(/\/\*/,/\*\//),f=/0[xX][0123456789abcdefABCDEF]*|0[oO][01234567]*|0[bB][01]*|\d+n|(?:\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?/,d=/[0-9]/,g=/[^\d\.]/,m=">>> === !== << && >= ** != == <= >> || < / - + > : & % ? ^ | *".split(" "),v=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ++ %= &= *= |= = ! ? > < : / ^ - + * & % ~ |";v=(v=v.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")).replace(/ /g,"|");var y,_=new RegExp(v),b="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),x=b.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),w=new RegExp("^(?:"+x.join("|")+")$"),E=function(t,e){i.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var n=new l(this._input),r=new u(this._input).read_options(this._options);this.__patterns={template:r,identifier:r.starting_with(s.identifier).matching(s.identifierMatch),number:n.matching(f),punct:n.matching(_),comment:n.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:n.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:n.matching(/<!--/),html_comment_end:n.matching(/-->/),include:n.starting_with(/#include/).until_after(s.lineBreak),shebang:n.starting_with(/#!/).until_after(s.lineBreak),xml:n.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\])(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:r.until(/['\\\n\r\u2028\u2029]/),double_quote:r.until(/["\\\n\r\u2028\u2029]/),template_text:r.until(/[`\\$]/),template_expression:r.until(/[`}\\]/)}};(E.prototype=new i)._is_comment=function(t){return t.type===p.COMMENT||t.type===p.BLOCK_COMMENT||t.type===p.UNKNOWN},E.prototype._is_opening=function(t){return t.type===p.START_BLOCK||t.type===p.START_EXPR},E.prototype._is_closing=function(t,e){return(t.type===p.END_BLOCK||t.type===p.END_EXPR)&&e&&("]"===t.text&&"["===e.text||")"===t.text&&"("===e.text||"}"===t.text&&"{"===e.text)},E.prototype._reset=function(){y=!1},E.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(p.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_non_javascript(r))||this._read_string(r))||this._read_word(t))||this._read_singles(r))||this._read_comment(r))||this._read_regexp(r,t))||this._read_xml(r,t))||this._read_punctuation())||this._create_token(p.UNKNOWN,this._input.next())},E.prototype._read_word=function(t){var e;return""!==(e=this.__patterns.identifier.read())?(e=e.replace(s.allLineBreaks,"\n"),t.type!==p.DOT&&(t.type!==p.RESERVED||"set"!==t.text&&"get"!==t.text)&&w.test(e)?"in"===e||"of"===e?this._create_token(p.OPERATOR,e):this._create_token(p.RESERVED,e):this._create_token(p.WORD,e)):""!==(e=this.__patterns.number.read())?this._create_token(p.WORD,e):void 0},E.prototype._read_singles=function(t){var e=null;return"("===t||"["===t?e=this._create_token(p.START_EXPR,t):")"===t||"]"===t?e=this._create_token(p.END_EXPR,t):"{"===t?e=this._create_token(p.START_BLOCK,t):"}"===t?e=this._create_token(p.END_BLOCK,t):";"===t?e=this._create_token(p.SEMICOLON,t):"."===t&&g.test(this._input.peek(1))?e=this._create_token(p.DOT,t):","===t&&(e=this._create_token(p.COMMA,t)),e&&this._input.next(),e},E.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(""!==t)return"="===t?this._create_token(p.EQUALS,t):this._create_token(p.OPERATOR,t)},E.prototype._read_non_javascript=function(t){var e="";if("#"===t){if(this._is_first_token()&&(e=this.__patterns.shebang.read()))return this._create_token(p.UNKNOWN,e.trim()+"\n");if(e=this.__patterns.include.read())return this._create_token(p.UNKNOWN,e.trim()+"\n");t=this._input.next();var n="#";if(this._input.hasNext()&&this._input.testChar(d)){do{n+=t=this._input.next()}while(this._input.hasNext()&&"#"!==t&&"="!==t);return"#"===t||("["===this._input.peek()&&"]"===this._input.peek(1)?(n+="[]",this._input.next(),this._input.next()):"{"===this._input.peek()&&"}"===this._input.peek(1)&&(n+="{}",this._input.next(),this._input.next())),this._create_token(p.WORD,n)}this._input.back()}else if("<"===t&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read()){for(;this._input.hasNext()&&!this._input.testChar(s.newline);)e+=this._input.next();return y=!0,this._create_token(p.COMMENT,e)}}else if(y&&"-"===t&&(e=this.__patterns.html_comment_end.read()))return y=!1,this._create_token(p.COMMENT,e);return null},E.prototype._read_comment=function(t){var e=null;if("/"===t){var n="";if("*"===this._input.peek(1)){n=this.__patterns.block_comment.read();var r=h.get_directives(n);r&&"start"===r.ignore&&(n+=h.readIgnored(this._input)),n=n.replace(s.allLineBreaks,"\n"),(e=this._create_token(p.BLOCK_COMMENT,n)).directives=r}else"/"===this._input.peek(1)&&(n=this.__patterns.comment.read(),e=this._create_token(p.COMMENT,n))}return e},E.prototype._read_string=function(t){if("`"===t||"'"===t||'"'===t){var e=this._input.next();return this.has_char_escapes=!1,e+="`"===t?this._read_string_recursive("`",!0,"${"):this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=function(t){for(var e="",n=0,i=new r(t),o=null;i.hasNext();)if((o=i.match(/([\s]|[^\\]|\\\\)+/g))&&(e+=o[0]),"\\"===i.peek()){if(i.next(),"x"===i.peek())o=i.match(/x([0-9A-Fa-f]{2})/g);else{if("u"!==i.peek()){e+="\\",i.hasNext()&&(e+=i.next());continue}o=i.match(/u([0-9A-Fa-f]{4})/g)}if(!o)return t;if((n=parseInt(o[1],16))>126&&n<=255&&0===o[0].indexOf("x"))return t;if(n>=0&&n<32){e+="\\"+o[0];continue}e+=34===n||39===n||92===n?"\\"+String.fromCharCode(n):String.fromCharCode(n)}return e}(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(s.allLineBreaks,"\n"),this._create_token(p.STRING,e)}return null},E.prototype._allow_regexp_or_xml=function(t){return t.type===p.RESERVED&&c(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===p.END_EXPR&&")"===t.text&&t.opened.previous.type===p.RESERVED&&c(t.opened.previous.text,["if","while","for"])||c(t.type,[p.COMMENT,p.START_EXPR,p.START_BLOCK,p.START,p.END_BLOCK,p.OPERATOR,p.EQUALS,p.EOF,p.SEMICOLON,p.COMMA])},E.prototype._read_regexp=function(t,e){if("/"===t&&this._allow_regexp_or_xml(e)){for(var n=this._input.next(),r=!1,i=!1;this._input.hasNext()&&(r||i||this._input.peek()!==t)&&!this._input.testChar(s.newline);)n+=this._input.peek(),r?r=!1:(r="\\"===this._input.peek(),"["===this._input.peek()?i=!0:"]"===this._input.peek()&&(i=!1)),this._input.next();return this._input.peek()===t&&(n+=this._input.next(),n+=this._input.read(s.identifier)),this._create_token(p.STRING,n)}return null},E.prototype._read_xml=function(t,e){if(this._options.e4x&&"<"===t&&this._allow_regexp_or_xml(e)){var n="",r=this.__patterns.xml.read_match();if(r){for(var i=r[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),o=0===i.indexOf("{"),a=0;r;){var l=!!r[1],u=r[2];if(!(r[r.length-1]||"![CDATA["===u.slice(0,8))&&(u===i||o&&u.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(l?--a:++a),n+=r[0],a<=0)break;r=this.__patterns.xml.read_match()}return r||(n+=this._input.match(/[\s\S]*/g)[0]),n=n.replace(s.allLineBreaks,"\n"),this._create_token(p.STRING,n)}}return null},E.prototype._read_string_recursive=function(t,e,n){var r,i;"'"===t?i=this.__patterns.single_quote:'"'===t?i=this.__patterns.double_quote:"`"===t?i=this.__patterns.template_text:"}"===t&&(i=this.__patterns.template_expression);for(var o=i.read(),a="";this._input.hasNext();){if((a=this._input.next())===t||!e&&s.newline.test(a)){this._input.back();break}"\\"===a&&this._input.hasNext()?("x"===(r=this._input.peek())||"u"===r?this.has_char_escapes=!0:"\r"===r&&"\n"===this._input.peek(1)&&this._input.next(),a+=this._input.next()):n&&("${"===n&&"$"===a&&"{"===this._input.peek()&&(a+=this._input.next()),n===a&&(a+="`"===t?this._read_string_recursive("}",e,"`"):this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(a+=this._input.next()))),o+=a+=i.read()}return o},t.exports.Tokenizer=E,t.exports.TOKEN=p,t.exports.positionable_operators=m.slice(),t.exports.line_starters=b.slice()},function(t,e,n){"use strict";var r=RegExp.prototype.hasOwnProperty("sticky");function i(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}i.prototype.restart=function(){this.__position=0},i.prototype.back=function(){this.__position>0&&(this.__position-=1)},i.prototype.hasNext=function(){return this.__position<this.__input_length},i.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},i.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},i.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return!n||r&&t.sticky||n.index!==e&&(n=null),n},i.prototype.test=function(t,e){return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&!!this.__match(t,e)},i.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},i.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},i.prototype.read=function(t,e,n){var r,i="";return t&&(r=this.match(t))&&(i+=r[0]),!e||!r&&t||(i+=this.readUntil(e,n)),i},i.prototype.readUntil=function(t,e){var n,r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},i.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},i.prototype.get_regexp=function(t,e){var n=null,i="g";return e&&r&&(i="y"),"string"==typeof t&&""!==t?n=new RegExp(t,i):t&&(n=new RegExp(t.source,i)),n},i.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},i.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},i.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=i},function(t,e,n){"use strict";var r=n(8).InputScanner,i=n(3).Token,o=n(10).TokenStream,a=n(11).WhitespacePattern,s={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},l=function(t,e){this._input=new r(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new a(this._input)};l.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new o,this._reset();for(var e=new i(s.START,""),n=null,r=[],a=new o;e.type!==s.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)a.add(t),t=this._get_next_token(e,n);a.isEmpty()||(t.comments_before=a,a=new o),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens},l.prototype._is_first_token=function(){return this.__tokens.isEmpty()},l.prototype._reset=function(){},l.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(s.RAW,n):this._create_token(s.EOF,"")},l.prototype._is_comment=function(t){return!1},l.prototype._is_opening=function(t){return!1},l.prototype._is_closing=function(t,e){return!1},l.prototype._create_token=function(t,e){return new i(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},l.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.Tokenizer=l,t.exports.TOKEN=s},function(t,e,n){"use strict";function r(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}r.prototype.restart=function(){this.__position=0},r.prototype.isEmpty=function(){return 0===this.__tokens_length},r.prototype.hasNext=function(){return this.__position<this.__tokens_length},r.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},r.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e},r.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.TokenStream=r},function(t,e,n){"use strict";var r=n(12).Pattern;function i(t,e){r.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new r,i.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(" "===t)this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t},i.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r},t.exports.WhitespacePattern=i},function(t,e,n){"use strict";function r(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}r.prototype.read=function(){var t=this._input.read(this._starting_pattern);return this._starting_pattern&&!t||(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},r.prototype.read_match=function(){return this._input.match(this._match_pattern)},r.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},r.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},r.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},r.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},r.prototype._create=function(){return new r(this._input,this)},r.prototype._update=function(){},t.exports.Pattern=r},function(t,e,n){"use strict";function r(t,e){t="string"==typeof t?t:t.source,e="string"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}r.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},r.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=r},function(t,e,n){"use strict";var r=n(12).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1};function o(t,e){r.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new r(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/)}}o.prototype=new r,o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){this.__set_templated_pattern()},o.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},o.prototype.read_options=function(t){var e=this._create();for(var n in i)e._disabled[n]=-1===t.templating.indexOf(n);return e._update(),e},o.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},o.prototype.read=function(){var t="";t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},o.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")},o.prototype._read_template=function(){var t="",e=this._input.peek();if("<"===e){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(t=t||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(t=t||this.__patterns.erb.read())}else"{"===e&&(this._disabled.handlebars||this._excluded.handlebars||(t=(t=(t=t||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=(t=t||this.__patterns.django_comment.read())||this.__patterns.django.read())));return t},t.exports.TemplatablePattern=o}]),void 0===(r=function(){return{js_beautify:i}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,i;i=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([,,function(t,e,n){"use strict";function r(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function i(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function o(t,e){this.__indent_cache=new i(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var t=new r(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},r.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},r.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},r.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},r.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},i.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e},i.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e]},i.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},i.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(t-=(e=Math.floor(t/this.__indent_size))*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},o.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},o.prototype.get_line_number=function(){return this.__lines.length},o.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},o.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},o.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},o.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},o.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},o.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},o.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},o.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},o.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},o.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},o.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},o.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},o.prototype.just_added_newline=function(){return this.current_line.is_empty()},o.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},o.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==e){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},t.exports.Output=o},,,,function(t,e,n){"use strict";function r(t,e){this.raw_options=i(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function i(t,e){var n,r={};for(n in t=o(t))n!==e&&(r[n]=t[n]);if(e&&t[e])for(n in t[e])r[n]=t[e][n];return r}function o(t){var e,n={};for(e in t)n[e.replace(/-/g,"_")]=t[e];return n}r.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},r.prototype._get_boolean=function(t,e){var n=this.raw_options[t];return void 0===n?!!e:!!n},r.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},r.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r},r.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r[0]},r.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r},r.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=r,t.exports.normalizeOpts=o,t.exports.mergeOpts=i},,function(t,e,n){"use strict";var r=RegExp.prototype.hasOwnProperty("sticky");function i(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}i.prototype.restart=function(){this.__position=0},i.prototype.back=function(){this.__position>0&&(this.__position-=1)},i.prototype.hasNext=function(){return this.__position<this.__input_length},i.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},i.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},i.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return!n||r&&t.sticky||n.index!==e&&(n=null),n},i.prototype.test=function(t,e){return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&!!this.__match(t,e)},i.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},i.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},i.prototype.read=function(t,e,n){var r,i="";return t&&(r=this.match(t))&&(i+=r[0]),!e||!r&&t||(i+=this.readUntil(e,n)),i},i.prototype.readUntil=function(t,e){var n,r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},i.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},i.prototype.get_regexp=function(t,e){var n=null,i="g";return e&&r&&(i="y"),"string"==typeof t&&""!==t?n=new RegExp(t,i):t&&(n=new RegExp(t.source,i)),n},i.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},i.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},i.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=i},,,,,function(t,e,n){"use strict";function r(t,e){t="string"==typeof t?t:t.source,e="string"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}r.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},r.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=r},,function(t,e,n){"use strict";var r=n(16).Beautifier,i=n(17).Options;t.exports=function(t,e){return new r(t,e).beautify()},t.exports.defaultOptions=function(){return new i}},function(t,e,n){"use strict";var r=n(17).Options,i=n(2).Output,o=n(8).InputScanner,a=new(0,n(13).Directives)(/\/\*/,/\*\//),s=/\r\n|[\r\n]/,l=/\r\n|[\r\n]/g,u=/\s/,c=/(?:\s|\n)+/g,p=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,h=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function f(t,e){this._source_text=t||"",this._options=new r(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}f.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,"\\"===this._ch)e+=this._input.next();else if(-1!==t.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return e},f.prototype.eatWhitespace=function(t){for(var e=u.test(this._input.peek()),n=!0;u.test(this._input.peek());)this._ch=this._input.next(),t&&"\n"===this._ch&&(this._options.preserve_newlines||n)&&(n=!1,this._output.add_new_line(!0));return e},f.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,n=this._input.peek(e);n;){if("{"===n)return!0;if("("===n)t+=1;else if(")"===n){if(0===t)return!1;t-=1}else if(";"===n||"}"===n)return!1;e++,n=this._input.peek(e)}return!1},f.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)},f.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)},f.prototype.indent=function(){this._indentLevel++},f.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},f.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===e&&(e="\n",t&&s.test(t||"")&&(e=t.match(s)[0]));var n=(t=t.replace(l,"\n")).match(/^[\t ]*/)[0];this._output=new i(this._options,n),this._input=new o(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var r,f,d=0,g=!1,m=!1,v=!1,y=!1,_=!1,b=this._ch;r=""!==this._input.read(c),f=b,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),b=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var x=this._input.read(p),w=a.get_directives(x);w&&"start"===w.ignore&&(x+=a.readIgnored(this._input)),this.print_string(x),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(h)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(r),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var E=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);E.match(/[ :]$/)&&(E=this.eatString(": ").replace(/\s$/,""),this.print_string(E),this._output.space_before_token=!0),"extend"===(E=E.replace(/\s$/,""))?y=!0:"import"===E&&(_=!0),E in this.NESTED_AT_RULE?(this._nestedLevel+=1,E in this.CONDITIONAL_GROUP_RULE&&(v=!0)):g||0!==d||-1===E.indexOf(":")||(m=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(m&&(m=!1,this.outdent()),this.indent(),this._output.space_before_token=!0,this.print_string(this._ch),v?(v=!1,g=this._indentLevel>this._nestedLevel):g=this._indentLevel>=this._nestedLevel,this._options.newline_between_rules&&g&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===f&&this._output.trim(!0),_=!1,y=!1,m&&(this.outdent(),m=!1),this.print_string(this._ch),g=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!g&&!v||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||y||0!==d?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),m||(m=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===d?(m&&(this.outdent(),m=!1),y=!1,_=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),d++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),d&&(d--,this.outdent()))):(this.preserveSingleSpace(r),this.print_string(this._ch),this.eatWhitespace(),d++,this.indent()):")"===this._ch?(d&&(d--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||m||0!==d||_?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||m||0!==d?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(r),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),u.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(r),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&u.test(this._ch)&&(this._ch=""));return this._output.get_code(e)},t.exports.Beautifier=f},function(t,e,n){"use strict";var r=n(6).Options;function i(t){r.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e}i.prototype=new r,t.exports.Options=i}]),void 0===(r=function(){return{css_beautify:i}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r=n(257),i=n(35),o=n(52),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(t,i(e,3),l)}},function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}},function(t,e,n){var r=n(536),i=n(51);t.exports=function(t){return t&&t.length?r(t,i):0}},function(t,e,n){"use strict";t.exports=n(636)},function(t,e,n){var r=n(19)("compact",n(224),n(40));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("sum",n(225),n(40));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("min",n(537),n(40));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("has",n(29));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("eq",n(96));r.placeholder=n(17),t.exports=r},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(242),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){var r=n(137),i=n(63),o=n(39),a=n(107),s=n(572);t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=i(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},function(t,e,n){var r=n(98),i=n(62),o=n(297),a=n(132),s=i((function(t){return o(r(t,1,a,!0))}));t.exports=s},function(t,e,n){"use strict";(function(t,r){var i,o=n(358);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(o.a)(i);e.a=a}).call(this,n(60),n(637)(t))},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,l=a(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var p=0;p<s.length;p++)o.call(n,s[p])&&(l[s[p]]=n[s[p]])}}return l}},function(t,e,n){t.exports=!n(59)&&!n(83)((function(){return 7!=Object.defineProperty(n(238)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(82),i=n(57).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(69),i=n(70),o=n(373)(!1),a=n(179)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var r=n(176);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(178),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){t.exports={default:n(375),__esModule:!0}},function(t,e,n){"use strict";var r=n(115),i=n(56),o=n(244),a=n(81),s=n(84),l=n(380),u=n(184),c=n(245),p=n(43)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,d,g,m,v){l(n,e,d);var y,_,b,x=function(t){if(!h&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",E="values"==g,C=!1,S=t.prototype,T=S[p]||S["@@iterator"]||g&&S[g],k=T||x(g),O=g?E?x("entries"):k:void 0,I="Array"==e&&S.entries||T;if(I&&(b=c(I.call(new t)))!==Object.prototype&&b.next&&(u(b,w,!0),r||"function"==typeof b[p]||a(b,p,f)),E&&T&&"values"!==T.name&&(C=!0,k=function(){return T.call(this)}),r&&!v||!h&&!C&&S[p]||a(S,p,k),s[e]=k,s[w]=f,g)if(y={values:E?k:x("values"),keys:m?k:x("keys"),entries:O},v)for(_ in y)_ in S||o(S,_,y[_]);else i(i.P+i.F*(h||C),e,y);return y}},function(t,e,n){t.exports=n(81)},function(t,e,n){var r=n(69),i=n(95),o=n(179)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(239),i=n(181).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(71),i=n(124),o=n(18),a=n(97),s=n(192),l=n(61);t.exports=function(t,e,n){for(var u=-1,c=(e=r(e,t)).length,p=!1;++u<c;){var h=l(e[u]);if(!(p=null!=t&&n(t,h)))break;t=t[h]}return p||++u!=c?p:!!(c=null==t?0:t.length)&&s(c)&&a(h,c)&&(o(t)||i(t))}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(60))},function(t,e,n){var r=n(406),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(190);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(126),i=n(127);t.exports=function(t,e){return e.length<2?t:r(t,i(e,0,-1))}},function(t,e,n){var r=n(125),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var u=Array(e+1);++a<e;)u[a]=o[a];return u[e]=n(l),r(t,this,u)}}},function(t,e,n){var r=n(74),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var i=n(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(128),i=n(129),o=n(194),a=n(47),s=n(75),l=n(131);t.exports=function(t,e,n,u){var c=-1,p=i,h=!0,f=t.length,d=[],g=e.length;if(!f)return d;n&&(e=a(e,s(n))),u?(p=o,h=!1):e.length>=200&&(p=l,h=!1,e=new r(e));t:for(;++c<f;){var m=t[c],v=null==n?m:n(m);if(m=u||0!==m?m:0,h&&v==v){for(var y=g;y--;)if(e[y]===v)continue t;d.push(m)}else p(e,v,u)||d.push(m)}return d}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(259),i=n(123),o=n(52),a=n(46);t.exports=function(t,e,n){return t=a(t),n=null==n?0:r(o(n),0,t.length),e=i(e),t.slice(n,n+e.length)==e}},function(t,e){t.exports=function(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e,n){var r=n(262),i=n(124),o=n(18),a=n(99),s=n(97),l=n(135),u=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),p=!n&&!c&&a(t),h=!n&&!c&&!p&&l(t),f=n||c||p||h,d=f?r(t.length,String):[],g=d.length;for(var m in t)!e&&!u.call(t,m)||f&&("length"==m||p&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||d.push(m);return d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(128),i=n(265),o=n(131);t.exports=function(t,e,n,a,s,l){var u=1&n,c=t.length,p=e.length;if(c!=p&&!(u&&p>c))return!1;var h=l.get(t);if(h&&l.get(e))return h==e;var f=-1,d=!0,g=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++f<c;){var m=t[f],v=e[f];if(a)var y=u?a(v,m,f,e,t,l):a(m,v,f,t,e,l);if(void 0!==y){if(y)continue;d=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(m===t||s(m,t,n,a,l)))return g.push(e)}))){d=!1;break}}else if(m!==v&&!s(m,v,n,a,l)){d=!1;break}}return l.delete(t),l.delete(e),d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(31).Uint8Array;t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e,n){var r=n(269),i=n(200),o=n(25);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(195),i=n(18);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(74)(n(31),"Set");t.exports=r},function(t,e,n){var r=n(74)(n(31),"WeakMap");t.exports=r},function(t,e,n){var r=n(28);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(460),i=n(247);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(51);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(176),i=n(43)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(278),i=n(43)("iterator"),o=n(84);t.exports=n(30).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(51),i=n(281),o=i?function(t,e){return i.set(t,e),t}:r;t.exports=o},function(t,e,n){var r=n(272),i=r&&new r;t.exports=i},function(t,e,n){var r=n(283),i=n(284),o=n(490),a=n(141),s=n(285),l=n(205),u=n(497),c=n(142),p=n(31);t.exports=function t(e,n,h,f,d,g,m,v,y,_){var b=128&n,x=1&n,w=2&n,E=24&n,C=512&n,S=w?void 0:a(e);return function T(){for(var k=arguments.length,O=Array(k),I=k;I--;)O[I]=arguments[I];if(E)var P=l(T),N=o(O,P);if(f&&(O=r(O,f,d,E)),g&&(O=i(O,g,m,E)),k-=N,E&&k<_){var M=c(O,P);return s(e,n,t,T.placeholder,h,O,M,v,y,_-k)}var A=x?h:this,L=w?A[e]:e;return k=O.length,v?O=u(O,v):C&&k>1&&O.reverse(),b&&y<k&&(O.length=y),this&&this!==p&&this instanceof T&&(L=S||a(L)),L.apply(A,O)}}},function(t,e){var n=Math.max;t.exports=function(t,e,r,i){for(var o=-1,a=t.length,s=r.length,l=-1,u=e.length,c=n(a-s,0),p=Array(u+c),h=!i;++l<u;)p[l]=e[l];for(;++o<s;)(h||o<a)&&(p[r[o]]=t[o]);for(;c--;)p[l++]=t[o++];return p}},function(t,e){var n=Math.max;t.exports=function(t,e,r,i){for(var o=-1,a=t.length,s=-1,l=r.length,u=-1,c=e.length,p=n(a-l,0),h=Array(p+c),f=!i;++o<p;)h[o]=t[o];for(var d=o;++u<c;)h[d+u]=e[u];for(;++s<l;)(f||o<a)&&(h[d+r[s]]=t[o++]);return h}},function(t,e,n){var r=n(286),i=n(289),o=n(290);t.exports=function(t,e,n,a,s,l,u,c,p,h){var f=8&e;e|=f?32:64,4&(e&=~(f?64:32))||(e&=-4);var d=[t,e,s,f?l:void 0,f?u:void 0,f?void 0:l,f?void 0:u,c,p,h],g=n.apply(void 0,d);return r(t)&&i(g,d),g.placeholder=a,o(g,t,e)}},function(t,e,n){var r=n(201),i=n(203),o=n(288),a=n(492);t.exports=function(t){var e=o(t),n=a[e];if("function"!=typeof n||!(e in r.prototype))return!1;if(t===n)return!0;var s=i(n);return!!s&&t===s[0]}},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(491),i=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",n=r[e],o=i.call(r,e)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==t)return a.name}return e}},function(t,e,n){var r=n(280),i=n(255)(r);t.exports=i},function(t,e,n){var r=n(494),i=n(495),o=n(193),a=n(496);t.exports=function(t,e,n){var s=e+"";return o(t,i(s,a(r(s),n)))}},function(t,e,n){var r=n(77),i=n(25);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(195),i=n(144),o=n(200),a=n(270),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e,n){var r=n(140);function i(t,e,n){var o=r(t,8,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return o.placeholder=i.placeholder,o}i.placeholder={},t.exports=i},function(t,e,n){var r=n(126),i=n(295),o=n(71);t.exports=function(t,e,n){for(var a=-1,s=e.length,l={};++a<s;){var u=e[a],c=r(t,u);n(c,u)&&i(l,o(u,t),c)}return l}},function(t,e,n){var r=n(143),i=n(71),o=n(97),a=n(28),s=n(61);t.exports=function(t,e,n,l){if(!a(t))return t;for(var u=-1,c=(e=i(e,t)).length,p=c-1,h=t;null!=h&&++u<c;){var f=s(e[u]),d=n;if(u!=p){var g=h[f];void 0===(d=l?l(g,f,h):void 0)&&(d=a(g)?g:o(e[u+1])?[]:{})}r(h,f,d),h=h[f]}return t}},function(t,e,n){var r=n(76),i=n(39);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},function(t,e,n){var r=n(128),i=n(129),o=n(194),a=n(131),s=n(542),l=n(138);t.exports=function(t,e,n){var u=-1,c=i,p=t.length,h=!0,f=[],d=f;if(n)h=!1,c=o;else if(p>=200){var g=e?null:s(t);if(g)return l(g);h=!1,c=a,d=new r}else d=e?[]:f;t:for(;++u<p;){var m=t[u],v=e?e(m):m;if(m=n||0!==m?m:0,h&&v==v){for(var y=d.length;y--;)if(d[y]===v)continue t;e&&d.push(v),f.push(m)}else c(d,v,n)||(d!==f&&d.push(v),f.push(m))}return f}},function(t,e){t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},function(t,e,n){var r=n(56),i=n(30),o=n(83);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){var r=n(62),i=n(85);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var l=n[r];l&&t(e,l,r,a)}return e}))}},function(t,e){t.exports=function(t,e){var n=t.geometry.coordinates[0],r=t.geometry.coordinates[1],i=e.geometry.coordinates[0][0][0],o=e.geometry.coordinates[0][0][1],a=e.properties.a,s=e.geometry.coordinates[0][1][0],l=e.geometry.coordinates[0][1][1],u=e.properties.b,c=e.geometry.coordinates[0][2][0],p=e.geometry.coordinates[0][2][1],h=e.properties.c;return(h*(n-i)*(r-l)+a*(n-s)*(r-p)+u*(n-c)*(r-o)-u*(n-i)*(r-p)-h*(n-s)*(r-o)-a*(n-c)*(r-l))/((n-i)*(r-l)+(n-s)*(r-p)+(n-c)*(r-o)-(n-i)*(r-p)-(n-s)*(r-o)-(n-c)*(r-l))}},function(t,e,n){var r=n(36);t.exports=function(t){if(r(t.slice(0,2),[t[2],t[1]],"miles")>=r(t.slice(0,2),[t[0],t[3]],"miles")){var e=(t[1]+t[3])/2;return[t[0],e-(t[2]-t[0])/2,t[2],e+(t[2]-t[0])/2]}var n=(t[0]+t[2])/2;return[n-(t[3]-t[1])/2,t[1],n+(t[3]-t[1])/2,t[3]]}},function(t,e,n){"use strict";t.exports=function(t,e,n){var i=t*e,o=r*t,a=o-(o-t),s=t-a,l=r*e,u=l-(l-e),c=e-u,p=s*c-(i-a*u-s*u-a*c);if(n)return n[0]=p,n[1]=i,n;return[p,i]};var r=+(Math.pow(2,27)+1)},function(t,e,n){var r=n(150);t.exports=function(t,e){var n=new r.io.GeoJSONReader,i=n.read(JSON.stringify(t.geometry)),o=n.read(JSON.stringify(e.geometry)),a=i.union(o);return{type:"Feature",geometry:a=(new r.io.GeoJSONWriter).write(a),properties:t.properties}}},function(t,e,n){var r=n(16).polygon;t.exports=function(t){var e=[t[0],t[1]],n=[t[0],t[3]],i=[t[2],t[3]],o=[t[2],t[1]];return r([[e,o,i,n,e]])}},function(t,e,n){var r=n(149),i=n(16).point;t.exports=function(t){var e=r(t),n=(e[0]+e[2])/2,o=(e[1]+e[3])/2;return i([n,o])}},function(t,e,n){var r=n(16).featureCollection,i=n(87).coordEach,o=n(16).point;t.exports=function(t){var e=[];return i(t,(function(t){e.push(o(t))})),r(e)}},function(t,e,n){var r=n(36),i=n(16).point,o=n(151),a=n(152);function s(t,e,n,r,i,o,a,s){var l,u,c,p,h={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(l=(s-o)*(n-t)-(a-i)*(r-e))?null!==h.x&&null!==h.y&&h:(p=(n-t)*(u=e-o)-(r-e)*(c=t-i),u=((a-i)*u-(s-o)*c)/l,c=p/l,h.x=t+u*(n-t),h.y=e+u*(r-e),u>0&&u<1&&(h.onLine1=!0),c>0&&c<1&&(h.onLine2=!0),!(!h.onLine1||!h.onLine2)&&[h.x,h.y])}t.exports=function(t,e){var n;if("Feature"===t.type)n=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");n=t.coordinates}return function(t,e){for(var n=i([1/0,1/0],{dist:1/0}),l=0;l<e.length-1;l++){var u=i(e[l]),c=i(e[l+1]);u.properties.dist=r(t,u,"miles"),c.properties.dist=r(t,c,"miles");var p,h=Math.max(u.properties.dist,c.properties.dist),f=o(u,c),d=a(t,h,f+90,"miles"),g=a(t,h,f-90,"miles"),m=s(d.geometry.coordinates[0],d.geometry.coordinates[1],g.geometry.coordinates[0],g.geometry.coordinates[1],u.geometry.coordinates[0],u.geometry.coordinates[1],c.geometry.coordinates[0],c.geometry.coordinates[1]);m&&((p=i(m)).properties.dist=r(t,p,"miles")),u.properties.dist<n.properties.dist&&((n=u).properties.index=l),c.properties.dist<n.properties.dist&&((n=c).properties.index=l),p&&p.properties.dist<n.properties.dist&&((n=p).properties.index=l)}return n}(e,n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return[].slice.call(t.querySelectorAll("*"),0).filter(a)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var r=/input|select|textarea|button|object/;function i(t){var e=t.offsetWidth<=0&&t.offsetHeight<=0;if(e&&!t.innerHTML)return!0;var n=window.getComputedStyle(t);return e?"visible"!==n.getPropertyValue("overflow")||t.scrollWidth<=0&&t.scrollHeight<=0:"none"==n.getPropertyValue("display")}function o(t,e){var n=t.nodeName.toLowerCase();return(r.test(n)&&!t.disabled||"a"===n&&t.href||e)&&function(t){for(var e=t;e&&e!==document.body;){if(i(e))return!1;e=e.parentNode}return!0}(t)}function a(t){var e=t.getAttribute("tabindex");null===e&&(e=void 0);var n=isNaN(e);return(n||e>=0)&&o(t,!n)}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNodeList=l,e.setElement=function(t){var e=t;if("string"==typeof e&&a.canUseDOM){var n=document.querySelectorAll(e);l(n,e),e="length"in n?n[0]:n}return s=e||s},e.validateElement=u,e.hide=function(t){u(t)&&(t||s).setAttribute("aria-hidden","true")},e.show=function(t){u(t)&&(t||s).removeAttribute("aria-hidden")},e.documentNotReadyOrSSRTesting=function(){s=null},e.resetForTesting=function(){s=null};var r,i=n(24),o=(r=i)&&r.__esModule?r:{default:r},a=n(215);var s=null;function l(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function u(t){return!(!t&&!s)||((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(t,e,n){(function(t,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],l="[object Arguments]",u="[object Array]",c="[object Boolean]",p="[object Date]",h="[object Error]",f="[object Function]",d="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",x="[object Symbol]",w="[object WeakMap]",E="[object ArrayBuffer]",C="[object DataView]",S="[object Float32Array]",T="[object Float64Array]",k="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",N="[object Uint16Array]",M="[object Uint32Array]",A=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,F=RegExp(D.source),j=RegExp(z.source),B=/<%-([\s\S]+?)%>/g,U=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,G=/^\w*$/,W=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(H.source),X=/^\s+|\s+$/g,Z=/^\s+/,K=/\s+$/,$=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,tt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,et=/\\(\\)?/g,nt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,lt=/^(?:0|[1-9]\d*)$/,ut=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,pt=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ft="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="[\\ud800-\\udfff]",gt="["+ft+"]",mt="["+ht+"]",vt="\\d+",yt="[\\u2700-\\u27bf]",_t="[a-z\\xdf-\\xf6\\xf8-\\xff]",bt="[^\\ud800-\\udfff"+ft+vt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",xt="\\ud83c[\\udffb-\\udfff]",wt="[^\\ud800-\\udfff]",Et="(?:\\ud83c[\\udde6-\\uddff]){2}",Ct="[\\ud800-\\udbff][\\udc00-\\udfff]",St="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Tt="(?:"+_t+"|"+bt+")",kt="(?:"+St+"|"+bt+")",Ot="(?:"+mt+"|"+xt+")"+"?",It="[\\ufe0e\\ufe0f]?"+Ot+("(?:\\u200d(?:"+[wt,Et,Ct].join("|")+")[\\ufe0e\\ufe0f]?"+Ot+")*"),Pt="(?:"+[yt,Et,Ct].join("|")+")"+It,Nt="(?:"+[wt+mt+"?",mt,Et,Ct,dt].join("|")+")",Mt=RegExp("['’]","g"),At=RegExp(mt,"g"),Lt=RegExp(xt+"(?="+xt+")|"+Nt+It,"g"),Rt=RegExp([St+"?"+_t+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[gt,St,"$"].join("|")+")",kt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[gt,St+Tt,"$"].join("|")+")",St+"?"+Tt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",St+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vt,Pt].join("|"),"g"),Dt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),zt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ft=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jt=-1,Bt={};Bt[S]=Bt[T]=Bt[k]=Bt[O]=Bt[I]=Bt[P]=Bt["[object Uint8ClampedArray]"]=Bt[N]=Bt[M]=!0,Bt[l]=Bt[u]=Bt[E]=Bt[c]=Bt[C]=Bt[p]=Bt[h]=Bt[f]=Bt[g]=Bt[m]=Bt[v]=Bt[y]=Bt[_]=Bt[b]=Bt[w]=!1;var Ut={};Ut[l]=Ut[u]=Ut[E]=Ut[C]=Ut[c]=Ut[p]=Ut[S]=Ut[T]=Ut[k]=Ut[O]=Ut[I]=Ut[g]=Ut[m]=Ut[v]=Ut[y]=Ut[_]=Ut[b]=Ut[x]=Ut[P]=Ut["[object Uint8ClampedArray]"]=Ut[N]=Ut[M]=!0,Ut[h]=Ut[f]=Ut[w]=!1;var Vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qt=parseFloat,Gt=parseInt,Wt="object"==typeof t&&t&&t.Object===Object&&t,Ht="object"==typeof self&&self&&self.Object===Object&&self,Yt=Wt||Ht||Function("return this")(),Xt=e&&!e.nodeType&&e,Zt=Xt&&"object"==typeof r&&r&&!r.nodeType&&r,Kt=Zt&&Zt.exports===Xt,$t=Kt&&Wt.process,Jt=function(){try{var t=Zt&&Zt.require&&Zt.require("util").types;return t||$t&&$t.binding&&$t.binding("util")}catch(t){}}(),Qt=Jt&&Jt.isArrayBuffer,te=Jt&&Jt.isDate,ee=Jt&&Jt.isMap,ne=Jt&&Jt.isRegExp,re=Jt&&Jt.isSet,ie=Jt&&Jt.isTypedArray;function oe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function le(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function ce(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function pe(t,e){return!!(null==t?0:t.length)&&xe(t,e,0)>-1}function he(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function fe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function de(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function ge(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function me(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function ve(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ye=Se("length");function _e(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function be(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function xe(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):be(t,Ee,n)}function we(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Ee(t){return t!=t}function Ce(t,e){var n=null==t?0:t.length;return n?Oe(t,e)/n:NaN}function Se(t){return function(e){return null==e?void 0:e[t]}}function Te(t){return function(e){return null==t?void 0:t[e]}}function ke(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Oe(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ie(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Pe(t){return function(e){return t(e)}}function Ne(t,e){return fe(e,(function(e){return t[e]}))}function Me(t,e){return t.has(e)}function Ae(t,e){for(var n=-1,r=t.length;++n<r&&xe(e,t[n],0)>-1;);return n}function Le(t,e){for(var n=t.length;n--&&xe(e,t[n],0)>-1;);return n}function Re(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var De=Te({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),ze=Te({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Fe(t){return"\\"+Vt[t]}function je(t){return Dt.test(t)}function Be(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Ue(t,e){return function(n){return t(e(n))}}function Ve(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function qe(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Ge(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function We(t){return je(t)?function(t){var e=Lt.lastIndex=0;for(;Lt.test(t);)++e;return e}(t):ye(t)}function He(t){return je(t)?function(t){return t.match(Lt)||[]}(t):function(t){return t.split("")}(t)}var Ye=Te({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Xe=function t(e){var n,r=(e=null==e?Yt:Xe.defaults(Yt.Object(),e,Xe.pick(Yt,Ft))).Array,i=e.Date,ht=e.Error,ft=e.Function,dt=e.Math,gt=e.Object,mt=e.RegExp,vt=e.String,yt=e.TypeError,_t=r.prototype,bt=ft.prototype,xt=gt.prototype,wt=e["__core-js_shared__"],Et=bt.toString,Ct=xt.hasOwnProperty,St=0,Tt=(n=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",kt=xt.toString,Ot=Et.call(gt),It=Yt._,Pt=mt("^"+Et.call(Ct).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=Kt?e.Buffer:void 0,Lt=e.Symbol,Dt=e.Uint8Array,Vt=Nt?Nt.allocUnsafe:void 0,Wt=Ue(gt.getPrototypeOf,gt),Ht=gt.create,Xt=xt.propertyIsEnumerable,Zt=_t.splice,$t=Lt?Lt.isConcatSpreadable:void 0,Jt=Lt?Lt.iterator:void 0,ye=Lt?Lt.toStringTag:void 0,Te=function(){try{var t=Qi(gt,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ze=e.clearTimeout!==Yt.clearTimeout&&e.clearTimeout,Ke=i&&i.now!==Yt.Date.now&&i.now,$e=e.setTimeout!==Yt.setTimeout&&e.setTimeout,Je=dt.ceil,Qe=dt.floor,tn=gt.getOwnPropertySymbols,en=Nt?Nt.isBuffer:void 0,nn=e.isFinite,rn=_t.join,on=Ue(gt.keys,gt),an=dt.max,sn=dt.min,ln=i.now,un=e.parseInt,cn=dt.random,pn=_t.reverse,hn=Qi(e,"DataView"),fn=Qi(e,"Map"),dn=Qi(e,"Promise"),gn=Qi(e,"Set"),mn=Qi(e,"WeakMap"),vn=Qi(gt,"create"),yn=mn&&new mn,_n={},bn=ko(hn),xn=ko(fn),wn=ko(dn),En=ko(gn),Cn=ko(mn),Sn=Lt?Lt.prototype:void 0,Tn=Sn?Sn.valueOf:void 0,kn=Sn?Sn.toString:void 0;function On(t){if(Ga(t)&&!Aa(t)&&!(t instanceof Mn)){if(t instanceof Nn)return t;if(Ct.call(t,"__wrapped__"))return Oo(t)}return new Nn(t)}var In=function(){function t(){}return function(e){if(!qa(e))return{};if(Ht)return Ht(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Pn(){}function Nn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Mn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function An(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ln(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Rn;++e<n;)this.add(t[e])}function zn(t){var e=this.__data__=new Ln(t);this.size=e.size}function Fn(t,e){var n=Aa(t),r=!n&&Ma(t),i=!n&&!r&&za(t),o=!n&&!r&&!i&&Ja(t),a=n||r||i||o,s=a?Ie(t.length,vt):[],l=s.length;for(var u in t)!e&&!Ct.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ao(u,l))||s.push(u);return s}function jn(t){var e=t.length;return e?t[Dr(0,e-1)]:void 0}function Bn(t,e){return Co(vi(t),Zn(e,0,t.length))}function Un(t){return Co(vi(t))}function Vn(t,e,n){(void 0===n||Ia(t[e],n))&&(void 0!==n||e in t)||Yn(t,e,n)}function qn(t,e,n){var r=t[e];Ct.call(t,e)&&Ia(r,n)&&(void 0!==n||e in t)||Yn(t,e,n)}function Gn(t,e){for(var n=t.length;n--;)if(Ia(t[n][0],e))return n;return-1}function Wn(t,e,n,r){return tr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Hn(t,e){return t&&yi(e,bs(e),t)}function Yn(t,e,n){"__proto__"==e&&Te?Te(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Xn(t,e){for(var n=-1,i=e.length,o=r(i),a=null==t;++n<i;)o[n]=a?void 0:gs(t,e[n]);return o}function Zn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Kn(t,e,n,r,i,o){var a,s=1&e,u=2&e,h=4&e;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!qa(t))return t;var w=Aa(t);if(w){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Ct.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return vi(t,a)}else{var A=no(t),L=A==f||A==d;if(za(t))return pi(t,s);if(A==v||A==l||L&&!i){if(a=u||L?{}:io(t),!s)return u?function(t,e){return yi(t,eo(t),e)}(t,function(t,e){return t&&yi(e,xs(e),t)}(a,t)):function(t,e){return yi(t,to(t),e)}(t,Hn(a,t))}else{if(!Ut[A])return i?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case E:return hi(t);case c:case p:return new r(+t);case C:return function(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case S:case T:case k:case O:case I:case P:case"[object Uint8ClampedArray]":case N:case M:return fi(t,n);case g:return new r;case m:case b:return new r(t);case y:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new r;case x:return i=t,Tn?gt(Tn.call(i)):{}}var i}(t,A,s)}}o||(o=new zn);var R=o.get(t);if(R)return R;o.set(t,a),Za(t)?t.forEach((function(r){a.add(Kn(r,e,n,r,t,o))})):Wa(t)&&t.forEach((function(r,i){a.set(i,Kn(r,e,n,i,t,o))}));var D=w?void 0:(h?u?Hi:Wi:u?xs:bs)(t);return se(D||t,(function(r,i){D&&(r=t[i=r]),qn(a,i,Kn(r,e,n,i,t,o))})),a}function $n(t,e,n){var r=n.length;if(null==t)return!r;for(t=gt(t);r--;){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Jn(t,e,n){if("function"!=typeof t)throw new yt(o);return bo((function(){t.apply(void 0,n)}),e)}function Qn(t,e,n,r){var i=-1,o=pe,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=fe(e,Pe(n))),r?(o=he,a=!1):e.length>=200&&(o=Me,a=!1,e=new Dn(e));t:for(;++i<s;){var c=t[i],p=null==n?c:n(c);if(c=r||0!==c?c:0,a&&p==p){for(var h=u;h--;)if(e[h]===p)continue t;l.push(c)}else o(e,p,r)||l.push(c)}return l}On.templateSettings={escape:B,evaluate:U,interpolate:V,variable:"",imports:{_:On}},On.prototype=Pn.prototype,On.prototype.constructor=On,Nn.prototype=In(Pn.prototype),Nn.prototype.constructor=Nn,Mn.prototype=In(Pn.prototype),Mn.prototype.constructor=Mn,An.prototype.clear=function(){this.__data__=vn?vn(null):{},this.size=0},An.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},An.prototype.get=function(t){var e=this.__data__;if(vn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ct.call(e,t)?e[t]:void 0},An.prototype.has=function(t){var e=this.__data__;return vn?void 0!==e[t]:Ct.call(e,t)},An.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vn&&void 0===e?"__lodash_hash_undefined__":e,this},Ln.prototype.clear=function(){this.__data__=[],this.size=0},Ln.prototype.delete=function(t){var e=this.__data__,n=Gn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Zt.call(e,n,1),--this.size,!0)},Ln.prototype.get=function(t){var e=this.__data__,n=Gn(e,t);return n<0?void 0:e[n][1]},Ln.prototype.has=function(t){return Gn(this.__data__,t)>-1},Ln.prototype.set=function(t,e){var n=this.__data__,r=Gn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new An,map:new(fn||Ln),string:new An}},Rn.prototype.delete=function(t){var e=$i(this,t).delete(t);return this.size-=e?1:0,e},Rn.prototype.get=function(t){return $i(this,t).get(t)},Rn.prototype.has=function(t){return $i(this,t).has(t)},Rn.prototype.set=function(t,e){var n=$i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Dn.prototype.add=Dn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Dn.prototype.has=function(t){return this.__data__.has(t)},zn.prototype.clear=function(){this.__data__=new Ln,this.size=0},zn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},zn.prototype.get=function(t){return this.__data__.get(t)},zn.prototype.has=function(t){return this.__data__.has(t)},zn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ln){var r=n.__data__;if(!fn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Rn(r)}return n.set(t,e),this.size=n.size,this};var tr=xi(lr),er=xi(ur,!0);function nr(t,e){var n=!0;return tr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function rr(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a==a&&!$a(a):n(a,s)))var s=a,l=o}return l}function ir(t,e){var n=[];return tr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function or(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=oo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?or(s,e-1,n,r,i):de(i,s):r||(i[i.length]=s)}return i}var ar=wi(),sr=wi(!0);function lr(t,e){return t&&ar(t,e,bs)}function ur(t,e){return t&&sr(t,e,bs)}function cr(t,e){return ce(e,(function(e){return Ba(t[e])}))}function pr(t,e){for(var n=0,r=(e=si(e,t)).length;null!=t&&n<r;)t=t[To(e[n++])];return n&&n==r?t:void 0}function hr(t,e,n){var r=e(t);return Aa(t)?r:de(r,n(t))}function fr(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ye&&ye in gt(t)?function(t){var e=Ct.call(t,ye),n=t[ye];try{t[ye]=void 0;var r=!0}catch(t){}var i=kt.call(t);r&&(e?t[ye]=n:delete t[ye]);return i}(t):function(t){return kt.call(t)}(t)}function dr(t,e){return t>e}function gr(t,e){return null!=t&&Ct.call(t,e)}function mr(t,e){return null!=t&&e in gt(t)}function vr(t,e,n){for(var i=n?he:pe,o=t[0].length,a=t.length,s=a,l=r(a),u=1/0,c=[];s--;){var p=t[s];s&&e&&(p=fe(p,Pe(e))),u=sn(p.length,u),l[s]=!n&&(e||o>=120&&p.length>=120)?new Dn(s&&p):void 0}p=t[0];var h=-1,f=l[0];t:for(;++h<o&&c.length<u;){var d=p[h],g=e?e(d):d;if(d=n||0!==d?d:0,!(f?Me(f,g):i(c,g,n))){for(s=a;--s;){var m=l[s];if(!(m?Me(m,g):i(t[s],g,n)))continue t}f&&f.push(g),c.push(d)}}return c}function yr(t,e,n){var r=null==(t=mo(t,e=si(e,t)))?t:t[To(jo(e))];return null==r?void 0:oe(r,t,n)}function _r(t){return Ga(t)&&fr(t)==l}function br(t,e,n,r,i){return t===e||(null==t||null==e||!Ga(t)&&!Ga(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Aa(t),s=Aa(e),f=a?u:no(t),d=s?u:no(e),w=(f=f==l?v:f)==v,S=(d=d==l?v:d)==v,T=f==d;if(T&&za(t)){if(!za(e))return!1;a=!0,w=!1}if(T&&!w)return o||(o=new zn),a||Ja(t)?qi(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case E:return!(t.byteLength!=e.byteLength||!o(new Dt(t),new Dt(e)));case c:case p:case m:return Ia(+t,+e);case h:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case g:var s=Be;case _:var l=1&r;if(s||(s=qe),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=2,a.set(t,e);var f=qi(s(t),s(e),r,i,o,a);return a.delete(t),f;case x:if(Tn)return Tn.call(t)==Tn.call(e)}return!1}(t,e,f,n,r,i,o);if(!(1&n)){var k=w&&Ct.call(t,"__wrapped__"),O=S&&Ct.call(e,"__wrapped__");if(k||O){var I=k?t.value():t,P=O?e.value():e;return o||(o=new zn),i(I,P,n,r,o)}}if(!T)return!1;return o||(o=new zn),function(t,e,n,r,i,o){var a=1&n,s=Wi(t),l=s.length,u=Wi(e).length;if(l!=u&&!a)return!1;var c=l;for(;c--;){var p=s[c];if(!(a?p in e:Ct.call(e,p)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var f=!0;o.set(t,e),o.set(e,t);var d=a;for(;++c<l;){p=s[c];var g=t[p],m=e[p];if(r)var v=a?r(m,g,p,e,t,o):r(g,m,p,t,e,o);if(!(void 0===v?g===m||i(g,m,n,r,o):v)){f=!1;break}d||(d="constructor"==p)}if(f&&!d){var y=t.constructor,_=e.constructor;y!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,i,o)}(t,e,n,r,br,i))}function xr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=gt(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var l=(s=n[i])[0],u=t[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in t))return!1}else{var p=new zn;if(r)var h=r(u,c,l,t,e,p);if(!(void 0===h?br(c,u,3,r,p):h))return!1}}return!0}function wr(t){return!(!qa(t)||(e=t,Tt&&Tt in e))&&(Ba(t)?Pt:at).test(ko(t));var e}function Er(t){return"function"==typeof t?t:null==t?Hs:"object"==typeof t?Aa(t)?Ir(t[0],t[1]):Or(t):el(t)}function Cr(t){if(!po(t))return on(t);var e=[];for(var n in gt(t))Ct.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Sr(t){if(!qa(t))return function(t){var e=[];if(null!=t)for(var n in gt(t))e.push(n);return e}(t);var e=po(t),n=[];for(var r in t)("constructor"!=r||!e&&Ct.call(t,r))&&n.push(r);return n}function Tr(t,e){return t<e}function kr(t,e){var n=-1,i=Ra(t)?r(t.length):[];return tr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Or(t){var e=Ji(t);return 1==e.length&&e[0][2]?fo(e[0][0],e[0][1]):function(n){return n===t||xr(n,t,e)}}function Ir(t,e){return lo(t)&&ho(e)?fo(To(t),e):function(n){var r=gs(n,t);return void 0===r&&r===e?ms(n,t):br(e,r,3)}}function Pr(t,e,n,r,i){t!==e&&ar(e,(function(o,a){if(i||(i=new zn),qa(o))!function(t,e,n,r,i,o,a){var s=yo(t,n),l=yo(e,n),u=a.get(l);if(u)return void Vn(t,n,u);var c=o?o(s,l,n+"",t,e,a):void 0,p=void 0===c;if(p){var h=Aa(l),f=!h&&za(l),d=!h&&!f&&Ja(l);c=l,h||f||d?Aa(s)?c=s:Da(s)?c=vi(s):f?(p=!1,c=pi(l,!0)):d?(p=!1,c=fi(l,!0)):c=[]:Ya(l)||Ma(l)?(c=s,Ma(s)?c=as(s):qa(s)&&!Ba(s)||(c=io(l))):p=!1}p&&(a.set(l,c),i(c,l,r,o,a),a.delete(l));Vn(t,n,c)}(t,e,a,n,Pr,r,i);else{var s=r?r(yo(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),Vn(t,a,s)}}),xs)}function Nr(t,e){var n=t.length;if(n)return ao(e+=e<0?n:0,n)?t[e]:void 0}function Mr(t,e,n){var r=-1;return e=fe(e.length?e:[Hs],Pe(Ki())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(kr(t,(function(t,n,i){return{criteria:fe(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var l=di(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return t.index-e.index}(t,e,n)}))}function Ar(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=pr(t,a);n(s,a)&&Ur(o,si(a,t),s)}return o}function Lr(t,e,n,r){var i=r?we:xe,o=-1,a=e.length,s=t;for(t===e&&(e=vi(e)),n&&(s=fe(t,Pe(n)));++o<a;)for(var l=0,u=e[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==t&&Zt.call(s,l,1),Zt.call(t,l,1);return t}function Rr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ao(i)?Zt.call(t,i,1):Qr(t,i)}}return t}function Dr(t,e){return t+Qe(cn()*(e-t+1))}function zr(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Qe(e/2))&&(t+=t)}while(e);return n}function Fr(t,e){return xo(go(t,e,Hs),t+"")}function jr(t){return jn(Is(t))}function Br(t,e){var n=Is(t);return Co(n,Zn(e,0,n.length))}function Ur(t,e,n,r){if(!qa(t))return t;for(var i=-1,o=(e=si(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var l=To(e[i]),u=n;if(i!=a){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=qa(c)?c:ao(e[i+1])?[]:{})}qn(s,l,u),s=s[l]}return t}var Vr=yn?function(t,e){return yn.set(t,e),t}:Hs,qr=Te?function(t,e){return Te(t,"toString",{configurable:!0,enumerable:!1,value:qs(e),writable:!0})}:Hs;function Gr(t){return Co(Is(t))}function Wr(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=r(o);++i<o;)a[i]=t[i+e];return a}function Hr(t,e){var n;return tr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Yr(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!$a(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Xr(t,e,Hs,n)}function Xr(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!=e,s=null===e,l=$a(e),u=void 0===e;i<o;){var c=Qe((i+o)/2),p=n(t[c]),h=void 0!==p,f=null===p,d=p==p,g=$a(p);if(a)var m=r||d;else m=u?d&&(r||h):s?d&&h&&(r||!f):l?d&&h&&!f&&(r||!g):!f&&!g&&(r?p<=e:p<e);m?i=c+1:o=c}return sn(o,4294967294)}function Zr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Ia(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function Kr(t){return"number"==typeof t?t:$a(t)?NaN:+t}function $r(t){if("string"==typeof t)return t;if(Aa(t))return fe(t,$r)+"";if($a(t))return kn?kn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Jr(t,e,n){var r=-1,i=pe,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=he;else if(o>=200){var u=e?null:zi(t);if(u)return qe(u);a=!1,i=Me,l=new Dn}else l=e?[]:s;t:for(;++r<o;){var c=t[r],p=e?e(c):c;if(c=n||0!==c?c:0,a&&p==p){for(var h=l.length;h--;)if(l[h]===p)continue t;e&&l.push(p),s.push(c)}else i(l,p,n)||(l!==s&&l.push(p),s.push(c))}return s}function Qr(t,e){return null==(t=mo(t,e=si(e,t)))||delete t[To(jo(e))]}function ti(t,e,n,r){return Ur(t,e,n(pr(t,e)),r)}function ei(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Wr(t,r?0:o,r?o+1:i):Wr(t,r?o+1:0,r?i:o)}function ni(t,e){var n=t;return n instanceof Mn&&(n=n.value()),ge(e,(function(t,e){return e.func.apply(e.thisArg,de([t],e.args))}),n)}function ri(t,e,n){var i=t.length;if(i<2)return i?Jr(t[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=t[o],l=-1;++l<i;)l!=o&&(a[o]=Qn(a[o]||s,t[l],e,n));return Jr(or(a,1),e,n)}function ii(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}function oi(t){return Da(t)?t:[]}function ai(t){return"function"==typeof t?t:Hs}function si(t,e){return Aa(t)?t:lo(t,e)?[t]:So(ss(t))}var li=Fr;function ui(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Wr(t,e,n)}var ci=Ze||function(t){return Yt.clearTimeout(t)};function pi(t,e){if(e)return t.slice();var n=t.length,r=Vt?Vt(n):new t.constructor(n);return t.copy(r),r}function hi(t){var e=new t.constructor(t.byteLength);return new Dt(e).set(new Dt(t)),e}function fi(t,e){var n=e?hi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function di(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=$a(t),a=void 0!==e,s=null===e,l=e==e,u=$a(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function gi(t,e,n,i){for(var o=-1,a=t.length,s=n.length,l=-1,u=e.length,c=an(a-s,0),p=r(u+c),h=!i;++l<u;)p[l]=e[l];for(;++o<s;)(h||o<a)&&(p[n[o]]=t[o]);for(;c--;)p[l++]=t[o++];return p}function mi(t,e,n,i){for(var o=-1,a=t.length,s=-1,l=n.length,u=-1,c=e.length,p=an(a-l,0),h=r(p+c),f=!i;++o<p;)h[o]=t[o];for(var d=o;++u<c;)h[d+u]=e[u];for(;++s<l;)(f||o<a)&&(h[d+n[s]]=t[o++]);return h}function vi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function yi(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?Yn(n,s,l):qn(n,s,l)}return n}function _i(t,e){return function(n,r){var i=Aa(n)?ae:Wn,o=e?e():{};return i(n,t,Ki(r,2),o)}}function bi(t){return Fr((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&so(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=gt(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e}))}function xi(t,e){return function(n,r){if(null==n)return n;if(!Ra(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=gt(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function wi(t){return function(e,n,r){for(var i=-1,o=gt(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}function Ei(t){return function(e){var n=je(e=ss(e))?He(e):void 0,r=n?n[0]:e.charAt(0),i=n?ui(n,1).join(""):e.slice(1);return r[t]()+i}}function Ci(t){return function(e){return ge(Bs(Ms(e).replace(Mt,"")),t,"")}}function Si(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=In(t.prototype),r=t.apply(n,e);return qa(r)?r:n}}function Ti(t){return function(e,n,r){var i=gt(e);if(!Ra(e)){var o=Ki(n,3);e=bs(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}function ki(t){return Gi((function(e){var n=e.length,r=n,i=Nn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new yt(o);if(i&&!s&&"wrapper"==Xi(a))var s=new Nn([],!0)}for(r=s?r:n;++r<n;){var l=Xi(a=e[r]),u="wrapper"==l?Yi(a):void 0;s=u&&uo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[Xi(u[0])].apply(s,u[3]):1==a.length&&uo(a)?s[l]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Aa(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Oi(t,e,n,i,o,a,s,l,u,c){var p=128&e,h=1&e,f=2&e,d=24&e,g=512&e,m=f?void 0:Si(t);return function v(){for(var y=arguments.length,_=r(y),b=y;b--;)_[b]=arguments[b];if(d)var x=Zi(v),w=Re(_,x);if(i&&(_=gi(_,i,o,d)),a&&(_=mi(_,a,s,d)),y-=w,d&&y<c){var E=Ve(_,x);return Ri(t,e,Oi,v.placeholder,n,_,E,l,u,c-y)}var C=h?n:this,S=f?C[t]:t;return y=_.length,l?_=vo(_,l):g&&y>1&&_.reverse(),p&&u<y&&(_.length=u),this&&this!==Yt&&this instanceof v&&(S=m||Si(S)),S.apply(C,_)}}function Ii(t,e){return function(n,r){return function(t,e,n,r){return lr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Pi(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=$r(n),r=$r(r)):(n=Kr(n),r=Kr(r)),i=t(n,r)}return i}}function Ni(t){return Gi((function(e){return e=fe(e,Pe(Ki())),Fr((function(n){var r=this;return t(e,(function(t){return oe(t,r,n)}))}))}))}function Mi(t,e){var n=(e=void 0===e?" ":$r(e)).length;if(n<2)return n?zr(e,t):e;var r=zr(e,Je(t/We(e)));return je(e)?ui(He(r),0,t).join(""):r.slice(0,t)}function Ai(t){return function(e,n,i){return i&&"number"!=typeof i&&so(e,n,i)&&(n=i=void 0),e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n,i){for(var o=-1,a=an(Je((e-t)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=t,t+=n;return s}(e,n,i=void 0===i?e<n?1:-1:ns(i),t)}}function Li(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=os(e),n=os(n)),t(e,n)}}function Ri(t,e,n,r,i,o,a,s,l,u){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var p=[t,e,i,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,l,u],h=n.apply(void 0,p);return uo(t)&&_o(h,p),h.placeholder=r,wo(h,t,e)}function Di(t){var e=dt[t];return function(t,n){if(t=os(t),(n=null==n?0:sn(rs(n),292))&&nn(t)){var r=(ss(t)+"e").split("e");return+((r=(ss(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var zi=gn&&1/qe(new gn([,-0]))[1]==1/0?function(t){return new gn(t)}:$s;function Fi(t){return function(e){var n=no(e);return n==g?Be(e):n==_?Ge(e):function(t,e){return fe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function ji(t,e,n,i,s,l,u,c){var p=2&e;if(!p&&"function"!=typeof t)throw new yt(o);var h=i?i.length:0;if(h||(e&=-97,i=s=void 0),u=void 0===u?u:an(rs(u),0),c=void 0===c?c:rs(c),h-=s?s.length:0,64&e){var f=i,d=s;i=s=void 0}var g=p?void 0:Yi(t),m=[t,e,n,i,s,f,d,l,u,c];if(g&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=128==r&&8==n||128==r&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var l=e[3];if(l){var u=t[3];t[3]=u?gi(u,l,e[4]):l,t[4]=u?Ve(t[3],a):e[4]}(l=e[5])&&(u=t[5],t[5]=u?mi(u,l,e[6]):l,t[6]=u?Ve(t[5],a):e[6]);(l=e[7])&&(t[7]=l);128&r&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(m,g),t=m[0],e=m[1],n=m[2],i=m[3],s=m[4],!(c=m[9]=void 0===m[9]?p?0:t.length:an(m[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var i=Si(t);return function o(){for(var a=arguments.length,s=r(a),l=a,u=Zi(o);l--;)s[l]=arguments[l];var c=a<3&&s[0]!==u&&s[a-1]!==u?[]:Ve(s,u);if((a-=c.length)<n)return Ri(t,e,Oi,o.placeholder,void 0,s,c,void 0,void 0,n-a);var p=this&&this!==Yt&&this instanceof o?i:t;return oe(p,this,s)}}(t,e,c):32!=e&&33!=e||s.length?Oi.apply(void 0,m):function(t,e,n,i){var o=1&e,a=Si(t);return function e(){for(var s=-1,l=arguments.length,u=-1,c=i.length,p=r(c+l),h=this&&this!==Yt&&this instanceof e?a:t;++u<c;)p[u]=i[u];for(;l--;)p[u++]=arguments[++s];return oe(h,o?n:this,p)}}(t,e,n,i);else var v=function(t,e,n){var r=1&e,i=Si(t);return function e(){var o=this&&this!==Yt&&this instanceof e?i:t;return o.apply(r?n:this,arguments)}}(t,e,n);return wo((g?Vr:_o)(v,m),t,e)}function Bi(t,e,n,r){return void 0===t||Ia(t,xt[n])&&!Ct.call(r,n)?e:t}function Ui(t,e,n,r,i,o){return qa(t)&&qa(e)&&(o.set(e,t),Pr(t,e,void 0,Ui,o),o.delete(e)),t}function Vi(t){return Ya(t)?void 0:t}function qi(t,e,n,r,i,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var c=-1,p=!0,h=2&n?new Dn:void 0;for(o.set(t,e),o.set(e,t);++c<s;){var f=t[c],d=e[c];if(r)var g=a?r(d,f,c,e,t,o):r(f,d,c,t,e,o);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!ve(e,(function(t,e){if(!Me(h,e)&&(f===t||i(f,t,n,r,o)))return h.push(e)}))){p=!1;break}}else if(f!==d&&!i(f,d,n,r,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Gi(t){return xo(go(t,void 0,Lo),t+"")}function Wi(t){return hr(t,bs,to)}function Hi(t){return hr(t,xs,eo)}var Yi=yn?function(t){return yn.get(t)}:$s;function Xi(t){for(var e=t.name+"",n=_n[e],r=Ct.call(_n,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Zi(t){return(Ct.call(On,"placeholder")?On:t).placeholder}function Ki(){var t=On.iteratee||Ys;return t=t===Ys?Er:t,arguments.length?t(arguments[0],arguments[1]):t}function $i(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Ji(t){for(var e=bs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ho(i)]}return e}function Qi(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return wr(n)?n:void 0}var to=tn?function(t){return null==t?[]:(t=gt(t),ce(tn(t),(function(e){return Xt.call(t,e)})))}:il,eo=tn?function(t){for(var e=[];t;)de(e,to(t)),t=Wt(t);return e}:il,no=fr;function ro(t,e,n){for(var r=-1,i=(e=si(e,t)).length,o=!1;++r<i;){var a=To(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Va(i)&&ao(a,i)&&(Aa(t)||Ma(t))}function io(t){return"function"!=typeof t.constructor||po(t)?{}:In(Wt(t))}function oo(t){return Aa(t)||Ma(t)||!!($t&&t&&t[$t])}function ao(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&lt.test(t))&&t>-1&&t%1==0&&t<e}function so(t,e,n){if(!qa(n))return!1;var r=typeof e;return!!("number"==r?Ra(n)&&ao(e,n.length):"string"==r&&e in n)&&Ia(n[e],t)}function lo(t,e){if(Aa(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!$a(t))||(G.test(t)||!q.test(t)||null!=e&&t in gt(e))}function uo(t){var e=Xi(t),n=On[e];if("function"!=typeof n||!(e in Mn.prototype))return!1;if(t===n)return!0;var r=Yi(n);return!!r&&t===r[0]}(hn&&no(new hn(new ArrayBuffer(1)))!=C||fn&&no(new fn)!=g||dn&&"[object Promise]"!=no(dn.resolve())||gn&&no(new gn)!=_||mn&&no(new mn)!=w)&&(no=function(t){var e=fr(t),n=e==v?t.constructor:void 0,r=n?ko(n):"";if(r)switch(r){case bn:return C;case xn:return g;case wn:return"[object Promise]";case En:return _;case Cn:return w}return e});var co=wt?Ba:ol;function po(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||xt)}function ho(t){return t==t&&!qa(t)}function fo(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in gt(n)))}}function go(t,e,n){return e=an(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=an(i.length-e,0),s=r(a);++o<a;)s[o]=i[e+o];o=-1;for(var l=r(e+1);++o<e;)l[o]=i[o];return l[e]=n(s),oe(t,this,l)}}function mo(t,e){return e.length<2?t:pr(t,Wr(e,0,-1))}function vo(t,e){for(var n=t.length,r=sn(e.length,n),i=vi(t);r--;){var o=e[r];t[r]=ao(o,n)?i[o]:void 0}return t}function yo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var _o=Eo(Vr),bo=$e||function(t,e){return Yt.setTimeout(t,e)},xo=Eo(qr);function wo(t,e,n){var r=e+"";return xo(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace($,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return se(s,(function(n){var r="_."+n[0];e&n[1]&&!pe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(J);return e?e[1].split(Q):[]}(r),n)))}function Eo(t){var e=0,n=0;return function(){var r=ln(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Co(t,e){var n=-1,r=t.length,i=r-1;for(e=void 0===e?r:e;++n<e;){var o=Dr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var So=function(t){var e=Ea(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(W,(function(t,n,r,i){e.push(r?i.replace(et,"$1"):n||t)})),e}));function To(t){if("string"==typeof t||$a(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ko(t){if(null!=t){try{return Et.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Oo(t){if(t instanceof Mn)return t.clone();var e=new Nn(t.__wrapped__,t.__chain__);return e.__actions__=vi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Io=Fr((function(t,e){return Da(t)?Qn(t,or(e,1,Da,!0)):[]})),Po=Fr((function(t,e){var n=jo(e);return Da(n)&&(n=void 0),Da(t)?Qn(t,or(e,1,Da,!0),Ki(n,2)):[]})),No=Fr((function(t,e){var n=jo(e);return Da(n)&&(n=void 0),Da(t)?Qn(t,or(e,1,Da,!0),void 0,n):[]}));function Mo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),be(t,Ki(e,3),i)}function Ao(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?an(r+i,0):sn(i,r-1)),be(t,Ki(e,3),i,!0)}function Lo(t){return(null==t?0:t.length)?or(t,1):[]}function Ro(t){return t&&t.length?t[0]:void 0}var Do=Fr((function(t){var e=fe(t,oi);return e.length&&e[0]===t[0]?vr(e):[]})),zo=Fr((function(t){var e=jo(t),n=fe(t,oi);return e===jo(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?vr(n,Ki(e,2)):[]})),Fo=Fr((function(t){var e=jo(t),n=fe(t,oi);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?vr(n,void 0,e):[]}));function jo(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Bo=Fr(Uo);function Uo(t,e){return t&&t.length&&e&&e.length?Lr(t,e):t}var Vo=Gi((function(t,e){var n=null==t?0:t.length,r=Xn(t,e);return Rr(t,fe(e,(function(t){return ao(t,n)?+t:t})).sort(di)),r}));function qo(t){return null==t?t:pn.call(t)}var Go=Fr((function(t){return Jr(or(t,1,Da,!0))})),Wo=Fr((function(t){var e=jo(t);return Da(e)&&(e=void 0),Jr(or(t,1,Da,!0),Ki(e,2))})),Ho=Fr((function(t){var e=jo(t);return e="function"==typeof e?e:void 0,Jr(or(t,1,Da,!0),void 0,e)}));function Yo(t){if(!t||!t.length)return[];var e=0;return t=ce(t,(function(t){if(Da(t))return e=an(t.length,e),!0})),Ie(e,(function(e){return fe(t,Se(e))}))}function Xo(t,e){if(!t||!t.length)return[];var n=Yo(t);return null==e?n:fe(n,(function(t){return oe(e,void 0,t)}))}var Zo=Fr((function(t,e){return Da(t)?Qn(t,e):[]})),Ko=Fr((function(t){return ri(ce(t,Da))})),$o=Fr((function(t){var e=jo(t);return Da(e)&&(e=void 0),ri(ce(t,Da),Ki(e,2))})),Jo=Fr((function(t){var e=jo(t);return e="function"==typeof e?e:void 0,ri(ce(t,Da),void 0,e)})),Qo=Fr(Yo);var ta=Fr((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Xo(t,n)}));function ea(t){var e=On(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ra=Gi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return Xn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Mn&&ao(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[i],thisArg:void 0}),new Nn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)}));var ia=_i((function(t,e,n){Ct.call(t,n)?++t[n]:Yn(t,n,1)}));var oa=Ti(Mo),aa=Ti(Ao);function sa(t,e){return(Aa(t)?se:tr)(t,Ki(e,3))}function la(t,e){return(Aa(t)?le:er)(t,Ki(e,3))}var ua=_i((function(t,e,n){Ct.call(t,n)?t[n].push(e):Yn(t,n,[e])}));var ca=Fr((function(t,e,n){var i=-1,o="function"==typeof e,a=Ra(t)?r(t.length):[];return tr(t,(function(t){a[++i]=o?oe(e,t,n):yr(t,e,n)})),a})),pa=_i((function(t,e,n){Yn(t,n,e)}));function ha(t,e){return(Aa(t)?fe:kr)(t,Ki(e,3))}var fa=_i((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var da=Fr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&so(t,e[0],e[1])?e=[]:n>2&&so(e[0],e[1],e[2])&&(e=[e[0]]),Mr(t,or(e,1),[])})),ga=Ke||function(){return Yt.Date.now()};function ma(t,e,n){return e=n?void 0:e,ji(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function va(t,e){var n;if("function"!=typeof e)throw new yt(o);return t=rs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ya=Fr((function(t,e,n){var r=1;if(n.length){var i=Ve(n,Zi(ya));r|=32}return ji(t,r,e,n,i)})),_a=Fr((function(t,e,n){var r=3;if(n.length){var i=Ve(n,Zi(_a));r|=32}return ji(e,r,t,n,i)}));function ba(t,e,n){var r,i,a,s,l,u,c=0,p=!1,h=!1,f=!0;if("function"!=typeof t)throw new yt(o);function d(e){var n=r,o=i;return r=i=void 0,c=e,s=t.apply(o,n)}function g(t){return c=t,l=bo(v,e),p?d(t):s}function m(t){var n=t-u;return void 0===u||n>=e||n<0||h&&t-c>=a}function v(){var t=ga();if(m(t))return y(t);l=bo(v,function(t){var n=e-(t-u);return h?sn(n,a-(t-c)):n}(t))}function y(t){return l=void 0,f&&r?d(t):(r=i=void 0,s)}function _(){var t=ga(),n=m(t);if(r=arguments,i=this,u=t,n){if(void 0===l)return g(u);if(h)return ci(l),l=bo(v,e),d(u)}return void 0===l&&(l=bo(v,e)),s}return e=os(e)||0,qa(n)&&(p=!!n.leading,a=(h="maxWait"in n)?an(os(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),_.cancel=function(){void 0!==l&&ci(l),c=0,r=u=i=l=void 0},_.flush=function(){return void 0===l?s:y(ga())},_}var xa=Fr((function(t,e){return Jn(t,1,e)})),wa=Fr((function(t,e,n){return Jn(t,os(e)||0,n)}));function Ea(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new yt(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ea.Cache||Rn),n}function Ca(t){if("function"!=typeof t)throw new yt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ea.Cache=Rn;var Sa=li((function(t,e){var n=(e=1==e.length&&Aa(e[0])?fe(e[0],Pe(Ki())):fe(or(e,1),Pe(Ki()))).length;return Fr((function(r){for(var i=-1,o=sn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return oe(t,this,r)}))})),Ta=Fr((function(t,e){return ji(t,32,void 0,e,Ve(e,Zi(Ta)))})),ka=Fr((function(t,e){return ji(t,64,void 0,e,Ve(e,Zi(ka)))})),Oa=Gi((function(t,e){return ji(t,256,void 0,void 0,void 0,e)}));function Ia(t,e){return t===e||t!=t&&e!=e}var Pa=Li(dr),Na=Li((function(t,e){return t>=e})),Ma=_r(function(){return arguments}())?_r:function(t){return Ga(t)&&Ct.call(t,"callee")&&!Xt.call(t,"callee")},Aa=r.isArray,La=Qt?Pe(Qt):function(t){return Ga(t)&&fr(t)==E};function Ra(t){return null!=t&&Va(t.length)&&!Ba(t)}function Da(t){return Ga(t)&&Ra(t)}var za=en||ol,Fa=te?Pe(te):function(t){return Ga(t)&&fr(t)==p};function ja(t){if(!Ga(t))return!1;var e=fr(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ya(t)}function Ba(t){if(!qa(t))return!1;var e=fr(t);return e==f||e==d||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ua(t){return"number"==typeof t&&t==rs(t)}function Va(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function qa(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ga(t){return null!=t&&"object"==typeof t}var Wa=ee?Pe(ee):function(t){return Ga(t)&&no(t)==g};function Ha(t){return"number"==typeof t||Ga(t)&&fr(t)==m}function Ya(t){if(!Ga(t)||fr(t)!=v)return!1;var e=Wt(t);if(null===e)return!0;var n=Ct.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Et.call(n)==Ot}var Xa=ne?Pe(ne):function(t){return Ga(t)&&fr(t)==y};var Za=re?Pe(re):function(t){return Ga(t)&&no(t)==_};function Ka(t){return"string"==typeof t||!Aa(t)&&Ga(t)&&fr(t)==b}function $a(t){return"symbol"==typeof t||Ga(t)&&fr(t)==x}var Ja=ie?Pe(ie):function(t){return Ga(t)&&Va(t.length)&&!!Bt[fr(t)]};var Qa=Li(Tr),ts=Li((function(t,e){return t<=e}));function es(t){if(!t)return[];if(Ra(t))return Ka(t)?He(t):vi(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=no(t);return(e==g?Be:e==_?qe:Is)(t)}function ns(t){return t?(t=os(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function rs(t){var e=ns(t),n=e%1;return e==e?n?e-n:e:0}function is(t){return t?Zn(rs(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if($a(t))return NaN;if(qa(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=qa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(X,"");var n=ot.test(t);return n||st.test(t)?Gt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function as(t){return yi(t,xs(t))}function ss(t){return null==t?"":$r(t)}var ls=bi((function(t,e){if(po(e)||Ra(e))yi(e,bs(e),t);else for(var n in e)Ct.call(e,n)&&qn(t,n,e[n])})),us=bi((function(t,e){yi(e,xs(e),t)})),cs=bi((function(t,e,n,r){yi(e,xs(e),t,r)})),ps=bi((function(t,e,n,r){yi(e,bs(e),t,r)})),hs=Gi(Xn);var fs=Fr((function(t,e){t=gt(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&so(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=xs(o),s=-1,l=a.length;++s<l;){var u=a[s],c=t[u];(void 0===c||Ia(c,xt[u])&&!Ct.call(t,u))&&(t[u]=o[u])}return t})),ds=Fr((function(t){return t.push(void 0,Ui),oe(Es,void 0,t)}));function gs(t,e,n){var r=null==t?void 0:pr(t,e);return void 0===r?n:r}function ms(t,e){return null!=t&&ro(t,e,mr)}var vs=Ii((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),t[e]=n}),qs(Hs)),ys=Ii((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=kt.call(e)),Ct.call(t,e)?t[e].push(n):t[e]=[n]}),Ki),_s=Fr(yr);function bs(t){return Ra(t)?Fn(t):Cr(t)}function xs(t){return Ra(t)?Fn(t,!0):Sr(t)}var ws=bi((function(t,e,n){Pr(t,e,n)})),Es=bi((function(t,e,n,r){Pr(t,e,n,r)})),Cs=Gi((function(t,e){var n={};if(null==t)return n;var r=!1;e=fe(e,(function(e){return e=si(e,t),r||(r=e.length>1),e})),yi(t,Hi(t),n),r&&(n=Kn(n,7,Vi));for(var i=e.length;i--;)Qr(n,e[i]);return n}));var Ss=Gi((function(t,e){return null==t?{}:function(t,e){return Ar(t,e,(function(e,n){return ms(t,n)}))}(t,e)}));function Ts(t,e){if(null==t)return{};var n=fe(Hi(t),(function(t){return[t]}));return e=Ki(e),Ar(t,n,(function(t,n){return e(t,n[0])}))}var ks=Fi(bs),Os=Fi(xs);function Is(t){return null==t?[]:Ne(t,bs(t))}var Ps=Ci((function(t,e,n){return e=e.toLowerCase(),t+(n?Ns(e):e)}));function Ns(t){return js(ss(t).toLowerCase())}function Ms(t){return(t=ss(t))&&t.replace(ut,De).replace(At,"")}var As=Ci((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ls=Ci((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Rs=Ei("toLowerCase");var Ds=Ci((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var zs=Ci((function(t,e,n){return t+(n?" ":"")+js(e)}));var Fs=Ci((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),js=Ei("toUpperCase");function Bs(t,e,n){return t=ss(t),void 0===(e=n?void 0:e)?function(t){return zt.test(t)}(t)?function(t){return t.match(Rt)||[]}(t):function(t){return t.match(tt)||[]}(t):t.match(e)||[]}var Us=Fr((function(t,e){try{return oe(t,void 0,e)}catch(t){return ja(t)?t:new ht(t)}})),Vs=Gi((function(t,e){return se(e,(function(e){e=To(e),Yn(t,e,ya(t[e],t))})),t}));function qs(t){return function(){return t}}var Gs=ki(),Ws=ki(!0);function Hs(t){return t}function Ys(t){return Er("function"==typeof t?t:Kn(t,1))}var Xs=Fr((function(t,e){return function(n){return yr(n,t,e)}})),Zs=Fr((function(t,e){return function(n){return yr(t,n,e)}}));function Ks(t,e,n){var r=bs(e),i=cr(e,r);null!=n||qa(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=cr(e,bs(e)));var o=!(qa(n)&&"chain"in n&&!n.chain),a=Ba(t);return se(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=vi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,de([this.value()],arguments))})})),t}function $s(){}var Js=Ni(fe),Qs=Ni(ue),tl=Ni(ve);function el(t){return lo(t)?Se(To(t)):function(t){return function(e){return pr(e,t)}}(t)}var nl=Ai(),rl=Ai(!0);function il(){return[]}function ol(){return!1}var al=Pi((function(t,e){return t+e}),0),sl=Di("ceil"),ll=Pi((function(t,e){return t/e}),1),ul=Di("floor");var cl,pl=Pi((function(t,e){return t*e}),1),hl=Di("round"),fl=Pi((function(t,e){return t-e}),0);return On.after=function(t,e){if("function"!=typeof e)throw new yt(o);return t=rs(t),function(){if(--t<1)return e.apply(this,arguments)}},On.ary=ma,On.assign=ls,On.assignIn=us,On.assignInWith=cs,On.assignWith=ps,On.at=hs,On.before=va,On.bind=ya,On.bindAll=Vs,On.bindKey=_a,On.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Aa(t)?t:[t]},On.chain=ea,On.chunk=function(t,e,n){e=(n?so(t,e,n):void 0===e)?1:an(rs(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=r(Je(i/e));o<i;)s[a++]=Wr(t,o,o+=e);return s},On.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},On.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return de(Aa(n)?vi(n):[n],or(e,1))},On.cond=function(t){var e=null==t?0:t.length,n=Ki();return t=e?fe(t,(function(t){if("function"!=typeof t[1])throw new yt(o);return[n(t[0]),t[1]]})):[],Fr((function(n){for(var r=-1;++r<e;){var i=t[r];if(oe(i[0],this,n))return oe(i[1],this,n)}}))},On.conforms=function(t){return function(t){var e=bs(t);return function(n){return $n(n,t,e)}}(Kn(t,1))},On.constant=qs,On.countBy=ia,On.create=function(t,e){var n=In(t);return null==e?n:Hn(n,e)},On.curry=function t(e,n,r){var i=ji(e,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},On.curryRight=function t(e,n,r){var i=ji(e,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=t.placeholder,i},On.debounce=ba,On.defaults=fs,On.defaultsDeep=ds,On.defer=xa,On.delay=wa,On.difference=Io,On.differenceBy=Po,On.differenceWith=No,On.drop=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=n||void 0===e?1:rs(e))<0?0:e,r):[]},On.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,0,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e):[]},On.dropRightWhile=function(t,e){return t&&t.length?ei(t,Ki(e,3),!0,!0):[]},On.dropWhile=function(t,e){return t&&t.length?ei(t,Ki(e,3),!0):[]},On.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&so(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},On.filter=function(t,e){return(Aa(t)?ce:ir)(t,Ki(e,3))},On.flatMap=function(t,e){return or(ha(t,e),1)},On.flatMapDeep=function(t,e){return or(ha(t,e),1/0)},On.flatMapDepth=function(t,e,n){return n=void 0===n?1:rs(n),or(ha(t,e),n)},On.flatten=Lo,On.flattenDeep=function(t){return(null==t?0:t.length)?or(t,1/0):[]},On.flattenDepth=function(t,e){return(null==t?0:t.length)?or(t,e=void 0===e?1:rs(e)):[]},On.flip=function(t){return ji(t,512)},On.flow=Gs,On.flowRight=Ws,On.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},On.functions=function(t){return null==t?[]:cr(t,bs(t))},On.functionsIn=function(t){return null==t?[]:cr(t,xs(t))},On.groupBy=ua,On.initial=function(t){return(null==t?0:t.length)?Wr(t,0,-1):[]},On.intersection=Do,On.intersectionBy=zo,On.intersectionWith=Fo,On.invert=vs,On.invertBy=ys,On.invokeMap=ca,On.iteratee=Ys,On.keyBy=pa,On.keys=bs,On.keysIn=xs,On.map=ha,On.mapKeys=function(t,e){var n={};return e=Ki(e,3),lr(t,(function(t,r,i){Yn(n,e(t,r,i),t)})),n},On.mapValues=function(t,e){var n={};return e=Ki(e,3),lr(t,(function(t,r,i){Yn(n,r,e(t,r,i))})),n},On.matches=function(t){return Or(Kn(t,1))},On.matchesProperty=function(t,e){return Ir(t,Kn(e,1))},On.memoize=Ea,On.merge=ws,On.mergeWith=Es,On.method=Xs,On.methodOf=Zs,On.mixin=Ks,On.negate=Ca,On.nthArg=function(t){return t=rs(t),Fr((function(e){return Nr(e,t)}))},On.omit=Cs,On.omitBy=function(t,e){return Ts(t,Ca(Ki(e)))},On.once=function(t){return va(2,t)},On.orderBy=function(t,e,n,r){return null==t?[]:(Aa(e)||(e=null==e?[]:[e]),Aa(n=r?void 0:n)||(n=null==n?[]:[n]),Mr(t,e,n))},On.over=Js,On.overArgs=Sa,On.overEvery=Qs,On.overSome=tl,On.partial=Ta,On.partialRight=ka,On.partition=fa,On.pick=Ss,On.pickBy=Ts,On.property=el,On.propertyOf=function(t){return function(e){return null==t?void 0:pr(t,e)}},On.pull=Bo,On.pullAll=Uo,On.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Lr(t,e,Ki(n,2)):t},On.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Lr(t,e,void 0,n):t},On.pullAt=Vo,On.range=nl,On.rangeRight=rl,On.rearg=Oa,On.reject=function(t,e){return(Aa(t)?ce:ir)(t,Ca(Ki(e,3)))},On.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Ki(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Rr(t,i),n},On.rest=function(t,e){if("function"!=typeof t)throw new yt(o);return Fr(t,e=void 0===e?e:rs(e))},On.reverse=qo,On.sampleSize=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:rs(e),(Aa(t)?Bn:Br)(t,e)},On.set=function(t,e,n){return null==t?t:Ur(t,e,n)},On.setWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:Ur(t,e,n,r)},On.shuffle=function(t){return(Aa(t)?Un:Gr)(t)},On.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&so(t,e,n)?(e=0,n=r):(e=null==e?0:rs(e),n=void 0===n?r:rs(n)),Wr(t,e,n)):[]},On.sortBy=da,On.sortedUniq=function(t){return t&&t.length?Zr(t):[]},On.sortedUniqBy=function(t,e){return t&&t.length?Zr(t,Ki(e,2)):[]},On.split=function(t,e,n){return n&&"number"!=typeof n&&so(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ss(t))&&("string"==typeof e||null!=e&&!Xa(e))&&!(e=$r(e))&&je(t)?ui(He(t),0,n):t.split(e,n):[]},On.spread=function(t,e){if("function"!=typeof t)throw new yt(o);return e=null==e?0:an(rs(e),0),Fr((function(n){var r=n[e],i=ui(n,0,e);return r&&de(i,r),oe(t,this,i)}))},On.tail=function(t){var e=null==t?0:t.length;return e?Wr(t,1,e):[]},On.take=function(t,e,n){return t&&t.length?Wr(t,0,(e=n||void 0===e?1:rs(e))<0?0:e):[]},On.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Wr(t,(e=r-(e=n||void 0===e?1:rs(e)))<0?0:e,r):[]},On.takeRightWhile=function(t,e){return t&&t.length?ei(t,Ki(e,3),!1,!0):[]},On.takeWhile=function(t,e){return t&&t.length?ei(t,Ki(e,3)):[]},On.tap=function(t,e){return e(t),t},On.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new yt(o);return qa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ba(t,e,{leading:r,maxWait:e,trailing:i})},On.thru=na,On.toArray=es,On.toPairs=ks,On.toPairsIn=Os,On.toPath=function(t){return Aa(t)?fe(t,To):$a(t)?[t]:vi(So(ss(t)))},On.toPlainObject=as,On.transform=function(t,e,n){var r=Aa(t),i=r||za(t)||Ja(t);if(e=Ki(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:qa(t)&&Ba(o)?In(Wt(t)):{}}return(i?se:lr)(t,(function(t,r,i){return e(n,t,r,i)})),n},On.unary=function(t){return ma(t,1)},On.union=Go,On.unionBy=Wo,On.unionWith=Ho,On.uniq=function(t){return t&&t.length?Jr(t):[]},On.uniqBy=function(t,e){return t&&t.length?Jr(t,Ki(e,2)):[]},On.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Jr(t,void 0,e):[]},On.unset=function(t,e){return null==t||Qr(t,e)},On.unzip=Yo,On.unzipWith=Xo,On.update=function(t,e,n){return null==t?t:ti(t,e,ai(n))},On.updateWith=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:ti(t,e,ai(n),r)},On.values=Is,On.valuesIn=function(t){return null==t?[]:Ne(t,xs(t))},On.without=Zo,On.words=Bs,On.wrap=function(t,e){return Ta(ai(e),t)},On.xor=Ko,On.xorBy=$o,On.xorWith=Jo,On.zip=Qo,On.zipObject=function(t,e){return ii(t||[],e||[],qn)},On.zipObjectDeep=function(t,e){return ii(t||[],e||[],Ur)},On.zipWith=ta,On.entries=ks,On.entriesIn=Os,On.extend=us,On.extendWith=cs,Ks(On,On),On.add=al,On.attempt=Us,On.camelCase=Ps,On.capitalize=Ns,On.ceil=sl,On.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==e&&(e=(e=os(e))==e?e:0),Zn(os(t),e,n)},On.clone=function(t){return Kn(t,4)},On.cloneDeep=function(t){return Kn(t,5)},On.cloneDeepWith=function(t,e){return Kn(t,5,e="function"==typeof e?e:void 0)},On.cloneWith=function(t,e){return Kn(t,4,e="function"==typeof e?e:void 0)},On.conformsTo=function(t,e){return null==e||$n(t,e,bs(e))},On.deburr=Ms,On.defaultTo=function(t,e){return null==t||t!=t?e:t},On.divide=ll,On.endsWith=function(t,e,n){t=ss(t),e=$r(e);var r=t.length,i=n=void 0===n?r:Zn(rs(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},On.eq=Ia,On.escape=function(t){return(t=ss(t))&&j.test(t)?t.replace(z,ze):t},On.escapeRegExp=function(t){return(t=ss(t))&&Y.test(t)?t.replace(H,"\\$&"):t},On.every=function(t,e,n){var r=Aa(t)?ue:nr;return n&&so(t,e,n)&&(e=void 0),r(t,Ki(e,3))},On.find=oa,On.findIndex=Mo,On.findKey=function(t,e){return _e(t,Ki(e,3),lr)},On.findLast=aa,On.findLastIndex=Ao,On.findLastKey=function(t,e){return _e(t,Ki(e,3),ur)},On.floor=ul,On.forEach=sa,On.forEachRight=la,On.forIn=function(t,e){return null==t?t:ar(t,Ki(e,3),xs)},On.forInRight=function(t,e){return null==t?t:sr(t,Ki(e,3),xs)},On.forOwn=function(t,e){return t&&lr(t,Ki(e,3))},On.forOwnRight=function(t,e){return t&&ur(t,Ki(e,3))},On.get=gs,On.gt=Pa,On.gte=Na,On.has=function(t,e){return null!=t&&ro(t,e,gr)},On.hasIn=ms,On.head=Ro,On.identity=Hs,On.includes=function(t,e,n,r){t=Ra(t)?t:Is(t),n=n&&!r?rs(n):0;var i=t.length;return n<0&&(n=an(i+n,0)),Ka(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&xe(t,e,n)>-1},On.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=an(r+i,0)),xe(t,e,i)},On.inRange=function(t,e,n){return e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n){return t>=sn(e,n)&&t<an(e,n)}(t=os(t),e,n)},On.invoke=_s,On.isArguments=Ma,On.isArray=Aa,On.isArrayBuffer=La,On.isArrayLike=Ra,On.isArrayLikeObject=Da,On.isBoolean=function(t){return!0===t||!1===t||Ga(t)&&fr(t)==c},On.isBuffer=za,On.isDate=Fa,On.isElement=function(t){return Ga(t)&&1===t.nodeType&&!Ya(t)},On.isEmpty=function(t){if(null==t)return!0;if(Ra(t)&&(Aa(t)||"string"==typeof t||"function"==typeof t.splice||za(t)||Ja(t)||Ma(t)))return!t.length;var e=no(t);if(e==g||e==_)return!t.size;if(po(t))return!Cr(t).length;for(var n in t)if(Ct.call(t,n))return!1;return!0},On.isEqual=function(t,e){return br(t,e)},On.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?br(t,e,void 0,n):!!r},On.isError=ja,On.isFinite=function(t){return"number"==typeof t&&nn(t)},On.isFunction=Ba,On.isInteger=Ua,On.isLength=Va,On.isMap=Wa,On.isMatch=function(t,e){return t===e||xr(t,e,Ji(e))},On.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,xr(t,e,Ji(e),n)},On.isNaN=function(t){return Ha(t)&&t!=+t},On.isNative=function(t){if(co(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wr(t)},On.isNil=function(t){return null==t},On.isNull=function(t){return null===t},On.isNumber=Ha,On.isObject=qa,On.isObjectLike=Ga,On.isPlainObject=Ya,On.isRegExp=Xa,On.isSafeInteger=function(t){return Ua(t)&&t>=-9007199254740991&&t<=9007199254740991},On.isSet=Za,On.isString=Ka,On.isSymbol=$a,On.isTypedArray=Ja,On.isUndefined=function(t){return void 0===t},On.isWeakMap=function(t){return Ga(t)&&no(t)==w},On.isWeakSet=function(t){return Ga(t)&&"[object WeakSet]"==fr(t)},On.join=function(t,e){return null==t?"":rn.call(t,e)},On.kebabCase=As,On.last=jo,On.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?an(r+i,0):sn(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):be(t,Ee,i,!0)},On.lowerCase=Ls,On.lowerFirst=Rs,On.lt=Qa,On.lte=ts,On.max=function(t){return t&&t.length?rr(t,Hs,dr):void 0},On.maxBy=function(t,e){return t&&t.length?rr(t,Ki(e,2),dr):void 0},On.mean=function(t){return Ce(t,Hs)},On.meanBy=function(t,e){return Ce(t,Ki(e,2))},On.min=function(t){return t&&t.length?rr(t,Hs,Tr):void 0},On.minBy=function(t,e){return t&&t.length?rr(t,Ki(e,2),Tr):void 0},On.stubArray=il,On.stubFalse=ol,On.stubObject=function(){return{}},On.stubString=function(){return""},On.stubTrue=function(){return!0},On.multiply=pl,On.nth=function(t,e){return t&&t.length?Nr(t,rs(e)):void 0},On.noConflict=function(){return Yt._===this&&(Yt._=It),this},On.noop=$s,On.now=ga,On.pad=function(t,e,n){t=ss(t);var r=(e=rs(e))?We(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Mi(Qe(i),n)+t+Mi(Je(i),n)},On.padEnd=function(t,e,n){t=ss(t);var r=(e=rs(e))?We(t):0;return e&&r<e?t+Mi(e-r,n):t},On.padStart=function(t,e,n){t=ss(t);var r=(e=rs(e))?We(t):0;return e&&r<e?Mi(e-r,n)+t:t},On.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),un(ss(t).replace(Z,""),e||0)},On.random=function(t,e,n){if(n&&"boolean"!=typeof n&&so(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ns(t),void 0===e?(e=t,t=0):e=ns(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=cn();return sn(t+i*(e-t+qt("1e-"+((i+"").length-1))),e)}return Dr(t,e)},On.reduce=function(t,e,n){var r=Aa(t)?ge:ke,i=arguments.length<3;return r(t,Ki(e,4),n,i,tr)},On.reduceRight=function(t,e,n){var r=Aa(t)?me:ke,i=arguments.length<3;return r(t,Ki(e,4),n,i,er)},On.repeat=function(t,e,n){return e=(n?so(t,e,n):void 0===e)?1:rs(e),zr(ss(t),e)},On.replace=function(){var t=arguments,e=ss(t[0]);return t.length<3?e:e.replace(t[1],t[2])},On.result=function(t,e,n){var r=-1,i=(e=si(e,t)).length;for(i||(i=1,t=void 0);++r<i;){var o=null==t?void 0:t[To(e[r])];void 0===o&&(r=i,o=n),t=Ba(o)?o.call(t):o}return t},On.round=hl,On.runInContext=t,On.sample=function(t){return(Aa(t)?jn:jr)(t)},On.size=function(t){if(null==t)return 0;if(Ra(t))return Ka(t)?We(t):t.length;var e=no(t);return e==g||e==_?t.size:Cr(t).length},On.snakeCase=Ds,On.some=function(t,e,n){var r=Aa(t)?ve:Hr;return n&&so(t,e,n)&&(e=void 0),r(t,Ki(e,3))},On.sortedIndex=function(t,e){return Yr(t,e)},On.sortedIndexBy=function(t,e,n){return Xr(t,e,Ki(n,2))},On.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Yr(t,e);if(r<n&&Ia(t[r],e))return r}return-1},On.sortedLastIndex=function(t,e){return Yr(t,e,!0)},On.sortedLastIndexBy=function(t,e,n){return Xr(t,e,Ki(n,2),!0)},On.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Yr(t,e,!0)-1;if(Ia(t[n],e))return n}return-1},On.startCase=zs,On.startsWith=function(t,e,n){return t=ss(t),n=null==n?0:Zn(rs(n),0,t.length),e=$r(e),t.slice(n,n+e.length)==e},On.subtract=fl,On.sum=function(t){return t&&t.length?Oe(t,Hs):0},On.sumBy=function(t,e){return t&&t.length?Oe(t,Ki(e,2)):0},On.template=function(t,e,n){var r=On.templateSettings;n&&so(t,e,n)&&(e=void 0),t=ss(t),e=cs({},e,r,Bi);var i,o,a=cs({},e.imports,r.imports,Bi),s=bs(a),l=Ne(a,s),u=0,c=e.interpolate||ct,p="__p += '",h=mt((e.escape||ct).source+"|"+c.source+"|"+(c===V?nt:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),f="//# sourceURL="+(Ct.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++jt+"]")+"\n";t.replace(h,(function(e,n,r,a,s,l){return r||(r=a),p+=t.slice(u,l).replace(pt,Fe),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+e.length,e})),p+="';\n";var d=Ct.call(e,"variable")&&e.variable;d||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(A,""):p).replace(L,"$1").replace(R,"$1;"),p="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=Us((function(){return ft(s,f+"return "+p).apply(void 0,l)}));if(g.source=p,ja(g))throw g;return g},On.times=function(t,e){if((t=rs(t))<1||t>9007199254740991)return[];var n=4294967295,r=sn(t,4294967295);t-=4294967295;for(var i=Ie(r,e=Ki(e));++n<t;)e(n);return i},On.toFinite=ns,On.toInteger=rs,On.toLength=is,On.toLower=function(t){return ss(t).toLowerCase()},On.toNumber=os,On.toSafeInteger=function(t){return t?Zn(rs(t),-9007199254740991,9007199254740991):0===t?t:0},On.toString=ss,On.toUpper=function(t){return ss(t).toUpperCase()},On.trim=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=$r(e)))return t;var r=He(t),i=He(e);return ui(r,Ae(r,i),Le(r,i)+1).join("")},On.trimEnd=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(K,"");if(!t||!(e=$r(e)))return t;var r=He(t);return ui(r,0,Le(r,He(e))+1).join("")},On.trimStart=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(Z,"");if(!t||!(e=$r(e)))return t;var r=He(t);return ui(r,Ae(r,He(e))).join("")},On.truncate=function(t,e){var n=30,r="...";if(qa(e)){var i="separator"in e?e.separator:i;n="length"in e?rs(e.length):n,r="omission"in e?$r(e.omission):r}var o=(t=ss(t)).length;if(je(t)){var a=He(t);o=a.length}if(n>=o)return t;var s=n-We(r);if(s<1)return r;var l=a?ui(a,0,s).join(""):t.slice(0,s);if(void 0===i)return l+r;if(a&&(s+=l.length-s),Xa(i)){if(t.slice(s).search(i)){var u,c=l;for(i.global||(i=mt(i.source,ss(rt.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var p=u.index;l=l.slice(0,void 0===p?s:p)}}else if(t.indexOf($r(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},On.unescape=function(t){return(t=ss(t))&&F.test(t)?t.replace(D,Ye):t},On.uniqueId=function(t){var e=++St;return ss(t)+e},On.upperCase=Fs,On.upperFirst=js,On.each=sa,On.eachRight=la,On.first=Ro,Ks(On,(cl={},lr(On,(function(t,e){Ct.call(On.prototype,e)||(cl[e]=t)})),cl),{chain:!1}),On.VERSION="4.17.15",se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){On[t].placeholder=On})),se(["drop","take"],(function(t,e){Mn.prototype[t]=function(n){n=void 0===n?1:an(rs(n),0);var r=this.__filtered__&&!e?new Mn(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:t+(r.__dir__<0?"Right":"")}),r},Mn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),se(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Mn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ki(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Mn.prototype[t]=function(){return this[n](1).value()[0]}})),se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Mn.prototype[t]=function(){return this.__filtered__?new Mn(this):this[n](1)}})),Mn.prototype.compact=function(){return this.filter(Hs)},Mn.prototype.find=function(t){return this.filter(t).head()},Mn.prototype.findLast=function(t){return this.reverse().find(t)},Mn.prototype.invokeMap=Fr((function(t,e){return"function"==typeof t?new Mn(this):this.map((function(n){return yr(n,t,e)}))})),Mn.prototype.reject=function(t){return this.filter(Ca(Ki(t)))},Mn.prototype.slice=function(t,e){t=rs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Mn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=rs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Mn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Mn.prototype.toArray=function(){return this.take(4294967295)},lr(Mn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=On[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(On.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof Mn,l=a[0],u=s||Aa(e),c=function(t){var e=i.apply(On,de([t],a));return r&&p?e[0]:e};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var p=this.__chain__,h=!!this.__actions__.length,f=o&&!p,d=s&&!h;if(!o&&u){e=d?e:new Mn(this);var g=t.apply(e,a);return g.__actions__.push({func:na,args:[c],thisArg:void 0}),new Nn(g,p)}return f&&d?t.apply(this,a):(g=this.thru(c),f?r?g.value()[0]:g.value():g)})})),se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=_t[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);On.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Aa(i)?i:[],t)}return this[n]((function(n){return e.apply(Aa(n)?n:[],t)}))}})),lr(Mn.prototype,(function(t,e){var n=On[e];if(n){var r=n.name+"";Ct.call(_n,r)||(_n[r]=[]),_n[r].push({name:e,func:n})}})),_n[Oi(void 0,2).name]=[{name:"wrapper",func:void 0}],Mn.prototype.clone=function(){var t=new Mn(this.__wrapped__);return t.__actions__=vi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=vi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=vi(this.__views__),t},Mn.prototype.reverse=function(){if(this.__filtered__){var t=new Mn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Mn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Aa(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=sn(e,t+a);break;case"takeRight":t=an(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,p=c.length,h=0,f=sn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return ni(t,this.__actions__);var d=[];t:for(;l--&&h<f;){for(var g=-1,m=t[u+=e];++g<p;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}d[h++]=m}return d},On.prototype.at=ra,On.prototype.chain=function(){return ea(this)},On.prototype.commit=function(){return new Nn(this.value(),this.__chain__)},On.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},On.prototype.plant=function(t){for(var e,n=this;n instanceof Pn;){var r=Oo(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},On.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Mn){var e=t;return this.__actions__.length&&(e=new Mn(this)),(e=e.reverse()).__actions__.push({func:na,args:[qo],thisArg:void 0}),new Nn(e,this.__chain__)}return this.thru(qo)},On.prototype.toJSON=On.prototype.valueOf=On.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},On.prototype.first=On.prototype.head,Jt&&(On.prototype[Jt]=function(){return this}),On}();Yt._=Xe,void 0===(i=function(){return Xe}.call(e,n,e,r))||(r.exports=i)}).call(this)}).call(this,n(60),n(134)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"randomString",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(651))&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";t.exports={VelocityComponent:n(653),VelocityTransitionGroup:n(657),velocityHelpers:n(664)}},function(t,e,n){var r=n(47),i=n(206),o=n(654),a=n(71),s=n(77),l=n(655),u=n(145),c=n(208),p=u((function(t,e){var n={};if(null==t)return n;var u=!1;e=r(e,(function(e){return e=a(e,t),u||(u=e.length>1),e})),s(t,c(t),n),u&&(n=i(n,7,l));for(var p=e.length;p--;)o(n,e[p]);return n}));t.exports=p},function(t,e,n){"use strict";var r=Array.prototype.slice,i=n(316),o=Object.keys,a=o?function(t){return o(t)}:n(672),s=Object.keys;a.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return i(t)?s(r.call(t)):s(t)}):Object.keys=a;return Object.keys||a},t.exports=a},function(t,e,n){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),n}},function(t,e,n){"use strict";var r=Object,i=TypeError;t.exports=function(){if(null!=this&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},function(t,e,n){"use strict";var r=n(317),i=n(220).supportsDescriptors,o=Object.getOwnPropertyDescriptor,a=TypeError;t.exports=function(){if(!i)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=o(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return r}},function(t,e,n){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),r=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(t),u=l&&/Qt\/\d+\.\d+/.test(t),c=!o&&/Chrome\//.test(t),p=/Opera\//.test(t),h=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),d=/PhantomJS/.test(t),g=!o&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),m=/Android/.test(t),v=g||m||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=g||/Mac/.test(e),_=/\bCrOS\b/.test(t),b=/win/i.test(e),x=p&&t.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(p=!1,l=!0);var w=y&&(u||p&&(null==x||x<12.11)),E=n||a&&s>=9;function C(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var S,T=function(t,e){var n=t.className,r=C(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function k(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function O(t,e){return k(t).appendChild(e)}function I(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function P(t,e,n,r){var i=I(t,e,n,r);return i.setAttribute("role","presentation"),i}function N(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function M(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function A(t,e){var n=t.className;C(e).test(n)||(t.className+=(n?" ":"")+e)}function L(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!C(n[r]).test(e)&&(e+=" "+n[r]);return e}S=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(t){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var R=function(t){t.select()};function D(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function z(t,e,n){for(var r in e||(e={}),t)!t.hasOwnProperty(r)||!1===n&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function F(t,e,n,r,i){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=r||0,a=i||0;;){var s=t.indexOf("\t",o);if(s<0||s>=e)return a+(e-o);a+=s-o,a+=n-a%n,o=s+1}}g?R=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:a&&(R=function(t){try{t.select()}catch(t){}});var j=function(){this.id=null,this.f=null,this.time=0,this.handler=D(this.onTimeout,this)};function B(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}j.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},j.prototype.set=function(t,e){this.f=e;var n=+new Date+t;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=n)};var U={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},q={origin:"*mouse"},G={origin:"+move"};function W(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("\t",r);-1==o&&(o=t.length);var a=o-r;if(o==t.length||i+a>=e)return r+Math.min(a,e-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=e)return r}}var H=[""];function Y(t){for(;H.length<=t;)H.push(X(H)+" ");return H[t]}function X(t){return t[t.length-1]}function Z(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function K(){}function $(t,e){var n;return Object.create?n=Object.create(t):(K.prototype=t,n=new K),e&&z(e,n),n}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Q(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||J.test(t))}function tt(t,e){return e?!!(e.source.indexOf("\\w")>-1&&Q(t))||e.test(t):Q(t)}function et(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var nt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function rt(t){return t.charCodeAt(0)>=768&&nt.test(t)}function it(t,e,n){for(;(n<0?e>0:e<t.length)&&rt(t.charAt(e));)e+=n;return e}function ot(t,e,n){for(var r=e>n?-1:1;;){if(e==n)return e;var i=(e+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+r}}var at=null;function st(t,e,n){var r;at=null;for(var i=0;i<t.length;++i){var o=t[i];if(o.from<e&&o.to>e)return i;o.to==e&&(o.from!=o.to&&"before"==n?r=i:at=i),o.from==e&&(o.from!=o.to&&"before"!=n?r=i:at=i)}return null!=r?r:at}var lt=function(){var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,i=/[1n]/;function o(t,e,n){this.level=t,this.from=e,this.to=n}return function(a,s){var l="ltr"==s?"L":"R";if(0==a.length||"ltr"==s&&!t.test(a))return!1;for(var u,c=a.length,p=[],h=0;h<c;++h)p.push((u=a.charCodeAt(h))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":8204==u?"b":"L");for(var f=0,d=l;f<c;++f){var g=p[f];"m"==g?p[f]=d:d=g}for(var m=0,v=l;m<c;++m){var y=p[m];"1"==y&&"r"==v?p[m]="n":n.test(y)&&(v=y,"r"==y&&(p[m]="R"))}for(var _=1,b=p[0];_<c-1;++_){var x=p[_];"+"==x&&"1"==b&&"1"==p[_+1]?p[_]="1":","!=x||b!=p[_+1]||"1"!=b&&"n"!=b||(p[_]=b),b=x}for(var w=0;w<c;++w){var E=p[w];if(","==E)p[w]="N";else if("%"==E){var C=void 0;for(C=w+1;C<c&&"%"==p[C];++C);for(var S=w&&"!"==p[w-1]||C<c&&"1"==p[C]?"1":"N",T=w;T<C;++T)p[T]=S;w=C-1}}for(var k=0,O=l;k<c;++k){var I=p[k];"L"==O&&"1"==I?p[k]="L":n.test(I)&&(O=I)}for(var P=0;P<c;++P)if(e.test(p[P])){var N=void 0;for(N=P+1;N<c&&e.test(p[N]);++N);for(var M="L"==(P?p[P-1]:l),A=M==("L"==(N<c?p[N]:l))?M?"L":"R":l,L=P;L<N;++L)p[L]=A;P=N-1}for(var R,D=[],z=0;z<c;)if(r.test(p[z])){var F=z;for(++z;z<c&&r.test(p[z]);++z);D.push(new o(0,F,z))}else{var j=z,B=D.length;for(++z;z<c&&"L"!=p[z];++z);for(var U=j;U<z;)if(i.test(p[U])){j<U&&D.splice(B,0,new o(1,j,U));var V=U;for(++U;U<z&&i.test(p[U]);++U);D.splice(B,0,new o(2,V,U)),j=U}else++U;j<z&&D.splice(B,0,new o(1,j,z))}return"ltr"==s&&(1==D[0].level&&(R=a.match(/^\s+/))&&(D[0].from=R[0].length,D.unshift(new o(0,0,R[0].length))),1==X(D).level&&(R=a.match(/\s+$/))&&(X(D).to-=R[0].length,D.push(new o(0,c-R[0].length,c)))),"rtl"==s?D.reverse():D}}();function ut(t,e){var n=t.order;return null==n&&(n=t.order=lt(t.text,e)),n}var ct=[],pt=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={});r[e]=(r[e]||ct).concat(n)}};function ht(t,e){return t._handlers&&t._handlers[e]||ct}function ft(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var r=t._handlers,i=r&&r[e];if(i){var o=B(i,n);o>-1&&(r[e]=i.slice(0,o).concat(i.slice(o+1)))}}}function dt(t,e){var n=ht(t,e);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function gt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),dt(t,n||e.type,t,e),xt(e)||e.codemirrorIgnore}function mt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==B(n,e[r])&&n.push(e[r])}function vt(t,e){return ht(t,e).length>0}function yt(t){t.prototype.on=function(t,e){pt(this,t,e)},t.prototype.off=function(t,e){ft(this,t,e)}}function _t(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function bt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function xt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function wt(t){_t(t),bt(t)}function Et(t){return t.target||t.srcElement}function Ct(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),y&&t.ctrlKey&&1==e&&(e=3),e}var St,Tt,kt=function(){if(a&&s<9)return!1;var t=I("div");return"draggable"in t||"dragDrop"in t}();function Ot(t){if(null==St){var e=I("span","​");O(t,I("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(St=e.offsetWidth<=1&&e.offsetHeight>2&&!(a&&s<8))}var n=St?I("span","​"):I("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function It(t){if(null!=Tt)return Tt;var e=O(t,document.createTextNode("AخA")),n=S(e,0,1).getBoundingClientRect(),r=S(e,1,2).getBoundingClientRect();return k(t),!(!n||n.left==n.right)&&(Tt=r.right-n.right<3)}var Pt,Nt=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;e<=r;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),e+=a+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Mt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},At="oncopy"in(Pt=I("div"))||(Pt.setAttribute("oncopy","return;"),"function"==typeof Pt.oncopy),Lt=null,Rt={},Dt={};function zt(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Rt[t]=e}function Ft(t){if("string"==typeof t&&Dt.hasOwnProperty(t))t=Dt[t];else if(t&&"string"==typeof t.name&&Dt.hasOwnProperty(t.name)){var e=Dt[t.name];"string"==typeof e&&(e={name:e}),(t=$(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Ft("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Ft("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function jt(t,e){e=Ft(e);var n=Rt[e.name];if(!n)return jt(t,"text/plain");var r=n(t,e);if(Bt.hasOwnProperty(e.name)){var i=Bt[e.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=e.name,e.helperType&&(r.helperType=e.helperType),e.modeProps)for(var a in e.modeProps)r[a]=e.modeProps[a];return r}var Bt={};function Ut(t,e){z(e,Bt.hasOwnProperty(t)?Bt[t]:Bt[t]={})}function Vt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function qt(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function Gt(t,e,n){return!t.startState||t.startState(e,n)}var Wt=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Ht(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(e<o){n=i;break}e-=o}return n.lines[e]}function Yt(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,(function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i})),r}function Xt(t,e,n){var r=[];return t.iter(e,n,(function(t){r.push(t.text)})),r}function Zt(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function Kt(t){if(null==t.parent)return null;for(var e=t.parent,n=B(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function $t(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(e<o){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var a=0;a<t.lines.length;++a){var s=t.lines[a].height;if(e<s)break;e-=s}return n+a}function Jt(t,e){return e>=t.first&&e<t.first+t.size}function Qt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function te(t,e,n){if(void 0===n&&(n=null),!(this instanceof te))return new te(t,e,n);this.line=t,this.ch=e,this.sticky=n}function ee(t,e){return t.line-e.line||t.ch-e.ch}function ne(t,e){return t.sticky==e.sticky&&0==ee(t,e)}function re(t){return te(t.line,t.ch)}function ie(t,e){return ee(t,e)<0?e:t}function oe(t,e){return ee(t,e)<0?t:e}function ae(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function se(t,e){if(e.line<t.first)return te(t.first,0);var n=t.first+t.size-1;return e.line>n?te(n,Ht(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?te(t.line,e):n<0?te(t.line,0):t}(e,Ht(t,e.line).text.length)}function le(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=se(t,e[r]);return n}Wt.prototype.eol=function(){return this.pos>=this.string.length},Wt.prototype.sol=function(){return this.pos==this.lineStart},Wt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Wt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Wt.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Wt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Wt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Wt.prototype.skipToEnd=function(){this.pos=this.string.length},Wt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Wt.prototype.backUp=function(t){this.pos-=t},Wt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Wt.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Wt.prototype.match=function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&!1!==e&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t};if(i(this.string.substr(this.pos,t.length))==i(t))return!1!==e&&(this.pos+=t.length),!0},Wt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Wt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Wt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Wt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var ue=function(t,e){this.state=t,this.lookAhead=e},ce=function(t,e,n,r){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function pe(t,e,n,r){var i=[t.state.modeGen],o={};be(t,e.text,t.doc.mode,n,(function(t,e){return i.push(t,e)}),o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=t.state.overlays[r],l=1,u=0;n.state=!0,be(t,e.text,s.mode,n,(function(t,e){for(var n=l;u<t;){var r=i[l];r>t&&i.splice(l,1,t,i[l+1],r),l+=2,u=Math.min(t,r)}if(e)if(s.opaque)i.splice(n,l-n,t,"overlay "+e),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+e}}),o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function he(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=fe(t,Kt(e)),i=e.text.length>t.options.maxHighlightLength&&Vt(t.doc.mode,r.state),o=pe(t,e,r);i&&(r.state=i),e.stateAfter=r.save(!i),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function fe(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return new ce(r,!0,e);var o=function(t,e,n){for(var r,i,o=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>a;--s){if(s<=o.first)return o.first;var l=Ht(o,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof ue?u.lookAhead:0)<=o.modeFrontier))return s;var c=F(l.text,null,t.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}(t,e,n),a=o>r.first&&Ht(r,o-1).stateAfter,s=a?ce.fromSaved(r,a,o):new ce(r,Gt(r.mode),o);return r.iter(o,e,(function(n){de(t,n.text,s);var r=s.line;n.stateAfter=r==e-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()})),n&&(r.modeFrontier=s.line),s}function de(t,e,n,r){var i=t.doc.mode,o=new Wt(e,t.options.tabSize,n);for(o.start=o.pos=r||0,""==e&&ge(i,n.state);!o.eol();)me(i,o,n.state),o.start=o.pos}function ge(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=qt(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function me(t,e,n,r){for(var i=0;i<10;i++){r&&(r[0]=qt(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}ce.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},ce.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},ce.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ce.fromSaved=function(t,e,n){return e instanceof ue?new ce(t,Vt(t.mode,e.state),n,e.lookAhead):new ce(t,Vt(t.mode,e),n)},ce.prototype.save=function(t){var e=!1!==t?Vt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ue(e,this.maxLookAhead):e};var ve=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function ye(t,e,n,r){var i,o,a=t.doc,s=a.mode,l=Ht(a,(e=se(a,e)).line),u=fe(t,e.line,n),c=new Wt(l.text,t.options.tabSize,u);for(r&&(o=[]);(r||c.pos<e.ch)&&!c.eol();)c.start=c.pos,i=me(s,c,u.state),r&&o.push(new ve(c,i,Vt(a.mode,u.state)));return r?o:new ve(c,i,u.state)}function _e(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[r])||(e[r]+=" "+n[2])}return t}function be(t,e,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var l,u=0,c=null,p=new Wt(e,t.options.tabSize,r),h=t.options.addModeClass&&[null];for(""==e&&_e(ge(n,r.state),o);!p.eol();){if(p.pos>t.options.maxHighlightLength?(s=!1,a&&de(t,e,r,p.pos),p.pos=e.length,l=null):l=_e(me(n,p,r.state,h),o),h){var f=h[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||c!=l){for(;u<p.start;)i(u=Math.min(p.start,u+5e3),c);c=l}p.start=p.pos}for(;u<p.pos;){var d=Math.min(p.pos,u+5e3);i(d,c),u=d}}var xe=!1,we=!1;function Ee(t,e,n){this.marker=t,this.from=e,this.to=n}function Ce(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function Se(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function Te(t,e){if(e.full)return null;var n=Jt(t,e.from.line)&&Ht(t,e.from.line).markedSpans,r=Jt(t,e.to.line)&&Ht(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,a=0==ee(e.from,e.to),s=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new Ee(a,o.from,s?null:o.to))}}return r}(n,i,a),l=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new Ee(a,s?null:o.from-e,null==o.to?null:o.to-e))}}return r}(r,o,a),u=1==e.text.length,c=X(e.text).length+(u?i:0);if(s)for(var p=0;p<s.length;++p){var h=s[p];if(null==h.to){var f=Ce(l,h.marker);f?u&&(h.to=null==f.to?null:f.to+c):h.to=i}}if(l)for(var d=0;d<l.length;++d){var g=l[d];null!=g.to&&(g.to+=c),null==g.from?Ce(s,g.marker)||(g.from=c,u&&(s||(s=[])).push(g)):(g.from+=c,u&&(s||(s=[])).push(g))}s&&(s=ke(s)),l&&l!=s&&(l=ke(l));var m=[s];if(!u){var v,y=e.text.length-2;if(y>0&&s)for(var _=0;_<s.length;++_)null==s[_].to&&(v||(v=[])).push(new Ee(s[_].marker,null,null));for(var b=0;b<y;++b)m.push(v);m.push(l)}return m}function ke(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Oe(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Ie(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Pe(t){return t.inclusiveLeft?-1:0}function Ne(t){return t.inclusiveRight?1:0}function Me(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=ee(r.from,i.from)||Pe(t)-Pe(e);if(o)return-o;var a=ee(r.to,i.to)||Ne(t)-Ne(e);return a||e.id-t.id}function Ae(t,e){var n,r=we&&t.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(e?i.from:i.to)&&(!n||Me(n,i.marker)<0)&&(n=i.marker);return n}function Le(t){return Ae(t,!0)}function Re(t){return Ae(t,!1)}function De(t,e){var n,r=we&&t.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!n||Me(n,o.marker)<0)&&(n=o.marker)}return n}function ze(t,e,n,r,i){var o=Ht(t,e),a=we&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=ee(u.from,n)||Pe(l.marker)-Pe(i),p=ee(u.to,r)||Ne(l.marker)-Ne(i);if(!(c>=0&&p<=0||c<=0&&p>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ee(u.to,n)>=0:ee(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ee(u.from,r)<=0:ee(u.from,r)<0)))return!0}}}function Fe(t){for(var e;e=Le(t);)t=e.find(-1,!0).line;return t}function je(t,e){var n=Ht(t,e),r=Fe(n);return n==r?e:Kt(r)}function Be(t,e){if(e>t.lastLine())return e;var n,r=Ht(t,e);if(!Ue(t,r))return e;for(;n=Re(r);)r=n.find(1,!0).line;return Kt(r)+1}function Ue(t,e){var n=we&&e.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Ve(t,e,r))return!0}}function Ve(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return Ve(t,r.line,Ce(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i=void 0,o=0;o<e.markedSpans.length;++o)if((i=e.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ve(t,e,i))return!0}function qe(t){for(var e=0,n=(t=Fe(t)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;e+=s.height}return e}function Ge(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=Le(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=Re(r);){var o=e.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function We(t){var e=t.display,n=t.doc;e.maxLine=Ht(n,n.first),e.maxLineLength=Ge(e.maxLine),e.maxLineChanged=!0,n.iter((function(t){var n=Ge(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)}))}var He=function(t,e,n){this.text=t,Ie(this,e),this.height=n?n(this):1};function Ye(t){t.parent=null,Oe(t)}He.prototype.lineNo=function(){return Kt(this)},yt(He);var Xe={},Ze={};function Ke(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Ze:Xe;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function $e(t,e){var n=P("span",null,null,l?"padding-right: .1px":null),r={pre:P("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o=i?e.rest[i-1]:e.line,a=void 0;r.pos=0,r.addToken=Qe,It(t.display.measure)&&(a=ut(o,t.doc.direction))&&(r.addToken=tn(r.addToken,a)),r.map=[],nn(o,r,he(t,o,e!=t.display.externalMeasured&&Kt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=L(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=L(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ot(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return dt(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=L(r.pre.className,r.textClass||"")),r}function Je(t){var e=I("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Qe(t,e,n,r,i,o,l){if(e){var u,c=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,r="",i=0;i<t.length;i++){var o=t.charAt(i);" "!=o||!n||i!=t.length-1&&32!=t.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}(e,t.trailingSpace):e,p=t.cm.state.specialChars,h=!1;if(p.test(e)){u=document.createDocumentFragment();for(var f=0;;){p.lastIndex=f;var d=p.exec(e),g=d?d.index-f:e.length-f;if(g){var m=document.createTextNode(c.slice(f,f+g));a&&s<9?u.appendChild(I("span",[m])):u.appendChild(m),t.map.push(t.pos,t.pos+g,m),t.col+=g,t.pos+=g}if(!d)break;f+=g+1;var v=void 0;if("\t"==d[0]){var y=t.cm.options.tabSize,_=y-t.col%y;(v=u.appendChild(I("span",Y(_),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=_}else"\r"==d[0]||"\n"==d[0]?((v=u.appendChild(I("span","\r"==d[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",d[0]),t.col+=1):((v=t.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),a&&s<9?u.appendChild(I("span",[v])):u.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,u=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,u),a&&s<9&&(h=!0),t.pos+=e.length;if(t.trailingSpace=32==c.charCodeAt(e.length-1),n||r||i||h||o){var b=n||"";r&&(b+=r),i&&(b+=i);var x=I("span",[u],b,o);if(l)for(var w in l)l.hasOwnProperty(w)&&"style"!=w&&"class"!=w&&x.setAttribute(w,l[w]);return t.content.appendChild(x)}t.content.appendChild(u)}}function tn(t,e){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var p=void 0,h=0;h<e.length&&!((p=e[h]).to>u&&p.from<=u);h++);if(p.to>=c)return t(n,r,i,o,a,s,l);t(n,r.slice(0,p.to-u),i,o,null,s,l),o=null,r=r.slice(p.to-u),u=p.to}}}function en(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function nn(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var a,s,l,u,c,p,h,f=i.length,d=0,g=1,m="",v=0;;){if(v==d){l=u=c=s="",h=null,p=null,v=1/0;for(var y=[],_=void 0,b=0;b<r.length;++b){var x=r[b],w=x.marker;if("bookmark"==w.type&&x.from==d&&w.widgetNode)y.push(w);else if(x.from<=d&&(null==x.to||x.to>d||w.collapsed&&x.to==d&&x.from==d)){if(null!=x.to&&x.to!=d&&v>x.to&&(v=x.to,u=""),w.className&&(l+=" "+w.className),w.css&&(s=(s?s+";":"")+w.css),w.startStyle&&x.from==d&&(c+=" "+w.startStyle),w.endStyle&&x.to==v&&(_||(_=[])).push(w.endStyle,x.to),w.title&&((h||(h={})).title=w.title),w.attributes)for(var E in w.attributes)(h||(h={}))[E]=w.attributes[E];w.collapsed&&(!p||Me(p.marker,w)<0)&&(p=x)}else x.from>d&&v>x.from&&(v=x.from)}if(_)for(var C=0;C<_.length;C+=2)_[C+1]==v&&(u+=" "+_[C]);if(!p||p.from==d)for(var S=0;S<y.length;++S)en(e,0,y[S]);if(p&&(p.from||0)==d){if(en(e,(null==p.to?f+1:p.to)-d,p.marker,null==p.from),null==p.to)return;p.to==d&&(p=!1)}}if(d>=f)break;for(var T=Math.min(f,v);;){if(m){var k=d+m.length;if(!p){var O=k>T?m.slice(0,T-d):m;e.addToken(e,O,a?a+l:l,c,d+O.length==v?u:"",s,h)}if(k>=T){m=m.slice(T-d),d=T;break}d=k,c=""}m=i.slice(o,o=n[g++]),a=Ke(n[g++],e.cm.options)}}else for(var I=1;I<n.length;I+=2)e.addToken(e,i.slice(o,o=n[I]),Ke(n[I+1],e.cm.options))}function rn(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=Re(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?Kt(X(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ue(t,e)}function on(t,e,n){for(var r,i=[],o=e;o<n;o=r){var a=new rn(t.doc,Ht(t.doc,o),o);r=o+a.size,i.push(a)}return i}var an=null,sn=null;function ln(t,e){var n=ht(t,e);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);an?r=an.delayedCallbacks:sn?r=sn:(r=sn=[],setTimeout(un,0));for(var o=function(t){r.push((function(){return n[t].apply(null,i)}))},a=0;a<n.length;++a)o(a)}}function un(){var t=sn;sn=null;for(var e=0;e<t.length;++e)t[e]()}function cn(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?fn(t,e):"gutter"==o?gn(t,e,n,r):"class"==o?dn(t,e):"widget"==o&&mn(t,e,r)}e.changes=null}function pn(t){return t.node==t.text&&(t.node=I("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),a&&s<8&&(t.node.style.zIndex=2)),t.node}function hn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):$e(t,e)}function fn(t,e){var n=e.text.className,r=hn(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,dn(t,e)):n&&(e.text.className=n)}function dn(t,e){!function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var r=pn(e);e.background=r.insertBefore(I("div",null,n),r.firstChild),t.display.input.setUneditable(e.background)}}(t,e),e.line.wrapClass?pn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function gn(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=pn(e);e.gutterBackground=I("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var a=pn(e),s=e.gutter=I("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),a.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(I("div",Qt(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.display.gutterSpecs.length;++l){var u=t.display.gutterSpecs[l].className,c=o.hasOwnProperty(u)&&o[u];c&&s.appendChild(I("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function mn(t,e,n){e.alignable&&(e.alignable=null);for(var r=C("CodeMirror-linewidget"),i=e.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&e.node.removeChild(i);yn(t,e,n)}function vn(t,e,n,r){var i=hn(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),dn(t,e),gn(t,e,n,r),yn(t,e,r),e.node}function yn(t,e,n){if(_n(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)_n(t,e.rest[r],e,n,!1)}function _n(t,e,n,r,i){if(e.widgets)for(var o=pn(n),a=0,s=e.widgets;a<s.length;++a){var l=s[a],u=I("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),bn(l,u,n,r),t.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),ln(l,"redraw")}}function bn(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function xn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!N(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),O(e.display.measure,I("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function wn(t,e){for(var n=Et(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function En(t){return t.lineSpace.offsetTop}function Cn(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Sn(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=O(t.measure,I("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Tn(t){return 30-t.display.nativeBarWidth}function kn(t){return t.display.scroller.clientWidth-Tn(t)-t.display.barWidth}function On(t){return t.display.scroller.clientHeight-Tn(t)-t.display.barHeight}function In(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var i=0;i<t.rest.length;i++)if(Kt(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Pn(t,e,n,r){return An(t,Mn(t,e),n,r)}function Nn(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[cr(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Mn(t,e){var n=Kt(e),r=Nn(t,n);r&&!r.text?r=null:r&&r.changes&&(cn(t,r,n,or(t)),t.curOp.forceUpdate=!0),r||(r=function(t,e){var n=Kt(e=Fe(e)),r=t.display.externalMeasured=new rn(t.doc,e,n);r.lineN=n;var i=r.built=$e(t,r);return r.text=i.pre,O(t.display.lineMeasure,i.pre),r}(t,e));var i=In(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function An(t,e,n,r,i){e.before&&(n=-1);var o,l=n+(r||"");return e.cache.hasOwnProperty(l)?o=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,n){var r=t.options.lineWrapping,i=r&&kn(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,n,r){var i,o=Dn(e.map,n,r),l=o.node,u=o.start,c=o.end,p=o.collapse;if(3==l.nodeType){for(var h=0;h<4;h++){for(;u&&rt(e.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+c<o.coverEnd&&rt(e.line.text.charAt(o.coverStart+c));)++c;if((i=a&&s<9&&0==u&&c==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():zn(S(l,u,c).getClientRects(),r)).left||i.right||0==u)break;c=u,u-=1,p="right"}a&&s<11&&(i=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=Lt)return Lt;var e=O(t,I("span","x")),n=e.getBoundingClientRect(),r=S(e,0,1).getBoundingClientRect();return Lt=Math.abs(n.left-r.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}(t.display.measure,i))}else{var f;u>0&&(p=r="right"),i=t.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==r?f.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!u&&(!i||!i.left&&!i.right)){var d=l.parentNode.getClientRects()[0];i=d?{left:d.left,right:d.left+ir(t.display),top:d.top,bottom:d.bottom}:Rn}for(var g=i.top-e.rect.top,m=i.bottom-e.rect.top,v=(g+m)/2,y=e.view.measure.heights,_=0;_<y.length-1&&!(v<y[_]);_++);var b=_?y[_-1]:0,x=y[_],w={left:("right"==p?i.right:i.left)-e.rect.left,right:("left"==p?i.left:i.right)-e.rect.left,top:b,bottom:x};return i.left||i.right||(w.bogus=!0),t.options.singleCursorHeightPerLine||(w.rtop=g,w.rbottom=m),w}(t,e,n,r)).bogus||(e.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Ln,Rn={left:0,right:0,top:0,bottom:0};function Dn(t,e,n){for(var r,i,o,a,s,l,u=0;u<t.length;u+=3)if(s=t[u],l=t[u+1],e<s?(i=0,o=1,a="left"):e<l?o=1+(i=e-s):(u==t.length-3||e==l&&t[u+3]>e)&&(i=(o=l-s)-1,e>=l&&(a="right")),null!=i){if(r=t[u+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&t[u-2]==t[u-3]&&t[u-1].insertLeft;)r=t[2+(u-=3)],a="left";if("right"==n&&i==l-s)for(;u<t.length-3&&t[u+3]==t[u+4]&&!t[u+5].insertLeft;)r=t[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function zn(t,e){var n=Rn;if("left"==e)for(var r=0;r<t.length&&(n=t[r]).left==n.right;r++);else for(var i=t.length-1;i>=0&&(n=t[i]).left==n.right;i--);return n}function Fn(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function jn(t){t.display.externalMeasure=null,k(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Fn(t.display.view[e])}function Bn(t){jn(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Un(){return c&&m?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Vn(){return c&&m?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function qn(t){var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;++n)t.widgets[n].above&&(e+=xn(t.widgets[n]));return e}function Gn(t,e,n,r,i){if(!i){var o=qn(e);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=qe(e);if("local"==r?a+=En(t.display):a-=t.display.viewOffset,"page"==r||"window"==r){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:Vn());var l=s.left+("window"==r?0:Un());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function Wn(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=Un(),i-=Vn();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function Hn(t,e,n,r,i){return r||(r=Ht(t.doc,e.line)),Gn(t,r,Pn(t,r,e.ch,i),n)}function Yn(t,e,n,r,i,o){function a(e,a){var s=An(t,i,e,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Gn(t,r,s,n)}r=r||Ht(t.doc,e.line),i||(i=Mn(t,r));var s=ut(r,t.doc.direction),l=e.ch,u=e.sticky;if(l>=r.text.length?(l=r.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return a("before"==u?l-1:l,"before"==u);function c(t,e,n){return a(n?t-1:t,1==s[e].level!=n)}var p=st(s,l,u),h=at,f=c(l,p,"before"==u);return null!=h&&(f.other=c(l,h,"before"!=u)),f}function Xn(t,e){var n=0;e=se(t.doc,e),t.options.lineWrapping||(n=ir(t.display)*e.ch);var r=Ht(t.doc,e.line),i=qe(r)+En(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Zn(t,e,n,r,i){var o=te(t,e,n);return o.xRel=i,r&&(o.outside=r),o}function Kn(t,e,n){var r=t.doc;if((n+=t.display.viewOffset)<0)return Zn(r.first,0,null,-1,-1);var i=$t(r,n),o=r.first+r.size-1;if(i>o)return Zn(r.first+r.size-1,Ht(r,o).text.length,null,1,1);e<0&&(e=0);for(var a=Ht(r,i);;){var s=tr(t,a,i,e,n),l=De(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==i)return u;a=Ht(r,i=u.line)}}function $n(t,e,n,r){r-=qn(e);var i=e.text.length,o=ot((function(e){return An(t,n,e-1).bottom<=r}),i,0);return{begin:o,end:i=ot((function(e){return An(t,n,e).top>r}),o,i)}}function Jn(t,e,n,r){return n||(n=Mn(t,e)),$n(t,e,n,Gn(t,e,An(t,n,r),"line").top)}function Qn(t,e,n,r){return!(t.bottom<=n)&&(t.top>n||(r?t.left:t.right)>e)}function tr(t,e,n,r,i){i-=qe(e);var o=Mn(t,e),a=qn(e),s=0,l=e.text.length,u=!0,c=ut(e,t.doc.direction);if(c){var p=(t.options.lineWrapping?nr:er)(t,e,n,o,c,r,i);s=(u=1!=p.level)?p.from:p.to-1,l=u?p.to:p.from-1}var h,f,d=null,g=null,m=ot((function(e){var n=An(t,o,e);return n.top+=a,n.bottom+=a,!!Qn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(d=e,g=n),!0)}),s,l),v=!1;if(g){var y=r-g.left<g.right-r,_=y==u;m=d+(_?0:1),f=_?"after":"before",h=y?g.left:g.right}else{u||m!=l&&m!=s||m++,f=0==m?"after":m==e.text.length?"before":An(t,o,m-(u?1:0)).bottom+a<=i==u?"after":"before";var b=Yn(t,te(n,m,f),"line",e,o);h=b.left,v=i<b.top?-1:i>=b.bottom?1:0}return Zn(n,m=it(e.text,m,1),f,v,r-h)}function er(t,e,n,r,i,o,a){var s=ot((function(s){var l=i[s],u=1!=l.level;return Qn(Yn(t,te(n,u?l.to:l.from,u?"before":"after"),"line",e,r),o,a,!0)}),0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=Yn(t,te(n,u?l.from:l.to,u?"after":"before"),"line",e,r);Qn(c,o,a,!0)&&c.top>a&&(l=i[s-1])}return l}function nr(t,e,n,r,i,o,a){var s=$n(t,e,r,a),l=s.begin,u=s.end;/\s/.test(e.text.charAt(u-1))&&u--;for(var c=null,p=null,h=0;h<i.length;h++){var f=i[h];if(!(f.from>=u||f.to<=l)){var d=An(t,r,1!=f.level?Math.min(u,f.to)-1:Math.max(l,f.from)).right,g=d<o?o-d+1e9:d-o;(!c||p>g)&&(c=f,p=g)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function rr(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Ln){Ln=I("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Ln.appendChild(document.createTextNode("x")),Ln.appendChild(I("br"));Ln.appendChild(document.createTextNode("x"))}O(t.measure,Ln);var n=Ln.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),k(t.measure),n||1}function ir(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=I("span","xxxxxxxxxx"),n=I("pre",[e],"CodeMirror-line-like");O(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function or(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=t.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:ar(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function ar(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function sr(t){var e=rr(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/ir(t.display)-3);return function(i){if(Ue(t.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function lr(t){var e=t.doc,n=sr(t);e.iter((function(t){var e=n(t);e!=t.height&&Zt(t,e)}))}function ur(t,e,n,r){var i=t.display;if(!n&&"true"==Et(e).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=e.clientX-s.left,a=e.clientY-s.top}catch(e){return null}var l,u=Kn(t,o,a);if(r&&u.xRel>0&&(l=Ht(t.doc,u.line).text).length==u.ch){var c=F(l,l.length,t.options.tabSize)-l.length;u=te(u.line,Math.max(0,Math.round((o-Sn(t.display).left)/ir(t.display))-c))}return u}function cr(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if((e-=n[r].size)<0)return r}function pr(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)we&&je(t.doc,e)<i.viewTo&&fr(t);else if(n<=i.viewFrom)we&&Be(t.doc,n+r)>i.viewFrom?fr(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)fr(t);else if(e<=i.viewFrom){var o=dr(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):fr(t)}else if(n>=i.viewTo){var a=dr(t,e,e,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):fr(t)}else{var s=dr(t,e,e,-1),l=dr(t,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(on(t,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):fr(t)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:e<u.lineN+u.size&&(i.externalMeasured=null))}function hr(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[cr(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==B(a,n)&&a.push(n)}}}function fr(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function dr(t,e,n,r){var i,o=cr(t,e),a=t.display.view;if(!we||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var s=t.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=e){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-e,o++}else i=s-e;e+=i,n+=i}for(;je(t.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function gr(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function mr(t){t.display.input.showSelection(t.display.input.prepareSelection())}function vr(t,e){void 0===e&&(e=!0);for(var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(e||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=t.display.viewTo||s.to().line<t.display.viewFrom)){var l=s.empty();(l||t.options.showCursorWhenSelecting)&&yr(t,s.head,i),l||br(t,s,o)}}return r}function yr(t,e,n){var r=Yn(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild(I("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=n.appendChild(I("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function _r(t,e){return t.top-e.top||t.left-e.left}function br(t,e,n){var r=t.display,i=t.doc,o=document.createDocumentFragment(),a=Sn(t.display),s=a.left,l=Math.max(r.sizerWidth,kn(t)-r.sizer.offsetLeft)-a.right,u="ltr"==i.direction;function c(t,e,n,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),o.appendChild(I("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?l-t:n)+"px;\n                             height: "+(r-e)+"px"))}function p(e,n,r){var o,a,p=Ht(i,e),h=p.text.length;function f(n,r){return Hn(t,te(e,n),"div",p,r)}function d(e,n,r){var i=Jn(t,p,null,e),o="ltr"==n==("after"==r)?"left":"right";return f("after"==r?i.begin:i.end-(/\s/.test(p.text.charAt(i.end-1))?2:1),o)[o]}var g=ut(p,i.direction);return function(t,e,n,r){if(!t)return r(e,n,"ltr",0);for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<n&&a.to>e||e==n&&a.to==e)&&(r(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(e,n,"ltr")}(g,n||0,null==r?h:r,(function(t,e,i,p){var m="ltr"==i,v=f(t,m?"left":"right"),y=f(e-1,m?"right":"left"),_=null==n&&0==t,b=null==r&&e==h,x=0==p,w=!g||p==g.length-1;if(y.top-v.top<=3){var E=(u?b:_)&&w,C=(u?_:b)&&x?s:(m?v:y).left,S=E?l:(m?y:v).right;c(C,v.top,S-C,v.bottom)}else{var T,k,O,I;m?(T=u&&_&&x?s:v.left,k=u?l:d(t,i,"before"),O=u?s:d(e,i,"after"),I=u&&b&&w?l:y.right):(T=u?d(t,i,"before"):s,k=!u&&_&&x?l:v.right,O=!u&&b&&w?s:y.left,I=u?d(e,i,"after"):l),c(T,v.top,k-T,v.bottom),v.bottom<y.top&&c(s,v.bottom,null,y.top),c(O,y.top,I-O,y.bottom)}(!o||_r(v,o)<0)&&(o=v),_r(y,o)<0&&(o=y),(!a||_r(v,a)<0)&&(a=v),_r(y,a)<0&&(a=y)})),{start:o,end:a}}var h=e.from(),f=e.to();if(h.line==f.line)p(h.line,h.ch,f.ch);else{var d=Ht(i,h.line),g=Ht(i,f.line),m=Fe(d)==Fe(g),v=p(h.line,h.ch,m?d.text.length+1:null).end,y=p(f.line,m?0:null,f.ch).start;m&&(v.top<y.top-2?(c(v.right,v.top,null,v.bottom),c(s,y.top,y.left,y.bottom)):c(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&c(s,v.bottom,null,y.top)}n.appendChild(o)}function xr(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){return e.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function wr(t){t.state.focused||(t.display.input.focus(),Cr(t))}function Er(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,Sr(t))}),100)}function Cr(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(dt(t,"focus",t,e),t.state.focused=!0,A(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),xr(t))}function Sr(t,e){t.state.delayingBlurEvent||(t.state.focused&&(dt(t,"blur",t,e),t.state.focused=!1,T(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function Tr(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var i=e.view[r],o=t.options.lineWrapping,l=void 0,u=0;if(!i.hidden){if(a&&s<8){var c=i.node.offsetTop+i.node.offsetHeight;l=c-n,n=c}else{var p=i.node.getBoundingClientRect();l=p.bottom-p.top,!o&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-p.left-1)}var h=i.line.height-l;if((h>.005||h<-.005)&&(Zt(i.line,l),kr(i.line),i.rest))for(var f=0;f<i.rest.length;f++)kr(i.rest[f]);if(u>t.display.sizerWidth){var d=Math.ceil(u/ir(t.display));d>t.display.maxLineLength&&(t.display.maxLineLength=d,t.display.maxLine=i.line,t.display.maxLineChanged=!0)}}}}function kr(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Or(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-En(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=$t(e,r),a=$t(e,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=$t(e,qe(Ht(e,s))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=a&&(o=$t(e,qe(Ht(e,l))-t.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function Ir(t,e){var n=t.display,r=rr(t.display);e.top<0&&(e.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=On(t),a={};e.bottom-e.top>o&&(e.bottom=e.top+o);var s=t.doc.height+Cn(n),l=e.top<r,u=e.bottom>s-r;if(e.top<i)a.scrollTop=l?0:e.top;else if(e.bottom>i+o){var c=Math.min(e.top,(u?s:e.bottom)-o);c!=i&&(a.scrollTop=c)}var p=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft,h=kn(t)-(t.options.fixedGutter?n.gutters.offsetWidth:0),f=e.right-e.left>h;return f&&(e.right=e.left+h),e.left<10?a.scrollLeft=0:e.left<p?a.scrollLeft=Math.max(0,e.left-(f?0:10)):e.right>h+p-3&&(a.scrollLeft=e.right+(f?0:10)-h),a}function Pr(t,e){null!=e&&(Ar(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Nr(t){Ar(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Mr(t,e,n){null==e&&null==n||Ar(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function Ar(t){var e=t.curOp.scrollToPos;e&&(t.curOp.scrollToPos=null,Lr(t,Xn(t,e.from),Xn(t,e.to),e.margin))}function Lr(t,e,n,r){var i=Ir(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-r,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+r});Mr(t,i.scrollLeft,i.scrollTop)}function Rr(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||li(t,{top:e}),Dr(t,e,!0),n&&li(t),ri(t,100))}function Dr(t,e,n){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function zr(t,e,n,r){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!r||(t.doc.scrollLeft=e,pi(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Fr(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+Cn(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Tn(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var jr=function(t,e,n){this.cm=n;var r=this.vert=I("div",[I("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=I("div",[I("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,t(r),t(i),pt(r,"scroll",(function(){r.clientHeight&&e(r.scrollTop,"vertical")})),pt(i,"scroll",(function(){i.clientWidth&&e(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};jr.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},jr.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},jr.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},jr.prototype.zeroWidthHack=function(){var t=y&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new j,this.disableVert=new j},jr.prototype.enableZeroWidthBar=function(t,e,n){t.style.pointerEvents="auto",e.set(1e3,(function r(){var i=t.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=t?t.style.pointerEvents="none":e.set(1e3,r)}))},jr.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Br=function(){};function Ur(t,e){e||(e=Fr(t));var n=t.display.barWidth,r=t.display.barHeight;Vr(t,e);for(var i=0;i<4&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&Tr(t),Vr(t,Fr(t)),n=t.display.barWidth,r=t.display.barHeight}function Vr(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}Br.prototype.update=function(){return{bottom:0,right:0}},Br.prototype.setScrollLeft=function(){},Br.prototype.setScrollTop=function(){},Br.prototype.clear=function(){};var qr={native:jr,null:Br};function Gr(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&T(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new qr[t.options.scrollbarStyle]((function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),pt(e,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),e.setAttribute("cm-not-content","true")}),(function(e,n){"horizontal"==n?zr(t,e):Rr(t,e)}),t),t.display.scrollbars.addClass&&A(t.display.wrapper,t.display.scrollbars.addClass)}var Wr=0;function Hr(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Wr},e=t.curOp,an?an.ops.push(e):e.ownsGroup=an={ops:[e],delayedCallbacks:[]}}function Yr(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}(n)}finally{an=null,e(n)}}(e,(function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)Xr(e[n]);for(var r=0;r<e.length;r++)Zr(e[r]);for(var i=0;i<e.length;i++)Kr(e[i]);for(var o=0;o<e.length;o++)$r(e[o]);for(var a=0;a<e.length;a++)Jr(e[a])}(t)}))}function Xr(t){var e=t.cm,n=e.display;!function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Tn(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Tn(t)+"px",e.scrollbarsClipped=!0)}(e),t.updateMaxLine&&We(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new oi(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Zr(t){t.updatedDisplay=t.mustUpdate&&ai(t.cm,t.update)}function Kr(t){var e=t.cm,n=e.display;t.updatedDisplay&&Tr(e),t.barMeasure=Fr(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Pn(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Tn(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-kn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function $r(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&zr(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==M();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Ur(e,t.barMeasure),t.updatedDisplay&&ci(e,t.barMeasure),t.selectionChanged&&xr(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&wr(t.cm)}function Jr(t){var e=t.cm,n=e.display,r=e.doc;t.updatedDisplay&&si(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Dr(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&zr(e,t.scrollLeft,!0,!0),t.scrollToPos&&function(t,e){if(!gt(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null;if(e.top+r.top<0?i=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!d){var o=I("div","​",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-En(t.display))+"px;\n                         height: "+(e.bottom-e.top+Tn(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}(e,function(t,e,n,r){var i;null==r&&(r=0),t.options.lineWrapping||e!=n||(n="before"==(e=e.ch?te(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e).sticky?te(e.line,e.ch+1,"before"):e);for(var o=0;o<5;o++){var a=!1,s=Yn(t,e),l=n&&n!=e?Yn(t,n):s,u=Ir(t,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r}),c=t.doc.scrollTop,p=t.doc.scrollLeft;if(null!=u.scrollTop&&(Rr(t,u.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(zr(t,u.scrollLeft),Math.abs(t.doc.scrollLeft-p)>1&&(a=!0)),!a)break}return i}(e,se(r,t.scrollToPos.from),se(r,t.scrollToPos.to),t.scrollToPos.margin));var i=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||dt(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&dt(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&dt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Qr(t,e){if(t.curOp)return e();Hr(t);try{return e()}finally{Yr(t)}}function ti(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Hr(t);try{return e.apply(t,arguments)}finally{Yr(t)}}}function ei(t){return function(){if(this.curOp)return t.apply(this,arguments);Hr(this);try{return t.apply(this,arguments)}finally{Yr(this)}}}function ni(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Hr(e);try{return t.apply(this,arguments)}finally{Yr(e)}}}function ri(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,D(ii,t))}function ii(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=fe(t,e.highlightFrontier),i=[];e.iter(r.line,Math.min(e.first+e.size,t.display.viewTo+500),(function(o){if(r.line>=t.display.viewFrom){var a=o.styles,s=o.text.length>t.options.maxHighlightLength?Vt(e.mode,r.state):null,l=pe(t,o,r,!0);s&&(r.state=s),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var p=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!p&&h<a.length;++h)p=a[h]!=o.styles[h];p&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=t.options.maxHighlightLength&&de(t,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ri(t,t.options.workDelay),!0})),e.highlightFrontier=r.line,e.modeFrontier=Math.max(e.modeFrontier,r.line),i.length&&Qr(t,(function(){for(var e=0;e<i.length;e++)hr(t,i[e],"text")}))}}var oi=function(t,e,n){var r=t.display;this.viewport=e,this.visible=Or(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=kn(t),this.force=n,this.dims=or(t),this.events=[]};function ai(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return fr(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==gr(t))return!1;hi(t)&&(fr(t),e.dims=or(t));var i=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),a=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),we&&(o=je(t.doc,o),a=Be(t.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;!function(t,e,n){var r=t.display;0==r.view.length||e>=r.viewTo||n<=r.viewFrom?(r.view=on(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=on(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(cr(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(on(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,cr(t,n)))),r.viewTo=n}(t,o,a),n.viewOffset=qe(Ht(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var u=gr(t);if(!s&&0==u&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=function(t){if(t.hasFocus())return null;var e=M();if(!e||!N(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&N(t.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(t);return u>4&&(n.lineDiv.style.display="none"),function(t,e,n){var r=t.display,i=t.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(e){var n=e.nextSibling;return l&&y&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var u=r.view,c=r.viewFrom,p=0;p<u.length;p++){var h=u[p];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=s(a);var f=i&&null!=e&&e<=c&&h.lineNumber;h.changes&&(B(h.changes,"gutter")>-1&&(f=!1),cn(t,h,c,n)),f&&(k(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(Qt(t.options,c)))),a=h.node.nextSibling}else{var d=vn(t,h,c,n);o.insertBefore(d,a)}c+=h.size}for(;a;)a=s(a)}(t,n.updateLineNumbers,e.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=M()&&(t.activeElt.focus(),t.anchorNode&&N(document.body,t.anchorNode)&&N(document.body,t.focusNode))){var e=window.getSelection(),n=document.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),e.removeAllRanges(),e.addRange(n),e.extend(t.focusNode,t.focusOffset)}}(c),k(n.cursorDiv),k(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,ri(t,400)),n.updateLineNumbers=null,!0}function si(t,e){for(var n=e.viewport,r=!0;(r&&t.options.lineWrapping&&e.oldDisplayWidth!=kn(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Cn(t.display)-On(t),n.top)}),e.visible=Or(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&ai(t,e);r=!1){Tr(t);var i=Fr(t);mr(t),Ur(t,i),ci(t,i),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function li(t,e){var n=new oi(t,e);if(ai(t,n)){Tr(t),si(t,n);var r=Fr(t);mr(t),Ur(t,r),ci(t,r),n.finish()}}function ui(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px"}function ci(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Tn(t)+"px"}function pi(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=ar(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function hi(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=Qt(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(I("div",[I("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ui(t.display),!0}return!1}function fi(t,e){for(var n=[],r=!1,i=0;i<t.length;i++){var o=t[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!e)continue;r=!0}n.push({className:o,style:a})}return e&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function di(t){var e=t.gutters,n=t.gutterSpecs;k(e),t.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,s=e.appendChild(I("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(t.lineGutter=s,s.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",ui(t)}function gi(t){di(t.display),pr(t),pi(t)}function mi(t,e,r,i){var o=this;this.input=r,o.scrollbarFiller=I("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=I("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=P("div",null,"CodeMirror-code"),o.selectionDiv=I("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=I("div",null,"CodeMirror-cursors"),o.measure=I("div",null,"CodeMirror-measure"),o.lineMeasure=I("div",null,"CodeMirror-measure"),o.lineSpace=P("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var u=P("div",[o.lineSpace],"CodeMirror-lines");o.mover=I("div",[u],null,"position: relative"),o.sizer=I("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=I("div",null,null,"position: absolute; height: 30px; width: 1px;"),o.gutters=I("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=I("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=I("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&v||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=fi(i.gutters,i.lineNumbers),di(o),r.init(o)}oi.prototype.signal=function(t,e){vt(t,e)&&this.events.push(arguments)},oi.prototype.finish=function(){for(var t=0;t<this.events.length;t++)dt.apply(null,this.events[t])};var vi=0,yi=null;function _i(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function bi(t){var e=_i(t);return e.x*=yi,e.y*=yi,e}function xi(t,e){var r=_i(e),i=r.x,o=r.y,a=t.display,s=a.scroller,u=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(i&&u||o&&c){if(o&&y&&l)t:for(var h=e.target,f=a.view;h!=s;h=h.parentNode)for(var d=0;d<f.length;d++)if(f[d].node==h){t.display.currentWheelTarget=h;break t}if(i&&!n&&!p&&null!=yi)return o&&c&&Rr(t,Math.max(0,s.scrollTop+o*yi)),zr(t,Math.max(0,s.scrollLeft+i*yi)),(!o||o&&c)&&_t(e),void(a.wheelStartX=null);if(o&&null!=yi){var g=o*yi,m=t.doc.scrollTop,v=m+a.wrapper.clientHeight;g<0?m=Math.max(0,m+g-50):v=Math.min(t.doc.height,v+g+50),li(t,{top:m,bottom:v})}vi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var t=s.scrollLeft-a.wheelStartX,e=s.scrollTop-a.wheelStartY,n=e&&a.wheelDY&&e/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(yi=(yi*vi+n)/(vi+1),++vi)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?yi=-.53:n?yi=15:c?yi=-.7:h&&(yi=-1/3);var wi=function(t,e){this.ranges=t,this.primIndex=e};wi.prototype.primary=function(){return this.ranges[this.primIndex]},wi.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(!ne(n.anchor,r.anchor)||!ne(n.head,r.head))return!1}return!0},wi.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Ei(re(this.ranges[e].anchor),re(this.ranges[e].head));return new wi(t,this.primIndex)},wi.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},wi.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ee(e,r.from())>=0&&ee(t,r.to())<=0)return n}return-1};var Ei=function(t,e){this.anchor=t,this.head=e};function Ci(t,e,n){var r=t&&t.options.selectionsMayTouch,i=e[n];e.sort((function(t,e){return ee(t.from(),e.from())})),n=B(e,i);for(var o=1;o<e.length;o++){var a=e[o],s=e[o-1],l=ee(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var u=oe(s.from(),a.from()),c=ie(s.to(),a.to()),p=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,e.splice(--o,2,new Ei(p?c:u,p?u:c))}}return new wi(e,n)}function Si(t,e){return new wi([new Ei(t,e||t)],0)}function Ti(t){return t.text?te(t.from.line+t.text.length-1,X(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function ki(t,e){if(ee(t,e.from)<0)return t;if(ee(t,e.to)<=0)return Ti(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=Ti(e).ch-e.to.ch),te(n,r)}function Oi(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new Ei(ki(i.anchor,e),ki(i.head,e)))}return Ci(t.cm,n,t.sel.primIndex)}function Ii(t,e,n){return t.line==e.line?te(n.line,t.ch-e.ch+n.ch):te(n.line+(t.line-e.line),t.ch)}function Pi(t){t.doc.mode=jt(t.options,t.doc.modeOption),Ni(t)}function Ni(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ri(t,100),t.state.modeGen++,t.curOp&&pr(t)}function Mi(t,e){return 0==e.from.ch&&0==e.to.ch&&""==X(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Ai(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){!function(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Oe(t),Ie(t,n);var i=r?r(t):1;i!=t.height&&Zt(t,i)}(t,n,i,r),ln(t,"change",t,e)}function a(t,e){for(var n=[],o=t;o<e;++o)n.push(new He(u[o],i(o),r));return n}var s=e.from,l=e.to,u=e.text,c=Ht(t,s.line),p=Ht(t,l.line),h=X(u),f=i(u.length-1),d=l.line-s.line;if(e.full)t.insert(0,a(0,u.length)),t.remove(u.length,t.size-u.length);else if(Mi(t,e)){var g=a(0,u.length-1);o(p,p.text,f),d&&t.remove(s.line,d),g.length&&t.insert(s.line,g)}else if(c==p)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(l.ch),f);else{var m=a(1,u.length-1);m.push(new He(h+c.text.slice(l.ch),f,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),t.insert(s.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+p.text.slice(l.ch),i(0)),t.remove(s.line+1,d);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(p,h+p.text.slice(l.ch),f);var v=a(1,u.length-1);d>1&&t.remove(s.line+1,d-1),t.insert(s.line+1,v)}ln(t,"change",t,e)}function Li(t,e,n){!function t(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(e(s.doc,l),t(s.doc,r,l))}}}(t,null,!0)}function Ri(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,lr(t),Pi(t),Di(t),t.options.lineWrapping||We(t),t.options.mode=e.modeOption,pr(t)}function Di(t){("rtl"==t.doc.direction?A:T)(t.display.lineDiv,"CodeMirror-rtl")}function zi(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Fi(t,e){var n={from:re(e.from),to:Ti(e),text:Yt(t,e.from,e.to)};return qi(t,n,e.from.line,e.to.line+1),Li(t,(function(t){return qi(t,n,e.from.line,e.to.line+1)}),!0),n}function ji(t){for(;t.length&&X(t).ranges;)t.pop()}function Bi(t,e,n,r){var i=t.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&i.lastModTime>s-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?(ji(t.done),X(t.done)):t.done.length&&!X(t.done).ranges?X(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),X(t.done)):void 0}(i,i.lastOp==r)))a=X(o.changes),0==ee(e.from,e.to)&&0==ee(e.from,a.to)?a.to=Ti(e):o.changes.push(Fi(t,e));else{var l=X(i.done);for(l&&l.ranges||Vi(t.sel,i.done),o={changes:[Fi(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,a||dt(t,"historyAdded")}function Ui(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,X(i.done),e))?i.done[i.done.length-1]=e:Vi(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&ji(i.undone)}function Vi(t,e){var n=X(e);n&&n.ranges&&n.equals(t)||e.push(t)}function qi(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),(function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o}))}function Gi(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Wi(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=[],i=0;i<e.text.length;++i)r.push(Gi(n[i]));return r}(t,e),r=Te(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)t:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue t;o.push(l)}else a&&(n[i]=a)}return n}function Hi(t,e,n){for(var r=[],i=0;i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?wi.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),e)for(var p in u)(c=p.match(/^spans_(\d+)$/))&&B(e,Number(c[1]))>-1&&(X(s)[p]=u[p],delete u[p])}}}return r}function Yi(t,e,n,r){if(r){var i=t.anchor;if(n){var o=ee(e,i)<0;o!=ee(n,i)<0?(i=e,e=n):o!=ee(e,n)<0&&(e=n)}return new Ei(i,e)}return new Ei(n||e,e)}function Xi(t,e,n,r,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),Qi(t,new wi([Yi(t.sel.primary(),e,n,i)],0),r)}function Zi(t,e,n){for(var r=[],i=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)r[o]=Yi(t.sel.ranges[o],e[o],null,i);Qi(t,Ci(t.cm,r,t.sel.primIndex),n)}function Ki(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,Qi(t,Ci(t.cm,i,t.sel.primIndex),r)}function $i(t,e,n,r){Qi(t,Si(e,n),r)}function Ji(t,e,n){var r=t.history.done,i=X(r);i&&i.ranges?(r[r.length-1]=e,to(t,e,n)):Qi(t,e,n)}function Qi(t,e,n){to(t,e,n),Ui(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function to(t,e,n){(vt(t,"beforeSelectionChange")||t.cm&&vt(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var r={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new Ei(se(t,e[n].anchor),se(t,e[n].head))},origin:n&&n.origin};return dt(t,"beforeSelectionChange",t,r),t.cm&&dt(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?Ci(t.cm,r.ranges,r.ranges.length-1):e}(t,e,n));var r=n&&n.bias||(ee(e.primary().head,t.sel.primary().head)<0?-1:1);eo(t,ro(t,e,r,!0)),n&&!1===n.scroll||!t.cm||Nr(t.cm)}function eo(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,mt(t.cm)),ln(t,"cursorActivity",t))}function no(t){eo(t,ro(t,t.sel,null,!1))}function ro(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var a=e.ranges[o],s=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=oo(t,a.anchor,s&&s.anchor,n,r),u=oo(t,a.head,s&&s.head,n,r);(i||l!=a.anchor||u!=a.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new Ei(l,u))}return i?Ci(t.cm,i,e.primIndex):e}function io(t,e,n,r,i){var o=Ht(t,e.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=e.ch:s.from<e.ch))&&(null==s.to||(c?s.to>=e.ch:s.to>e.ch))){if(i&&(dt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var p=l.find(r<0?1:-1),h=void 0;if((r<0?c:u)&&(p=ao(t,p,-r,p&&p.line==e.line?o:null)),p&&p.line==e.line&&(h=ee(p,n))&&(r<0?h<0:h>0))return io(t,p,e,r,i)}var f=l.find(r<0?-1:1);return(r<0?u:c)&&(f=ao(t,f,r,f.line==e.line?o:null)),f?io(t,f,e,r,i):null}}return e}function oo(t,e,n,r,i){var o=r||1,a=io(t,e,n,o,i)||!i&&io(t,e,n,o,!0)||io(t,e,n,-o,i)||!i&&io(t,e,n,-o,!0);return a||(t.cantEdit=!0,te(t.first,0))}function ao(t,e,n,r){return n<0&&0==e.ch?e.line>t.first?se(t,te(e.line-1)):null:n>0&&e.ch==(r||Ht(t,e.line)).text.length?e.line<t.first+t.size-1?te(e.line+1,0):null:new te(e.line,e.ch+n)}function so(t){t.setSelection(te(t.firstLine(),0),te(t.lastLine()),V)}function lo(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(e,n,i,o){e&&(r.from=se(t,e)),n&&(r.to=se(t,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),dt(t,"beforeChange",t,r),t.cm&&dt(t.cm,"beforeChange",t.cm,r),r.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function uo(t,e,n){if(t.cm){if(!t.cm.curOp)return ti(t.cm,uo)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(vt(t,"beforeChange")||t.cm&&vt(t.cm,"beforeChange"))||(e=lo(t,e,!0))){var r=xe&&!n&&function(t,e,n){var r=null;if(t.iter(e.line,n.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=B(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(ee(u.to,s.from)<0||ee(u.from,s.to)>0)){var c=[l,1],p=ee(u.from,s.from),h=ee(u.to,s.to);(p<0||!a.inclusiveLeft&&!p)&&c.push({from:u.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)co(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text,origin:e.origin});else co(t,e)}}function co(t,e){if(1!=e.text.length||""!=e.text[0]||0!=ee(e.from,e.to)){var n=Oi(t,e);Bi(t,e,n,t.cm?t.cm.curOp.id:NaN),fo(t,e,n,Te(t,e));var r=[];Li(t,(function(t,n){n||-1!=B(r,t.history)||(yo(t.history,e),r.push(t.history)),fo(t,e,null,Te(t,e))}))}}function po(t,e,n){var r=t.cm&&t.cm.state.suppressEdits;if(!r||n){for(var i,o=t.history,a=t.sel,s="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,u=0;u<s.length&&(i=s[u],n?!i.ranges||i.equals(t.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(r)return void s.push(i);break}if(Vi(i,l),n&&!i.equals(t.sel))return void Qi(t,i,{clearRedo:!1});a=i}var c=[];Vi(a,l),l.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var p=vt(t,"beforeChange")||t.cm&&vt(t.cm,"beforeChange"),h=function(n){var r=i.changes[n];if(r.origin=e,p&&!lo(t,r,!1))return s.length=0,{};c.push(Fi(t,r));var o=n?Oi(t,r):X(s);fo(t,r,o,Wi(t,r)),!n&&t.cm&&t.cm.scrollIntoView({from:r.from,to:Ti(r)});var a=[];Li(t,(function(t,e){e||-1!=B(a,t.history)||(yo(t.history,r),a.push(t.history)),fo(t,r,null,Wi(t,r))}))},f=i.changes.length-1;f>=0;--f){var d=h(f);if(d)return d.v}}}}function ho(t,e){if(0!=e&&(t.first+=e,t.sel=new wi(Z(t.sel.ranges,(function(t){return new Ei(te(t.anchor.line+e,t.anchor.ch),te(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){pr(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)hr(t.cm,r,"gutter")}}function fo(t,e,n,r){if(t.cm&&!t.cm.curOp)return ti(t.cm,fo)(t,e,n,r);if(e.to.line<t.first)ho(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);ho(t,i),e={from:te(t.first,0),to:te(e.to.line+i,e.to.ch),text:[X(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:te(o,Ht(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Yt(t,e.from,e.to),n||(n=Oi(t,e)),t.cm?function(t,e,n){var r=t.doc,i=t.display,o=e.from,a=e.to,s=!1,l=o.line;t.options.lineWrapping||(l=Kt(Fe(Ht(r,o.line))),r.iter(l,a.line+1,(function(t){if(t==i.maxLine)return s=!0,!0}))),r.sel.contains(e.from,e.to)>-1&&mt(t),Ai(r,e,n,sr(t)),t.options.lineWrapping||(r.iter(l,o.line+e.text.length,(function(t){var e=Ge(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,s=!1)})),s&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,r=e-1;r>n;r--){var i=Ht(t,r).stateAfter;if(i&&(!(i instanceof ue)||r+i.lookAhead<e)){n=r+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}(r,o.line),ri(t,400);var u=e.text.length-(a.line-o.line)-1;e.full?pr(t):o.line!=a.line||1!=e.text.length||Mi(t.doc,e)?pr(t,o.line,a.line+1,u):hr(t,o.line,"text");var c=vt(t,"changes"),p=vt(t,"change");if(p||c){var h={from:o,to:a,text:e.text,removed:e.removed,origin:e.origin};p&&ln(t,"change",t,h),c&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(h)}t.display.selForContextMenu=null}(t.cm,e,r):Ai(t,e,r),to(t,n,V),t.cantEdit&&oo(t,te(t.firstLine(),0))&&(t.cantEdit=!1)}}function go(t,e,n,r,i){var o;r||(r=n),ee(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof e&&(e=t.splitLines(e)),uo(t,{from:n,to:r,text:e,origin:i})}function mo(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function vo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],a=!0;if(o.ranges){o.copied||((o=t[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)mo(o.ranges[s].anchor,e,n,r),mo(o.ranges[s].head,e,n,r)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(n<u.from.line)u.from=te(u.from.line+r,u.from.ch),u.to=te(u.to.line+r,u.to.ch);else if(e<=u.to.line){a=!1;break}}a||(t.splice(0,i+1),i=0)}}}function yo(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;vo(t.done,n,r,i),vo(t.undone,n,r,i)}function _o(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=Ht(t,ae(t,e)):i=Kt(e),null==i?null:(r(o,i)&&t.cm&&hr(t.cm,i,n),o)}function bo(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function xo(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var i=t[r];e+=i.chunkSize(),n+=i.height,i.parent=this}this.size=e,this.height=n,this.parent=null}Ei.prototype.from=function(){return oe(this.anchor,this.head)},Ei.prototype.to=function(){return ie(this.anchor,this.head)},Ei.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},bo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;n<r;++n){var i=this.lines[n];this.height-=i.height,Ye(i),ln(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},xo.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(t<i){var o=Math.min(e,i-t),a=r.height;if(r.removeInner(t,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof bo))){var s=[];this.collapse(s),this.children=[new bo(s)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<=o){if(i.insertInner(t,e,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new bo(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new xo(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var n=B(t.parent.children,t);t.parent.children.splice(n+1,0,e)}else{var r=new xo(t.children);r.parent=t,t.children=[r,e],t=r}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<o){var a=Math.min(e,o-t);if(i.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var wo=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=t,this.node=e};function Eo(t,e,n){qe(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Pr(t,n)}wo.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,r=Kt(n);if(null!=r&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(n.widgets=null);var o=xn(this);Zt(n,Math.max(0,n.height-o)),t&&(Qr(t,(function(){Eo(t,n,-o),hr(t,r,"widget")})),ln(t,"lineWidgetCleared",t,this,r))}},wo.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=xn(this)-e;i&&(Ue(this.doc,r)||Zt(r,r.height+i),n&&Qr(n,(function(){n.curOp.forceUpdate=!0,Eo(n,r,i),ln(n,"lineWidgetChanged",n,t,Kt(r))})))},yt(wo);var Co=0,So=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Co};function To(t,e,n,r,i){if(r&&r.shared)return function(t,e,n,r,i){(r=z(r)).shared=!1;var o=[To(t,e,n,r,i)],a=o[0],s=r.widgetNode;return Li(t,(function(t){s&&(r.widgetNode=s.cloneNode(!0)),o.push(To(t,se(t,e),se(t,n),r,i));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;a=X(o)})),new ko(o,a)}(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return ti(t.cm,To)(t,e,n,r,i);var o=new So(t,i),a=ee(e,n);if(r&&z(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=P("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(ze(t,e.line,e,n,o)||e.line!=n.line&&ze(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");we=!0}o.addToHistory&&Bi(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var s,l=e.line,u=t.cm;if(t.iter(l,n.line+1,(function(t){u&&o.collapsed&&!u.options.lineWrapping&&Fe(t)==u.display.maxLine&&(s=!0),o.collapsed&&l!=e.line&&Zt(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new Ee(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l})),o.collapsed&&t.iter(e.line,n.line+1,(function(e){Ue(t,e)&&Zt(e,0)})),o.clearOnEnter&&pt(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(xe=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++Co,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)pr(u,e.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=e.line;c<=n.line;c++)hr(u,c,"text");o.atomic&&no(u.doc),ln(u,"markerAdded",u,o)}return o}So.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Hr(t),vt(this,"clear")){var n=this.find();n&&ln(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Ce(a.markedSpans,this);t&&!this.collapsed?hr(t,Kt(a),"text"):t&&(null!=s.to&&(i=Kt(a)),null!=s.from&&(r=Kt(a))),a.markedSpans=Se(a.markedSpans,s),null==s.from&&this.collapsed&&!Ue(this.doc,a)&&t&&Zt(a,rr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=Fe(this.lines[l]),c=Ge(u);c>t.display.maxLineLength&&(t.display.maxLine=u,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&pr(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&no(t.doc)),t&&ln(t,"markerCleared",t,this,r,i),e&&Yr(t),this.parent&&this.parent.clear()}},So.prototype.find=function(t,e){var n,r;null==t&&"bookmark"==this.type&&(t=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Ce(o.markedSpans,this);if(null!=a.from&&(n=te(e?o:Kt(o),a.from),-1==t))return n;if(null!=a.to&&(r=te(e?o:Kt(o),a.to),1==t))return r}return n&&{from:n,to:r}},So.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,r=this.doc.cm;e&&r&&Qr(r,(function(){var i=e.line,o=Kt(e.line),a=Nn(r,o);if(a&&(Fn(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Ue(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=xn(n)-s;l&&Zt(i,i.height+l)}ln(r,"markerChanged",r,t)}))},So.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=B(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},So.prototype.detachLine=function(t){if(this.lines.splice(B(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},yt(So);var ko=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function Oo(t){return t.findMarks(te(t.first,0),t.clipPos(te(t.lastLine())),(function(t){return t.parent}))}function Io(t){for(var e=function(e){var n=t[e],r=[n.primary.doc];Li(n.primary.doc,(function(t){return r.push(t)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==B(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<t.length;n++)e(n)}ko.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();ln(this,"clear")}},ko.prototype.find=function(t,e){return this.primary.find(t,e)},yt(ko);var Po=0,No=function(t,e,n,r,i){if(!(this instanceof No))return new No(t,e,n,r,i);null==n&&(n=0),xo.call(this,[new bo([new He("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=te(n,0);this.sel=Si(o),this.history=new zi(null),this.id=++Po,this.modeOption=e,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Ai(this,{from:o,to:o,text:t}),Qi(this,Si(o),V)};No.prototype=$(xo.prototype,{constructor:No,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Xt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:ni((function(t){var e=te(this.first,0),n=this.first+this.size-1;uo(this,{from:e,to:te(n,Ht(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Mr(this.cm,0,0),Qi(this,Si(e),V)})),replaceRange:function(t,e,n,r){go(this,t,e=se(this,e),n=n?se(this,n):e,r)},getRange:function(t,e,n){var r=Yt(this,se(this,t),se(this,e));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(Jt(this,t))return Ht(this,t)},getLineNumber:function(t){return Kt(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Ht(this,t)),Fe(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return se(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ni((function(t,e,n){$i(this,se(this,"number"==typeof t?te(t,e||0):t),null,n)})),setSelection:ni((function(t,e,n){$i(this,se(this,t),se(this,e||t),n)})),extendSelection:ni((function(t,e,n){Xi(this,se(this,t),e&&se(this,e),n)})),extendSelections:ni((function(t,e){Zi(this,le(this,t),e)})),extendSelectionsBy:ni((function(t,e){Zi(this,le(this,Z(this.sel.ranges,t)),e)})),setSelections:ni((function(t,e,n){if(t.length){for(var r=[],i=0;i<t.length;i++)r[i]=new Ei(se(this,t[i].anchor),se(this,t[i].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Qi(this,Ci(this.cm,r,e),n)}})),addSelection:ni((function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new Ei(se(this,t),se(this,e||t))),Qi(this,Ci(this.cm,r,r.length-1),n)})),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var i=Yt(this,n[r].from(),n[r].to());e=e?e.concat(i):i}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Yt(this,n[r].from(),n[r].to());!1!==t&&(i=i.join(t||this.lineSeparator())),e[r]=i}return e},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:ni((function(t,e,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(t[o]),origin:n}}for(var s=e&&"end"!=e&&function(t,e,n){for(var r=[],i=te(t.first,0),o=i,a=0;a<e.length;a++){var s=e[a],l=Ii(s.from,i,o),u=Ii(Ti(s),i,o);if(i=s.to,o=u,"around"==n){var c=t.sel.ranges[a],p=ee(c.head,c.anchor)<0;r[a]=new Ei(p?u:l,p?l:u)}else r[a]=new Ei(l,l)}return new wi(r,t.sel.primIndex)}(this,r,e),l=r.length-1;l>=0;l--)uo(this,r[l]);s?Ji(this,s):this.cm&&Nr(this.cm)})),undo:ni((function(){po(this,"undo")})),redo:ni((function(){po(this,"redo")})),undoSelection:ni((function(){po(this,"undo",!0)})),redoSelection:ni((function(){po(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){var t=this;this.history=new zi(this.history.maxGeneration),Li(this,(function(e){return e.history=t.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Hi(this.history.done),undone:Hi(this.history.undone)}},setHistory:function(t){var e=this.history=new zi(this.history.maxGeneration);e.done=Hi(t.done.slice(0),null,!0),e.undone=Hi(t.undone.slice(0),null,!0)},setGutterMarker:ni((function(t,e,n){return _o(this,t,"gutter",(function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&et(r)&&(t.gutterMarkers=null),!0}))})),clearGutter:ni((function(t){var e=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[t]&&_o(e,n,"gutter",(function(){return n.gutterMarkers[t]=null,et(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var e;if("number"==typeof t){if(!Jt(this,t))return null;if(e=t,!(t=Ht(this,t)))return null}else if(null==(e=Kt(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:ni((function(t,e,n){return _o(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(C(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0}))})),removeLineClass:ni((function(t,e,n){return _o(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(C(n));if(!o)return!1;var a=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:ni((function(t,e,n){return function(t,e,n,r){var i=new wo(t,n,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),_o(t,e,"widget",(function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!Ue(t,e)){var r=qe(e)<t.scrollTop;Zt(e,e.height+xn(i)),r&&Pr(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&ln(o,"lineWidgetAdded",o,i,"number"==typeof e?e:Kt(e)),i}(this,t,e,n)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return To(this,se(this,t),se(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return To(this,t=se(this,t),t,n,"bookmark")},findMarksAt:function(t){var e=[],n=Ht(this,(t=se(this,t)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=se(this,t),e=se(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==t.line&&t.ch>=l.to||null==l.from&&i!=t.line||null!=l.from&&i==e.line&&l.from>=e.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var t=[];return this.iter((function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)})),t},posFromIndex:function(t){var e,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>t)return e=t,!0;t-=o,++n})),se(this,te(n,e))},indexFromPos:function(t){var e=(t=se(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+n})),e},copy:function(t){var e=new No(Xt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new No(Xt(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),a=t.clipPos(i.to);if(ee(o,a)){var s=To(t,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,Oo(this)),r},unlinkDoc:function(t){if(t instanceof ka&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e)if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Io(Oo(this));break}if(t.history==this.history){var n=[t.id];Li(t,(function(t){return n.push(t.id)}),!0),t.history=new zi(null),t.history.done=Hi(this.history.done,n),t.history.undone=Hi(this.history.undone,n)}},iterLinkedDocs:function(t){Li(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Nt(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ni((function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&Qr(e=this.cm,(function(){Di(e),pr(e)})))}))}),No.prototype.eachLine=No.prototype.iter;var Mo=0;function Ao(t){var e=this;if(Lo(e),!gt(e,t)&&!wn(e.display,t)){_t(t),a&&(Mo=+new Date);var n=ur(e,t,!0),r=t.dataTransfer.files;if(n&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,l=function(){++s==i&&ti(e,(function(){var t={from:n=se(e.doc,n),to:n,text:e.doc.splitLines(o.filter((function(t){return null!=t})).join(e.doc.lineSeparator())),origin:"paste"};uo(e.doc,t),Ji(e.doc,Si(n,Ti(t)))}))()},u=function(t,n){if(e.options.allowDropFileTypes&&-1==B(e.options.allowDropFileTypes,t.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var t=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(t)?l():(o[n]=t,l())},r.readAsText(t)}},c=0;c<r.length;c++)u(r[c],c);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout((function(){return e.display.input.focus()}),20);try{var p=t.dataTransfer.getData("Text");if(p){var h;if(e.state.draggingText&&!e.state.draggingText.copy&&(h=e.listSelections()),to(e.doc,Si(n,n)),h)for(var f=0;f<h.length;++f)go(e.doc,"",h[f].anchor,h[f].head,"drag");e.replaceSelection(p,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Lo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Ro(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<e.length;r++){var i=e[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var e=0;e<n.length;e++)t(n[e])}))}}var Do=!1;function zo(){var t;Do||(pt(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,Ro(Fo)}),100))})),pt(window,"blur",(function(){return Ro(Sr)})),Do=!0)}function Fo(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var jo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bo=0;Bo<10;Bo++)jo[Bo+48]=jo[Bo+96]=String(Bo);for(var Uo=65;Uo<=90;Uo++)jo[Uo]=String.fromCharCode(Uo);for(var Vo=1;Vo<=12;Vo++)jo[Vo+111]=jo[Vo+63235]="F"+Vo;var qo={};function Go(t){var e,n,r,i,o=t.split(/-(?!$)/);t=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Wo(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=Z(n.split(" "),Go),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=e[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[n]}for(var u in e)t[u]=e[u];return t}function Ho(t,e,n,r){var i=(e=Ko(e)).call?e.call(t,r):e[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Ho(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var a=Ho(t,e.fallthrough[o],n,r);if(a)return a}}}function Yo(t){var e="string"==typeof t?t:jo[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Xo(t,e,n){var r=t;return e.altKey&&"Alt"!=r&&(t="Alt-"+t),(w?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(t="Ctrl-"+t),(w?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=r&&(t="Shift-"+t),t}function Zo(t,e){if(p&&34==t.keyCode&&t.char)return!1;var n=jo[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),Xo(n,t,e))}function Ko(t){return"string"==typeof t?qo[t]:t}function $o(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&ee(o.from,X(r).to)<=0;){var a=r.pop();if(ee(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Qr(t,(function(){for(var e=r.length-1;e>=0;e--)go(t.doc,"",r[e].from,r[e].to,"+delete");Nr(t)}))}function Jo(t,e,n){var r=it(t.text,e+n,n);return r<0||r>t.text.length?null:r}function Qo(t,e,n){var r=Jo(t,e.ch,n);return null==r?null:new te(e.line,r,n<0?"after":"before")}function ta(t,e,n,r,i){if(t){"rtl"==e.getOption("direction")&&(i=-i);var o=ut(n,e.doc.direction);if(o){var a,s=i<0?X(o):o[0],l=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==e.doc.direction){var u=Mn(e,n);a=i<0?n.text.length-1:0;var c=An(e,u,a).top;a=ot((function(t){return An(e,u,t).top==c}),i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=Jo(n,a,1))}else a=i<0?s.to:s.from;return new te(r,a,l)}}return new te(r,i<0?n.text.length:0,i<0?"before":"after")}qo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},qo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},qo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},qo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},qo.default=y?qo.macDefault:qo.pcDefault;var ea={selectAll:so,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),V)},killLine:function(t){return $o(t,(function(e){if(e.empty()){var n=Ht(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:te(e.head.line+1,0)}:{from:e.head,to:te(e.head.line,n)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){return $o(t,(function(e){return{from:te(e.from().line,0),to:se(t.doc,te(e.to().line+1,0))}}))},delLineLeft:function(t){return $o(t,(function(t){return{from:te(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return $o(t,(function(e){var n=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:n},"div"),to:e.from()}}))},delWrappedLineRight:function(t){return $o(t,(function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(te(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(te(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(e){return na(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(e){return ra(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(e){return function(t,e){var n=Ht(t.doc,e),r=function(t){for(var e;e=Re(t);)t=e.find(1,!0).line;return t}(n);return r!=n&&(e=Kt(r)),ta(!0,t,n,e,-1)}(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")}),G)},goLineLeft:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")}),G)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?ra(t,e.head):r}),G)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=F(t.getLine(o.line),o.ch,r);e.push(Y(r-a%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Qr(t,(function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++)if(e[r].empty()){var i=e[r].head,o=Ht(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new te(i.line,i.ch-1)),i.ch>0)i=new te(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),te(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var a=Ht(t.doc,i.line-1).text;a&&(i=new te(i.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),te(i.line-1,a.length-1),i,"+transpose"))}n.push(new Ei(i,i))}t.setSelections(n)}))},newlineAndIndent:function(t){return Qr(t,(function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var r=0;r<e.length;r++)t.indentLine(e[r].from().line,null,!0);Nr(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function na(t,e){var n=Ht(t.doc,e),r=Fe(n);return r!=n&&(e=Kt(r)),ta(!0,t,r,e,1)}function ra(t,e){var n=na(t,e.line),r=Ht(t.doc,n.line),i=ut(r,t.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=e.line==n.line&&e.ch<=o&&e.ch;return te(n.line,a?0:o,n.sticky)}return n}function ia(t,e,n){if("string"==typeof e&&!(e=ea[e]))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=U}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}var oa=new j;function aa(t,e,n,r){var i=t.state.keySeq;if(i){if(Yo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:oa.set(50,(function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())})),sa(t,i+" "+e,n,r))return!0}return sa(t,e,n,r)}function sa(t,e,n,r){var i=function(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=Ho(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&Ho(e,t.options.extraKeys,n,t)||Ho(e,t.options.keyMap,n,t)}(t,e,r);return"multi"==i&&(t.state.keySeq=e),"handled"==i&&ln(t,"keyHandled",t,e,n),"handled"!=i&&"multi"!=i||(_t(n),xr(t)),!!i}function la(t,e){var n=Zo(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?aa(t,"Shift-"+n,e,(function(e){return ia(t,e,!0)}))||aa(t,n,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ia(t,e)})):aa(t,n,e,(function(e){return ia(t,e)})))}var ua=null;function ca(t){var e=this;if(e.curOp.focus=M(),!gt(e,t)){a&&s<11&&27==t.keyCode&&(t.returnValue=!1);var r=t.keyCode;e.display.shift=16==r||t.shiftKey;var i=la(e,t);p&&(ua=i?r:null,!i&&88==r&&!At&&(y?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),n&&!y&&!i&&46==r&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(T(e,"CodeMirror-crosshair"),ft(document,"keyup",n),ft(document,"mouseover",n))}A(e,"CodeMirror-crosshair"),pt(document,"keyup",n),pt(document,"mouseover",n)}(e)}}function pa(t){16==t.keyCode&&(this.doc.sel.shift=!1),gt(this,t)}function ha(t){var e=this;if(!(wn(e.display,t)||gt(e,t)||t.ctrlKey&&!t.altKey||y&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(p&&n==ua)return ua=null,void _t(t);if(!p||t.which&&!(t.which<10)||!la(e,t)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(t,e,n){return aa(t,"'"+n+"'",e,(function(e){return ia(t,e,!0)}))}(e,t,i)||e.display.input.onKeyPress(t))}}}var fa,da,ga=function(t,e,n){this.time=t,this.pos=e,this.button=n};function ma(t){var e=this,n=e.display;if(!(gt(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,wn(n,t))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!_a(e,t)){var r=ur(e,t),i=Ct(t),o=r?function(t,e){var n=+new Date;return da&&da.compare(n,t,e)?(fa=da=null,"triple"):fa&&fa.compare(n,t,e)?(da=new ga(n,t,e),fa=null,"double"):(fa=new ga(n,t,e),da=null,"single")}(r,i):"single";window.focus(),1==i&&e.state.selectingText&&e.state.selectingText(t),r&&function(t,e,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),aa(t,Xo(o=(1==e?"Left":2==e?"Middle":"Right")+o,i),i,(function(e){if("string"==typeof e&&(e=ea[e]),!e)return!1;var r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r=e(t,n)!=U}finally{t.state.suppressEdits=!1}return r}))}(e,i,r,o,t)||(1==i?r?function(t,e,n,r){a?setTimeout(D(wr,t),0):t.curOp.focus=M();var i,o=function(t,e,n){var r=t.getOption("configureMouse"),i=r?r(t,e,n):{};if(null==i.unit){var o=_?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}(t,n,r),u=t.doc.sel;t.options.dragDrop&&kt&&!t.isReadOnly()&&"single"==n&&(i=u.contains(e))>-1&&(ee((i=u.ranges[i]).from(),e)<0||e.xRel>0)&&(ee(i.to(),e)>0||e.xRel<0)?function(t,e,n,r){var i=t.display,o=!1,u=ti(t,(function(e){l&&(i.scroller.draggable=!1),t.state.draggingText=!1,ft(i.wrapper.ownerDocument,"mouseup",u),ft(i.wrapper.ownerDocument,"mousemove",c),ft(i.scroller,"dragstart",p),ft(i.scroller,"drop",u),o||(_t(e),r.addNew||Xi(t.doc,n,null,null,r.extend),l||a&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()}),20):i.input.focus())})),c=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},p=function(){return o=!0};l&&(i.scroller.draggable=!0),t.state.draggingText=u,u.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),pt(i.wrapper.ownerDocument,"mouseup",u),pt(i.wrapper.ownerDocument,"mousemove",c),pt(i.scroller,"dragstart",p),pt(i.scroller,"drop",u),Er(t),setTimeout((function(){return i.input.focus()}),20)}(t,r,e,o):function(t,e,n,r){var i=t.display,o=t.doc;_t(e);var a,s,l=o.sel,u=l.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?u[s]:new Ei(n,n)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new Ei(n,n)),n=ur(t,e,!0,!0),s=-1;else{var c=va(t,n,r.unit);a=r.extend?Yi(a,c.anchor,c.head,r.extend):c}r.addNew?-1==s?(s=u.length,Qi(o,Ci(t,u.concat([a]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==r.unit&&!r.extend?(Qi(o,Ci(t,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Ki(o,s,a,q):(s=0,Qi(o,new wi([a],0),q),l=o.sel);var p=n;function h(e){if(0!=ee(p,e))if(p=e,"rectangle"==r.unit){for(var i=[],u=t.options.tabSize,c=F(Ht(o,n.line).text,n.ch,u),h=F(Ht(o,e.line).text,e.ch,u),f=Math.min(c,h),d=Math.max(c,h),g=Math.min(n.line,e.line),m=Math.min(t.lastLine(),Math.max(n.line,e.line));g<=m;g++){var v=Ht(o,g).text,y=W(v,f,u);f==d?i.push(new Ei(te(g,y),te(g,y))):v.length>y&&i.push(new Ei(te(g,y),te(g,W(v,d,u))))}i.length||i.push(new Ei(n,n)),Qi(o,Ci(t,l.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var _,b=a,x=va(t,e,r.unit),w=b.anchor;ee(x.anchor,w)>0?(_=x.head,w=oe(b.from(),x.anchor)):(_=x.anchor,w=ie(b.to(),x.head));var E=l.ranges.slice(0);E[s]=function(t,e){var n=e.anchor,r=e.head,i=Ht(t.doc,n.line);if(0==ee(n,r)&&n.sticky==r.sticky)return e;var o=ut(i);if(!o)return e;var a=st(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return e;var l,u=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==o.length)return e;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var c=st(o,r.ch,r.sticky),p=c-a||(r.ch-n.ch)*(1==s.level?-1:1);l=c==u-1||c==u?p<0:p>0}var h=o[u+(l?-1:0)],f=l==(1==h.level),d=f?h.from:h.to,g=f?"after":"before";return n.ch==d&&n.sticky==g?e:new Ei(new te(n.line,d,g),r)}(t,new Ei(se(o,w),_)),Qi(o,Ci(t,E,s),q)}}var f=i.wrapper.getBoundingClientRect(),d=0;function g(e){t.state.selectingText=!1,d=1/0,e&&(_t(e),i.input.focus()),ft(i.wrapper.ownerDocument,"mousemove",m),ft(i.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var m=ti(t,(function(e){0!==e.buttons&&Ct(e)?function e(n){var a=++d,s=ur(t,n,!0,"rectangle"==r.unit);if(s)if(0!=ee(s,p)){t.curOp.focus=M(),h(s);var l=Or(i,o);(s.line>=l.to||s.line<l.from)&&setTimeout(ti(t,(function(){d==a&&e(n)})),150)}else{var u=n.clientY<f.top?-20:n.clientY>f.bottom?20:0;u&&setTimeout(ti(t,(function(){d==a&&(i.scroller.scrollTop+=u,e(n))})),50)}}(e):g(e)})),v=ti(t,g);t.state.selectingText=v,pt(i.wrapper.ownerDocument,"mousemove",m),pt(i.wrapper.ownerDocument,"mouseup",v)}(t,r,e,o)}(e,r,o,t):Et(t)==n.scroller&&_t(t):2==i?(r&&Xi(e.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(E?e.display.input.onContextMenu(t):Er(e)))}}function va(t,e,n){if("char"==n)return new Ei(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new Ei(te(e.line,0),se(t.doc,te(e.line+1,0)));var r=n(t,e);return new Ei(r.from,r.to)}function ya(t,e,n,r){var i,o;if(e.touches)i=e.touches[0].clientX,o=e.touches[0].clientY;else try{i=e.clientX,o=e.clientY}catch(e){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&_t(e);var a=t.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!vt(t,n))return xt(e);o-=s.top-a.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i)return dt(t,n,t,$t(t.doc,o),t.display.gutterSpecs[l].className,e),xt(e)}}function _a(t,e){return ya(t,e,"gutterClick",!0)}function ba(t,e){wn(t.display,e)||function(t,e){return!!vt(t,"gutterContextMenu")&&ya(t,e,"gutterContextMenu",!1)}(t,e)||gt(t,e,"contextmenu")||E||t.display.input.onContextMenu(e)}function xa(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bn(t)}ga.prototype.compare=function(t,e,n){return this.time+400>t&&0==ee(e,this.pos)&&n==this.button};var wa={toString:function(){return"CodeMirror.Init"}},Ea={},Ca={};function Sa(t,e,n){if(!e!=!(n&&n!=wa)){var r=t.display.dragFunctions,i=e?pt:ft;i(t.display.scroller,"dragstart",r.start),i(t.display.scroller,"dragenter",r.enter),i(t.display.scroller,"dragover",r.over),i(t.display.scroller,"dragleave",r.leave),i(t.display.scroller,"drop",r.drop)}}function Ta(t){t.options.lineWrapping?(A(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(T(t.display.wrapper,"CodeMirror-wrap"),We(t)),lr(t),pr(t),Bn(t),setTimeout((function(){return Ur(t)}),100)}function ka(t,e){var n=this;if(!(this instanceof ka))return new ka(t,e);this.options=e=e?z(e):{},z(Ea,e,!1);var r=e.value;"string"==typeof r?r=new No(r,e.mode,null,e.lineSeparator,e.direction):e.mode&&(r.modeOption=e.mode),this.doc=r;var i=new ka.inputStyles[e.inputStyle](this),o=this.display=new mi(t,r,i,e);for(var u in o.wrapper.CodeMirror=this,xa(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Gr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new j,keySeq:null,specialChars:null},e.autofocus&&!v&&o.input.focus(),a&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(t){var e=t.display;pt(e.scroller,"mousedown",ti(t,ma)),pt(e.scroller,"dblclick",a&&s<11?ti(t,(function(e){if(!gt(t,e)){var n=ur(t,e);if(n&&!_a(t,e)&&!wn(t.display,e)){_t(e);var r=t.findWordAt(n);Xi(t.doc,r.anchor,r.head)}}})):function(e){return gt(t,e)||_t(e)}),pt(e.scroller,"contextmenu",(function(e){return ba(t,e)})),pt(e.input.getField(),"contextmenu",(function(n){e.scroller.contains(n.target)||ba(t,n)}));var n,r={end:0};function i(){e.activeTouch&&(n=setTimeout((function(){return e.activeTouch=null}),1e3),(r=e.activeTouch).end=+new Date)}function o(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}pt(e.scroller,"touchstart",(function(i){if(!gt(t,i)&&!function(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}(i)&&!_a(t,i)){e.input.ensurePolled(),clearTimeout(n);var o=+new Date;e.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(e.activeTouch.left=i.touches[0].pageX,e.activeTouch.top=i.touches[0].pageY)}})),pt(e.scroller,"touchmove",(function(){e.activeTouch&&(e.activeTouch.moved=!0)})),pt(e.scroller,"touchend",(function(n){var r=e.activeTouch;if(r&&!wn(e,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,s=t.coordsChar(e.activeTouch,"page");a=!r.prev||o(r,r.prev)?new Ei(s,s):!r.prev.prev||o(r,r.prev.prev)?t.findWordAt(s):new Ei(te(s.line,0),se(t.doc,te(s.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),_t(n)}i()})),pt(e.scroller,"touchcancel",i),pt(e.scroller,"scroll",(function(){e.scroller.clientHeight&&(Rr(t,e.scroller.scrollTop),zr(t,e.scroller.scrollLeft,!0),dt(t,"scroll",t))})),pt(e.scroller,"mousewheel",(function(e){return xi(t,e)})),pt(e.scroller,"DOMMouseScroll",(function(e){return xi(t,e)})),pt(e.wrapper,"scroll",(function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0})),e.dragFunctions={enter:function(e){gt(t,e)||wt(e)},over:function(e){gt(t,e)||(function(t,e){var n=ur(t,e);if(n){var r=document.createDocumentFragment();yr(t,n,r),t.display.dragCursor||(t.display.dragCursor=I("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),O(t.display.dragCursor,r)}}(t,e),wt(e))},start:function(e){return function(t,e){if(a&&(!t.state.draggingText||+new Date-Mo<100))wt(e);else if(!gt(t,e)&&!wn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!h)){var n=I("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),p&&n.parentNode.removeChild(n)}}(t,e)},drop:ti(t,Ao),leave:function(e){gt(t,e)||Lo(t)}};var l=e.input.getField();pt(l,"keyup",(function(e){return pa.call(t,e)})),pt(l,"keydown",ti(t,ca)),pt(l,"keypress",ti(t,ha)),pt(l,"focus",(function(e){return Cr(t,e)})),pt(l,"blur",(function(e){return Sr(t,e)}))}(this),zo(),Hr(this),this.curOp.forceUpdate=!0,Ri(this,r),e.autofocus&&!v||this.hasFocus()?setTimeout(D(Cr,this),20):Sr(this),Ca)Ca.hasOwnProperty(u)&&Ca[u](this,e[u],wa);hi(this),e.finishInit&&e.finishInit(this);for(var c=0;c<Oa.length;++c)Oa[c](this);Yr(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}ka.defaults=Ea,ka.optionHandlers=Ca;var Oa=[];function Ia(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=fe(t,e).state:n="prev");var a=t.options.tabSize,s=Ht(o,e),l=F(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==U||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=e>o.first?F(Ht(o,e-1).text,null,a):0:"add"==n?u=l+t.options.indentUnit:"subtract"==n?u=l-t.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var p="",h=0;if(t.options.indentWithTabs)for(var f=Math.floor(u/a);f;--f)h+=a,p+="\t";if(h<u&&(p+=Y(u-h)),p!=c)return go(o,p,te(e,0),te(e,c.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var g=o.sel.ranges[d];if(g.head.line==e&&g.head.ch<c.length){var m=te(e,c.length);Ki(o,d,new Ei(m,m));break}}}ka.defineInitHook=function(t){return Oa.push(t)};var Pa=null;function Na(t){Pa=t}function Ma(t,e,n,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var a=+new Date-200,s="paste"==i||t.state.pasteIncoming>a,l=Nt(e),u=null;if(s&&r.ranges.length>1)if(Pa&&Pa.text.join("\n")==e){if(r.ranges.length%Pa.text.length==0){u=[];for(var c=0;c<Pa.text.length;c++)u.push(o.splitLines(Pa.text[c]))}}else l.length==r.ranges.length&&t.options.pasteLinesPerSelection&&(u=Z(l,(function(t){return[t]})));for(var p=t.curOp.updateInput,h=r.ranges.length-1;h>=0;h--){var f=r.ranges[h],d=f.from(),g=f.to();f.empty()&&(n&&n>0?d=te(d.line,d.ch-n):t.state.overwrite&&!s?g=te(g.line,Math.min(Ht(o,g.line).text.length,g.ch+X(l).length)):s&&Pa&&Pa.lineWise&&Pa.text.join("\n")==e&&(d=g=te(d.line,0)));var m={from:d,to:g,text:u?u[h%u.length]:l,origin:i||(s?"paste":t.state.cutIncoming>a?"cut":"+input")};uo(t.doc,m),ln(t,"inputRead",t,m)}e&&!s&&La(t,e),Nr(t),t.curOp.updateInput<2&&(t.curOp.updateInput=p),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Aa(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Qr(e,(function(){return Ma(e,n,0,null,"paste")})),!0}function La(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(e.indexOf(o.electricChars.charAt(s))>-1){a=Ia(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ht(t.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Ia(t,i.head.line,"smart"));a&&ln(t,"electricInput",t,i.head.line)}}}function Ra(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:te(i,0),head:te(i+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function Da(t,e,n,r){t.setAttribute("autocorrect",n?"":"off"),t.setAttribute("autocapitalize",r?"":"off"),t.setAttribute("spellcheck",!!e)}function za(){var t=I("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=I("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),g&&(t.style.border="1px solid black"),Da(t),e}function Fa(t,e,n,r,i){var o=e,a=n,s=Ht(t,e.line),l=i&&t.cm&&"rtl"==t.cm.getOption("direction")?-n:n;function u(r){var o,a;if(null==(o=i?function(t,e,n,r){var i=ut(e,t.doc.direction);if(!i)return Qo(e,n,r);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=st(i,n.ch,n.sticky),a=i[o];if("ltr"==t.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Qo(e,n,r);var s,l=function(t,n){return Jo(e,t instanceof te?t.ch:t,n)},u=function(n){return t.options.lineWrapping?(s=s||Mn(t,e),Jn(t,e,s,n)):{begin:0,end:e.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==t.doc.direction||1==a.level){var p=1==a.level==r<0,h=l(n,p?1:-1);if(null!=h&&(p?h<=a.to&&h<=c.end:h>=a.from&&h>=c.begin)){var f=p?"before":"after";return new te(n.line,h,f)}}var d=function(t,e,r){for(var o=function(t,e){return e?new te(n.line,l(t,1),"before"):new te(n.line,t,"after")};t>=0&&t<i.length;t+=e){var a=i[t],s=e>0==(1!=a.level),u=s?r.begin:l(r.end,-1);if(a.from<=u&&u<a.to)return o(u,s);if(u=s?a.from:l(a.to,-1),r.begin<=u&&u<r.end)return o(u,s)}},g=d(o+r,r,c);if(g)return g;var m=r>0?c.end:l(c.begin,-1);return null==m||r>0&&m==e.text.length||!(g=d(r>0?0:i.length-1,r,u(m)))?null:g}(t.cm,s,e,n):Qo(s,e,n))){if(r||(a=e.line+l)<t.first||a>=t.first+t.size||(e=new te(a,e.ch,e.sticky),!(s=Ht(t,a))))return!1;e=ta(i,t.cm,s,e.line,l)}else e=o;return!0}if("char"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var c=null,p="group"==r,h=t.cm&&t.cm.getHelper(e,"wordChars"),f=!0;!(n<0)||u(!f);f=!1){var d=s.text.charAt(e.ch)||"\n",g=tt(d,h)?"w":p&&"\n"==d?"n":!p||/\s/.test(d)?null:"p";if(!p||f||g||(g="s"),c&&c!=g){n<0&&(n=1,u(),e.sticky="after");break}if(g&&(c=g),n>0&&!u(!f))break}var m=oo(t,e,o,a,!0);return ne(o,m)&&(m.hitSide=!0),m}function ja(t,e,n,r){var i,o,a=t.doc,s=e.left;if("page"==r){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*rr(t.display),3);i=(n>0?e.bottom:e.top)+n*u}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;(o=Kn(t,s,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Ba=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new j,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ua(t,e){var n=Nn(t,e.line);if(!n||n.hidden)return null;var r=Ht(t.doc,e.line),i=In(n,r,e.line),o=ut(r,t.doc.direction),a="left";o&&(a=st(o,e.ch)%2?"right":"left");var s=Dn(i.map,e.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Va(t,e){return e&&(t.bad=!0),t}function qa(t,e,n){var r;if(e==t.display.lineDiv){if(!(r=t.display.lineDiv.childNodes[n]))return Va(t.clipPos(te(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return Ga(o,e,n)}}function Ga(t,e,n){var r=t.text.firstChild,i=!1;if(!e||!N(r,e))return Va(te(Kt(t.line),0),!0);if(e==r&&(i=!0,e=r.childNodes[n],n=0,!e)){var o=t.rest?X(t.rest):t.line;return Va(te(Kt(o),o.text.length),i)}var a=3==e.nodeType?e:null,s=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=t.measure,u=l.maps;function c(e,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?l.map:u[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==e||s==n){var c=Kt(i<0?t.line:t.rest[i]),p=o[a]+r;return(r<0||s!=e)&&(p=o[a+(r?1:0)]),te(c,p)}}}var p=c(a,s,n);if(p)return Va(p,i);for(var h=s.nextSibling,f=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(p=c(h,h.firstChild,0))return Va(te(p.line,p.ch-f),i);f+=h.textContent.length}for(var d=s.previousSibling,g=n;d;d=d.previousSibling){if(p=c(d,d.firstChild,-1))return Va(te(p.line,p.ch+g),i);g+=d.textContent.length}}Ba.prototype.init=function(t){var e=this,n=this,r=n.cm,i=n.div=t.lineDiv;function o(t){if(!gt(r,t)){if(r.somethingSelected())Na({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=Ra(r);Na({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation((function(){r.setSelections(e.ranges,0,V),r.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var o=Pa.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var a=za(),s=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),s.value=Pa.text.join("\n");var l=document.activeElement;R(s),setTimeout((function(){r.display.lineSpace.removeChild(a),l.focus(),l==i&&n.showPrimarySelection()}),50)}}Da(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),pt(i,"paste",(function(t){gt(r,t)||Aa(t,r)||s<=11&&setTimeout(ti(r,(function(){return e.updateFromDOM()})),20)})),pt(i,"compositionstart",(function(t){e.composing={data:t.data,done:!1}})),pt(i,"compositionupdate",(function(t){e.composing||(e.composing={data:t.data,done:!1})})),pt(i,"compositionend",(function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)})),pt(i,"touchstart",(function(){return n.forceCompositionEnd()})),pt(i,"input",(function(){e.composing||e.readFromDOMSoon()})),pt(i,"copy",o),pt(i,"cut",o)},Ba.prototype.prepareSelection=function(){var t=vr(this.cm,!1);return t.focus=this.cm.state.focused,t},Ba.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ba.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ba.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,r=e.doc.sel.primary(),i=r.from(),o=r.to();if(e.display.viewTo==e.display.viewFrom||i.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var a=qa(e,t.anchorNode,t.anchorOffset),s=qa(e,t.focusNode,t.focusOffset);if(!a||a.bad||!s||s.bad||0!=ee(oe(a,s),i)||0!=ee(ie(a,s),o)){var l=e.display.view,u=i.line>=e.display.viewFrom&&Ua(e,i)||{node:l[0].measure.map[2],offset:0},c=o.line<e.display.viewTo&&Ua(e,o);if(!c){var p=l[l.length-1].measure,h=p.maps?p.maps[p.maps.length-1]:p.map;c={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(u&&c){var f,d=t.rangeCount&&t.getRangeAt(0);try{f=S(u.node,u.offset,c.offset,c.node)}catch(t){}f&&(!n&&e.state.focused?(t.collapse(u.node,u.offset),f.collapsed||(t.removeAllRanges(),t.addRange(f))):(t.removeAllRanges(),t.addRange(f)),d&&null==t.anchorNode?t.addRange(d):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Ba.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},Ba.prototype.showMultipleSelections=function(t){O(this.cm.display.cursorDiv,t.cursors),O(this.cm.display.selectionDiv,t.selection)},Ba.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ba.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return N(this.div,e)},Ba.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ba.prototype.blur=function(){this.div.blur()},Ba.prototype.getField=function(){return this.div},Ba.prototype.supportsTouch=function(){return!0},Ba.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Qr(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}))},Ba.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ba.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(m&&c&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=qa(e,t.anchorNode,t.anchorOffset),r=qa(e,t.focusNode,t.focusOffset);n&&r&&Qr(e,(function(){Qi(e.doc,Si(n,r),V),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)}))}}},Ba.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=te(a.line-1,Ht(r.doc,a.line-1).length)),s.ch==Ht(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=te(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(t=cr(r,a.line))?(e=Kt(i.view[0].line),n=i.view[0].node):(e=Kt(i.view[t].line),n=i.view[t-1].node.nextSibling);var l,u,c=cr(r,s.line);if(c==i.view.length-1?(l=i.viewTo-1,u=i.lineDiv.lastChild):(l=Kt(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!n)return!1;for(var p=r.doc.splitLines(function(t,e,n,r,i){var o="",a=!1,s=t.doc.lineSeparator(),l=!1;function u(){a&&(o+=s,l&&(o+=s),a=l=!1)}function c(t){t&&(u(),o+=t)}function p(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void c(n);var o,h=e.getAttribute("cm-marker");if(h){var f=t.findMarks(te(r,0),te(i+1,0),(m=+h,function(t){return t.id==m}));return void(f.length&&(o=f[0].find(0))&&c(Yt(t.doc,o.from,o.to).join(s)))}if("false"==e.getAttribute("contenteditable"))return;var d=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;d&&u();for(var g=0;g<e.childNodes.length;g++)p(e.childNodes[g]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),d&&(a=!0)}else 3==e.nodeType&&c(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;p(e),e!=n;)e=e.nextSibling,l=!1;return o}(r,n,u,e,l)),h=Yt(r.doc,te(e,0),te(l,Ht(r.doc,l).text.length));p.length>1&&h.length>1;)if(X(p)==X(h))p.pop(),h.pop(),l--;else{if(p[0]!=h[0])break;p.shift(),h.shift(),e++}for(var f=0,d=0,g=p[0],m=h[0],v=Math.min(g.length,m.length);f<v&&g.charCodeAt(f)==m.charCodeAt(f);)++f;for(var y=X(p),_=X(h),b=Math.min(y.length-(1==p.length?f:0),_.length-(1==h.length?f:0));d<b&&y.charCodeAt(y.length-d-1)==_.charCodeAt(_.length-d-1);)++d;if(1==p.length&&1==h.length&&e==a.line)for(;f&&f>a.ch&&y.charCodeAt(y.length-d-1)==_.charCodeAt(_.length-d-1);)f--,d++;p[p.length-1]=y.slice(0,y.length-d).replace(/^\u200b+/,""),p[0]=p[0].slice(f).replace(/\u200b+$/,"");var x=te(e,f),w=te(l,h.length?X(h).length-d:0);return p.length>1||p[0]||ee(x,w)?(go(r.doc,p,x,w,"+input"),!0):void 0},Ba.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ba.prototype.reset=function(){this.forceCompositionEnd()},Ba.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ba.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},Ba.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Qr(this.cm,(function(){return pr(t.cm)}))},Ba.prototype.setUneditable=function(t){t.contentEditable="false"},Ba.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||ti(this.cm,Ma)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Ba.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Ba.prototype.onContextMenu=function(){},Ba.prototype.resetPosition=function(){},Ba.prototype.needsContentAttribute=!0;var Wa=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new j,this.hasSelection=!1,this.composing=null};Wa.prototype.init=function(t){var e=this,n=this,r=this.cm;this.createField(t);var i=this.textarea;function o(t){if(!gt(r,t)){if(r.somethingSelected())Na({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var e=Ra(r);Na({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,V):(n.prevInput="",i.value=e.text.join("\n"),R(i))}"cut"==t.type&&(r.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),g&&(i.style.width="0px"),pt(i,"input",(function(){a&&s>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()})),pt(i,"paste",(function(t){gt(r,t)||Aa(t,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),pt(i,"cut",o),pt(i,"copy",o),pt(t.scroller,"paste",(function(e){if(!wn(t,e)&&!gt(r,e)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=e.clipboardData,i.dispatchEvent(o)}})),pt(t.lineSpace,"selectstart",(function(e){wn(t,e)||_t(e)})),pt(i,"compositionstart",(function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}})),pt(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Wa.prototype.createField=function(t){this.wrapper=za(),this.textarea=this.wrapper.firstChild},Wa.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,r=vr(t);if(t.options.moveInputWithCursor){var i=Yn(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},Wa.prototype.showSelection=function(t){var e=this.cm.display;O(e.cursorDiv,t.cursors),O(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Wa.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&R(this.textarea),a&&s>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Wa.prototype.getField=function(){return this.textarea},Wa.prototype.supportsTouch=function(){return!1},Wa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||M()!=this.textarea))try{this.textarea.focus()}catch(t){}},Wa.prototype.blur=function(){this.textarea.blur()},Wa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Wa.prototype.receivedFocus=function(){this.slowPoll()},Wa.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},Wa.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,(function n(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))}))},Wa.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||Mt(n)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=n.value;if(i==r&&!e.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,u=Math.min(r.length,i.length);l<u&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Qr(e,(function(){Ma(e,i.slice(l),r.length-l,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Wa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Wa.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Wa.prototype.onContextMenu=function(t){var e=this,n=e.cm,r=n.display,i=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=ur(n,t),u=r.scroller.scrollTop;if(o&&!p){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&ti(n,Qi)(n.doc,Si(o),V);var c,h=i.style.cssText,f=e.wrapper.style.cssText,d=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-d.top-5)+"px; left: "+(t.clientX-d.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(c=window.scrollY),r.input.focus(),l&&window.scrollTo(null,c),r.input.reset(),n.somethingSelected()||(i.value=e.prevInput=" "),e.contextMenuPending=v,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&m(),E){wt(t);var g=function(){ft(window,"mouseup",g),setTimeout(v,20)};pt(window,"mouseup",g)}else setTimeout(v,50)}function m(){if(null!=i.selectionStart){var t=n.somethingSelected(),o="​"+(t?i.value:"");i.value="⇚",i.value=o,e.prevInput=t?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function v(){if(e.contextMenuPending==v&&(e.contextMenuPending=!1,e.wrapper.style.cssText=f,i.style.cssText=h,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=i.selectionStart)){(!a||a&&s<9)&&m();var t=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==e.prevInput?ti(n,so)(n):t++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},Wa.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},Wa.prototype.setUneditable=function(){},Wa.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,r,i,o){t.defaults[n]=r,i&&(e[n]=o?function(t,e,n){n!=wa&&i(t,e,n)}:i)}t.defineOption=n,t.Init=wa,n("value","",(function(t,e){return t.setValue(e)}),!0),n("mode",null,(function(t,e){t.doc.modeOption=e,Pi(t)}),!0),n("indentUnit",2,Pi,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(t){Ni(t),Bn(t),pr(t)}),!0),n("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter((function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(-1==o)break;i=o+e.length,n.push(te(r,o))}r++}));for(var i=n.length-1;i>=0;i--)go(t.doc,e,n[i],te(n[i].line,n[i].ch+e.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=wa&&t.refresh()})),n("specialCharPlaceholder",Je,(function(t){return t.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(t,e){return t.getInputField().spellcheck=e}),!0),n("autocorrect",!1,(function(t,e){return t.getInputField().autocorrect=e}),!0),n("autocapitalize",!1,(function(t,e){return t.getInputField().autocapitalize=e}),!0),n("rtlMoveVisually",!b),n("wholeLineUpdateBefore",!0),n("theme","default",(function(t){xa(t),gi(t)}),!0),n("keyMap","default",(function(t,e,n){var r=Ko(e),i=n!=wa&&Ko(n);i&&i.detach&&i.detach(t,r),r.attach&&r.attach(t,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ta,!0),n("gutters",[],(function(t,e){t.display.gutterSpecs=fi(e,t.options.lineNumbers),gi(t)}),!0),n("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?ar(t.display)+"px":"0",t.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(t){return Ur(t)}),!0),n("scrollbarStyle","native",(function(t){Gr(t),Ur(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(t,e){t.display.gutterSpecs=fi(t.options.gutters,e),gi(t)}),!0),n("firstLineNumber",1,gi,!0),n("lineNumberFormatter",(function(t){return t}),gi,!0),n("showCursorWhenSelecting",!1,mr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(t,e){"nocursor"==e&&(Sr(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)})),n("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),n("dragDrop",!0,Sa),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,mr,!0),n("singleCursorHeightPerLine",!0,mr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Ni,!0),n("addModeClass",!1,Ni,!0),n("pollInterval",100),n("undoDepth",200,(function(t,e){return t.doc.history.undoDepth=e})),n("historyEventDelay",1250),n("viewportMargin",10,(function(t){return t.refresh()}),!0),n("maxHighlightLength",1e4,Ni,!0),n("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),n("tabindex",null,(function(t,e){return t.display.input.getField().tabIndex=e||""})),n("autofocus",null),n("direction","ltr",(function(t,e){return t.doc.setDirection(e)}),!0),n("phrases",null)}(ka),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,n){var r=this.options,i=r[t];r[t]==n&&"mode"!=t||(r[t]=n,e.hasOwnProperty(t)&&ti(this,e[t])(this,n,i),dt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Ko(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:ei((function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");!function(t,e,n){for(var r=0,i=n(e);r<t.length&&n(t[r])<=i;)r++;t.splice(r,0,e)}(this.state.overlays,{mode:r,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(t){return t.priority})),this.state.modeGen++,pr(this)})),removeOverlay:ei((function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void pr(this)}})),indentLine:ei((function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Jt(this.doc,t)&&Ia(this,t,e,n)})),indentSelection:ei((function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var i=e[r];if(i.empty())i.head.line>n&&(Ia(this,i.head.line,t,!0),n=i.head.line,r==this.doc.sel.primIndex&&Nr(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)Ia(this,l,t);var u=this.doc.sel.ranges;0==o.ch&&e.length==u.length&&u[r].from().ch>0&&Ki(this.doc,r,new Ei(o,u[r].to()),V)}}})),getTokenAt:function(t,e){return ye(this,t,e)},getLineTokens:function(t,e){return ye(this,te(t),e,!0)},getTokenTypeAt:function(t){t=se(this.doc,t);var e,n=he(this,Ht(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){e=n[2*a+2];break}r=a+1}}var s=e?e.indexOf("overlay "):-1;return s<0?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=[];if(!n.hasOwnProperty(e))return r;var i=n[e],o=this.getModeAt(t);if("string"==typeof o[e])i[o[e]]&&r.push(i[o[e]]);else if(o[e])for(var a=0;a<o[e].length;a++){var s=i[o[e][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var u=i._global[l];u.pred(o,this)&&-1==B(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(t,e){var n=this.doc;return fe(this,(t=ae(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return Yn(this,null==t?n.head:"object"==typeof t?se(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return Hn(this,se(this.doc,t),e||"page")},coordsChar:function(t,e){return Kn(this,(t=Wn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Wn(this,{top:t,left:0},e||"page").top,$t(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var r,i=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,i=!0),r=Ht(this.doc,t)}else r=t;return Gn(this,r,{top:0,left:0},e||"page",n||i).top+(i?this.doc.height-qe(r):0)},defaultTextHeight:function(){return rr(this.display)},defaultCharWidth:function(){return ir(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o,a,s,l=this.display,u=(t=Yn(this,se(this.doc,t))).bottom,c=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),l.sizer.appendChild(e),"over"==r)u=t.top;else if("above"==r||"near"==r){var p=Math.max(l.wrapper.clientHeight,this.doc.height),h=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>p)&&t.top>e.offsetHeight?u=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=p&&(u=t.bottom),c+e.offsetWidth>h&&(c=h-e.offsetWidth)}e.style.top=u+"px",e.style.left=e.style.right="","right"==i?(c=l.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?c=0:"middle"==i&&(c=(l.sizer.clientWidth-e.offsetWidth)/2),e.style.left=c+"px"),n&&(o=this,a={left:c,top:u,right:c+e.offsetWidth,bottom:u+e.offsetHeight},null!=(s=Ir(o,a)).scrollTop&&Rr(o,s.scrollTop),null!=s.scrollLeft&&zr(o,s.scrollLeft))},triggerOnKeyDown:ei(ca),triggerOnKeyPress:ei(ha),triggerOnKeyUp:pa,triggerOnMouseDown:ei(ma),execCommand:function(t){if(ea.hasOwnProperty(t))return ea[t].call(null,this)},triggerElectric:ei((function(t){La(this,t)})),findPosH:function(t,e,n,r){var i=1;e<0&&(i=-1,e=-e);for(var o=se(this.doc,t),a=0;a<e&&!(o=Fa(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:ei((function(t,e){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Fa(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()}),G)})),deleteH:ei((function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):$o(this,(function(n){var i=Fa(r,n.head,t,e,!1);return t<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(t,e,n,r){var i=1,o=r;e<0&&(i=-1,e=-e);for(var a=se(this.doc,t),s=0;s<e;++s){var l=Yn(this,a,"div");if(null==o?o=l.left:l.left=o,(a=ja(this,l,i,n)).hitSide)break}return a},moveV:ei((function(t,e){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(o)return t<0?a.from():a.to();var s=Yn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=ja(n,s,t,e);return"page"==e&&a==r.sel.primary()&&Pr(n,Hn(n,l,"div").top-s.top),l}),G),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(t){var e=Ht(this.doc,t.line).text,n=t.ch,r=t.ch;if(e){var i=this.getHelper(t,"wordChars");"before"!=t.sticky&&r!=e.length||!n?++r:--n;for(var o=e.charAt(n),a=tt(o,i)?function(t){return tt(t,i)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!tt(t)};n>0&&a(e.charAt(n-1));)--n;for(;r<e.length&&a(e.charAt(r));)++r}return new Ei(te(t.line,n),te(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?A(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),dt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==M()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ei((function(t,e){Mr(this,t,e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Tn(this)-this.display.barHeight,width:t.scrollWidth-Tn(this)-this.display.barWidth,clientHeight:On(this),clientWidth:kn(this)}},scrollIntoView:ei((function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:te(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Ar(t),t.curOp.scrollToPos=e}(this,t):Lr(this,t.from,t.to,t.margin)})),setSize:ei((function(t,e){var n=this,r=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&jn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){hr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,dt(this,"refresh",this)})),operation:function(t){return Qr(this,t)},startOperation:function(){return Hr(this)},endOperation:function(){return Yr(this)},refresh:ei((function(){var t=this.display.cachedTextHeight;pr(this),this.curOp.forceUpdate=!0,Bn(this),Mr(this,this.doc.scrollLeft,this.doc.scrollTop),ui(this.display),(null==t||Math.abs(t-rr(this.display))>.5)&&lr(this),dt(this,"refresh",this)})),swapDoc:ei((function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),Ri(this,t),Bn(this),this.display.input.reset(),Mr(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,ln(this,"swapDoc",this,e),e})),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},yt(t),t.registerHelper=function(e,r,i){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][r]=i},t.registerGlobalHelper=function(e,r,i,o){t.registerHelper(e,r,o),n[e]._global.push({pred:i,val:o})}}(ka);var Ha="iter insert remove copy getEditor constructor".split(" ");for(var Ya in No.prototype)No.prototype.hasOwnProperty(Ya)&&B(Ha,Ya)<0&&(ka.prototype[Ya]=function(t){return function(){return t.apply(this.doc,arguments)}}(No.prototype[Ya]));return yt(No),ka.inputStyles={textarea:Wa,contenteditable:Ba},ka.defineMode=function(t){ka.defaults.mode||"null"==t||(ka.defaults.mode=t),zt.apply(this,arguments)},ka.defineMIME=function(t,e){Dt[t]=e},ka.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),ka.defineMIME("text/plain","null"),ka.defineExtension=function(t,e){ka.prototype[t]=e},ka.defineDocExtension=function(t,e){No.prototype[t]=e},ka.fromTextArea=function(t,e){if((e=e?z(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=M();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function r(){t.value=s.getValue()}var i;if(t.form&&(pt(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(t){}}e.finishInit=function(n){n.save=r,n.getTextArea=function(){return t},n.toTextArea=function(){n.toTextArea=isNaN,r(),t.parentNode.removeChild(n.getWrapperElement()),t.style.display="",t.form&&(ft(t.form,"submit",r),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=i))}},t.style.display="none";var s=ka((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),e);return s},function(t){t.off=ft,t.on=pt,t.wheelEventPixels=bi,t.Doc=No,t.splitLines=Nt,t.countColumn=F,t.findColumn=W,t.isWordChar=Q,t.Pass=U,t.signal=dt,t.Line=He,t.changeEnd=Ti,t.scrollbarModel=qr,t.Pos=te,t.cmpPos=ee,t.modes=Rt,t.mimeModes=Dt,t.resolveMode=Ft,t.getMode=jt,t.modeExtensions=Bt,t.extendMode=Ut,t.copyState=Vt,t.startState=Gt,t.innerMode=qt,t.commands=ea,t.keyMap=qo,t.keyName=Zo,t.isModifierKey=Yo,t.lookupKey=Ho,t.normalizeKeyMap=Wo,t.StringStream=Wt,t.SharedTextMarker=ko,t.TextMarker=So,t.LineWidget=wo,t.e_preventDefault=_t,t.e_stopPropagation=bt,t.e_stop=wt,t.addClass=A,t.contains=N,t.rmClass=T,t.keyNames=jo}(ka),ka.version="5.51.0",ka}()},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.r(e);var i=n(0),o=n.n(i),a=n(1),s=n.n(a),l=s.a.shape({trySubscribe:s.a.func.isRequired,tryUnsubscribe:s.a.func.isRequired,notifyNestedSubs:s.a.func.isRequired,isSubscribed:s.a.func.isRequired}),u=s.a.shape({subscribe:s.a.func.isRequired,dispatch:s.a.func.isRequired,getState:s.a.func.isRequired});o.a.forwardRef;function c(t){var e;void 0===t&&(t="store");var n=t+"Subscription",o=function(e){r(a,e);var o=a.prototype;function a(n,r){var i;return(i=e.call(this,n,r)||this)[t]=n.store,i}return o.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},o.render=function(){return i.Children.only(this.props.children)},a}(i.Component);return o.propTypes={store:u.isRequired,children:s.a.element.isRequired},o.childContextTypes=((e={})[t]=u.isRequired,e[n]=l,e),o}var p=c(),h=n(7),f=n(34),d=n(66),g=n(357),m=n.n(g),v=n(26),y=n.n(v),_=n(226),b={notify:function(){}};var x=function(){function t(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=b}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){var t,e;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(t=[],e=[],{clear:function(){e=null,t=null},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&null!==t&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}))},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=b)},t}(),w=void 0!==o.a.forwardRef,E=0,C={};function S(){}function T(t,e){var n,o;void 0===e&&(e={});var a=e,s=a.getDisplayName,c=void 0===s?function(t){return"ConnectAdvanced("+t+")"}:s,p=a.methodName,g=void 0===p?"connectAdvanced":p,v=a.renderCountProp,b=void 0===v?void 0:v,T=a.shouldHandleStateChanges,k=void 0===T||T,O=a.storeKey,I=void 0===O?"store":O,P=a.withRef,N=void 0!==P&&P,M=Object(d.a)(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),A=I+"Subscription",L=E++,R=((n={})[I]=u,n[A]=l,n),D=((o={})[A]=l,o);return function(e){y()(Object(_.isValidElementType)(e),"You must pass a component to the function returned by "+g+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",o=c(n),a=Object(f.a)({},M,{getDisplayName:c,methodName:g,renderCountProp:b,shouldHandleStateChanges:k,storeKey:I,withRef:N,displayName:o,wrappedComponentName:n,WrappedComponent:e}),s=function(n){function s(t,e){var r;return(r=n.call(this,t,e)||this).version=L,r.state={},r.renderCount=0,r.store=t[I]||e[I],r.propsMode=Boolean(t[I]),r.setWrappedInstance=r.setWrappedInstance.bind(Object(h.a)(Object(h.a)(r))),y()(r.store,'Could not find "'+I+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+I+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}r(s,n);var l=s.prototype;return l.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[A]=e||this.context[A],t},l.componentDidMount=function(){k&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.componentWillReceiveProps=function(t){this.selector.run(t)},l.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=S,this.store=null,this.selector.run=S,this.selector.shouldComponentUpdate=!1},l.getWrappedInstance=function(){return y()(N,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+g+"() call."),this.wrappedInstance},l.setWrappedInstance=function(t){this.wrappedInstance=t},l.initSelector=function(){var e=t(this.store.dispatch,a);this.selector=function(t,e){var n={run:function(r){try{var i=t(e.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}(e,this.store),this.selector.run(this.props)},l.initSubscription=function(){if(k){var t=(this.propsMode?this.props:this.context)[A];this.subscription=new x(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(C)):this.notifyNestedSubs()},l.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.addExtraProps=function(t){if(!(N||b||this.propsMode&&this.subscription))return t;var e=Object(f.a)({},t);return N&&(e.ref=this.setWrappedInstance),b&&(e[b]=this.renderCount++),this.propsMode&&this.subscription&&(e[A]=this.subscription),e},l.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(i.createElement)(e,this.addExtraProps(t.props))},s}(i.Component);return w&&(s.prototype.UNSAFE_componentWillReceiveProps=s.prototype.componentWillReceiveProps,delete s.prototype.componentWillReceiveProps),s.WrappedComponent=e,s.displayName=o,s.childContextTypes=D,s.contextTypes=R,s.propTypes=R,m()(s,e)}}var k=Object.prototype.hasOwnProperty;function O(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function I(t,e){if(O(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!k.call(e,n[i])||!O(t[n[i]],e[n[i]]))return!1;return!0}var P=n(164);function N(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function M(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function A(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=M(t);var i=r(e,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=M(i),i=r(e,n)),i},r}}var L=[function(t){return"function"==typeof t?A(t):void 0},function(t){return t?void 0:N((function(t){return{dispatch:t}}))},function(t){return t&&"object"==typeof t?N((function(e){return Object(P.bindActionCreators)(t,e)})):void 0}];var R=[function(t){return"function"==typeof t?A(t):void 0},function(t){return t?void 0:N((function(){return{}}))}];function D(t,e,n){return Object(f.a)({},n,t,e)}var z=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var l=t(e,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(t):void 0},function(t){return t?void 0:function(){return D}}];function F(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function j(t,e,n,r,i){var o,a,s,l,u,c=i.areStatesEqual,p=i.areOwnPropsEqual,h=i.areStatePropsEqual,f=!1;function d(i,f){var d,g,m=!p(f,a),v=!c(i,o);return o=i,a=f,m&&v?(s=t(o,a),e.dependsOnOwnProps&&(l=e(r,a)),u=n(s,l,a)):m?(t.dependsOnOwnProps&&(s=t(o,a)),e.dependsOnOwnProps&&(l=e(r,a)),u=n(s,l,a)):v?(d=t(o,a),g=!h(d,s),s=d,g&&(u=n(s,l,a)),u):u}return function(i,c){return f?d(i,c):(s=t(o=i,a=c),l=e(r,a),u=n(s,l,a),f=!0,u)}}function B(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=Object(d.a)(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),l=i(t,o);return(o.pure?j:F)(a,s,l,t,o)}function U(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function V(t,e){return t===e}var q,G,W,H,Y,X,Z,K,$,J,Q,tt,et=(W=(G=void 0===q?{}:q).connectHOC,H=void 0===W?T:W,Y=G.mapStateToPropsFactories,X=void 0===Y?R:Y,Z=G.mapDispatchToPropsFactories,K=void 0===Z?L:Z,$=G.mergePropsFactories,J=void 0===$?z:$,Q=G.selectorFactory,tt=void 0===Q?B:Q,function(t,e,n,r){void 0===r&&(r={});var i=r,o=i.pure,a=void 0===o||o,s=i.areStatesEqual,l=void 0===s?V:s,u=i.areOwnPropsEqual,c=void 0===u?I:u,p=i.areStatePropsEqual,h=void 0===p?I:p,g=i.areMergedPropsEqual,m=void 0===g?I:g,v=Object(d.a)(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),y=U(t,X,"mapStateToProps"),_=U(e,K,"mapDispatchToProps"),b=U(n,J,"mergeProps");return H(tt,Object(f.a)({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:y,initMapDispatchToProps:_,initMergeProps:b,pure:a,areStatesEqual:l,areOwnPropsEqual:c,areStatePropsEqual:h,areMergedPropsEqual:m},v))});n.d(e,"Provider",(function(){return p})),n.d(e,"createProvider",(function(){return c})),n.d(e,"connectAdvanced",(function(){return T})),n.d(e,"connect",(function(){return et}))},function(t,e,n){var r=n(139),i=n(472)((function(t,e,n){r(t,n,e)}));t.exports=i},function(t,e,n){var r=n(19)("difference",n(108));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("trim",n(524));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("isObject",n(28),n(40));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("pick",n(109));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("isPlainObject",n(78),n(40));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("isFunction",n(54),n(40));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("take",n(530));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("sortBy",n(531));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("memoize",n(250));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(44),i=n(27);t.exports=function(t){return!0===t||!1===t||i(t)&&"[object Boolean]"==r(t)}},function(t,e,n){t.exports=n(545)},function(t,e,n){var r=n(19)("startsWith",n(258));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("curry",n(293));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("includes",n(21));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("values",n(64),n(40));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(546)();t.exports=r},function(t,e,n){var r=n(101),i=n(102),o=n(197),a=n(35),s=n(144),l=n(18),u=n(99),c=n(54),p=n(28),h=n(135);t.exports=function(t,e,n){var f=l(t),d=f||u(t)||h(t);if(e=a(e,4),null==n){var g=t&&t.constructor;n=d?f?new g:[]:p(t)&&c(g)?i(s(t)):{}}return(d?r:o)(t,(function(t,r,i){return e(n,t,r,i)})),n}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}t.exports=function(t,e){if(i(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(e,n[a])||!i(t[n[a]],e[n[a]]))return!1;return!0}},function(t,e,n){var r=n(19)("uniq",n(110),n(40));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("identity",n(51),n(40));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("filter",n(79));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("split",n(549));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("flatMap",n(552));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(19)("toArray",n(553),n(40));r.placeholder=n(17),t.exports=r},function(t,e,n){var r=n(555),i=n(562),o=r((function(t,e,n){return t+(n?" ":"")+i(e)}));t.exports=o},function(t,e,n){var r=n(570),i=n(571),o=n(35),a=n(18),s=n(85);t.exports=function(t,e,n){var l=a(t)?r:i;return n&&s(t,e,n)&&(e=void 0),l(t,o(e,3))}},function(t,e,n){var r=n(46),i=/[\\^$.*+?()[\]{}|]/g,o=RegExp(i.source);t.exports=function(t){return(t=r(t))&&o.test(t)?t.replace(i,"\\$&"):t}},function(t,e,n){var r=n(127),i=n(52);t.exports=function(t,e,n){var o=null==t?0:t.length;return o?(e=n||void 0===e?1:i(e),r(t,0,(e=o-e)<0?0:e)):[]}},function(t,e,n){var r=n(47),i=n(35),o=n(294),a=n(208);t.exports=function(t,e){if(null==t)return{};var n=r(a(t),(function(t){return[t]}));return e=i(e),o(t,n,(function(t,n){return e(t,n[0])}))}},function(t,e,n){var r=n(143),i=n(77),o=n(300),a=n(39),s=n(100),l=n(25),u=Object.prototype.hasOwnProperty,c=o((function(t,e){if(s(e)||a(e))i(e,l(e),t);else for(var n in e)u.call(e,n)&&r(t,n,e[n])}));t.exports=c},function(t,e,n){var r=n(575)("round");t.exports=r},function(t,e,n){var r=n(259),i=n(133);t.exports=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=i(n))==n?n:0),void 0!==e&&(e=(e=i(e))==e?e:0),r(i(t),e,n)}},function(t,e,n){var r=n(62),i=n(140),o=n(205),a=n(142),s=r((function(t,e){var n=a(e,o(s));return i(t,64,void 0,e,n)}));s.placeholder={},t.exports=s},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,c=u&&u(Object);t.exports=function t(e,n,p){if("string"!=typeof n){if(c){var h=u(n);h&&h!==c&&t(e,h,p)}var f=a(n);s&&(f=f.concat(s(n)));for(var d=0;d<f.length;++d){var g=f[d];if(!(r[g]||i[g]||p&&p[g])){var m=l(n,g);try{o(e,g,m)}catch(t){}}}return e}return e}},function(t,e,n){"use strict";(function(t){var r=n(0);function i(e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof self?self:t;var r,i,o="undefined"!=typeof document&&document.attachEvent;if(!o){var a=(i=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(t){return n.setTimeout(t,20)},function(t){return i(t)}),s=(r=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.clearTimeout,function(t){return r(t)}),l=function(t){var e=t.__resizeTriggers__,n=e.firstElementChild,r=e.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},u=function(t){if(!(t.target.className.indexOf("contract-trigger")<0&&t.target.className.indexOf("expand-trigger")<0)){var e=this;l(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a((function(){(function(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach((function(n){n.call(e,t)})))}))}},c=!1,p="",h="animationstart",f="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g=document.createElement("fakeelement");if(void 0!==g.style.animationName&&(c=!0),!1===c)for(var m=0;m<f.length;m++)if(void 0!==g.style[f[m]+"AnimationName"]){p="-"+f[m].toLowerCase()+"-",h=d[m],c=!0;break}var v="resizeanim",y="@"+p+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",_=p+"animation: 1ms "+v+"; "}return{addResizeListener:function(t,r){if(o)t.attachEvent("onresize",r);else{if(!t.__resizeTriggers__){var i=t.ownerDocument,a=n.getComputedStyle(t);a&&"static"==a.position&&(t.style.position="relative"),function(t){if(!t.getElementById("detectElementResize")){var n=(y||"")+".resize-triggers { "+(_||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(t.createTextNode(n)),r.appendChild(i)}}(i),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=i.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),l(t),t.addEventListener("scroll",u,!0),h&&(t.__resizeTriggers__.__animationListener__=function(e){e.animationName==v&&l(t)},t.__resizeTriggers__.addEventListener(h,t.__resizeTriggers__.__animationListener__))}t.__resizeListeners__.push(r)}},removeResizeListener:function(t,e){if(o)t.detachEvent("onresize",e);else if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),!t.__resizeListeners__.length){t.removeEventListener("scroll",u,!0),t.__resizeTriggers__.__animationListener__&&(t.__resizeTriggers__.removeEventListener(h,t.__resizeTriggers__.__animationListener__),t.__resizeTriggers__.__animationListener__=null);try{t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)}catch(t){}}}}}var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},u=function(t){function e(){var t,n,r;o(this,e);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=l(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var t=r.props,e=t.disableHeight,n=t.disableWidth,i=t.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,u=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,p=parseInt(s.paddingBottom,10)||0,h=o-c-p,f=a-l-u;(!e&&r.state.height!==h||!n&&r.state.width!==f)&&(r.setState({height:o-c-p,width:a-l-u}),i({height:o,width:a}))}},r._setRef=function(t){r._autoSizer=t},l(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"componentDidMount",value:function(){var t=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=i(t),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var t=this.props,e=t.children,n=t.className,i=t.disableHeight,o=t.disableWidth,a=t.style,l=this.state,u=l.height,c=l.width,p={overflow:"visible"},h={},f=!1;return i||(0===u&&(f=!0),p.height=0,h.height=u),o||(0===c&&(f=!0),p.width=0,h.width=c),Object(r.createElement)("div",{className:n,ref:this._setRef,style:s({},p,a)},!f&&e(h))}}]),e}(r.PureComponent);u.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},e.a=u}).call(this,n(60))},function(t,e,n){"use strict";var r=n(226),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,c=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(d){var i=f(n);i&&i!==d&&t(e,i,r)}var a=c(n);p&&(a=a.concat(p(n)));for(var s=l(e),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!(o[v]||r&&r[v]||g&&g[v]||s&&s[v])){var y=h(n,v);try{u(e,v,y)}catch(t){}}}}return e}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}n.d(e,"a",(function(){return r}))},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}},function(t,e,n){"use strict";var r=u(n(0)),i=u(n(48)),o=u(n(366));n(697);var a=n(320),s=u(n(699)),l=n(161);function u(t){return t&&t.__esModule?t:{default:t}}i.default.render(r.default.createElement(l.BrowserRouter,null,r.default.createElement(a.Provider,{store:s.default},r.default.createElement(o.default,null))),document.getElementById("root"))},function(t,e,n){"use strict";
/** @license React v16.12.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(236),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,p=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var d=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var m="function"==typeof Symbol&&Symbol.iterator;function v(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||y}function x(){}function w(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||y}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(v(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},x.prototype=b.prototype;var E=w.prototype=new x;E.constructor=w,r(E,b.prototype),E.isPureReactComponent=!0;var C={current:null},S={current:null},T=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function O(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)T.call(e,r)&&!k.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:S.current}}function I(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var P=/\/+/g,N=[];function M(t,e,n,r){if(N.length){var i=N.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function A(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>N.length&&N.push(t)}function L(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case a:l=!0}}if(l)return r(i,e,""===n?"."+R(e,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=n+R(s=e[u],u);l+=t(s,c,r,i)}else if(null===e||"object"!=typeof e?c=null:c="function"==typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=t(s=s.value,c=n+R(s,u++),r,i);else if("object"===s)throw r=""+e,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return l}(t,"",e,n)}function R(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function D(t,e){t.func.call(t.context,e,t.count++)}function z(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?F(t,r,n,(function(t){return t})):null!=t&&(I(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(P,"$&/")+"/")+n)),r.push(t))}function F(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(P,"$&/")+"/"),L(t,z,e=M(e,o,r,i)),A(e)}function j(){var t=C.current;if(null===t)throw Error(v(321));return t}var B={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return F(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;L(t,D,e=M(null,null,e,n)),A(e)},count:function(t){return L(t,(function(){return null}),null)},toArray:function(t){var e=[];return F(t,e,null,(function(t){return t})),e},only:function(t){if(!I(t))throw Error(v(143));return t}},createRef:function(){return{current:null}},Component:b,PureComponent:w,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:p,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:h,render:t}},lazy:function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return j().useCallback(t,e)},useContext:function(t,e){return j().useContext(t,e)},useEffect:function(t,e){return j().useEffect(t,e)},useImperativeHandle:function(t,e,n){return j().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return j().useLayoutEffect(t,e)},useMemo:function(t,e){return j().useMemo(t,e)},useReducer:function(t,e,n){return j().useReducer(t,e,n)},useRef:function(t){return j().useRef(t)},useState:function(t){return j().useState(t)},Fragment:s,Profiler:u,StrictMode:l,Suspense:f,createElement:O,cloneElement:function(t,e,n){if(null==t)throw Error(v(267,t));var i=r({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=S.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)T.call(e,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var p=0;p<c;p++)u[p]=arguments[p+2];i.children=u}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:l}},createFactory:function(t){var e=O.bind(null,t);return e.type=t,e},isValidElement:I,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r}},U={default:B},V=U&&B||U;t.exports=V.default||V},function(t,e,n){"use strict";
/** @license React v16.12.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(236),o=n(364);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=null,l={};function u(){if(s)for(var t in l){var e=l[t],n=s.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!p[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in p[n]=e,n=e.eventTypes){var i=void 0,o=n[r],u=e,f=r;if(h.hasOwnProperty(f))throw Error(a(99,f));h[f]=o;var d=o.phasedRegistrationNames;if(d){for(i in d)d.hasOwnProperty(i)&&c(d[i],u,f);i=!0}else o.registrationName?(c(o.registrationName,u,f),i=!0):i=!1;if(!i)throw Error(a(98,r,t))}}}}function c(t,e,n){if(f[t])throw Error(a(100,t));f[t]=e,d[t]=e.eventTypes[n].dependencies}var p=[],h={},f={},d={};function g(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this.onError(t)}}var m=!1,v=null,y=!1,_=null,b={onError:function(t){m=!0,v=t}};function x(t,e,n,r,i,o,a,s,l){m=!1,v=null,g.apply(b,arguments)}var w=null,E=null,C=null;function S(t,e,n){var r=t.type||"unknown-event";t.currentTarget=C(n),function(t,e,n,r,i,o,s,l,u){if(x.apply(this,arguments),m){if(!m)throw Error(a(198));var c=v;m=!1,v=null,y||(y=!0,_=c)}}(r,e,void 0,t),t.currentTarget=null}function T(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function k(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var O=null;function I(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)S(t,e[r],n[r]);else e&&S(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function P(t){if(null!==t&&(O=T(O,t)),t=O,O=null,t){if(k(t,I),O)throw Error(a(95));if(y)throw t=_,y=!1,_=null,t}}var N={injectEventPluginOrder:function(t){if(s)throw Error(a(101));s=Array.prototype.slice.call(t),u()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!l.hasOwnProperty(e)||l[e]!==r){if(l[e])throw Error(a(102,e));l[e]=r,n=!0}}n&&u()}};function M(t,e){var n=t.stateNode;if(!n)return null;var r=w(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(a(231,e,typeof n));return n}var A=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;A.hasOwnProperty("ReactCurrentDispatcher")||(A.ReactCurrentDispatcher={current:null}),A.hasOwnProperty("ReactCurrentBatchConfig")||(A.ReactCurrentBatchConfig={suspense:null});var L=/^(.*)[\\\/]/,R="function"==typeof Symbol&&Symbol.for,D=R?Symbol.for("react.element"):60103,z=R?Symbol.for("react.portal"):60106,F=R?Symbol.for("react.fragment"):60107,j=R?Symbol.for("react.strict_mode"):60108,B=R?Symbol.for("react.profiler"):60114,U=R?Symbol.for("react.provider"):60109,V=R?Symbol.for("react.context"):60110,q=R?Symbol.for("react.concurrent_mode"):60111,G=R?Symbol.for("react.forward_ref"):60112,W=R?Symbol.for("react.suspense"):60113,H=R?Symbol.for("react.suspense_list"):60120,Y=R?Symbol.for("react.memo"):60115,X=R?Symbol.for("react.lazy"):60116;R&&Symbol.for("react.fundamental"),R&&Symbol.for("react.responder"),R&&Symbol.for("react.scope");var Z="function"==typeof Symbol&&Symbol.iterator;function K(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=Z&&t[Z]||t["@@iterator"])?t:null}function $(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case F:return"Fragment";case z:return"Portal";case B:return"Profiler";case j:return"StrictMode";case W:return"Suspense";case H:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case V:return"Context.Consumer";case U:return"Context.Provider";case G:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case Y:return $(t.type);case X:if(t=1===t._status?t._result:null)return $(t)}return null}function J(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=$(t.type);n=null,r&&(n=$(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(L,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var Q=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),tt=null,et=null,nt=null;function rt(t){if(t=E(t)){if("function"!=typeof tt)throw Error(a(280));var e=w(t.stateNode);tt(t.stateNode,t.type,e)}}function it(t){et?nt?nt.push(t):nt=[t]:et=t}function ot(){if(et){var t=et,e=nt;if(nt=et=null,rt(t),e)for(t=0;t<e.length;t++)rt(e[t])}}function at(t,e){return t(e)}function st(t,e,n,r){return t(e,n,r)}function lt(){}var ut=at,ct=!1,pt=!1;function ht(){null===et&&null===nt||(lt(),ot())}new Map;var ft=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dt=Object.prototype.hasOwnProperty,gt={},mt={};function vt(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){yt[t]=new vt(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];yt[e]=new vt(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){yt[t]=new vt(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){yt[t]=new vt(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){yt[t]=new vt(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){yt[t]=new vt(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){yt[t]=new vt(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){yt[t]=new vt(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){yt[t]=new vt(t,5,!1,t.toLowerCase(),null,!1)}));var _t=/[\-:]([a-z])/g;function bt(t){return t[1].toUpperCase()}function xt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function wt(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!dt.call(mt,t)||!dt.call(gt,t)&&(ft.test(t)?mt[t]=!0:(gt[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function Et(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Ct(t){t._valueTracker||(t._valueTracker=function(t){var e=Et(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function St(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Et(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Tt(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function kt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=xt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ot(t,e){null!=(e=e.checked)&&wt(t,"checked",e,!1)}function It(t,e){Ot(t,e);var n=xt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?Nt(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nt(t,e.type,xt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Pt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function Nt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Mt(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function At(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Lt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rt(t,e){var n=e.value;if(null==n){if(n=e.defaultValue,null!=(e=e.children)){if(null!=n)throw Error(a(92));if(Array.isArray(e)){if(!(1>=e.length))throw Error(a(93));e=e[0]}n=e}null==n&&(n="")}t._wrapperState={initialValue:xt(n)}}function Dt(t,e){var n=xt(e.value),r=xt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function zt(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(_t,bt);yt[e]=new vt(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(_t,bt);yt[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(_t,bt);yt[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){yt[t]=new vt(t,1,!1,t.toLowerCase(),null,!1)})),yt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){yt[t]=new vt(t,1,!1,t.toLowerCase(),null,!0)}));var Ft="http://www.w3.org/1999/xhtml",jt="http://www.w3.org/2000/svg";function Bt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Bt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Vt,qt=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==jt||"innerHTML"in t)t.innerHTML=e;else{for((Vt=Vt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Gt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Wt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ht={animationend:Wt("Animation","AnimationEnd"),animationiteration:Wt("Animation","AnimationIteration"),animationstart:Wt("Animation","AnimationStart"),transitionend:Wt("Transition","TransitionEnd")},Yt={},Xt={};function Zt(t){if(Yt[t])return Yt[t];if(!Ht[t])return t;var e,n=Ht[t];for(e in n)if(n.hasOwnProperty(e)&&e in Xt)return Yt[t]=n[e];return t}Q&&(Xt=document.createElement("div").style,"AnimationEvent"in window||(delete Ht.animationend.animation,delete Ht.animationiteration.animation,delete Ht.animationstart.animation),"TransitionEvent"in window||delete Ht.transitionend.transition);var Kt=Zt("animationend"),$t=Zt("animationiteration"),Jt=Zt("animationstart"),Qt=Zt("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function ee(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function ne(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function re(t){if(ee(t)!==t)throw Error(a(188))}function ie(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=ee(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return re(i),t;if(o===r)return re(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var oe,ae,se,le=!1,ue=[],ce=null,pe=null,he=null,fe=new Map,de=new Map,ge=[],me="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),ve="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ye(t,e,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:r}}function _e(t,e){switch(t){case"focus":case"blur":ce=null;break;case"dragenter":case"dragleave":pe=null;break;case"mouseover":case"mouseout":he=null;break;case"pointerover":case"pointerout":fe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":de.delete(e.pointerId)}}function be(t,e,n,r,i){return null===t||t.nativeEvent!==i?(t=ye(e,n,r,i),null!==e&&(null!==(e=ur(e))&&ae(e)),t):(t.eventSystemFlags|=r,t)}function xe(t){var e=lr(t.target);if(null!==e){var n=ee(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=ne(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){se(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function we(t){if(null!==t.blockedOn)return!1;var e=Nn(t.topLevelType,t.eventSystemFlags,t.nativeEvent);if(null!==e){var n=ur(e);return null!==n&&ae(n),t.blockedOn=e,!1}return!0}function Ee(t,e,n){we(t)&&n.delete(e)}function Ce(){for(le=!1;0<ue.length;){var t=ue[0];if(null!==t.blockedOn){null!==(t=ur(t.blockedOn))&&oe(t);break}var e=Nn(t.topLevelType,t.eventSystemFlags,t.nativeEvent);null!==e?t.blockedOn=e:ue.shift()}null!==ce&&we(ce)&&(ce=null),null!==pe&&we(pe)&&(pe=null),null!==he&&we(he)&&(he=null),fe.forEach(Ee),de.forEach(Ee)}function Se(t,e){t.blockedOn===e&&(t.blockedOn=null,le||(le=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ce)))}function Te(t){function e(e){return Se(e,t)}if(0<ue.length){Se(ue[0],t);for(var n=1;n<ue.length;n++){var r=ue[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==ce&&Se(ce,t),null!==pe&&Se(pe,t),null!==he&&Se(he,t),fe.forEach(e),de.forEach(e),n=0;n<ge.length;n++)(r=ge[n]).blockedOn===t&&(r.blockedOn=null);for(;0<ge.length&&null===(n=ge[0]).blockedOn;)xe(n),null===n.blockedOn&&ge.shift()}function ke(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Oe(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Ie(t,e,n){(e=M(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=T(n._dispatchListeners,e),n._dispatchInstances=T(n._dispatchInstances,t))}function Pe(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Oe(e);for(e=n.length;0<e--;)Ie(n[e],"captured",t);for(e=0;e<n.length;e++)Ie(n[e],"bubbled",t)}}function Ne(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=M(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=T(n._dispatchListeners,e),n._dispatchInstances=T(n._dispatchInstances,t))}function Me(t){t&&t.dispatchConfig.registrationName&&Ne(t._targetInst,null,t)}function Ae(t){k(t,Pe)}function Le(){return!0}function Re(){return!1}function De(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Le:Re,this.isPropagationStopped=Re,this}function ze(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Fe(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function je(t){t.eventPool=[],t.getPooled=ze,t.release=Fe}i(De.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Le)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Le)},persist:function(){this.isPersistent=Le},isPersistent:Re,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Re,this._dispatchInstances=this._dispatchListeners=null}}),De.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},De.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,je(n),n},je(De);var Be=De.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ue=De.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ve=De.extend({view:null,detail:null}),qe=Ve.extend({relatedTarget:null});function Ge(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var We={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},He={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ye[t])&&!!e[t]}function Ze(){return Xe}for(var Ke=Ve.extend({key:function(t){if(t.key){var e=We[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Ge(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?He[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ze,charCode:function(t){return"keypress"===t.type?Ge(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Ge(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),$e=0,Je=0,Qe=!1,tn=!1,en=Ve.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ze,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=$e;return $e=t.screenX,Qe?"mousemove"===t.type?t.screenX-e:0:(Qe=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Je;return Je=t.screenY,tn?"mousemove"===t.type?t.screenY-e:0:(tn=!0,0)}}),nn=en.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),rn=en.extend({dataTransfer:null}),on=Ve.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ze}),an=De.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sn=en.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),ln=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Kt,"animationEnd",2],[$t,"animationIteration",2],[Jt,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Qt,"transitionEnd",2],["waiting","waiting",2]],un={},cn={},pn=0;pn<ln.length;pn++){var hn=ln[pn],fn=hn[0],dn=hn[1],gn=hn[2],mn="on"+(dn[0].toUpperCase()+dn.slice(1)),vn={phasedRegistrationNames:{bubbled:mn,captured:mn+"Capture"},dependencies:[fn],eventPriority:gn};un[dn]=vn,cn[fn]=vn}var yn={eventTypes:un,getEventPriority:function(t){return void 0!==(t=cn[t])?t.eventPriority:2},extractEvents:function(t,e,n,r){var i=cn[t];if(!i)return null;switch(t){case"keypress":if(0===Ge(n))return null;case"keydown":case"keyup":t=Ke;break;case"blur":case"focus":t=qe;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=en;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=on;break;case Kt:case $t:case Jt:t=Be;break;case Qt:t=an;break;case"scroll":t=Ve;break;case"wheel":t=sn;break;case"copy":case"cut":case"paste":t=Ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=nn;break;default:t=De}return Ae(e=t.getPooled(i,e,n,r)),e}},_n=o.unstable_UserBlockingPriority,bn=o.unstable_runWithPriority,xn=yn.getEventPriority,wn=[];function En(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=lr(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=ke(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=t.eventSystemFlags,s=null,l=0;l<p.length;l++){var u=p[l];u&&(u=u.extractEvents(r,e,o,i,a))&&(s=T(s,u))}P(s)}}var Cn=!0;function Sn(t,e){Tn(e,t,!1)}function Tn(t,e,n){switch(xn(e)){case 0:var r=kn.bind(null,e,1);break;case 1:r=On.bind(null,e,1);break;default:r=Pn.bind(null,e,1)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function kn(t,e,n){ct||lt();var r=Pn,i=ct;ct=!0;try{st(r,t,e,n)}finally{(ct=i)||ht()}}function On(t,e,n){bn(_n,Pn.bind(null,t,e,n))}function In(t,e,n,r){if(wn.length){var i=wn.pop();i.topLevelType=t,i.eventSystemFlags=e,i.nativeEvent=n,i.targetInst=r,t=i}else t={topLevelType:t,eventSystemFlags:e,nativeEvent:n,targetInst:r,ancestors:[]};try{if(e=En,n=t,pt)e(n,void 0);else{pt=!0;try{ut(e,n,void 0)}finally{pt=!1,ht()}}}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,wn.length<10&&wn.push(t)}}function Pn(t,e,n){if(Cn)if(0<ue.length&&-1<me.indexOf(t))t=ye(null,t,e,n),ue.push(t);else{var r=Nn(t,e,n);null===r?_e(t,n):-1<me.indexOf(t)?(t=ye(r,t,e,n),ue.push(t)):function(t,e,n,r){switch(e){case"focus":return ce=be(ce,t,e,n,r),!0;case"dragenter":return pe=be(pe,t,e,n,r),!0;case"mouseover":return he=be(he,t,e,n,r),!0;case"pointerover":var i=r.pointerId;return fe.set(i,be(fe.get(i)||null,t,e,n,r)),!0;case"gotpointercapture":return i=r.pointerId,de.set(i,be(de.get(i)||null,t,e,n,r)),!0}return!1}(r,t,e,n)||(_e(t,n),In(t,e,n,null))}}function Nn(t,e,n){var r=ke(n);if(null!==(r=lr(r))){var i=ee(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=ne(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return In(t,e,n,r),null}function Mn(t){if(!Q)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var An=new("function"==typeof WeakMap?WeakMap:Map);function Ln(t){var e=An.get(t);return void 0===e&&(e=new Set,An.set(t,e)),e}function Rn(t,e,n){if(!n.has(t)){switch(t){case"scroll":Tn(e,"scroll",!0);break;case"focus":case"blur":Tn(e,"focus",!0),Tn(e,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Mn(t)&&Tn(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(t)&&Sn(t,e)}n.add(t)}}var Dn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zn=["Webkit","ms","Moz","O"];function Fn(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||Dn.hasOwnProperty(t)&&Dn[t]?(""+e).trim():e+"px"}function jn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Fn(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Dn).forEach((function(t){zn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dn[e]=Dn[t]}))}));var Bn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Un(t,e){if(e){if(Bn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if(!("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62,""))}}function Vn(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function qn(t,e){var n=Ln(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=d[e];for(var r=0;r<e.length;r++)Rn(e[r],t,n)}function Gn(){}function Wn(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Hn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yn(t,e){var n,r=Hn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Hn(r)}}function Xn(){for(var t=window,e=Wn();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=Wn((t=e.contentWindow).document)}return e}function Zn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Kn=null,$n=null;function Jn(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Qn(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var tr="function"==typeof setTimeout?setTimeout:void 0,er="function"==typeof clearTimeout?clearTimeout:void 0;function nr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function rr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var ir=Math.random().toString(36).slice(2),or="__reactInternalInstance$"+ir,ar="__reactEventHandlers$"+ir,sr="__reactContainere$"+ir;function lr(t){var e=t[or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[or]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=rr(t);null!==t;){if(n=t[or])return n;t=rr(t)}return e}n=(t=n).parentNode}return null}function ur(t){return!(t=t[or]||t[sr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function cr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function pr(t){return t[ar]||null}var hr=null,fr=null,dr=null;function gr(){if(dr)return dr;var t,e,n=fr,r=n.length,i="value"in hr?hr.value:hr.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return dr=i.slice(t,1<e?1-e:void 0)}var mr=De.extend({data:null}),vr=De.extend({data:null}),yr=[9,13,27,32],_r=Q&&"CompositionEvent"in window,br=null;Q&&"documentMode"in document&&(br=document.documentMode);var xr=Q&&"TextEvent"in window&&!br,wr=Q&&(!_r||br&&8<br&&11>=br),Er=String.fromCharCode(32),Cr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Sr=!1;function Tr(t,e){switch(t){case"keyup":return-1!==yr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function kr(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Or=!1;var Ir={eventTypes:Cr,extractEvents:function(t,e,n,r){var i;if(_r)t:{switch(t){case"compositionstart":var o=Cr.compositionStart;break t;case"compositionend":o=Cr.compositionEnd;break t;case"compositionupdate":o=Cr.compositionUpdate;break t}o=void 0}else Or?Tr(t,n)&&(o=Cr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=Cr.compositionStart);return o?(wr&&"ko"!==n.locale&&(Or||o!==Cr.compositionStart?o===Cr.compositionEnd&&Or&&(i=gr()):(fr="value"in(hr=r)?hr.value:hr.textContent,Or=!0)),o=mr.getPooled(o,e,n,r),i?o.data=i:null!==(i=kr(n))&&(o.data=i),Ae(o),i=o):i=null,(t=xr?function(t,e){switch(t){case"compositionend":return kr(e);case"keypress":return 32!==e.which?null:(Sr=!0,Er);case"textInput":return(t=e.data)===Er&&Sr?null:t;default:return null}}(t,n):function(t,e){if(Or)return"compositionend"===t||!_r&&Tr(t,e)?(t=gr(),dr=fr=hr=null,Or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=vr.getPooled(Cr.beforeInput,e,n,r)).data=t,Ae(e)):e=null,null===i?e:null===e?i:[i,e]}},Pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Pr[t.type]:"textarea"===e}var Mr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ar(t,e,n){return(t=De.getPooled(Mr.change,t,e,n)).type="change",it(n),Ae(t),t}var Lr=null,Rr=null;function Dr(t){P(t)}function zr(t){if(St(cr(t)))return t}function Fr(t,e){if("change"===t)return e}var jr=!1;function Br(){Lr&&(Lr.detachEvent("onpropertychange",Ur),Rr=Lr=null)}function Ur(t){if("value"===t.propertyName&&zr(Rr))if(t=Ar(Rr,t,ke(t)),ct)P(t);else{ct=!0;try{at(Dr,t)}finally{ct=!1,ht()}}}function Vr(t,e,n){"focus"===t?(Br(),Rr=n,(Lr=e).attachEvent("onpropertychange",Ur)):"blur"===t&&Br()}function qr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return zr(Rr)}function Gr(t,e){if("click"===t)return zr(e)}function Wr(t,e){if("input"===t||"change"===t)return zr(e)}Q&&(jr=Mn("input")&&(!document.documentMode||9<document.documentMode));var Hr,Yr={eventTypes:Mr,_isInputEventSupported:jr,extractEvents:function(t,e,n,r){var i=e?cr(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Fr;else if(Nr(i))if(jr)a=Wr;else{a=qr;var s=Vr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Gr);if(a&&(a=a(t,e)))return Ar(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&Nt(i,"number",i.value)}},Xr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zr={eventTypes:Xr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?lr(e):null)&&(e!==(o=ee(e))||5!==e.tag&&6!==e.tag)&&(e=null)):a=null,a===e)return null;if("mouseout"===t||"mouseover"===t)var s=en,l=Xr.mouseLeave,u=Xr.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=nn,l=Xr.pointerLeave,u=Xr.pointerEnter,c="pointer");if(t=null==a?i:cr(a),i=null==e?i:cr(e),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=t,l.relatedTarget=i,(r=s.getPooled(u,e,n,r)).type=c+"enter",r.target=i,r.relatedTarget=t,c=e,(s=a)&&c)t:{for(t=c,a=0,e=u=s;e;e=Oe(e))a++;for(e=0,i=t;i;i=Oe(i))e++;for(;0<a-e;)u=Oe(u),a--;for(;0<e-a;)t=Oe(t),e--;for(;a--;){if(u===t||u===t.alternate)break t;u=Oe(u),t=Oe(t)}u=null}else u=null;for(t=u,u=[];s&&s!==t&&(null===(a=s.alternate)||a!==t);)u.push(s),s=Oe(s);for(s=[];c&&c!==t&&(null===(a=c.alternate)||a!==t);)s.push(c),c=Oe(c);for(c=0;c<u.length;c++)Ne(u[c],"bubbled",l);for(c=s.length;0<c--;)Ne(s[c],"captured",r);return n===Hr?(Hr=null,[l]):(Hr=n,[l,r])}};var Kr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},$r=Object.prototype.hasOwnProperty;function Jr(t,e){if(Kr(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!$r.call(e,n[r])||!Kr(t[n[r]],e[n[r]]))return!1;return!0}var Qr=Q&&"documentMode"in document&&11>=document.documentMode,ti={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ei=null,ni=null,ri=null,ii=!1;function oi(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return ii||null==ei||ei!==Wn(n)?null:("selectionStart"in(n=ei)&&Zn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ri&&Jr(ri,n)?null:(ri=n,(t=De.getPooled(ti.select,ni,t,e)).type="select",t.target=ei,Ae(t),t))}var ai={eventTypes:ti,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=Ln(o),i=d.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break t}o=!0}i=!o}if(i)return null;switch(o=e?cr(e):window,t){case"focus":(Nr(o)||"true"===o.contentEditable)&&(ei=o,ni=e,ri=null);break;case"blur":ri=ni=ei=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":return ii=!1,oi(n,r);case"selectionchange":if(Qr)break;case"keydown":case"keyup":return oi(n,r)}return null}};N.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=pr,E=ur,C=cr,N.injectEventPluginsByName({SimpleEventPlugin:yn,EnterLeaveEventPlugin:Zr,ChangeEventPlugin:Yr,SelectEventPlugin:ai,BeforeInputEventPlugin:Ir}),new Set;var si=[],li=-1;function ui(t){0>li||(t.current=si[li],si[li]=null,li--)}function ci(t,e){li++,si[li]=t.current,t.current=e}var pi={},hi={current:pi},fi={current:!1},di=pi;function gi(t,e){var n=t.type.contextTypes;if(!n)return pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mi(t){return null!=(t=t.childContextTypes)}function vi(t){ui(fi),ui(hi)}function yi(t){ui(fi),ui(hi)}function _i(t,e,n){if(hi.current!==pi)throw Error(a(168));ci(hi,e),ci(fi,n)}function bi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,$(e)||"Unknown",o));return i({},n,{},r)}function xi(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||pi,di=hi.current,ci(hi,e),ci(fi,fi.current),!0}function wi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(e=bi(t,e,di),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(hi),ci(hi,e)):ui(fi),ci(fi,n)}var Ei=o.unstable_runWithPriority,Ci=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ti=o.unstable_shouldYield,ki=o.unstable_requestPaint,Oi=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Mi=o.unstable_NormalPriority,Ai=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Ri={},Di=void 0!==ki?ki:function(){},zi=null,Fi=null,ji=!1,Bi=Oi(),Ui=1e4>Bi?Oi:function(){return Oi()-Bi};function Vi(){switch(Ii()){case Pi:return 99;case Ni:return 98;case Mi:return 97;case Ai:return 96;case Li:return 95;default:throw Error(a(332))}}function qi(t){switch(t){case 99:return Pi;case 98:return Ni;case 97:return Mi;case 96:return Ai;case 95:return Li;default:throw Error(a(332))}}function Gi(t,e){return t=qi(t),Ei(t,e)}function Wi(t,e,n){return t=qi(t),Ci(t,e,n)}function Hi(t){return null===zi?(zi=[t],Fi=Ci(Pi,Xi)):zi.push(t),Ri}function Yi(){if(null!==Fi){var t=Fi;Fi=null,Si(t)}Xi()}function Xi(){if(!ji&&null!==zi){ji=!0;var t=0;try{var e=zi;Gi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),zi=null}catch(e){throw null!==zi&&(zi=zi.slice(t+1)),Ci(Pi,Yi),e}finally{ji=!1}}}var Zi=3;function Ki(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function $i(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Ji={current:null},Qi=null,to=null,eo=null;function no(){eo=to=Qi=null}function ro(t,e){var n=t.type._context;ci(Ji,n._currentValue),n._currentValue=e}function io(t){var e=Ji.current;ui(Ji),t.type._context._currentValue=e}function oo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function ao(t,e){Qi=t,eo=to=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Ua=!0),t.firstContext=null)}function so(t,e){if(eo!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(eo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===to){if(null===Qi)throw Error(a(308));to=e,Qi.dependencies={expirationTime:0,firstContext:e,responders:null}}else to=to.next=e;return t._currentValue}var lo=!1;function uo(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function co(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function po(t,e){return{expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ho(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function fo(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=uo(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=uo(t.memoizedState),i=n.updateQueue=uo(n.memoizedState)):r=t.updateQueue=co(i):null===i&&(i=n.updateQueue=co(r));null===i||r===i?ho(r,e):null===r.lastUpdate||null===i.lastUpdate?(ho(r,e),ho(i,e)):(ho(r,e),i.lastUpdate=e)}function go(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=uo(t.memoizedState):mo(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function mo(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=co(e)),e}function vo(t,e,n,r,o,a){switch(n.tag){case 1:return"function"==typeof(t=n.payload)?t.call(a,r,o):t;case 3:t.effectTag=-4097&t.effectTag|64;case 0:if(null==(o="function"==typeof(t=n.payload)?t.call(a,r,o):t))break;return i({},r,o);case 2:lo=!0}return r}function yo(t,e,n,r,i){lo=!1;for(var o=(e=mo(t,e)).baseState,a=null,s=0,l=e.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c<i?(null===a&&(a=l,o=u),s<c&&(s=c)):(pl(c,l.suspenseConfig),u=vo(t,0,l,u,n,r),null!==l.callback&&(t.effectTag|=32,l.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=l:(e.lastEffect.nextEffect=l,e.lastEffect=l))),l=l.next}for(c=null,l=e.firstCapturedUpdate;null!==l;){var p=l.expirationTime;p<i?(null===c&&(c=l,null===a&&(o=u)),s<p&&(s=p)):(u=vo(t,0,l,u,n,r),null!==l.callback&&(t.effectTag|=32,l.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=l:(e.lastCapturedEffect.nextEffect=l,e.lastCapturedEffect=l))),l=l.next}null===a&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(o=u),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=c,hl(s),t.expirationTime=s,t.memoizedState=u}function _o(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),bo(e.firstEffect,n),e.firstEffect=e.lastEffect=null,bo(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function bo(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;if("function"!=typeof n)throw Error(a(191,n));n.call(r)}t=t.nextEffect}}var xo=A.ReactCurrentBatchConfig,wo=(new r.Component).refs;function Eo(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var Co={isMounted:function(t){return!!(t=t._reactInternalFiber)&&ee(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Js(),i=xo.suspense;(i=po(r=Qs(r,t,i),i)).payload=e,null!=n&&(i.callback=n),fo(t,i),tl(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Js(),i=xo.suspense;(i=po(r=Qs(r,t,i),i)).tag=1,i.payload=e,null!=n&&(i.callback=n),fo(t,i),tl(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Js(),r=xo.suspense;(r=po(n=Qs(n,t,r),r)).tag=2,null!=e&&(r.callback=e),fo(t,r),tl(t,n)}};function So(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Jr(n,r)||!Jr(i,o))}function To(t,e,n){var r=!1,i=pi,o=e.contextType;return"object"==typeof o&&null!==o?o=so(o):(i=mi(e)?di:hi.current,o=(r=null!=(r=e.contextTypes))?gi(t,i):pi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Co,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ko(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Co.enqueueReplaceState(e,e.state,null)}function Oo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=wo;var o=e.contextType;"object"==typeof o&&null!==o?i.context=so(o):(o=mi(e)?di:hi.current,i.context=gi(t,o)),null!==(o=t.updateQueue)&&(yo(t,o,n,i,r),i.state=t.memoizedState),"function"==typeof(o=e.getDerivedStateFromProps)&&(Eo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Co.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(yo(t,o,n,i,r),i.state=t.memoizedState)),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var Io=Array.isArray;function Po(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===wo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function No(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Mo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return(t=Ml(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Rl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Po(t,e,n),r.return=t,r):((r=Al(n.type,n.key,n.props,null,t.mode,r)).ref=Po(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Dl(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function p(t,e,n,r,o){return null===e||7!==e.tag?((e=Ll(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Rl(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case D:return(n=Al(e.type,e.key,e.props,null,t.mode,n)).ref=Po(t,null,e),n.return=t,n;case z:return(e=Dl(e,t.mode,n)).return=t,e}if(Io(e)||K(e))return(e=Ll(e,t.mode,n,null)).return=t,e;No(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case D:return n.key===i?n.type===F?p(t,e,n.props.children,r,i):u(t,e,n,r):null;case z:return n.key===i?c(t,e,n,r):null}if(Io(n)||K(n))return null!==i?null:p(t,e,n,r,null);No(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case D:return t=t.get(null===r.key?n:r.key)||null,r.type===F?p(e,t,r.props.children,i,r.key):u(e,t,r,i);case z:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Io(r)||K(r))return p(e,t=t.get(n)||null,r,i,null);No(e,r)}return null}function g(i,a,s,l){for(var u=null,c=null,p=a,g=a=0,m=null;null!==p&&g<s.length;g++){p.index>g?(m=p,p=null):m=p.sibling;var v=f(i,p,s[g],l);if(null===v){null===p&&(p=m);break}t&&p&&null===v.alternate&&e(i,p),a=o(v,a,g),null===c?u=v:c.sibling=v,c=v,p=m}if(g===s.length)return n(i,p),u;if(null===p){for(;g<s.length;g++)null!==(p=h(i,s[g],l))&&(a=o(p,a,g),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);g<s.length;g++)null!==(m=d(p,i,g,s[g],l))&&(t&&null!==m.alternate&&p.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return t&&p.forEach((function(t){return e(i,t)})),u}function m(i,s,l,u){var c=K(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var p=c=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var _=f(i,g,y.value,u);if(null===_){null===g&&(g=v);break}t&&g&&null===_.alternate&&e(i,g),s=o(_,s,m),null===p?c=_:p.sibling=_,p=_,g=v}if(y.done)return n(i,g),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,u))&&(s=o(y,s,m),null===p?c=y:p.sibling=y,p=y);return c}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=d(g,i,m,y.value,u))&&(t&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===p?c=y:p.sibling=y,p=y);return t&&g.forEach((function(t){return e(i,t)})),c}return function(t,r,o,l){var u="object"==typeof o&&null!==o&&o.type===F&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case D:t:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?o.type===F:u.elementType===o.type){n(t,u.sibling),(r=i(u,o.type===F?o.props.children:o.props)).ref=Po(t,u,o),r.return=t,t=r;break t}n(t,u);break}e(t,u),u=u.sibling}o.type===F?((r=Ll(o.props.children,t.mode,l,o.key)).return=t,t=r):((l=Al(o.type,o.key,o.props,null,t.mode,l)).ref=Po(t,r,o),l.return=t,t=l)}return s(t);case z:t:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Dl(o,t.mode,l)).return=t,t=r}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Rl(o,t.mode,l)).return=t,t=r),s(t);if(Io(o))return g(t,r,o,l);if(K(o))return m(t,r,o,l);if(c&&No(t,o),void 0===o&&!u)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var Ao=Mo(!0),Lo=Mo(!1),Ro={},Do={current:Ro},zo={current:Ro},Fo={current:Ro};function jo(t){if(t===Ro)throw Error(a(174));return t}function Bo(t,e){ci(Fo,e),ci(zo,t),ci(Do,Ro);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ut(null,"");break;default:e=Ut(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}ui(Do),ci(Do,e)}function Uo(t){ui(Do),ui(zo),ui(Fo)}function Vo(t){jo(Fo.current);var e=jo(Do.current),n=Ut(e,t.type);e!==n&&(ci(zo,t),ci(Do,n))}function qo(t){zo.current===t&&(ui(Do),ui(zo))}var Go={current:0};function Wo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ho(t,e){return{responder:t,props:e}}var Yo=A.ReactCurrentDispatcher,Xo=A.ReactCurrentBatchConfig,Zo=0,Ko=null,$o=null,Jo=null,Qo=null,ta=null,ea=null,na=0,ra=null,ia=0,oa=!1,aa=null,sa=0;function la(){throw Error(a(321))}function ua(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kr(t[n],e[n]))return!1;return!0}function ca(t,e,n,r,i,o){if(Zo=o,Ko=e,Jo=null!==t?t.memoizedState:null,Yo.current=null===Jo?Ia:Pa,e=n(r,i),oa){do{oa=!1,sa+=1,Jo=null!==t?t.memoizedState:null,ea=Qo,ra=ta=$o=null,Yo.current=Pa,e=n(r,i)}while(oa);aa=null,sa=0}if(Yo.current=Oa,(t=Ko).memoizedState=Qo,t.expirationTime=na,t.updateQueue=ra,t.effectTag|=ia,t=null!==$o&&null!==$o.next,Zo=0,ea=ta=Qo=Jo=$o=Ko=null,na=0,ra=null,ia=0,t)throw Error(a(300));return e}function pa(){Yo.current=Oa,Zo=0,ea=ta=Qo=Jo=$o=Ko=null,na=0,ra=null,ia=0,oa=!1,aa=null,sa=0}function ha(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ta?Qo=ta=t:ta=ta.next=t,ta}function fa(){if(null!==ea)ea=(ta=ea).next,Jo=null!==($o=Jo)?$o.next:null;else{if(null===Jo)throw Error(a(310));var t={memoizedState:($o=Jo).memoizedState,baseState:$o.baseState,queue:$o.queue,baseUpdate:$o.baseUpdate,next:null};ta=null===ta?Qo=t:ta.next=t,Jo=$o.next}return ta}function da(t,e){return"function"==typeof e?e(t):e}function ga(t){var e=fa(),n=e.queue;if(null===n)throw Error(a(311));if(n.lastRenderedReducer=t,0<sa){var r=n.dispatch;if(null!==aa){var i=aa.get(n);if(void 0!==i){aa.delete(n);var o=e.memoizedState;do{o=t(o,i.action),i=i.next}while(null!==i);return Kr(o,e.memoizedState)||(Ua=!0),e.memoizedState=o,e.baseUpdate===n.last&&(e.baseState=o),n.lastRenderedState=o,[o,r]}}return[e.memoizedState,r]}r=n.last;var s=e.baseUpdate;if(o=e.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var l=i=null,u=r,c=!1;do{var p=u.expirationTime;p<Zo?(c||(c=!0,l=s,i=o),p>na&&hl(na=p)):(pl(p,u.suspenseConfig),o=u.eagerReducer===t?u.eagerState:t(o,u.action)),s=u,u=u.next}while(null!==u&&u!==r);c||(l=s,i=o),Kr(o,e.memoizedState)||(Ua=!0),e.memoizedState=o,e.baseUpdate=l,e.baseState=i,n.lastRenderedState=o}return[e.memoizedState,n.dispatch]}function ma(t){var e=ha();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={last:null,dispatch:null,lastRenderedReducer:da,lastRenderedState:t}).dispatch=ka.bind(null,Ko,t),[e.memoizedState,t]}function va(t){return ga(da)}function ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===ra?(ra={lastEffect:null}).lastEffect=t.next=t:null===(e=ra.lastEffect)?ra.lastEffect=t.next=t:(n=e.next,e.next=t,t.next=n,ra.lastEffect=t),t}function _a(t,e,n,r){var i=ha();ia|=t,i.memoizedState=ya(e,n,void 0,void 0===r?null:r)}function ba(t,e,n,r){var i=fa();r=void 0===r?null:r;var o=void 0;if(null!==$o){var a=$o.memoizedState;if(o=a.destroy,null!==r&&ua(r,a.deps))return void ya(0,n,o,r)}ia|=t,i.memoizedState=ya(e,n,o,r)}function xa(t,e){return _a(516,192,t,e)}function wa(t,e){return ba(516,192,t,e)}function Ea(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ca(){}function Sa(t,e){return ha().memoizedState=[t,void 0===e?null:e],t}function Ta(t,e){var n=fa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ua(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ka(t,e,n){if(!(25>sa))throw Error(a(301));var r=t.alternate;if(t===Ko||null!==r&&r===Ko)if(oa=!0,t={expirationTime:Zo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===aa&&(aa=new Map),void 0===(n=aa.get(e)))aa.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}else{var i=Js(),o=xo.suspense;o={expirationTime:i=Qs(i,t,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=e.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(e.last=o,0===t.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=e.lastRenderedReducer))try{var u=e.lastRenderedState,c=r(u,n);if(o.eagerReducer=r,o.eagerState=c,Kr(c,u))return}catch(t){}tl(t,i)}}var Oa={readContext:so,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useResponder:la,useDeferredValue:la,useTransition:la},Ia={readContext:so,useCallback:Sa,useContext:so,useEffect:xa,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,_a(4,36,Ea.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _a(4,36,t,e)},useMemo:function(t,e){var n=ha();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ha();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={last:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=ka.bind(null,Ko,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},ha().memoizedState=t},useState:ma,useDebugValue:Ca,useResponder:Ho,useDeferredValue:function(t,e){var n=ma(t),r=n[0],i=n[1];return xa((function(){o.unstable_next((function(){var n=Xo.suspense;Xo.suspense=void 0===e?null:e;try{i(t)}finally{Xo.suspense=n}}))}),[t,e]),r},useTransition:function(t){var e=ma(!1),n=e[0],r=e[1];return[Sa((function(e){r(!0),o.unstable_next((function(){var n=Xo.suspense;Xo.suspense=void 0===t?null:t;try{r(!1),e()}finally{Xo.suspense=n}}))}),[t,n]),n]}},Pa={readContext:so,useCallback:Ta,useContext:so,useEffect:wa,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,ba(4,36,Ea.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ba(4,36,t,e)},useMemo:function(t,e){var n=fa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ua(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)},useReducer:ga,useRef:function(){return fa().memoizedState},useState:va,useDebugValue:Ca,useResponder:Ho,useDeferredValue:function(t,e){var n=va(),r=n[0],i=n[1];return wa((function(){o.unstable_next((function(){var n=Xo.suspense;Xo.suspense=void 0===e?null:e;try{i(t)}finally{Xo.suspense=n}}))}),[t,e]),r},useTransition:function(t){var e=va(),n=e[0],r=e[1];return[Ta((function(e){r(!0),o.unstable_next((function(){var n=Xo.suspense;Xo.suspense=void 0===t?null:t;try{r(!1),e()}finally{Xo.suspense=n}}))}),[t,n]),n]}},Na=null,Ma=null,Aa=!1;function La(t,e){var n=Pl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ra(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Da(t){if(Aa){var e=Ma;if(e){var n=e;if(!Ra(t,e)){if(!(e=nr(n.nextSibling))||!Ra(t,e))return t.effectTag=-1025&t.effectTag|2,Aa=!1,void(Na=t);La(Na,n)}Na=t,Ma=nr(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Aa=!1,Na=t}}function za(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Na=t}function Fa(t){if(t!==Na)return!1;if(!Aa)return za(t),Aa=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Qn(e,t.memoizedProps))for(e=Ma;e;)La(t,e),e=nr(e.nextSibling);if(za(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Ma=nr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Ma=null}}else Ma=Na?nr(t.stateNode.nextSibling):null;return!0}function ja(){Ma=Na=null,Aa=!1}var Ba=A.ReactCurrentOwner,Ua=!1;function Va(t,e,n,r){e.child=null===t?Lo(e,null,n,r):Ao(e,t.child,n,r)}function qa(t,e,n,r,i){n=n.render;var o=e.ref;return ao(e,i),r=ca(t,e,n,r,o,i),null===t||Ua?(e.effectTag|=1,Va(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),os(t,e,i))}function Ga(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Nl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Al(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Wa(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Jr)(i,r)&&t.ref===e.ref)?os(t,e,o):(e.effectTag|=1,(t=Ml(a,r)).ref=e.ref,t.return=e,e.child=t)}function Wa(t,e,n,r,i,o){return null!==t&&Jr(t.memoizedProps,r)&&t.ref===e.ref&&(Ua=!1,i<o)?os(t,e,o):Ya(t,e,n,r,o)}function Ha(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Ya(t,e,n,r,i){var o=mi(n)?di:hi.current;return o=gi(e,o),ao(e,i),n=ca(t,e,n,r,o,i),null===t||Ua?(e.effectTag|=1,Va(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),os(t,e,i))}function Xa(t,e,n,r,i){if(mi(n)){var o=!0;xi(e)}else o=!1;if(ao(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),To(e,n,r),Oo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=so(u):u=gi(e,u=mi(n)?di:hi.current);var c=n.getDerivedStateFromProps,p="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;p||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ko(e,a,r,u),lo=!1;var h=e.memoizedState;l=a.state=h;var f=e.updateQueue;null!==f&&(yo(e,f,r,a,i),l=e.memoizedState),s!==r||h!==l||fi.current||lo?("function"==typeof c&&(Eo(e,n,c,r),l=e.memoizedState),(s=lo||So(e,n,s,r,h,l,u))?(p||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=e.type===e.elementType?s:$i(e.type,s),l=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=so(u):u=gi(e,u=mi(n)?di:hi.current),(p="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ko(e,a,r,u),lo=!1,l=e.memoizedState,h=a.state=l,null!==(f=e.updateQueue)&&(yo(e,f,r,a,i),h=e.memoizedState),s!==r||l!==h||fi.current||lo?("function"==typeof c&&(Eo(e,n,c,r),h=e.memoizedState),(c=lo||So(e,n,s,r,l,h,u))?(p||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),r=!1);return Za(t,e,n,r,o,i)}function Za(t,e,n,r,i,o){Ha(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&wi(e,n,!1),os(t,e,o);r=e.stateNode,Ba.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Ao(e,t.child,null,o),e.child=Ao(e,null,s,o)):Va(t,e,s,o),e.memoizedState=r.state,i&&wi(e,n,!0),e.child}function Ka(t){var e=t.stateNode;e.pendingContext?_i(0,e.pendingContext,e.pendingContext!==e.context):e.context&&_i(0,e.context,!1),Bo(t,e.containerInfo)}var $a,Ja,Qa,ts={dehydrated:null,retryTime:0};function es(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Go.current,s=!1;if((r=0!=(64&e.effectTag))||(r=0!=(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Go,1&a),null===t){if(void 0!==o.fallback&&Da(e),s){if(s=o.fallback,(o=Ll(null,i,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Ll(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=ts,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Lo(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=Ml(t,t.pendingProps)).return=e,0==(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Ml(i,o,i.expirationTime)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=ts,e.child=n,i}return n=Ao(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=Ll(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Ll(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=ts,e.child=o,n}return e.memoizedState=null,e.child=Ao(e,t,o.children,n)}function ns(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),oo(t.return,e)}function rs(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function is(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Va(t,e,r.children,n),0!=(2&(r=Go.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ns(t,n);else if(19===t.tag)ns(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ci(Go,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Wo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rs(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Wo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rs(e,!0,n,null,o,e.lastEffect);break;case"together":rs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function os(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&hl(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Ml(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ml(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function as(t){t.effectTag|=4}function ss(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ls(t){switch(t.tag){case 1:mi(t.type)&&vi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Uo(),yi(),0!=(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return qo(t),null;case 13:return ui(Go),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return ui(Go),null;case 4:return Uo(),null;case 10:return io(t),null;default:return null}}function us(t,e){return{value:t,source:e,stack:J(e)}}$a=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ja=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s,l,u=e.stateNode;switch(jo(Do.current),t=null,n){case"input":a=Tt(u,a),r=Tt(u,r),t=[];break;case"option":a=Mt(u,a),r=Mt(u,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=Lt(u,a),r=Lt(u,r),t=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(u.onclick=Gn)}for(s in Un(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(f.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(t||(t=[]),t.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(s,""+c)):"children"===s?u===c||"string"!=typeof c&&"number"!=typeof c||(t=t||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(f.hasOwnProperty(s)?(null!=c&&qn(o,s),t||u===c||(t=[])):(t=t||[]).push(s,c))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&as(e)}},Qa=function(t,e,n,r){n!==r&&as(e)};var cs="function"==typeof WeakSet?WeakSet:Set;function ps(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=J(n)),null!==n&&$(n.type),e=e.value,null!==t&&1===t.tag&&$(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function hs(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Cl(t,e)}else e.current=null}function fs(t,e){switch(e.tag){case 0:case 11:case 15:ds(2,0,e);break;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:$i(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function ds(t,e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&t)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!=(r.tag&e)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function gs(t,e,n){switch("function"==typeof Ol&&Ol(e),e.tag){case 0:case 11:case 14:case 15:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Gi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(t){Cl(i,t)}}t=t.next}while(t!==r)}))}break;case 1:hs(e),"function"==typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Cl(t,e)}}(e,n);break;case 5:hs(e);break;case 4:_s(t,e,n)}}function ms(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,null!==e&&ms(e)}function vs(t){return 5===t.tag||3===t.tag||4===t.tag}function ys(t){t:{for(var e=t.return;null!==e;){if(vs(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Gt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var l=s;s=n,8===(o=e).nodeType?o.parentNode.insertBefore(l,s):o.insertBefore(l,s)}else e.insertBefore(s,n);else r?(8===(l=e).nodeType?(o=l.parentNode).insertBefore(s,l):(o=l).appendChild(s),null!=(l=l._reactRootContainer)||null!==o.onclick||(o.onclick=Gn)):e.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function _s(t,e,n){for(var r,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var l=t,u=o,c=n,p=u;;)if(gs(l,p,c),null!==p.child&&4!==p.tag)p.child.return=p,p=p.child;else{if(p===u)break;for(;null===p.sibling;){if(null===p.return||p.return===u)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}i?(l=r,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(gs(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function bs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:ds(4,8,e);break;case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[ar]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Ot(n,r),Vn(t,i),e=Vn(t,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?jn(n,l):"dangerouslySetInnerHTML"===s?qt(n,l):"children"===s?Gt(n,l):wt(n,s,l,e)}switch(t){case"input":It(n,r);break;case"textarea":Dt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?At(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?At(n,!!r.multiple,r.defaultValue,!0):At(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===e.stateNode)throw Error(a(162));e.stateNode.nodeValue=e.memoizedProps;break;case 3:(e=e.stateNode).hydrate&&(e.hydrate=!1,Te(e.containerInfo));break;case 12:break;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Bs=Ui()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=null!=(i=t.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=Fn("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break t;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}xs(e);break;case 19:xs(e);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function xs(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new cs),e.forEach((function(e){var r=Tl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var ws="function"==typeof WeakMap?WeakMap:Map;function Es(t,e,n){(n=po(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vs||(Vs=!0,qs=r),ps(t,e)},n}function Cs(t,e,n){(n=po(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return ps(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),ps(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var Ss,Ts=Math.ceil,ks=A.ReactCurrentDispatcher,Os=A.ReactCurrentOwner,Is=0,Ps=null,Ns=null,Ms=0,As=0,Ls=null,Rs=1073741823,Ds=1073741823,zs=null,Fs=0,js=!1,Bs=0,Us=null,Vs=!1,qs=null,Gs=null,Ws=!1,Hs=null,Ys=90,Xs=null,Zs=0,Ks=null,$s=0;function Js(){return 0!=(48&Is)?1073741821-(Ui()/10|0):0!==$s?$s:$s=1073741821-(Ui()/10|0)}function Qs(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var r=Vi();if(0==(4&e))return 99===r?1073741823:1073741822;if(0!=(16&Is))return Ms;if(null!==n)t=Ki(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Ki(t,150,100);break;case 97:case 96:t=Ki(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Ps&&t===Ms&&--t,t}function tl(t,e){if(50<Zs)throw Zs=0,Ks=null,Error(a(185));if(null!==(t=el(t,e))){var n=Vi();1073741823===e?0!=(8&Is)&&0==(48&Is)?ol(t):(rl(t),0===Is&&Yi()):rl(t),0==(4&Is)||98!==n&&99!==n||(null===Xs?Xs=new Map([[t,e]]):(void 0===(n=Xs.get(t))||n>e)&&Xs.set(t,e))}}function el(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ps===i&&(hl(e),4===As&&jl(i,Ms)),Bl(i,e)),i}function nl(t){var e=t.lastExpiredTime;return 0!==e?e:Fl(t,e=t.firstPendingTime)?(e=t.lastPingedTime)>(t=t.nextKnownPendingLevel)?e:t:e}function rl(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Hi(ol.bind(null,t));else{var e=nl(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Js();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Ri&&Si(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Hi(ol.bind(null,t)):Wi(r,il.bind(null,t),{timeout:10*(1073741821-e)-Ui()}),t.callbackNode=e}}}function il(t,e){if($s=0,e)return Ul(t,e=Js()),rl(t),null;var n=nl(t);if(0!==n){if(e=t.callbackNode,0!=(48&Is))throw Error(a(327));if(xl(),t===Ps&&n===Ms||ll(t,n),null!==Ns){var r=Is;Is|=16;for(var i=cl();;)try{dl();break}catch(e){ul(t,e)}if(no(),Is=r,ks.current=i,1===As)throw e=Ls,ll(t,n),jl(t,n),rl(t),e;if(null===Ns)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=As,Ps=null,r){case 0:case 1:throw Error(a(345));case 2:Ul(t,2<n?2:n);break;case 3:if(jl(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=vl(i)),1073741823===Rs&&10<(i=Bs+500-Ui())){if(js){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,ll(t,n);break}}if(0!==(o=nl(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=tr(yl.bind(null,t),i);break}yl(t);break;case 4:if(jl(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=vl(i)),js&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,ll(t,n);break}if(0!==(i=nl(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Ds?r=10*(1073741821-Ds)-Ui():1073741823===Rs?r=0:(r=10*(1073741821-Rs)-5e3,0>(r=(i=Ui())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ts(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=tr(yl.bind(null,t),r);break}yl(t);break;case 5:if(1073741823!==Rs&&null!==zs){o=Rs;var s=zs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Ui()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){jl(t,n),t.timeoutHandle=tr(yl.bind(null,t),r);break}}yl(t);break;default:throw Error(a(329))}if(rl(t),t.callbackNode===e)return il.bind(null,t)}}return null}function ol(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,t.finishedExpirationTime===e)yl(t);else{if(0!=(48&Is))throw Error(a(327));if(xl(),t===Ps&&e===Ms||ll(t,e),null!==Ns){var n=Is;Is|=16;for(var r=cl();;)try{fl();break}catch(e){ul(t,e)}if(no(),Is=n,ks.current=r,1===As)throw n=Ls,ll(t,e),jl(t,e),rl(t),n;if(null!==Ns)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Ps=null,yl(t),rl(t)}}return null}function al(t,e){var n=Is;Is|=1;try{return t(e)}finally{0===(Is=n)&&Yi()}}function sl(t,e){var n=Is;Is&=-2,Is|=8;try{return t(e)}finally{0===(Is=n)&&Yi()}}function ll(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,er(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!=i&&vi();break;case 3:Uo(),yi();break;case 5:qo(r);break;case 4:Uo();break;case 13:case 19:ui(Go);break;case 10:io(r)}n=n.return}Ps=t,Ns=Ml(t.current,null),Ms=e,As=0,Ls=null,Ds=Rs=1073741823,zs=null,Fs=0,js=!1}function ul(t,e){for(;;){try{if(no(),pa(),null===Ns||null===Ns.return)return As=1,Ls=e,null;t:{var n=t,r=Ns.return,i=Ns,o=e;if(e=Ms,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var a=o,s=0!=(1&Go.current),l=r;do{var u;if(u=13===l.tag){var c=l.memoizedState;if(null!==c)u=null!==c.dehydrated;else{var p=l.memoizedProps;u=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!s)}}if(u){var h=l.updateQueue;if(null===h){var f=new Set;f.add(a),l.updateQueue=f}else h.add(a);if(0==(2&l.mode)){if(l.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var d=po(1073741823,null);d.tag=2,fo(i,d)}i.expirationTime=1073741823;break t}o=void 0,i=e;var g=n.pingCache;if(null===g?(g=n.pingCache=new ws,o=new Set,g.set(a,o)):void 0===(o=g.get(a))&&(o=new Set,g.set(a,o)),!o.has(i)){o.add(i);var m=Sl.bind(null,n,a,i);a.then(m,m)}l.effectTag|=4096,l.expirationTime=e;break t}l=l.return}while(null!==l);o=Error(($(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+J(i))}5!==As&&(As=2),o=us(o,i),l=r;do{switch(l.tag){case 3:a=o,l.effectTag|=4096,l.expirationTime=e,go(l,Es(l,a,e));break t;case 1:a=o;var v=l.type,y=l.stateNode;if(0==(64&l.effectTag)&&("function"==typeof v.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===Gs||!Gs.has(y)))){l.effectTag|=4096,l.expirationTime=e,go(l,Cs(l,a,e));break t}}l=l.return}while(null!==l)}Ns=ml(Ns)}catch(t){e=t;continue}break}}function cl(){var t=ks.current;return ks.current=Oa,null===t?Oa:t}function pl(t,e){t<Rs&&2<t&&(Rs=t),null!==e&&t<Ds&&2<t&&(Ds=t,zs=e)}function hl(t){t>Fs&&(Fs=t)}function fl(){for(;null!==Ns;)Ns=gl(Ns)}function dl(){for(;null!==Ns&&!Ti();)Ns=gl(Ns)}function gl(t){var e=Ss(t.alternate,t,Ms);return t.memoizedProps=t.pendingProps,null===e&&(e=ml(t)),Os.current=null,e}function ml(t){Ns=t;do{var e=Ns.alternate;if(t=Ns.return,0==(2048&Ns.effectTag)){t:{var n=e,r=Ms,o=(e=Ns).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:mi(e.type)&&vi();break;case 3:Uo(),yi(),(o=e.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===n||null===n.child)&&Fa(e)&&as(e);break;case 5:qo(e),r=jo(Fo.current);var s=e.type;if(null!==n&&null!=e.stateNode)Ja(n,e,s,o,r),n.ref!==e.ref&&(e.effectTag|=128);else if(o){var l=jo(Do.current);if(Fa(e)){var u=(o=e).stateNode;n=o.type;var c=o.memoizedProps,p=r;switch(u[or]=o,u[ar]=c,s=void 0,r=u,n){case"iframe":case"object":case"embed":Sn("load",r);break;case"video":case"audio":for(u=0;u<te.length;u++)Sn(te[u],r);break;case"source":Sn("error",r);break;case"img":case"image":case"link":Sn("error",r),Sn("load",r);break;case"form":Sn("reset",r),Sn("submit",r);break;case"details":Sn("toggle",r);break;case"input":kt(r,c),Sn("invalid",r),qn(p,"onChange");break;case"select":r._wrapperState={wasMultiple:!!c.multiple},Sn("invalid",r),qn(p,"onChange");break;case"textarea":Rt(r,c),Sn("invalid",r),qn(p,"onChange")}for(s in Un(n,c),u=null,c)c.hasOwnProperty(s)&&(l=c[s],"children"===s?"string"==typeof l?r.textContent!==l&&(u=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(u=["children",""+l]):f.hasOwnProperty(s)&&null!=l&&qn(p,s));switch(n){case"input":Ct(r),Pt(r,c,!0);break;case"textarea":Ct(r),zt(r);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(r.onclick=Gn)}s=u,o.updateQueue=s,(o=null!==s)&&as(e)}else{n=e,p=s,c=o,u=9===r.nodeType?r:r.ownerDocument,l===Ft&&(l=Bt(p)),l===Ft?"script"===p?((c=u.createElement("div")).innerHTML="<script><\/script>",u=c.removeChild(c.firstChild)):"string"==typeof c.is?u=u.createElement(p,{is:c.is}):(u=u.createElement(p),"select"===p&&(p=u,c.multiple?p.multiple=!0:c.size&&(p.size=c.size))):u=u.createElementNS(l,p),(c=u)[or]=n,c[ar]=o,$a(c,e),e.stateNode=c;var h=r,d=Vn(p=s,n=o);switch(p){case"iframe":case"object":case"embed":Sn("load",c),r=n;break;case"video":case"audio":for(r=0;r<te.length;r++)Sn(te[r],c);r=n;break;case"source":Sn("error",c),r=n;break;case"img":case"image":case"link":Sn("error",c),Sn("load",c),r=n;break;case"form":Sn("reset",c),Sn("submit",c),r=n;break;case"details":Sn("toggle",c),r=n;break;case"input":kt(c,n),r=Tt(c,n),Sn("invalid",c),qn(h,"onChange");break;case"option":r=Mt(c,n);break;case"select":c._wrapperState={wasMultiple:!!n.multiple},r=i({},n,{value:void 0}),Sn("invalid",c),qn(h,"onChange");break;case"textarea":Rt(c,n),r=Lt(c,n),Sn("invalid",c),qn(h,"onChange");break;default:r=n}Un(p,r),u=void 0,l=p;var g=c,m=r;for(u in m)if(m.hasOwnProperty(u)){var v=m[u];"style"===u?jn(g,v):"dangerouslySetInnerHTML"===u?null!=(v=v?v.__html:void 0)&&qt(g,v):"children"===u?"string"==typeof v?("textarea"!==l||""!==v)&&Gt(g,v):"number"==typeof v&&Gt(g,""+v):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?null!=v&&qn(h,u):null!=v&&wt(g,u,v,d))}switch(p){case"input":Ct(c),Pt(c,n,!1);break;case"textarea":Ct(c),zt(c);break;case"option":null!=n.value&&c.setAttribute("value",""+xt(n.value));break;case"select":(r=c).multiple=!!n.multiple,null!=(c=n.value)?At(r,!!n.multiple,c,!1):null!=n.defaultValue&&At(r,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(c.onclick=Gn)}(o=Jn(s,o))&&as(e)}null!==e.ref&&(e.effectTag|=128)}else if(null===e.stateNode)throw Error(a(166));break;case 6:if(n&&null!=e.stateNode)Qa(0,e,n.memoizedProps,o);else{if("string"!=typeof o&&null===e.stateNode)throw Error(a(166));r=jo(Fo.current),jo(Do.current),Fa(e)?(s=(o=e).stateNode,r=o.memoizedProps,s[or]=o,(o=s.nodeValue!==r)&&as(e)):(s=e,(o=(9===r.nodeType?r:r.ownerDocument).createTextNode(o))[or]=s,e.stateNode=o)}break;case 11:break;case 13:if(ui(Go),o=e.memoizedState,0!=(64&e.effectTag)){e.expirationTime=r;break t}o=null!==o,s=!1,null===n?void 0!==e.memoizedProps.fallback&&Fa(e):(s=null!==(r=n.memoizedState),o||null===r||null!==(r=n.child.sibling)&&(null!==(c=e.firstEffect)?(e.firstEffect=r,r.nextEffect=c):(e.firstEffect=e.lastEffect=r,r.nextEffect=null),r.effectTag=8)),o&&!s&&0!=(2&e.mode)&&(null===n&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Go.current)?0===As&&(As=3):(0!==As&&3!==As||(As=4),0!==Fs&&null!==Ps&&(jl(Ps,Ms),Bl(Ps,Fs)))),(o||s)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Uo();break;case 10:io(e);break;case 9:case 14:break;case 17:mi(e.type)&&vi();break;case 19:if(ui(Go),null===(o=e.memoizedState))break;if(s=0!=(64&e.effectTag),null===(c=o.rendering)){if(s)ss(o,!1);else if(0!==As||null!==n&&0!=(64&n.effectTag))for(n=e.child;null!==n;){if(null!==(c=Wo(n))){for(e.effectTag|=64,ss(o,!1),null!==(s=c.updateQueue)&&(e.updateQueue=s,e.effectTag|=4),null===o.lastEffect&&(e.firstEffect=null),e.lastEffect=o.lastEffect,o=r,s=e.child;null!==s;)n=o,(r=s).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(c=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=c.childExpirationTime,r.expirationTime=c.expirationTime,r.child=c.child,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,n=c.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),s=s.sibling;ci(Go,1&Go.current|2),e=e.child;break t}n=n.sibling}}else{if(!s)if(null!==(n=Wo(c))){if(e.effectTag|=64,s=!0,null!==(r=n.updateQueue)&&(e.updateQueue=r,e.effectTag|=4),ss(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate){null!==(e=e.lastEffect=o.lastEffect)&&(e.nextEffect=null);break}}else Ui()>o.tailExpiration&&1<r&&(e.effectTag|=64,s=!0,ss(o,!1),e.expirationTime=e.childExpirationTime=r-1);o.isBackwards?(c.sibling=e.child,e.child=c):(null!==(r=o.last)?r.sibling=c:e.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=Ui()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=e.lastEffect,r.sibling=null,o=Go.current,ci(Go,o=s?1&o|2:1&o),e=r;break t}break;case 20:case 21:break;default:throw Error(a(156,e.tag))}e=null}if(o=Ns,1===Ms||1!==o.childExpirationTime){for(s=0,r=o.child;null!==r;)(n=r.expirationTime)>s&&(s=n),(c=r.childExpirationTime)>s&&(s=c),r=r.sibling;o.childExpirationTime=s}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Ns.firstEffect),null!==Ns.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Ns.firstEffect),t.lastEffect=Ns.lastEffect),1<Ns.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Ns:t.firstEffect=Ns,t.lastEffect=Ns))}else{if(null!==(e=ls(Ns)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Ns.sibling))return e;Ns=t}while(null!==Ns);return 0===As&&(As=5),null}function vl(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function yl(t){var e=Vi();return Gi(99,_l.bind(null,t,e)),null}function _l(t,e){do{xl()}while(null!==Hs);if(0!=(48&Is))throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=vl(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Ps&&(Ns=Ps=null,Ms=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Is;Is|=32,Os.current=null,Kn=Cn;var s=Xn();if(Zn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch(t){l=null;break t}var h=0,f=-1,d=-1,g=0,m=0,v=s,y=null;e:for(;;){for(var _;v!==l||0!==c&&3!==v.nodeType||(f=h+c),v!==p||0!==u&&3!==v.nodeType||(d=h+u),3===v.nodeType&&(h+=v.nodeValue.length),null!==(_=v.firstChild);)y=v,v=_;for(;;){if(v===s)break e;if(y===l&&++g===c&&(f=h),y===p&&++m===u&&(d=h),null!==(_=v.nextSibling))break;y=(v=y).parentNode}v=_}l=-1===f||-1===d?null:{start:f,end:d}}else l=null}l=l||{start:0,end:0}}else l=null;$n={focusedElem:s,selectionRange:l},Cn=!1,Us=i;do{try{bl()}catch(t){if(null===Us)throw Error(a(330));Cl(Us,t),Us=Us.nextEffect}}while(null!==Us);Us=i;do{try{for(s=t,l=e;null!==Us;){var b=Us.effectTag;if(16&b&&Gt(Us.stateNode,""),128&b){var x=Us.alternate;if(null!==x){var w=x.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&b){case 2:ys(Us),Us.effectTag&=-3;break;case 6:ys(Us),Us.effectTag&=-3,bs(Us.alternate,Us);break;case 1024:Us.effectTag&=-1025;break;case 1028:Us.effectTag&=-1025,bs(Us.alternate,Us);break;case 4:bs(Us.alternate,Us);break;case 8:_s(s,c=Us,l),ms(c)}Us=Us.nextEffect}}catch(t){if(null===Us)throw Error(a(330));Cl(Us,t),Us=Us.nextEffect}}while(null!==Us);if(w=$n,x=Xn(),b=w.focusedElem,l=w.selectionRange,x!==b&&b&&b.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==l&&Zn(b)&&(x=l.start,void 0===(w=l.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),c=b.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!w.extend&&s>l&&(c=l,l=s,s=c),c=Yn(b,s),p=Yn(b,l),c&&p&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==p.node||w.focusOffset!==p.offset)&&((x=x.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),s>l?(w.addRange(x),w.extend(p.node,p.offset)):(x.setEnd(p.node,p.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$n=null,Cn=!!Kn,Kn=null,t.current=n,Us=i;do{try{for(b=r;null!==Us;){var E=Us.effectTag;if(36&E){var C=Us.alternate;switch(w=b,(x=Us).tag){case 0:case 11:case 15:ds(16,32,x);break;case 1:var S=x.stateNode;if(4&x.effectTag)if(null===C)S.componentDidMount();else{var T=x.elementType===x.type?C.memoizedProps:$i(x.type,C.memoizedProps);S.componentDidUpdate(T,C.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var k=x.updateQueue;null!==k&&_o(0,k,S);break;case 3:var O=x.updateQueue;if(null!==O){if(s=null,null!==x.child)switch(x.child.tag){case 5:s=x.child.stateNode;break;case 1:s=x.child.stateNode}_o(0,O,s)}break;case 5:var I=x.stateNode;null===C&&4&x.effectTag&&Jn(x.type,x.memoizedProps)&&I.focus();break;case 6:case 4:case 12:break;case 13:if(null===x.memoizedState){var P=x.alternate;if(null!==P){var N=P.memoizedState;if(null!==N){var M=N.dehydrated;null!==M&&Te(M)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&E){x=void 0;var A=Us.ref;if(null!==A){var L=Us.stateNode;switch(Us.tag){case 5:x=L;break;default:x=L}"function"==typeof A?A(x):A.current=x}}Us=Us.nextEffect}}catch(t){if(null===Us)throw Error(a(330));Cl(Us,t),Us=Us.nextEffect}}while(null!==Us);Us=null,Di(),Is=o}else t.current=n;if(Ws)Ws=!1,Hs=t,Ys=e;else for(Us=i;null!==Us;)e=Us.nextEffect,Us.nextEffect=null,Us=e;if(0===(e=t.firstPendingTime)&&(Gs=null),1073741823===e?t===Ks?Zs++:(Zs=0,Ks=t):Zs=0,"function"==typeof kl&&kl(n.stateNode,r),rl(t),Vs)throw Vs=!1,t=qs,qs=null,t;return 0!=(8&Is)?null:(Yi(),null)}function bl(){for(;null!==Us;){var t=Us.effectTag;0!=(256&t)&&fs(Us.alternate,Us),0==(512&t)||Ws||(Ws=!0,Wi(97,(function(){return xl(),null}))),Us=Us.nextEffect}}function xl(){if(90!==Ys){var t=97<Ys?97:Ys;return Ys=90,Gi(t,wl)}}function wl(){if(null===Hs)return!1;var t=Hs;if(Hs=null,0!=(48&Is))throw Error(a(331));var e=Is;for(Is|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:ds(128,0,n),ds(0,64,n)}}catch(e){if(null===t)throw Error(a(330));Cl(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return Is=e,Yi(),!0}function El(t,e,n){fo(t,e=Es(t,e=us(n,e),1073741823)),null!==(t=el(t,1073741823))&&rl(t)}function Cl(t,e){if(3===t.tag)El(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){El(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){fo(n,t=Cs(n,t=us(e,t),1073741823)),null!==(n=el(n,1073741823))&&rl(n);break}}n=n.return}}function Sl(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Ps===t&&Ms===n?4===As||3===As&&1073741823===Rs&&Ui()-Bs<500?ll(t,Ms):js=!0:Fl(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,t.finishedExpirationTime===n&&(t.finishedExpirationTime=0,t.finishedWork=null),rl(t)))}function Tl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Qs(e=Js(),t,null)),null!==(t=el(t,e))&&rl(t)}Ss=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||fi.current)Ua=!0;else{if(r<n){switch(Ua=!1,e.tag){case 3:Ka(e),ja();break;case 5:if(Vo(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:mi(e.type)&&xi(e);break;case 4:Bo(e,e.stateNode.containerInfo);break;case 10:ro(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?es(t,e,n):(ci(Go,1&Go.current),null!==(e=os(t,e,n))?e.sibling:null);ci(Go,1&Go.current);break;case 19:if(r=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(r)return is(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),ci(Go,Go.current),!r)return null}return os(t,e,n)}Ua=!1}}else Ua=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=gi(e,hi.current),ao(e,n),i=ca(null,e,r,t,i,n),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,pa(),mi(r)){var o=!0;xi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Eo(e,r,s,t),i.updater=Co,e.stateNode=i,i._reactInternalFiber=e,Oo(e,r,t,n),e=Za(null,e,r,!0,o,n)}else e.tag=0,Va(null,e,i,n),e=e.child;return e;case 16:if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"==typeof t)return Nl(t)?1:0;if(null!=t){if((t=t.$$typeof)===G)return 11;if(t===Y)return 14}return 2}(i),t=$i(i,t),o){case 0:e=Ya(null,e,i,t,n);break;case 1:e=Xa(null,e,i,t,n);break;case 11:e=qa(null,e,i,t,n);break;case 14:e=Ga(null,e,i,$i(i.type,t),r,n);break;default:throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ya(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 1:return r=e.type,i=e.pendingProps,Xa(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 3:if(Ka(e),null===(r=e.updateQueue))throw Error(a(282));if(i=null!==(i=e.memoizedState)?i.element:null,yo(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===i)ja(),e=os(t,e,n);else{if((i=e.stateNode.hydrate)&&(Ma=nr(e.stateNode.containerInfo.firstChild),Na=e,i=Aa=!0),i)for(n=Lo(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Va(t,e,r,n),ja();e=e.child}return e;case 5:return Vo(e),null===t&&Da(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Qn(r,i)?s=null:null!==o&&Qn(r,o)&&(e.effectTag|=16),Ha(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Va(t,e,s,n),e=e.child),e;case 6:return null===t&&Da(e),null;case 13:return es(t,e,n);case 4:return Bo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Ao(e,null,r,n):Va(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,qa(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 7:return Va(t,e,e.pendingProps,n),e.child;case 8:case 12:return Va(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,ro(e,o=i.value),null!==s){var l=s.value;if(0===(o=Kr(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!fi.current){e=os(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=po(n,null)).tag=2,fo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),oo(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Va(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,ao(e,n),r=r(i=so(i,o.unstable_observedBits)),e.effectTag|=1,Va(t,e,r,n),e.child;case 14:return o=$i(i=e.type,e.pendingProps),Ga(t,e,i,o=$i(i.type,o),r,n);case 15:return Wa(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,mi(r)?(t=!0,xi(e)):t=!1,ao(e,n),To(e,r,i),Oo(e,r,i,n),Za(null,e,r,!0,t,n);case 19:return is(t,e,n)}throw Error(a(156,e.tag))};var kl=null,Ol=null;function Il(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Pl(t,e,n,r){return new Il(t,e,n,r)}function Nl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ml(t,e){var n=t.alternate;return null===n?((n=Pl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Al(t,e,n,r,i,o){var s=2;if(r=t,"function"==typeof t)Nl(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case F:return Ll(n.children,i,o,e);case q:s=8,i|=7;break;case j:s=8,i|=1;break;case B:return(t=Pl(12,n,e,8|i)).elementType=B,t.type=B,t.expirationTime=o,t;case W:return(t=Pl(13,n,e,i)).type=W,t.elementType=W,t.expirationTime=o,t;case H:return(t=Pl(19,n,e,i)).elementType=H,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case U:s=10;break t;case V:s=9;break t;case G:s=11;break t;case Y:s=14;break t;case X:s=16,r=null;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Pl(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Ll(t,e,n,r){return(t=Pl(7,t,r,e)).expirationTime=n,t}function Rl(t,e,n){return(t=Pl(6,t,null,e)).expirationTime=n,t}function Dl(t,e,n){return(e=Pl(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zl(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Fl(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function jl(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Bl(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Ul(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Vl(t,e,n,r){var i=e.current,o=Js(),s=xo.suspense;o=Qs(o,i,s);t:if(n){e:{if(ee(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(mi(u)){n=bi(n,u,l);break t}}n=l}else n=pi;return null===e.context?e.context=n:e.pendingContext=n,(e=po(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),fo(i,e),tl(i,o),o}function ql(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Gl(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Wl(t,e){Gl(t,e),(t=t.alternate)&&Gl(t,e)}function Hl(t,e,n){var r=new zl(t,e,n=null!=n&&!0===n.hydrate),i=Pl(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,t[sr]=r.current,n&&0!==e&&function(t){var e=Ln(t);me.forEach((function(n){Rn(n,t,e)})),ve.forEach((function(n){Rn(n,t,e)}))}(9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function Yl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Xl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=ql(a);s.call(t)}}Vl(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Hl(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var t=ql(a);l.call(t)}}sl((function(){Vl(e,a,t,i)}))}return ql(a)}function Zl(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:z,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Kl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(e))throw Error(a(200));return Zl(t,e,null,n)}Hl.prototype.render=function(t,e){Vl(t,this._internalRoot,null,void 0===e?null:e)},Hl.prototype.unmount=function(t){var e=this._internalRoot,n=void 0===t?null:t,r=e.containerInfo;Vl(null,e,null,(function(){r[sr]=null,null!==n&&n()}))},oe=function(t){if(13===t.tag){var e=Ki(Js(),150,100);tl(t,e),Wl(t,e)}},ae=function(t){if(13===t.tag){Js();var e=Zi++;tl(t,e),Wl(t,e)}},se=function(t){if(13===t.tag){var e=Js();tl(t,e=Qs(e,t,null)),Wl(t,e)}},tt=function(t,e,n){switch(e){case"input":if(It(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pr(r);if(!i)throw Error(a(90));St(r),It(r,i)}}}break;case"textarea":Dt(t,n);break;case"select":null!=(e=n.value)&&At(t,!!n.multiple,e,!1)}},at=al,st=function(t,e,n,r){var i=Is;Is|=4;try{return Gi(98,t.bind(null,e,n,r))}finally{0===(Is=i)&&Yi()}},lt=function(){0==(49&Is)&&(function(){if(null!==Xs){var t=Xs;Xs=null,t.forEach((function(t,e){Ul(e,t),rl(e)})),Yi()}}(),xl())},ut=function(t,e){var n=Is;Is|=2;try{return t(e)}finally{0===(Is=n)&&Yi()}};var $l,Jl,Ql={createPortal:Kl,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=ie(e))?null:t.stateNode},hydrate:function(t,e,n){if(!Yl(e))throw Error(a(200));return Xl(null,t,e,!0,n)},render:function(t,e,n){if(!Yl(e))throw Error(a(200));return Xl(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){if(!Yl(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return Xl(t,e,n,!1,r)},unmountComponentAtNode:function(t){if(!Yl(t))throw Error(a(40));return!!t._reactRootContainer&&(sl((function(){Xl(null,null,t,!1,(function(){t._reactRootContainer=null,t[sr]=null}))})),!0)},unstable_createPortal:function(){return Kl.apply(void 0,arguments)},unstable_batchedUpdates:al,flushSync:function(t,e){if(0!=(48&Is))throw Error(a(187));var n=Is;Is|=1;try{return Gi(99,t.bind(null,e))}finally{Is=n,Yi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[ur,cr,pr,N.injectEventPluginsByName,h,Ae,function(t){k(t,Me)},it,ot,Pn,P,xl,{current:!1}]}};Jl=($l={findFiberByHostInstance:lr,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);kl=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},Ol=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}}(i({},$l,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ie(t))?null:t.stateNode},findFiberByHostInstance:function(t){return Jl?Jl(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var tu={default:Ql},eu=tu&&Ql||tu;t.exports=eu.default||eu},function(t,e,n){"use strict";t.exports=n(365)},function(t,e,n){"use strict";
/** @license React v0.18.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s;if(Object.defineProperty(e,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(t){throw setTimeout(c,0),t}},p=Date.now();e.unstable_now=function(){return Date.now()-p},r=function(t){null!==l?setTimeout(r,0,t):(l=t,setTimeout(c,0))},i=function(t,e){u=setTimeout(t,e)},o=function(){clearTimeout(u)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,f=window.Date,d=window.setTimeout,g=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)e.unstable_now=function(){return h.now()};else{var v=f.now();e.unstable_now=function(){return f.now()-v}}var y=!1,_=null,b=-1,x=5,w=0;a=function(){return e.unstable_now()>=w},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<t?Math.floor(1e3/t):5};var E=new MessageChannel,C=E.port2;E.port1.onmessage=function(){if(null!==_){var t=e.unstable_now();w=t+x;try{_(!0,t)?C.postMessage(null):(y=!1,_=null)}catch(t){throw C.postMessage(null),t}}else y=!1},r=function(t){_=t,y||(y=!0,C.postMessage(null))},i=function(t,n){b=d((function(){t(e.unstable_now())}),n)},o=function(){g(b),b=-1}}function S(t,e){var n=t.length;t.push(e);t:for(;;){var r=Math.floor((n-1)/2),i=t[r];if(!(void 0!==i&&0<O(i,e)))break t;t[r]=e,t[n]=i,n=r}}function T(t){return void 0===(t=t[0])?null:t}function k(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>O(a,n))void 0!==l&&0>O(l,a)?(t[r]=l,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>O(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function O(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var I=[],P=[],N=1,M=null,A=3,L=!1,R=!1,D=!1;function z(t){for(var e=T(P);null!==e;){if(null===e.callback)k(P);else{if(!(e.startTime<=t))break;k(P),e.sortIndex=e.expirationTime,S(I,e)}e=T(P)}}function F(t){if(D=!1,z(t),!R)if(null!==T(I))R=!0,r(j);else{var e=T(P);null!==e&&i(F,e.startTime-t)}}function j(t,n){R=!1,D&&(D=!1,o()),L=!0;var r=A;try{for(z(n),M=T(I);null!==M&&(!(M.expirationTime>n)||t&&!a());){var s=M.callback;if(null!==s){M.callback=null,A=M.priorityLevel;var l=s(M.expirationTime<=n);n=e.unstable_now(),"function"==typeof l?M.callback=l:M===T(I)&&k(I),z(n)}else k(I);M=T(I)}if(null!==M)var u=!0;else{var c=T(P);null!==c&&i(F,c.startTime-n),u=!1}return u}finally{M=null,A=r,L=!1}}function B(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=A;A=t;try{return e()}finally{A=n}},e.unstable_next=function(t){switch(A){case 1:case 2:case 3:var e=3;break;default:e=A}var n=A;A=e;try{return t()}finally{A=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:B(t)}else a=B(t),l=s;return t={id:N++,callback:n,priorityLevel:t,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(t.sortIndex=l,S(P,t),null===T(I)&&t===T(P)&&(D?o():D=!0,i(F,l-s))):(t.sortIndex=a,S(I,t),R||L||(R=!0,r(j))),t},e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_wrapCallback=function(t){var e=A;return function(){var n=A;A=e;try{return t.apply(this,arguments)}finally{A=n}}},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_shouldYield=function(){var t=e.unstable_now();z(t);var n=T(I);return n!==M&&null!==M&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<M.expirationTime||a()},e.unstable_requestPaint=U,e.unstable_continueExecution=function(){R||L||(R=!0,r(j))},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return T(I)},e.unstable_Profiling=null},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(0)),i=(o(n(367)),o(n(577)));function o(t){return t&&t.__esModule?t:{default:t}}var a={minHeight:"100vh",minWidth:"100vw"};e.default=function(){return r.default.createElement("div",{className:"ui grid",style:a},r.default.createElement(i.default,null))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=(r=o)&&r.__esModule?r:{default:r},s=(n(704),n(161));function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"render",value:function(){return a.default.createElement("div",{className:"ui two wide column"},a.default.createElement("div",{className:"ui inverted vertical  menu",style:{height:"100%",width:"100%",position:"absolute"}},a.default.createElement("div",{className:"item"},a.default.createElement(s.Link,{to:"/point",className:"center aligned text",style:{color:"#f0f0f0",fontSize:"16px",cursor:"pointer"}},"点选 ",a.default.createElement("i",{className:"right floated hand pointer icon",style:{float:"right",marginRight:"1em"}})))))}}]),e}(o.Component);e.default=c},function(t,e,n){t.exports={default:n(369),__esModule:!0}},function(t,e,n){n(370),t.exports=n(30).Object.assign},function(t,e,n){var r=n(56);r(r.S+r.F,"Object",{assign:n(372)})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var r=n(59),i=n(114),o=n(182),a=n(117),s=n(95),l=n(240),u=Object.assign;t.exports=!u||n(83)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r}))?function(t,e){for(var n=s(t),u=arguments.length,c=1,p=o.f,h=a.f;u>c;)for(var f,d=l(arguments[c++]),g=p?i(d).concat(p(d)):i(d),m=g.length,v=0;m>v;)f=g[v++],r&&!h.call(d,f)||(n[f]=d[f]);return n}:u},function(t,e,n){var r=n(70),i=n(241),o=n(374);t.exports=function(t){return function(e,n,a){var s,l=r(e),u=i(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(178),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){n(376);var r=n(30).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(56);r(r.S+r.F*!n(59),"Object",{defineProperty:n(58).f})},function(t,e,n){t.exports={default:n(378),__esModule:!0}},function(t,e,n){n(118),n(185),t.exports=n(186).f("iterator")},function(t,e,n){var r=n(178),i=n(177);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(183),i=n(94),o=n(184),a={};n(81)(a,n(43)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(58),i=n(68),o=n(114);t.exports=n(59)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,l=0;s>l;)r.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var r=n(57).document;t.exports=r&&r.documentElement},function(t,e,n){"use strict";var r=n(384),i=n(385),o=n(84),a=n(70);t.exports=n(243)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports={default:n(387),__esModule:!0}},function(t,e,n){n(388),n(393),n(394),n(395),t.exports=n(30).Symbol},function(t,e,n){"use strict";var r=n(57),i=n(69),o=n(59),a=n(56),s=n(244),l=n(389).KEY,u=n(83),c=n(180),p=n(184),h=n(116),f=n(43),d=n(186),g=n(187),m=n(390),v=n(391),y=n(68),_=n(82),b=n(95),x=n(70),w=n(175),E=n(94),C=n(183),S=n(392),T=n(188),k=n(182),O=n(58),I=n(114),P=T.f,N=O.f,M=S.f,A=r.Symbol,L=r.JSON,R=L&&L.stringify,D=f("_hidden"),z=f("toPrimitive"),F={}.propertyIsEnumerable,j=c("symbol-registry"),B=c("symbols"),U=c("op-symbols"),V=Object.prototype,q="function"==typeof A&&!!k.f,G=r.QObject,W=!G||!G.prototype||!G.prototype.findChild,H=o&&u((function(){return 7!=C(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=P(V,e);r&&delete V[e],N(t,e,n),r&&t!==V&&N(V,e,r)}:N,Y=function(t){var e=B[t]=C(A.prototype);return e._k=t,e},X=q&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},Z=function(t,e,n){return t===V&&Z(U,e,n),y(t),e=w(e,!0),y(n),i(B,e)?(n.enumerable?(i(t,D)&&t[D][e]&&(t[D][e]=!1),n=C(n,{enumerable:E(0,!1)})):(i(t,D)||N(t,D,E(1,{})),t[D][e]=!0),H(t,e,n)):N(t,e,n)},K=function(t,e){y(t);for(var n,r=m(e=x(e)),i=0,o=r.length;o>i;)Z(t,n=r[i++],e[n]);return t},$=function(t){var e=F.call(this,t=w(t,!0));return!(this===V&&i(B,t)&&!i(U,t))&&(!(e||!i(this,t)||!i(B,t)||i(this,D)&&this[D][t])||e)},J=function(t,e){if(t=x(t),e=w(e,!0),t!==V||!i(B,e)||i(U,e)){var n=P(t,e);return!n||!i(B,e)||i(t,D)&&t[D][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=M(x(t)),r=[],o=0;n.length>o;)i(B,e=n[o++])||e==D||e==l||r.push(e);return r},tt=function(t){for(var e,n=t===V,r=M(n?U:x(t)),o=[],a=0;r.length>a;)!i(B,e=r[a++])||n&&!i(V,e)||o.push(B[e]);return o};q||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===V&&e.call(U,n),i(this,D)&&i(this[D],t)&&(this[D][t]=!1),H(this,t,E(1,n))};return o&&W&&H(V,t,{configurable:!0,set:e}),Y(t)}).prototype,"toString",(function(){return this._k})),T.f=J,O.f=Z,n(246).f=S.f=Q,n(117).f=$,k.f=tt,o&&!n(115)&&s(V,"propertyIsEnumerable",$,!0),d.f=function(t){return Y(f(t))}),a(a.G+a.W+a.F*!q,{Symbol:A});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)f(et[nt++]);for(var rt=I(f.store),it=0;rt.length>it;)g(rt[it++]);a(a.S+a.F*!q,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=A(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!q,"Object",{create:function(t,e){return void 0===e?C(t):K(C(t),e)},defineProperty:Z,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var ot=u((function(){k.f(1)}));a(a.S+a.F*ot,"Object",{getOwnPropertySymbols:function(t){return k.f(b(t))}}),L&&a(a.S+a.F*(!q||u((function(){var t=A();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(_(e)||void 0!==t)&&!X(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!X(e))return e}),r[1]=e,R.apply(L,r)}}),A.prototype[z]||n(81)(A.prototype,z,A.prototype.valueOf),p(A,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},function(t,e,n){var r=n(116)("meta"),i=n(82),o=n(69),a=n(58).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(83)((function(){return l(Object.preventExtensions({}))})),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},p=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return u&&p.NEED&&l(t)&&!o(t,r)&&c(t),t}}},function(t,e,n){var r=n(114),i=n(182),o=n(117);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){var r=n(176);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(70),i=n(246).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e){},function(t,e,n){n(187)("asyncIterator")},function(t,e,n){n(187)("observable")},function(t,e,n){t.exports={default:n(397),__esModule:!0}},function(t,e,n){n(398),t.exports=n(30).Object.setPrototypeOf},function(t,e,n){var r=n(56);r(r.S,"Object",{setPrototypeOf:n(399).set})},function(t,e,n){var r=n(82),i=n(68),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(174)(Function.call,n(188).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){t.exports={default:n(401),__esModule:!0}},function(t,e,n){n(402);var r=n(30).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(56);r(r.S,"Object",{create:n(183)})},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var r=n(73),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(250);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(408),i=n(120),o=n(191);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(409),i=n(414),o=n(415),a=n(416),s=n(417);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,n){var r=n(119);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(54),i=n(411),o=n(28),a=n(251),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,p=u.hasOwnProperty,h=RegExp("^"+c.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?h:s).test(a(t))}},function(t,e,n){var r,i=n(412),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(31)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(119),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(119),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(119);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(121),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(121);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(121);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(121);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(122);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(122);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(122);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(122);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(44),i=n(27);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e,n){var r=n(125),i=n(71),o=n(163),a=n(252),s=n(61);t.exports=function(t,e,n){e=i(e,t);var l=null==(t=a(t,e))?t:t[s(o(e))];return null==l?void 0:r(l,t,n)}},function(t,e,n){var r=n(431),i=n(254),o=n(51),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(433);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(73),i=n(124),o=n(18),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},function(t,e,n){var r=n(76);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},function(t,e,n){var r=n(441)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(44),i=n(192),o=n(27),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(263)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(39);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e,n){var r=n(447),i=n(458),o=n(274);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(198),i=n(199);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var u=n[a];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<s;){var c=(u=n[a])[0],p=t[c],h=u[1];if(l&&u[2]){if(void 0===p&&!(c in t))return!1}else{var f=new r;if(o)var d=o(p,h,c,t,e,f);if(!(void 0===d?i(h,p,3,o,f):d))return!1}}return!0}},function(t,e,n){var r=n(120);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(120),i=n(191),o=n(190);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(198),i=n(264),o=n(454),a=n(455),s=n(63),l=n(18),u=n(99),c=n(135),p="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,f,d,g){var m=l(t),v=l(e),y=m?"[object Array]":s(t),_=v?"[object Array]":s(e),b=(y="[object Arguments]"==y?p:y)==p,x=(_="[object Arguments]"==_?p:_)==p,w=y==_;if(w&&u(t)){if(!u(e))return!1;m=!0,b=!1}if(w&&!b)return g||(g=new r),m||c(t)?i(t,e,n,f,d,g):o(t,e,y,n,f,d,g);if(!(1&n)){var E=b&&h.call(t,"__wrapped__"),C=x&&h.call(e,"__wrapped__");if(E||C){var S=E?t.value():t,T=C?e.value():e;return g||(g=new r),d(S,T,n,f,g)}}return!!w&&(g||(g=new r),a(t,e,n,f,d,g))}},function(t,e,n){var r=n(73),i=n(266),o=n(96),a=n(264),s=n(267),l=n(138),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;t.exports=function(t,e,n,r,u,p,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!p(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var d=1&r;if(f||(f=l),t.size!=e.size&&!d)return!1;var g=h.get(t);if(g)return g==e;r|=2,h.set(t,e);var m=a(f(t),f(e),r,u,p,h);return h.delete(t),m;case"[object Symbol]":if(c)return c.call(t)==c.call(e)}return!1}},function(t,e,n){var r=n(268),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,u=r(t),c=u.length;if(c!=r(e).length&&!l)return!1;for(var p=c;p--;){var h=u[p];if(!(l?h in e:i.call(e,h)))return!1}var f=s.get(t);if(f&&s.get(e))return f==e;var d=!0;s.set(t,e),s.set(e,t);for(var g=l;++p<c;){var m=t[h=u[p]],v=e[h];if(o)var y=l?o(v,m,h,e,t,s):o(m,v,h,t,e,s);if(!(void 0===y?m===v||a(m,v,n,o,s):y)){d=!1;break}g||(g="constructor"==h)}if(d&&!g){var _=t.constructor,b=e.constructor;_!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(d=!1)}return s.delete(t),s.delete(e),d}},function(t,e,n){var r=n(74)(n(31),"DataView");t.exports=r},function(t,e,n){var r=n(74)(n(31),"Promise");t.exports=r},function(t,e,n){var r=n(273),i=n(25);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(199),i=n(20),o=n(275),a=n(189),s=n(273),l=n(274),u=n(61);t.exports=function(t,e){return a(t)&&s(e)?l(u(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(276),i=n(462),o=n(189),a=n(61);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e,n){var r=n(126);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(47),i=n(464),o=n(62),a=n(465),s=o((function(t){var e=r(t,a);return e.length&&e[0]===t[0]?i(e):[]}));t.exports=s},function(t,e,n){var r=n(128),i=n(129),o=n(194),a=n(47),s=n(75),l=n(131),u=Math.min;t.exports=function(t,e,n){for(var c=n?o:i,p=t[0].length,h=t.length,f=h,d=Array(h),g=1/0,m=[];f--;){var v=t[f];f&&e&&(v=a(v,s(e))),g=u(v.length,g),d[f]=!n&&(e||p>=120&&v.length>=120)?new r(f&&v):void 0}v=t[0];var y=-1,_=d[0];t:for(;++y<p&&m.length<g;){var b=v[y],x=e?e(b):b;if(b=n||0!==b?b:0,!(_?l(_,x):c(m,x,n))){for(f=h;--f;){var w=d[f];if(!(w?l(w,x):c(t[f],x,n)))continue t}_&&_.push(x),m.push(b)}}return m}},function(t,e,n){var r=n(132);t.exports=function(t){return r(t)?t:[]}},function(t,e,n){t.exports={default:n(467),__esModule:!0}},function(t,e,n){n(185),n(118),t.exports=n(468)},function(t,e,n){var r=n(278),i=n(43)("iterator"),o=n(84);t.exports=n(30).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){t.exports={default:n(470),__esModule:!0}},function(t,e,n){n(185),n(118),t.exports=n(471)},function(t,e,n){var r=n(68),i=n(279);t.exports=n(30).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){var r=n(473),i=n(474),o=n(35),a=n(18);t.exports=function(t,e){return function(n,s){var l=a(n)?r:i,u=e?e():{};return l(n,t,o(s,2),u)}}},function(t,e){t.exports=function(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}},function(t,e,n){var r=n(76);t.exports=function(t,e,n,i){return r(t,(function(t,r,o){e(i,t,n(t),o)})),i}},function(t,e,n){var r=n(35),i=n(39),o=n(25);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var u=t(e,n,a);return u>-1?s[l?e[u]:u]:void 0}}},function(t,e,n){var r=n(76);t.exports=function(t,e){var n;return r(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}},function(t,e,n){t.exports={default:n(478),__esModule:!0}},function(t,e,n){n(118),n(479),t.exports=n(30).Array.from},function(t,e,n){"use strict";var r=n(174),i=n(56),o=n(95),a=n(480),s=n(481),l=n(241),u=n(482),c=n(279);i(i.S+i.F*!n(483)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,p,h=o(t),f="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,m=void 0!==g,v=0,y=c(h);if(m&&(g=r(g,d>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(n=new f(e=l(h.length));e>v;v++)u(n,v,m?g(h[v],v):h[v]);else for(p=y.call(h),n=new f;!(i=p.next()).done;v++)u(n,v,m?a(p,g,[i.value,v],!0):i.value);return n.length=v,n}})},function(t,e,n){var r=n(68);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(84),i=n(43)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(58),i=n(94);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(43)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var r=n(485),i=n(17),o=Array.prototype.push;function a(t,e){return 2==e?function(e,n){return t(e,n)}:function(e){return t(e)}}function s(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function l(t,e){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=e.apply(void 0,r);return t.apply(void 0,r),i}}}t.exports=function t(e,n,u,c){var p="function"==typeof n,h=n===Object(n);if(h&&(c=u,u=n,n=void 0),null==u)throw new TypeError;c||(c={});var f=!("cap"in c)||c.cap,d=!("curry"in c)||c.curry,g=!("fixed"in c)||c.fixed,m=!("immutable"in c)||c.immutable,v=!("rearg"in c)||c.rearg,y=p?u:i,_="curry"in c&&c.curry,b="fixed"in c&&c.fixed,x="rearg"in c&&c.rearg,w=p?u.runInContext():void 0,E=p?u:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},C=E.ary,S=E.assign,T=E.clone,k=E.curry,O=E.forEach,I=E.isArray,P=E.isError,N=E.isFunction,M=E.isWeakMap,A=E.keys,L=E.rearg,R=E.toInteger,D=E.toPath,z=A(r.aryMethod),F={castArray:function(t){return function(){var e=arguments[0];return I(e)?t(s(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[0],n=arguments[1],r=t(e,n),i=r.length;return f&&"number"==typeof n?(n=n>2?n-2:1,i&&i<=n?r:a(r,n)):r}},mixin:function(t){return function(e){var n=this;if(!N(n))return t(n,Object(e));var r=[];return O(A(e),(function(t){N(e[t])&&r.push([t,n.prototype[t]])})),t(n,Object(e)),O(r,(function(t){var e=t[1];N(e)?n.prototype[t[0]]=e:delete n.prototype[t[0]]})),n}},nthArg:function(t){return function(e){var n=e<0?1:R(e)+1;return k(t(e),n)}},rearg:function(t){return function(e,n){var r=n?n.length:0;return k(t(e,n),r)}},runInContext:function(n){return function(r){return t(e,n(r),c)}}};function j(t,e){if(f){var n=r.iterateeRearg[t];if(n)return function(t,e){return G(t,(function(t){var n=e.length;return function(t,e){return 2==e?function(e,n){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}(L(a(t,n),e),n)}))}(e,n);var i=!p&&r.iterateeAry[t];if(i)return function(t,e){return G(t,(function(t){return"function"==typeof t?a(t,e):t}))}(e,i)}return e}function B(t,e,n){if(g&&(b||!r.skipFixed[t])){var i=r.methodSpread[t],a=i&&i.start;return void 0===a?C(e,n):function(t,e){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var a=i[e],s=i.slice(0,e);return a&&o.apply(s,a),e!=r&&o.apply(s,i.slice(e+1)),t.apply(this,s)}}(e,a)}return e}function U(t,e,n){return v&&n>1&&(x||!r.skipRearg[t])?L(e,r.methodRearg[t]||r.aryRearg[n]):e}function V(t,e){for(var n=-1,r=(e=D(e)).length,i=r-1,o=T(Object(t)),a=o;null!=a&&++n<r;){var s=e[n],l=a[s];null==l||N(l)||P(l)||M(l)||(a[s]=T(n==i?l:Object(l))),a=a[s]}return o}function q(e,n){var i=r.aliasToReal[e]||e,o=r.remap[i]||i,a=c;return function(e){var r=p?w:E,s=p?w[o]:n,l=S(S({},a),e);return t(r,i,s,l)}}function G(t,e){return function(){var n=arguments.length;if(!n)return t();for(var r=Array(n);n--;)r[n]=arguments[n];var i=v?0:n-1;return r[i]=e(r[i]),t.apply(void 0,r)}}function W(t,e,n){var i,o=r.aliasToReal[t]||t,a=e,u=F[o];return u?a=u(e):m&&(r.mutate.array[o]?a=l(e,s):r.mutate.object[o]?a=l(e,function(t){return function(e){return t({},e)}}(e)):r.mutate.set[o]&&(a=l(e,V))),O(z,(function(t){return O(r.aryMethod[t],(function(e){if(o==e){var n=r.methodSpread[o],s=n&&n.afterRearg;return i=s?B(o,U(o,a,t),t):U(o,B(o,a,t),t),i=function(t,e,n){return _||d&&n>1?k(e,n):e}(0,i=j(o,i),t),!1}})),!i})),i||(i=a),i==e&&(i=_?k(i,1):function(){return e.apply(this,arguments)}),i.convert=q(o,e),i.placeholder=e.placeholder=n,i}if(!h)return W(n,u,y);var H=u,Y=[];return O(z,(function(t){O(r.aryMethod[t],(function(t){var e=H[r.remap[t]||t];e&&Y.push([t,W(t,e,H)])}))})),O(A(H),(function(t){var e=H[t];if("function"==typeof e){for(var n=Y.length;n--;)if(Y[n][0]==t)return;e.convert=q(t,e),Y.push([t,e])}})),O(Y,(function(t){H[t[0]]=t[1]})),H.convert=function(t){return H.runInContext.convert(t)(void 0)},H.placeholder=H,O(A(H),(function(t){O(r.realToAlias[t]||[],(function(e){H[e]=H[t]}))})),H}},function(t,e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,n=e.aliasToReal,r={};for(var i in n){var o=n[i];t.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(t,e,n){t.exports={ary:n(487),assign:n(291),clone:n(500),curry:n(293),forEach:n(101),isArray:n(18),isError:n(518),isFunction:n(54),isWeakMap:n(519),iteratee:n(520),keys:n(137),rearg:n(521),toInteger:n(52),toPath:n(523)}},function(t,e,n){var r=n(140);t.exports=function(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,r(t,128,void 0,void 0,void 0,void 0,e)}},function(t,e,n){var r=n(141),i=n(31);t.exports=function(t,e,n){var o=1&e,a=r(t);return function e(){var r=this&&this!==i&&this instanceof e?a:t;return r.apply(o?n:this,arguments)}}},function(t,e,n){var r=n(125),i=n(141),o=n(282),a=n(285),s=n(205),l=n(142),u=n(31);t.exports=function(t,e,n){var c=i(t);return function i(){for(var p=arguments.length,h=Array(p),f=p,d=s(i);f--;)h[f]=arguments[f];var g=p<3&&h[0]!==d&&h[p-1]!==d?[]:l(h,d);if((p-=g.length)<n)return a(t,e,o,i.placeholder,void 0,h,g,void 0,void 0,n-p);var m=this&&this!==u&&this instanceof i?c:t;return r(m,this,h)}}},function(t,e){t.exports=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}},function(t,e){t.exports={}},function(t,e,n){var r=n(201),i=n(204),o=n(202),a=n(18),s=n(27),l=n(493),u=Object.prototype.hasOwnProperty;function c(t){if(s(t)&&!a(t)&&!(t instanceof r)){if(t instanceof i)return t;if(u.call(t,"__wrapped__"))return l(t)}return new i(t)}c.prototype=o.prototype,c.prototype.constructor=c,t.exports=c},function(t,e,n){var r=n(201),i=n(204),o=n(103);t.exports=function(t){if(t instanceof r)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=o(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},function(t,e){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=function(t){var e=t.match(n);return e?e[1].split(r):[]}},function(t,e){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,e){var r=e.length;if(!r)return t;var i=r-1;return e[i]=(r>1?"& ":"")+e[i],e=e.join(r>2?", ":" "),t.replace(n,"{\n/* [wrapped with "+e+"] */\n")}},function(t,e,n){var r=n(101),i=n(129),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return r(o,(function(n){var r="_."+n[0];e&n[1]&&!i(t,r)&&t.push(r)})),t.sort()}},function(t,e,n){var r=n(103),i=n(97),o=Math.min;t.exports=function(t,e){for(var n=t.length,a=o(e.length,n),s=r(t);a--;){var l=e[a];t[a]=i(l,n)?s[l]:void 0}return t}},function(t,e,n){var r=n(125),i=n(141),o=n(31);t.exports=function(t,e,n,a){var s=1&e,l=i(t);return function e(){for(var i=-1,u=arguments.length,c=-1,p=a.length,h=Array(p+u),f=this&&this!==o&&this instanceof e?l:t;++c<p;)h[c]=a[c];for(;u--;)h[c++]=arguments[++i];return r(f,s?n:this,h)}}},function(t,e,n){var r=n(283),i=n(284),o=n(142),a=Math.min;t.exports=function(t,e){var n=t[1],s=e[1],l=n|s,u=l<131,c=128==s&&8==n||128==s&&256==n&&t[7].length<=e[8]||384==s&&e[7].length<=e[8]&&8==n;if(!u&&!c)return t;1&s&&(t[2]=e[2],l|=1&n?0:4);var p=e[3];if(p){var h=t[3];t[3]=h?r(h,p,e[4]):p,t[4]=h?o(t[3],"__lodash_placeholder__"):e[4]}return(p=e[5])&&(h=t[5],t[5]=h?i(h,p,e[6]):p,t[6]=h?o(t[5],"__lodash_placeholder__"):e[6]),(p=e[7])&&(t[7]=p),128&s&&(t[8]=null==t[8]?e[8]:a(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=l,t}},function(t,e,n){var r=n(206);t.exports=function(t){return r(t,4)}},function(t,e,n){var r=n(77),i=n(207);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(28),i=n(100),o=n(503),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var r=n(31),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(134)(t))},function(t,e,n){var r=n(77),i=n(200);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(77),i=n(292);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(209),i=n(509),o=n(510),a=n(511),s=n(512);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return o(t);case"[object Set]":return new l;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(209);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(73),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(209);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(102),i=n(144),o=n(100);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(515),i=n(75),o=n(136),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(63),i=n(27);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(517),i=n(75),o=n(136),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(63),i=n(27);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},function(t,e,n){var r=n(44),i=n(27),o=n(78);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!o(t)}},function(t,e,n){var r=n(63),i=n(27);t.exports=function(t){return i(t)&&"[object WeakMap]"==r(t)}},function(t,e,n){var r=n(206),i=n(35);t.exports=function(t){return i("function"==typeof t?t:r(t,1))}},function(t,e,n){var r=n(140),i=n(145),o=i((function(t,e){return r(t,256,void 0,void 0,void 0,e)}));t.exports=o},function(t,e,n){var r=n(98);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(47),i=n(103),o=n(18),a=n(72),s=n(249),l=n(61),u=n(46);t.exports=function(t){return o(t)?r(t,l):a(t)?[t]:i(s(u(t)))}},function(t,e,n){var r=n(123),i=n(210),o=n(525),a=n(526),s=n(146),l=n(46),u=/^\s+|\s+$/g;t.exports=function(t,e,n){if((t=l(t))&&(n||void 0===e))return t.replace(u,"");if(!t||!(e=r(e)))return t;var c=s(t),p=s(e),h=a(c,p),f=o(c,p)+1;return i(c,h,f).join("")}},function(t,e,n){var r=n(130);t.exports=function(t,e){for(var n=t.length;n--&&r(e,t[n],0)>-1;);return n}},function(t,e,n){var r=n(130);t.exports=function(t,e){for(var n=-1,i=t.length;++n<i&&r(e,t[n],0)>-1;);return n}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[o+r+"?",r,a,s,n].join("|")+")",p=RegExp(i+"(?="+i+")|"+c+u,"g");t.exports=function(t){return t.match(p)||[]}},function(t,e,n){var r=n(294),i=n(275);t.exports=function(t,e){return r(t,e,(function(e,n){return i(t,n)}))}},function(t,e,n){var r=n(127),i=n(52);t.exports=function(t,e,n){return t&&t.length?(e=n||void 0===e?1:i(e),r(t,0,e<0?0:e)):[]}},function(t,e,n){var r=n(98),i=n(532),o=n(62),a=n(85),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=s},function(t,e,n){var r=n(47),i=n(35),o=n(296),a=n(533),s=n(75),l=n(534),u=n(51);t.exports=function(t,e,n){var c=-1;e=r(e.length?e:[u],s(i));var p=o(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++c,value:t}}));return a(p,(function(t,e){return l(t,e,n)}))}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(535);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(72);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,a=r(t),s=void 0!==e,l=null===e,u=e==e,c=r(e);if(!l&&!c&&!a&&t>e||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&t<e||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}},function(t,e){t.exports=function(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},function(t,e,n){var r=n(538),i=n(539),o=n(51);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},function(t,e,n){var r=n(72);t.exports=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===l?s==s&&!r(s):n(s,l)))var l=s,u=a}return u}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){var r=n(541)();t.exports=r},function(t,e,n){var r=n(204),i=n(145),o=n(203),a=n(288),s=n(18),l=n(286);t.exports=function(t){return i((function(e){var n=e.length,i=n,u=r.prototype.thru;for(t&&e.reverse();i--;){var c=e[i];if("function"!=typeof c)throw new TypeError("Expected a function");if(u&&!p&&"wrapper"==a(c))var p=new r([],!0)}for(i=p?i:n;++i<n;){c=e[i];var h=a(c),f="wrapper"==h?o(c):void 0;p=f&&l(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?p[a(f[0])].apply(p,f[3]):1==c.length&&l(c)?p[h]():p.thru(c)}return function(){var t=arguments,r=t[0];if(p&&1==t.length&&s(r))return p.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}},function(t,e,n){var r=n(271),i=n(287),o=n(138),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},function(t,e,n){var r=n(47);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e){var n=Math.max,r=Math.min;t.exports=function(t,e,i){return t>=r(e,i)&&t<n(e,i)}},function(t,e){t.exports=function(t){return t&&t.length?t[0]:void 0}},function(t,e,n){var r=n(547),i=n(85),o=n(196);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&i(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),r(e,n,a,t)}}},function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,i,o){for(var a=-1,s=r(n((e-t)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=t,t+=i;return l}},function(t,e){t.exports=function(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}},function(t,e,n){var r=n(123),i=n(210),o=n(147),a=n(85),s=n(550),l=n(146),u=n(46);t.exports=function(t,e,n){return n&&"number"!=typeof n&&a(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=u(t))&&("string"==typeof e||null!=e&&!s(e))&&!(e=r(e))&&o(t)?i(l(t),0,n):t.split(e,n):[]}},function(t,e,n){var r=n(551),i=n(75),o=n(136),a=o&&o.isRegExp,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(44),i=n(27);t.exports=function(t){return i(t)&&"[object RegExp]"==r(t)}},function(t,e,n){var r=n(98),i=n(14);t.exports=function(t,e){return r(i(t,e),1)}},function(t,e,n){var r=n(73),i=n(103),o=n(63),a=n(39),s=n(107),l=n(554),u=n(267),c=n(138),p=n(146),h=n(64),f=r?r.iterator:void 0;t.exports=function(t){if(!t)return[];if(a(t))return s(t)?p(t):i(t);if(f&&t[f])return l(t[f]());var e=o(t);return("[object Map]"==e?u:"[object Set]"==e?c:h)(t)}},function(t,e){t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},function(t,e,n){var r=n(298),i=n(166),o=n(558),a=RegExp("['’]","g");t.exports=function(t){return function(e){return r(o(i(e).replace(a,"")),t,"")}}},function(t,e,n){var r=n(557)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});t.exports=r},function(t,e){t.exports=function(t){return function(e){return null==t?void 0:t[e]}}},function(t,e,n){var r=n(559),i=n(560),o=n(46),a=n(561);t.exports=function(t,e,n){return t=o(t),void 0===(e=n?void 0:e)?i(t)?a(t):r(t):t.match(e)||[]}},function(t,e){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=function(t){return t.match(n)||[]}},function(t,e){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=function(t){return n.test(t)}},function(t,e){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",r="["+n+"]",i="\\d+",o="[\\u2700-\\u27bf]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",s="[^\\ud800-\\udfff"+n+i+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="[A-Z\\xc0-\\xd6\\xd8-\\xde]",p="(?:"+a+"|"+s+")",h="(?:"+c+"|"+s+")",f="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",d="[\\ufe0e\\ufe0f]?"+f+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,u].join("|")+")[\\ufe0e\\ufe0f]?"+f+")*"),g="(?:"+[o,l,u].join("|")+")"+d,m=RegExp([c+"?"+a+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[r,c,"$"].join("|")+")",h+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[r,c+p,"$"].join("|")+")",c+"?"+p+"+(?:['’](?:d|ll|m|re|s|t|ve))?",c+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i,g].join("|"),"g");t.exports=function(t){return t.match(m)||[]}},function(t,e,n){var r=n(563)("toUpperCase");t.exports=r},function(t,e,n){var r=n(210),i=n(147),o=n(146),a=n(46);t.exports=function(t){return function(e){e=a(e);var n=i(e)?o(e):void 0,s=n?n[0]:e.charAt(0),l=n?r(n,1).join(""):e.slice(1);return s[t]()+l}}},function(t,e,n){t.exports={default:n(565),__esModule:!0}},function(t,e,n){n(566),t.exports=n(30).Object.getPrototypeOf},function(t,e,n){var r=n(95),i=n(245);n(299)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},function(t,e,n){t.exports={default:n(568),__esModule:!0}},function(t,e,n){n(569);var r=n(30).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(70),i=n(188).f;n(299)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}},function(t,e,n){var r=n(76);t.exports=function(t,e){var n=!0;return r(t,(function(t,r,i){return n=!!e(t,r,i)})),n}},function(t,e,n){var r=n(573),i=n(147),o=n(574);t.exports=function(t){return i(t)?o(t):r(t)}},function(t,e,n){var r=n(276)("length");t.exports=r},function(t,e){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[o+r+"?",r,a,s,n].join("|")+")",p=RegExp(i+"(?="+i+")|"+c+u,"g");t.exports=function(t){for(var e=p.lastIndex=0;p.test(t);)++e;return e}},function(t,e,n){var r=n(31),i=n(52),o=n(133),a=n(46),s=r.isFinite,l=Math.min;t.exports=function(t){var e=Math[t];return function(t,n){if(t=o(t),(n=null==n?0:l(i(n),292))&&s(t)){var r=(a(t)+"e").split("e"),u=e(r[0]+"e"+(+r[1]+n));return+((r=(a(u)+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(0)),i=n(161),o=(a(n(578)),a(n(580)),a(n(635)),a(n(638)),a(n(639)));a(n(640)),a(n(647)),a(n(648)),a(n(691)),a(n(692)),a(n(693)),a(n(694));function a(t){return t&&t.__esModule?t:{default:t}}n(695);e.default=function(){return r.default.createElement(i.Switch,null,r.default.createElement(i.Route,{exact:!0,path:"/",component:o.default}),r.default.createElement(i.Route,{exact:!0,path:"/point",component:o.default}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=u(o),s=u(n(45)),l=u(n(53));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={viewport:{width:1500,height:678,latitude:37.7577,longitude:-122.4376,zoom:8}},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"render",value:function(){var t=this;return a.default.createElement(s.default,r({className:"right",mapboxApiAccessToken:l.default.access_token},this.state.viewport,{onViewportChange:function(e){return t.setState({viewport:e})}}))}}]),e}(o.Component);e.default=c},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,u=[],c=!1,p=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&f())}function f(){if(!c){var t=s(h);c=!0;for(var e=u.length;e;){for(l=u,u=[];++p<e;)l&&l[p].run();p=-1,e=u.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||c||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=u(o),s=u(n(45)),l=u(n(53));u(n(212));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={url:l.default.server_url,viewport:{width:1600,height:758,latitude:26.00197,longitude:119.338782,zoom:12,pitch:50,bearing:-20}},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"render",value:function(){var t=this;return a.default.createElement("div",null,a.default.createElement(s.default,r({mapStyle:{version:8,sources:{testriver:{type:"geojson",data:"http://192.168.1.254:8888/public/csv/river1541578201836.json"},parkpts:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:parkpts&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},greenground:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:greenground&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},rivers:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:water&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},river:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:river&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},buildings:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:buildings&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},jiewuguan:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:jiewuguan&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},roads:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:roads&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},roadnet:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:roadnet&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},provincialhighway:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:provincialhighway&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},countyroad:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:countyroad&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},expressway:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:expressway&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},reservoir:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:reservoir&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},sewagepipe:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:sewagepipe&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]}},layers:[{id:"background",type:"background",paint:{"background-color":"#F2F5F7","background-opacity":1}},{id:"greenground",type:"fill",source:"greenground","source-layer":"greenground",layout:{visibility:"visible"},paint:{"fill-color":"#C0E4BE","fill-translate":[0,0]}},{id:"roadnet",type:"fill",source:"roadnet","source-layer":"roadnet",layout:{visibility:"visible"},paint:{"fill-color":"#fff","fill-translate":[0,0]}},{id:"expressway",type:"line",source:"expressway","source-layer":"expressway",layout:{visibility:"visible"},paint:{"line-color":"#ebdca4","line-opacity":1,"line-width":5}},{id:"provincialhighway",type:"line",source:"provincialhighway","source-layer":"provincialhighway",layout:{visibility:"visible"},paint:{"line-color":"#ebdca4","line-opacity":1,"line-width":4}},{id:"countyroad",type:"line",source:"countyroad","source-layer":"countyroad",layout:{visibility:"visible"},paint:{"line-color":"#FFDB86","line-opacity":1,"line-width":3}},{id:"buildings",type:"fill-extrusion",source:"buildings","source-layer":"buildings",layout:{visibility:"none"},paint:{"fill-extrusion-height":30,"fill-extrusion-color":"hsl(210, 20%, 97%)","fill-extrusion-opacity":.53}},{id:"rivers",type:"fill",source:"rivers","source-layer":"water",layout:{visibility:"visible"},paint:{"fill-color":"#BFDAF8","fill-translate":[0,0]}},{id:"jiewuguan",type:"line",source:"jiewuguan","source-layer":"jiewuguan",minzoom:11.9,maxzoom:21.7,layout:{},paint:{"line-color":"#F51205","line-dasharray":[4,2]}},{id:"reservoir",type:"line",source:"reservoir","source-layer":"reservoir",layout:{visibility:"visible"},paint:{"line-color":"hsl(16, 62%, 54%)","line-width":4}},{id:"sewagepipe",type:"line",source:"sewagepipe","source-layer":"sewagepipe",layout:{visibility:"none"},paint:{"line-color":"rgb(146, 100, 216)","line-width":3}},{id:"testriver",type:"fill",source:"testriver",layout:{visibility:"visible"},paint:{"fill-color":"rgba(255,244,0,1)"}}]}},this.state.viewport,{onViewportChange:function(e){console.log(e),t.setState({viewport:e})}})))}}]),e}(o.Component);e.default=c},function(t,e,n){var r=n(213),i=n(86),o=n(582),a=n(149),s=n(301),l=n(16).featureCollection,u=n(16).lineString,c=n(302),p=n(584);t.exports=function(t,e,n,h){for(var f=r(t,e),d=a(t),g=c(d),m=o(g,n),v=[],y=0;y<m.features.length;y++)for(var _=m.features[y],b=0;b<f.features.length;b++){var x=f.features[b];i(_,x)&&(_.properties={},_.properties[e]=s(_,x))}for(var w=Math.sqrt(m.features.length),E=0;E<w;E++){for(var C=m.features.slice(E*w,(E+1)*w),S=[],T=0;T<C.length;T++)C[T].properties?S.push(C[T].properties[e]):S.push(0);v.push(S)}for(var k=(g[2]-g[0])/w,O=[],I=[],P=0;P<w;P++)O.push(P*k+g[0]),I.push(P*k+g[1]);var N=new p;N.contour(v,0,n,0,n,O,I,h.length,h);var M=N.contourList(),A=l([]);return M.forEach((function(t){if(t.length>2){var n=[];t.forEach((function(t){n.push([t.x,t.y])}));var r=u(n);r.properties={},r.properties[e]=t.level,A.features.push(r)}})),A}},function(t,e,n){var r=n(583);t.exports=function(t,e){for(var n=t[0],i=t[1],o=t[2],a=(t[3],(o-n)/e),s={type:"FeatureCollection",features:[]},l=0;l<=e;l++)for(var u=0;u<=e;u++)s.features.push(r([l*a+n,u*a+i]));return s}},function(t,e){var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t,e){if(!n(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:e||{}}}},function(t,e){t.exports=o;function n(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r<1e-10}function r(t){for(var e=t.head;e;){var n=e.next;e.next=e.prev,e.prev=n,e=n}n=t.head;t.head=t.tail,t.tail=n}function i(t){this.level=t,this.s=null,this.count=0}function o(t){if(t)this.drawContour=t;else{var e=this;e.contours={},this.drawContour=function(t,n,r,o,a,s){var l=e.contours[s];l||(l=e.contours[s]=new i(a)),l.addSegment({x:t,y:n},{x:r,y:o})},this.contourList=function(){var t=[],n=e.contours;for(var r in n)for(var i=n[r].s,o=n[r].level;i;){var a=i.head,s=[];for(s.level=o,s.k=r;a&&a.p;)s.push(a.p),a=a.next;t.push(s),i=i.next}return t.sort((function(t,e){return t.k-e.k})),t}}this.h=new Array(5),this.sh=new Array(5),this.xh=new Array(5),this.yh=new Array(5)}i.prototype.remove_seq=function(t){t.prev?t.prev.next=t.next:this.s=t.next,t.next&&(t.next.prev=t.prev),--this.count},i.prototype.addSegment=function(t,e){for(var i=this.s,o=null,a=null,s=!1,l=!1;i&&(null==o&&(n(t,i.head.p)?(o=i,s=!0):n(t,i.tail.p)&&(o=i)),null==a&&(n(e,i.head.p)?(a=i,l=!0):n(e,i.tail.p)&&(a=i)),null==a||null==o);)i=i.next;switch((null!=o?1:0)|(null!=a?2:0)){case 0:var u={p:t,prev:null},c={p:e,next:null};u.next=c,c.prev=u,o={head:u,tail:c,next:this.s,prev:null,closed:!1},this.s&&(this.s.prev=o),this.s=o,++this.count;break;case 1:var p={p:e};s?(p.next=o.head,p.prev=null,o.head.prev=p,o.head=p):(p.next=null,p.prev=o.tail,o.tail.next=p,o.tail=p);break;case 2:p={p:t};l?(p.next=a.head,p.prev=null,a.head.prev=p,a.head=p):(p.next=null,p.prev=a.tail,a.tail.next=p,a.tail=p);break;case 3:if(o===a){p={p:o.tail.p,next:o.head,prev:null};o.head.prev=p,o.head=p,o.closed=!0;break}switch((s?1:0)|(l?2:0)){case 0:r(o);case 1:a.tail.next=o.head,o.head.prev=a.tail,a.tail=o.tail,this.remove_seq(o);break;case 3:r(o);case 2:o.tail.next=a.head,a.head.prev=o.tail,o.tail=a.tail,this.remove_seq(a)}}},o.prototype.contour=function(t,e,n,r,i,o,a,s,l){var u=this.h,c=this.sh,p=this.xh,h=this.yh,f=this.drawContour;this.contours={};for(var d,g,m,v,y,_=function(t,e){return(u[e]*p[t]-u[t]*p[e])/(u[e]-u[t])},b=function(t,e){return(u[e]*h[t]-u[t]*h[e])/(u[e]-u[t])},x=0,w=0,E=0,C=0,S=[0,1,1,0],T=[0,0,1,1],k=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],O=i-1;O>=r;O--)for(var I=e;I<=n-1;I++){var P,N;if(P=Math.min(t[I][O],t[I][O+1]),N=Math.min(t[I+1][O],t[I+1][O+1]),v=Math.min(P,N),P=Math.max(t[I][O],t[I][O+1]),N=Math.max(t[I+1][O],t[I+1][O+1]),(y=Math.max(P,N))>=l[0]&&v<=l[s-1])for(var M=0;M<s;M++)if(l[M]>=v&&l[M]<=y){for(var A=4;A>=0;A--)A>0?(u[A]=t[I+S[A-1]][O+T[A-1]]-l[M],p[A]=o[I+S[A-1]],h[A]=a[O+T[A-1]]):(u[0]=.25*(u[1]+u[2]+u[3]+u[4]),p[0]=.5*(o[I]+o[I+1]),h[0]=.5*(a[O]+a[O+1])),u[A]>1e-10?c[A]=1:u[A]<-1e-10?c[A]=-1:c[A]=0;for(A=1;A<=4;A++)if(0,g=4!=A?A+1:1,0!=(m=k[c[d=A]+1][c[0]+1][c[g]+1])){switch(m){case 1:x=p[d],E=h[d],w=p[0],C=h[0];break;case 2:x=p[0],E=h[0],w=p[g],C=h[g];break;case 3:x=p[g],E=h[g],w=p[d],C=h[d];break;case 4:x=p[d],E=h[d],w=_(0,g),C=b(0,g);break;case 5:x=p[0],E=h[0],w=_(g,d),C=b(g,d);break;case 6:x=p[g],E=h[g],w=_(d,0),C=b(d,0);break;case 7:x=_(d,0),E=b(d,0),w=_(0,g),C=b(0,g);break;case 8:x=_(0,g),E=b(0,g),w=_(g,d),C=b(g,d);break;case 9:x=_(g,d),E=b(g,d),w=_(d,0),C=b(d,0)}f(x,E,w,C,l[M],M)}}}}},function(t,e,n){var r=n(87).coordEach,i=n(586),o=n(16).polygon;t.exports=function(t){var e=[];r(t,(function(t){e.push(t)}));var n=i(e);if(n.length>0){for(var a=[],s=0;s<n.length;s++)a.push(e[n[s][0]]);return a.push(e[n[n.length-1][1]]),o([a])}}},function(t,e,n){"use strict";var r=n(587),i=n(588),o=n(594);t.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var n=t[0].length;if(0===n)return[];if(1===n)return r(t);if(2===n)return i(t);return o(t,n)}},function(t,e,n){"use strict";t.exports=function(t){for(var e=0,n=0,r=1;r<t.length;++r)t[r][0]<t[e][0]&&(e=r),t[r][0]>t[n][0]&&(n=r);return e<n?[[e],[n]]:e>n?[[n],[e]]:[[e]]}},function(t,e,n){"use strict";t.exports=function(t){var e=r(t),n=e.length;if(n<=2)return[];for(var i=new Array(n),o=e[n-1],a=0;a<n;++a){var s=e[a];i[a]=[o,s],o=s}return i};var r=n(589)},function(t,e,n){"use strict";t.exports=function(t){var e=t.length;if(e<3){for(var n=new Array(e),i=0;i<e;++i)n[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var o=new Array(e);for(i=0;i<e;++i)o[i]=i;o.sort((function(e,n){var r=t[e][0]-t[n][0];return r||t[e][1]-t[n][1]}));var a=[o[0],o[1]],s=[o[0],o[1]];for(i=2;i<e;++i){for(var l=o[i],u=t[l],c=a.length;c>1&&r(t[a[c-2]],t[a[c-1]],u)<=0;)c-=1,a.pop();for(a.push(l),c=s.length;c>1&&r(t[s[c-2]],t[s[c-1]],u)>=0;)c-=1,s.pop();s.push(l)}n=new Array(s.length+a.length-2);for(var p=0,h=(i=0,a.length);i<h;++i)n[p++]=a[i];for(var f=s.length-2;f>0;--f)n[p++]=s[f];return n};var r=n(214)[3]},function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);if(i)return[i,n];return[n]}(t[0],e[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,p=t[l],h=c(p),f=e[u],d=c(f);h<d?(o=p,(l+=1)<n&&(p=t[l],h=c(p))):(o=f,(u+=1)<r&&(f=e[u],d=c(f)));l<n&&h<d||u>=r?(i=p,(l+=1)<n&&(p=t[l],h=c(p))):(i=f,(u+=1)<r&&(f=e[u],d=c(f)));var g,m,v=i+o,y=v-i,_=o-y,b=_,x=v;for(;l<n&&u<r;)h<d?(i=p,(l+=1)<n&&(p=t[l],h=c(p))):(i=f,(u+=1)<r&&(f=e[u],d=c(f))),(_=(o=b)-(y=(v=i+o)-i))&&(a[s++]=_),b=x-((g=x+v)-(m=g-x))+(v-m),x=g;for(;l<n;)(_=(o=b)-(y=(v=(i=p)+o)-i))&&(a[s++]=_),b=x-((g=x+v)-(m=g-x))+(v-m),x=g,(l+=1)<n&&(p=t[l]);for(;u<r;)(_=(o=b)-(y=(v=(i=f)+o)-i))&&(a[s++]=_),b=x-((g=x+v)-(m=g-x))+(v-m),x=g,(u+=1)<r&&(f=e[u]);b&&(a[s++]=b);x&&(a[s++]=x);s||(a[s++]=0);return a.length=s,a}},function(t,e,n){"use strict";var r=n(303),i=n(592);t.exports=function(t,e){var n=t.length;if(1===n){var o=r(t[0],e);return o[0]?o:[o[1]]}var a=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;r(t[0],e,s),s[0]&&(a[u++]=s[0]);for(var c=1;c<n;++c){r(t[c],e,l);var p=s[1];i(p,l[0],s),s[0]&&(a[u++]=s[0]);var h=l[1],f=s[1],d=h+f,g=f-(d-h);s[1]=d,g&&(a[u++]=g)}s[1]&&(a[u++]=s[1]);0===u&&(a[u++]=0);return a.length=u,a}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=t+e,i=r-t,o=e-i,a=t-(r-i);if(n)return n[0]=a+o,n[1]=r,n;return[a+o,r]}},function(t,e,n){"use strict";t.exports=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);if(i)return[i,n];return[n]}(t[0],-e[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,p=t[l],h=c(p),f=-e[u],d=c(f);h<d?(o=p,(l+=1)<n&&(p=t[l],h=c(p))):(o=f,(u+=1)<r&&(f=-e[u],d=c(f)));l<n&&h<d||u>=r?(i=p,(l+=1)<n&&(p=t[l],h=c(p))):(i=f,(u+=1)<r&&(f=-e[u],d=c(f)));var g,m,v=i+o,y=v-i,_=o-y,b=_,x=v;for(;l<n&&u<r;)h<d?(i=p,(l+=1)<n&&(p=t[l],h=c(p))):(i=f,(u+=1)<r&&(f=-e[u],d=c(f))),(_=(o=b)-(y=(v=i+o)-i))&&(a[s++]=_),b=x-((g=x+v)-(m=g-x))+(v-m),x=g;for(;l<n;)(_=(o=b)-(y=(v=(i=p)+o)-i))&&(a[s++]=_),b=x-((g=x+v)-(m=g-x))+(v-m),x=g,(l+=1)<n&&(p=t[l]);for(;u<r;)(_=(o=b)-(y=(v=(i=f)+o)-i))&&(a[s++]=_),b=x-((g=x+v)-(m=g-x))+(v-m),x=g,(u+=1)<r&&(f=-e[u]);b&&(a[s++]=b);x&&(a[s++]=x);s||(a[s++]=0);return a.length=s,a}},function(t,e,n){"use strict";t.exports=function(t,e){try{return r(t,!0)}catch(a){var n=i(t);if(n.length<=e)return[];var o=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<e.length;++i)r[i]=t[e[i]];var o=e.length;for(i=0;i<n;++i)e.indexOf(i)<0&&(r[o++]=t[i]);return r}(t,n);return function(t,e){for(var n=t.length,r=e.length,i=0;i<n;++i)for(var o=t[i],a=0;a<o.length;++a){var s=o[a];if(s<r)o[a]=e[s];else{s-=r;for(var l=0;l<r;++l)s>=e[l]&&(s+=1);o[a]=s}}return t}(r(o,!0),n)}};var r=n(595),i=n(599)},function(t,e,n){"use strict";t.exports=function(t,e){var n=t.length;if(0===n)throw new Error("Must have at least d+1 points");var i=t[0].length;if(n<=i)throw new Error("Must input at least d+1 points");var a=t.slice(0,i+1),s=r.apply(void 0,a);if(0===s)throw new Error("Input not in general position");for(var l=new Array(i+1),c=0;c<=i;++c)l[c]=c;s<0&&(l[0]=1,l[1]=0);var p=new o(l,new Array(i+1),!1),h=p.adjacent,f=new Array(i+2);for(c=0;c<=i;++c){for(var d=l.slice(),g=0;g<=i;++g)g===c&&(d[g]=-1);var m=d[0];d[0]=d[1],d[1]=m;var v=new o(d,new Array(i+1),!0);h[c]=v,f[c]=v}f[i+1]=p;for(c=0;c<=i;++c){d=h[c].vertices;var y=h[c].adjacent;for(g=0;g<=i;++g){var _=d[g];if(_<0)y[g]=p;else for(var b=0;b<=i;++b)h[b].vertices.indexOf(_)<0&&(y[g]=h[b])}}var x=new u(i,a,f),w=!!e;for(c=i+1;c<n;++c)x.insert(t[c],w);return x.boundary()};var r=n(214),i=n(596).compareCells;function o(t,e,n){this.vertices=t,this.adjacent=e,this.boundary=n,this.lastVisited=-1}function a(t,e,n){this.vertices=t,this.cell=e,this.index=n}function s(t,e){return i(t.vertices,e.vertices)}o.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var l=[];function u(t,e,n){this.dimension=t,this.vertices=e,this.simplices=n,this.interior=n.filter((function(t){return!t.boundary})),this.tuple=new Array(t+1);for(var i=0;i<=t;++i)this.tuple[i]=this.vertices[i];var o=l[t];o||(o=l[t]=function(t){for(var e=["function orient(){var tuple=this.tuple;return test("],n=0;n<=t;++n)n>0&&e.push(","),e.push("tuple[",n,"]");e.push(")}return orient");var i=new Function("test",e.join("")),o=r[t+1];return o||(o=r),i(o)}(t)),this.orient=o}var c=u.prototype;c.handleBoundaryDegeneracy=function(t,e){var n=this.dimension,r=this.vertices.length-1,i=this.tuple,o=this.vertices,a=[t];for(t.lastVisited=-r;a.length>0;){(t=a.pop()).vertices;for(var s=t.adjacent,l=0;l<=n;++l){var u=s[l];if(u.boundary&&!(u.lastVisited<=-r)){for(var c=u.vertices,p=0;p<=n;++p){var h=c[p];i[p]=h<0?e:o[h]}var f=this.orient();if(f>0)return u;u.lastVisited=-r,0===f&&a.push(u)}}}return null},c.walk=function(t,e){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,o=this.tuple,a=e?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[a];t:for(;!s.boundary;){for(var l=s.vertices,u=s.adjacent,c=0;c<=r;++c)o[c]=i[l[c]];s.lastVisited=n;for(c=0;c<=r;++c){var p=u[c];if(!(p.lastVisited>=n)){var h=o[c];o[c]=t;var f=this.orient();if(o[c]=h,f<0){s=p;continue t}p.boundary?p.lastVisited=-n:p.lastVisited=n}}return}return s},c.addPeaks=function(t,e){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,l=this.tuple,u=this.interior,c=this.simplices,p=[e];e.lastVisited=n,e.vertices[e.vertices.indexOf(-1)]=n,e.boundary=!1,u.push(e);for(var h=[];p.length>0;){var f=(e=p.pop()).vertices,d=e.adjacent,g=f.indexOf(n);if(!(g<0))for(var m=0;m<=r;++m)if(m!==g){var v=d[m];if(v.boundary&&!(v.lastVisited>=n)){var y=v.vertices;if(v.lastVisited!==-n){for(var _=0,b=0;b<=r;++b)y[b]<0?(_=b,l[b]=t):l[b]=i[y[b]];if(this.orient()>0){y[_]=n,v.boundary=!1,u.push(v),p.push(v),v.lastVisited=n;continue}v.lastVisited=-n}var x=v.adjacent,w=f.slice(),E=d.slice(),C=new o(w,E,!0);c.push(C);var S=x.indexOf(e);if(!(S<0)){x[S]=C,E[g]=v,w[m]=-1,E[m]=e,d[m]=C,C.flip();for(b=0;b<=r;++b){var T=w[b];if(!(T<0||T===n)){for(var k=new Array(r-1),O=0,I=0;I<=r;++I){var P=w[I];P<0||I===b||(k[O++]=P)}h.push(new a(k,C,b))}}}}}}h.sort(s);for(m=0;m+1<h.length;m+=2){var N=h[m],M=h[m+1],A=N.index,L=M.index;A<0||L<0||(N.cell.adjacent[N.index]=M.cell,M.cell.adjacent[M.index]=N.cell)}},c.insert=function(t,e){var n=this.vertices;n.push(t);var r=this.walk(t,e);if(r){for(var i=this.dimension,o=this.tuple,a=0;a<=i;++a){var s=r.vertices[a];o[a]=s<0?t:n[s]}var l=this.orient(o);l<0||(0!==l||(r=this.handleBoundaryDegeneracy(r,t)))&&this.addPeaks(t,r)}},c.boundary=function(){for(var t=this.dimension,e=[],n=this.simplices,r=n.length,i=0;i<r;++i){var o=n[i];if(o.boundary){for(var a=new Array(t),s=o.vertices,l=0,u=0,c=0;c<=t;++c)s[c]>=0?a[l++]=s[c]:u=1&c;if(u===(1&t)){var p=a[0];a[0]=a[1],a[1]=p}e.push(a)}}return e}},function(t,e,n){"use strict";var r=n(597),i=n(598);function o(t,e){var n=t.length,r=t.length-e.length,i=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return t[0]-e[0];case 2:return(s=t[0]+t[1]-e[0]-e[1])||i(t[0],t[1])-i(e[0],e[1]);case 3:var o=t[0]+t[1],a=e[0]+e[1];if(s=o+t[2]-(a+e[2]))return s;var s,l=i(t[0],t[1]),u=i(e[0],e[1]);return(s=i(l,t[2])-i(u,e[2]))||i(l+t[2],o)-i(u+e[2],a);default:var c=t.slice(0);c.sort();var p=e.slice(0);p.sort();for(var h=0;h<n;++h)if(r=c[h]-p[h])return r;return 0}}function a(t,e){return o(t[0],e[0])}function s(t,e){if(e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=[t[i],e[i]];r.sort(a);for(i=0;i<n;++i)t[i]=r[i][0],e[i]=r[i][1];return t}return t.sort(o),t}function l(t){if(0===t.length)return[];for(var e=1,n=t.length,r=1;r<n;++r){var i=t[r];if(o(i,t[r-1])){if(r===e){e++;continue}t[e++]=i}}return t.length=e,t}function u(t,e){for(var n=0,r=t.length-1,i=-1;n<=r;){var a=n+r>>1,s=o(t[a],e);s<=0?(0===s&&(i=a),n=a+1):s>0&&(r=a-1)}return i}function c(t,e){for(var n=new Array(t.length),i=0,a=n.length;i<a;++i)n[i]=[];for(var s=[],l=(i=0,e.length);i<l;++i)for(var c=e[i],p=c.length,h=1,f=1<<p;h<f;++h){s.length=r.popCount(h);for(var d=0,g=0;g<p;++g)h&1<<g&&(s[d++]=c[g]);var m=u(t,s);if(!(m<0))for(;n[m++].push(i),!(m>=t.length||0!==o(t[m],s)););}return n}function p(t,e){if(e<0)return[];for(var n=[],i=(1<<e+1)-1,o=0;o<t.length;++o)for(var a=t[o],l=i;l<1<<a.length;l=r.nextCombination(l)){for(var u=new Array(e+1),c=0,p=0;p<a.length;++p)l&1<<p&&(u[c++]=a[p]);n.push(u)}return s(n)}e.dimension=function(t){for(var e=0,n=Math.max,r=0,i=t.length;r<i;++r)e=n(e,t[r].length);return e-1},e.countVertices=function(t){for(var e=-1,n=Math.max,r=0,i=t.length;r<i;++r)for(var o=t[r],a=0,s=o.length;a<s;++a)e=n(e,o[a]);return e+1},e.cloneCells=function(t){for(var e=new Array(t.length),n=0,r=t.length;n<r;++n)e[n]=t[n].slice(0);return e},e.compareCells=o,e.normalize=s,e.unique=l,e.findCell=u,e.incidence=c,e.dual=function(t,e){if(!e)return c(l(p(t,0)),t);for(var n=new Array(e),r=0;r<e;++r)n[r]=[];r=0;for(var i=t.length;r<i;++r)for(var o=t[r],a=0,s=o.length;a<s;++a)n[o[a]].push(r);return n},e.explode=function(t){for(var e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0|i.length,a=1,l=1<<o;a<l;++a){for(var u=[],c=0;c<o;++c)a>>>c&1&&u.push(i[c]);e.push(u)}return s(e)},e.skeleton=p,e.boundary=function(t){for(var e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length;o<a;++o){for(var l=new Array(i.length-1),u=0,c=0;u<a;++u)u!==o&&(l[c++]=i[u]);e.push(l)}return s(e)},e.connectedComponents=function(t,e){return e?function(t,e){for(var n=new i(e),r=0;r<t.length;++r)for(var o=t[r],a=0;a<o.length;++a)for(var s=a+1;s<o.length;++s)n.link(o[a],o[s]);var l=[],u=n.ranks;for(r=0;r<u.length;++r)u[r]=-1;for(r=0;r<t.length;++r){var c=n.find(t[r][0]);u[c]<0?(u[c]=l.length,l.push([t[r].slice(0)])):l[u[c]].push(t[r].slice(0))}return l}(t,e):function(t){for(var e=l(s(p(t,0))),n=new i(e.length),r=0;r<t.length;++r)for(var o=t[r],a=0;a<o.length;++a)for(var c=u(e,[o[a]]),h=a+1;h<o.length;++h)n.link(c,u(e,[o[h]]));var f=[],d=n.ranks;for(r=0;r<d.length;++r)d[r]=-1;for(r=0;r<t.length;++r){var g=n.find(u(e,[t[r][0]]));d[g]<0?(d[g]=f.length,f.push([t[r].slice(0)])):f[d[g]].push(t[r].slice(0))}return f}(t)}},function(t,e,n){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){"use strict";function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}t.exports=r;var i=r.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},i.find=function(t){for(var e=t,n=this.roots;n[t]!==t;)t=n[t];for(;n[e]!==t;){var r=n[e];n[e]=t,e=r}return t},i.link=function(t,e){var n=this.find(t),r=this.find(e);if(n!==r){var i=this.ranks,o=this.roots,a=i[n],s=i[r];a<s?o[n]=r:s<a?o[r]=n:(o[r]=n,++i[n])}}},function(t,e,n){"use strict";t.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var n=t[0].length,r=[t[0]],o=[0],a=1;a<e;++a)if(r.push(t[a]),i(r,n)){if(o.push(a),o.length===n+1)return o}else r.pop();return o};var r=n(214);function i(t,e){for(var n=new Array(e+1),i=0;i<t.length;++i)n[i]=t[i];for(i=0;i<=t.length;++i){for(var o=t.length;o<=e;++o){for(var a=new Array(e),s=0;s<e;++s)a[s]=Math.pow(o+1-i,s);n[o]=a}if(r.apply(void 0,n))return!0}return!1}},function(t,e,n){var r=n(86),i=n(16).featureCollection;t.exports=function(t,e){for(var n=i([]),o=0;o<e.features.length;o++)for(var a=0;a<t.features.length;a++){r(t.features[a],e.features[o])&&n.features.push(t.features[a])}return n}},function(t,e,n){var r=n(213),i=n(304),o=n(36);t.exports=function(t,e,n){if("number"!=typeof e)throw new Error("maxEdge parameter is required");if("string"!=typeof n)throw new Error("units parameter is required");var a=r(t),s=a.features.filter((function(t){var r=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],a=t.geometry.coordinates[0][2],s=o(r,i,n),l=o(i,a,n),u=o(r,a,n);return s<=e&&l<=e&&u<=e}));return a.features=s,function(t){for(var e=JSON.parse(JSON.stringify(t.features[0])),n=t.features,r=0,o=n.length;r<o;r++){var a=n[r];a.geometry&&(e=i(e,a))}return e}(a)}},function(t,e,n){var r=n(150);t.exports=function(t,e){var n=JSON.parse(JSON.stringify(t)),i=JSON.parse(JSON.stringify(e));"Feature"!==n.type&&(n={type:"Feature",properties:{},geometry:n}),"Feature"!==i.type&&(i={type:"Feature",properties:{},geometry:i});var o=new r.io.GeoJSONReader,a=o.read(JSON.stringify(n.geometry)),s=o.read(JSON.stringify(i.geometry)),l=a.difference(s);if(!l.isEmpty()){var u=(new r.io.GeoJSONWriter).write(l);return n.geometry=l,{type:"Feature",properties:n.properties,geometry:u}}}},function(t,e,n){var r=n(86);t.exports=function(t,e,n,i){return t.features.forEach((function(t){var o=e.features.filter((function(e){return r(e,t)})).map((function(t){return t.properties[n]}));t.properties||(t.properties={}),t.properties[i]=o})),t}},function(t,e,n){var r=n(87).coordEach;t.exports=function(t){return t=JSON.parse(JSON.stringify(t)),r(t,(function(t){t.reverse()})),t}},function(t,e,n){var r=n(606),i=["LineString","MultiLineString","Polygon","MultiPolygon"];function o(t,e,n){return"LineString"===t.geometry.type?{type:"LineString",coordinates:l(t.geometry.coordinates,e,n)}:"MultiLineString"===t.geometry.type?{type:"MultiLineString",coordinates:t.geometry.coordinates.map((function(t){return l(t,e,n)}))}:"Polygon"===t.geometry.type?{type:"Polygon",coordinates:u(t.geometry.coordinates,e,n)}:"MultiPolygon"===t.geometry.type?{type:"MultiPolygon",coordinates:t.geometry.coordinates.map((function(t){return u(t,e,n)}))}:t}function a(t){return!(t.length<3)&&(3!==t.length||t[2][0]!==t[0][0]||t[2][1]!==t[0][1])}function s(t,e){return{type:"Feature",geometry:t,properties:e}}function l(t,e,n){return r(t.map((function(t){return{x:t[0],y:t[1]}})),e,n).map((function(t){return[t.x,t.y]}))}function u(t,e,n){return t.map((function(t){var i=t.map((function(t){return{x:t[0],y:t[1]}}));if(i.length<4)throw new Error("Invalid polygon");for(var o=r(i,e,n).map((function(t){return[t.x,t.y]}));!a(o);)o=r(i,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return o[o.length-1][0]===o[0][0]&&o[o.length-1][1]===o[0][1]||o.push(o[0]),o}))}t.exports=function(t,e,n){return"Feature"===t.type?s(o(t,e,n),t.properties):"FeatureCollection"===t.type?{type:"FeatureCollection",features:t.features.map((function(t){var r=o(t,e,n);return i.indexOf(r.type)>-1?s(r,t.properties):r}))}:"GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map((function(t){return i.indexOf(t.type)>-1?o({type:"Feature",geometry:t},e,n):t}))}:t}},function(t,e,n){var r;!function(){"use strict";function i(t,e,n){var r=e.x,i=e.y,o=n.x-r,a=n.y-i;if(0!==o||0!==a){var s=((t.x-r)*o+(t.y-i)*a)/(o*o+a*a);s>1?(r=n.x,i=n.y):s>0&&(r+=o*s,i+=a*s)}return(o=t.x-r)*o+(a=t.y-i)*a}function o(t,e){var n=t.length-1,r=[t[0]];return function t(e,n,r,o,a){for(var s,l=o,u=n+1;u<r;u++){var c=i(e[u],e[n],e[r]);c>l&&(s=u,l=c)}l>o&&(s-n>1&&t(e,n,s,o,a),a.push(e[s]),r-s>1&&t(e,s,r,o,a))}(t,0,n,e,r),r.push(t[n]),r}function a(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return t=o(t=n?t:function(t,e){for(var n,r,i,o,a,s=t[0],l=[s],u=1,c=t.length;u<c;u++)n=t[u],i=s,o=void 0,a=void 0,o=(r=n).x-i.x,a=r.y-i.y,o*o+a*a>e&&(l.push(n),s=n);return s!==n&&l.push(n),l}(t,r),r)}void 0===(r=function(){return a}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){var r=n(16).lineString,i=n(608);t.exports=function(t,e,n){var o=r([]);o.properties=t.properties;for(var a=new i({points:t.geometry.coordinates.map((function(t){return{x:t[0],y:t[1]}})),duration:e,sharpness:n}),s=0;s<a.duration;s+=10){var l=a.pos(s);Math.floor(s/100)%2==0&&o.geometry.coordinates.push([l.x,l.y])}return o}},function(t,e){var n=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(e=0;e<this.centers.length-1;e++){n=this.centers[e],r=this.centers[e+1];var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,a=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+a)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};n.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},n.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},n.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},t.exports=n},function(t,e,n){var r=n(86);t.exports=function(t,e,n,i){return t=JSON.parse(JSON.stringify(t)),e=JSON.parse(JSON.stringify(e)),t.features.forEach((function(t){t.properties||(t.properties={}),e.features.forEach((function(e){void 0===t.properties[i]&&(r(t,e)&&(t.properties[i]=e.properties[n]))}))})),t}},function(t,e,n){var r=n(16).featureCollection;t.exports=function(t,e){return r(function(t,e){var n,r,i=t.slice(0),o=t.length,a=o-e;for(;o-- >a;)r=Math.floor((o+1)*Math.random()),n=i[r],i[r]=i[o],i[o]=n;return i.slice(a)}(t.features,e))}},function(t,e,n){var r=n(149),i=n(305);t.exports=function(t){return i(r(t))}},function(t,e,n){var r=n(151),i=n(152),o=n(36);t.exports=function(t,e){var n=o(t,e,"miles"),a=r(t,e);return i(t,n/2,a,"miles")}},function(t,e,n){var r=n(16),i=r.featureCollection,o=n(150),a=n(614);t.exports=function(t,e,n){var s=r.distanceToDegrees(e,n),l=a(t),u=a(i(l.features.map((function(t){return function(t,e){var n=(new o.io.GeoJSONReader).read(t.geometry).buffer(e),r=new o.io.GeoJSONWriter;return{type:"Feature",geometry:n=r.write(n),properties:{}}}(t,s)}))));return u.features.length>1?u:1===u.features.length?u.features[0]:void 0}},function(t,e){t.exports=function(t){if(!t||!t.type)return null;var e=n[t.type];if(!e)return null;if("geometry"===e)return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]};if("feature"===e)return{type:"FeatureCollection",features:[t]};if("featurecollection"===e)return t};var n={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},function(t,e,n){var r=n(87).coordEach,i=n(16).point;t.exports=function(t){var e=0,n=0,o=0;return r(t,(function(t){e+=t[0],n+=t[1],o++}),!0),i([e/o,n/o])}},function(t,e,n){var r=n(87);t.exports=function(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},n=Object.keys(e).reduce((function(t,e){return t[e.replace("Multi","")]=e,t}),{});function i(t,n,r){r?e[n].coordinates=e[n].coordinates.concat(t.geometry.coordinates):e[n].coordinates.push(t.geometry.coordinates),e[n].properties.push(t.properties)}return r.featureEach(t,(function(t){t.geometry&&(e[t.geometry.type]?i(t,t.geometry.type,!0):n[t.geometry.type]&&i(t,n[t.geometry.type],!1))})),{type:"FeatureCollection",features:Object.keys(e).filter((function(t){return e[t].coordinates.length})).sort().map((function(t){return{type:"Feature",properties:{collectedProperties:e[t].properties},geometry:{type:t,coordinates:e[t].coordinates}}}))}}},function(t,e,n){var r=n(16).polygon,i=n(618);function o(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}(t),n=i(e.vertices,e.holes,2),o=[],a=[];n.forEach((function(t,r){var i=n[r];a.push([e.vertices[2*i],e.vertices[2*i+1]])}));for(var s=0;s<a.length;s+=3){var l=a.slice(s,s+3);l.push(a[s]),o.push(r([l]))}return o}t.exports=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=o(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(o(t))})),e}},function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,s,l,u,c,f,d,m=e&&e.length,v=m?e[0]*n:t.length,y=i(t,0,v,n,!0),_=[];if(!y||y.next===y.prev)return _;if(m&&(y=function(t,e,n,r){var a,s,l,u,c,f=[];for(a=0,s=e.length;a<s;a++)l=e[a]*r,u=a<s-1?e[a+1]*r:t.length,(c=i(t,l,u,r,!1))===c.next&&(c.steiner=!0),f.push(g(c));for(f.sort(p),a=0;a<f.length;a++)h(f[a],n),n=o(n,n.next);return n}(t,e,y,n)),t.length>80*n){r=l=t[0],s=u=t[1];for(var b=n;b<v;b+=n)(c=t[b])<r&&(r=c),(f=t[b+1])<s&&(s=f),c>l&&(l=c),f>u&&(u=f);d=0!==(d=Math.max(l-r,u-s))?1/d:0}return a(y,_,n,r,s,d),_}function i(t,e,n,r,i){var o,a;if(i===O(t,e,n,r)>0)for(o=e;o<n;o+=r)a=S(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=S(o,t[o],t[o+1],a);return a&&_(a,a.next)&&(T(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!_(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(T(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,p,h){if(t){!h&&p&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ);e++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(t,r,i,p);for(var f,g,m=t;t.prev!==t.next;)if(f=t.prev,g=t.next,p?l(t,r,i,p):s(t))e.push(f.i/n),e.push(t.i/n),e.push(g.i/n),T(t),t=g.next,m=g.next;else if((t=g)===m){h?1===h?a(t=u(o(t),e,n),e,n,r,i,p,2):2===h&&c(t,e,n,r,i,p):a(o(t),e,n,r,i,p,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(y(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(m(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function l(t,e,n,r){var i=t.prev,o=t,a=t.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,u=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,p=d(s,l,e,n,r),h=d(u,c,e,n,r),f=t.prevZ,g=t.nextZ;f&&f.z>=p&&g&&g.z<=h;){if(f!==t.prev&&f!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,g!==t.prev&&g!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;f&&f.z>=p;){if(f!==t.prev&&f!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;g&&g.z<=h;){if(g!==t.prev&&g!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&y(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function u(t,e,n){var r=t;do{var i=r.prev,a=r.next.next;!_(i,a)&&b(i,r,r.next,a)&&E(i,a)&&E(a,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(a.i/n),T(r),T(r.next),r=t=a),r=r.next}while(r!==t);return o(r)}function c(t,e,n,r,i,s){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&v(l,u)){var c=C(l,u);return l=o(l,l.next),c=o(c,c.next),a(l,e,n,r,i,s),void a(c,e,n,r,i,s)}u=u.next}l=l.next}while(l!==t)}function p(t,e){return t.x-e.x}function h(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var l,u=n,c=n.x,p=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&m(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),E(r,t)&&(l<h||l===h&&(r.x>n.x||r.x===n.x&&f(n,r)))&&(n=r,h=l)),r=r.next}while(r!==u);return n}(t,e)){var n=C(e,t);o(e,e.next),o(n,n.next)}}function f(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function d(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function g(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function m(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&b(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(E(t,e)&&E(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||_(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,n,r){var i=w(y(t,e,n)),o=w(y(t,e,r)),a=w(y(n,r,t)),s=w(y(n,r,e));return i!==o&&a!==s||(!(0!==i||!x(t,n,e))||(!(0!==o||!x(t,r,e))||(!(0!==a||!x(n,t,r))||!(0!==s||!x(n,e,r)))))}function x(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function w(t){return t>0?1:t<0?-1:0}function E(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function C(t,e){var n=new k(t.i,t.x,t.y),r=new k(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function S(t,e,n,r){var i=new k(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function k(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=r,t.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(O(t,0,o,n));if(i)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,c=s<l-1?e[s+1]*n:t.length;a-=Math.abs(O(t,u,c,n))}var p=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,f=r[s+1]*n,d=r[s+2]*n;p+=Math.abs((t[h]-t[d])*(t[f+1]-t[h+1])-(t[h]-t[f])*(t[d+1]-t[h+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},function(t,e,n){var r=n(150);t.exports=function(t,e){var n,i;n="Feature"===t.type?t.geometry:t,i="Feature"===e.type?e.geometry:e;var o=new r.io.GeoJSONReader,a=o.read(JSON.stringify(n)),s=o.read(JSON.stringify(i)),l=a.intersection(s);if(!l.isEmpty())return{type:"Feature",properties:{},geometry:(new r.io.GeoJSONWriter).write(l)}}},function(t,e,n){var r=n(36);t.exports=function(t,e){for(var n,i=1/0,o=0;o<e.features.length;o++){var a=r(t,e.features[o],"miles");a<i&&(n=e.features[o],i=a)}return n}},function(t,e,n){var r=n(622);t.exports=function(t,e,n){switch(n=n||{},e=e||1,t){case"point":case"points":case void 0:return r.point(e,n.bbox);case"polygon":case"polygons":return r.polygon(e,n.num_vertices,n.max_radial_length,n.bbox);default:throw new Error("Unknown type given: valid options are points and polygons")}}},function(t,e){function n(t){return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[a(),s()]}function r(t){return function(e,n){return[e[0]+t[0],e[1]+t[1]]}}function o(){return Math.random()-.5}function a(){return 360*o()}function s(){return 180*o()}function l(t){return{type:"Point",coordinates:t||[a(),s()]}}function u(t){return{type:"Feature",geometry:t,properties:{}}}function c(t){return{type:"FeatureCollection",features:t}}t.exports=function(){throw new Error("call .point() or .polygon() instead")},t.exports.position=n,t.exports.point=function(t,e){var r=[];for(i=0;i<t;i++)r.push(u(e?l(n(e)):l()));return c(r)},t.exports.polygon=function(t,e,o,a){"number"!=typeof e&&(e=10),"number"!=typeof o&&(o=10);var s=[];for(i=0;i<t;i++){var l=[],p=Array.apply(null,new Array(e+1)).map(Math.random);p.forEach(h),p.forEach(f),l[l.length-1]=l[0],l=l.map(r(n(a))),s.push(u({type:"Polygon",coordinates:[l]}))}function h(t,e,n){n[e]=e>0?t+n[e-1]:t}function f(t,e){t=2*t*Math.PI/p[p.length-1];var n=Math.random();l.push([n*o*Math.sin(t),n*o*Math.cos(t)])}return c(s)}},function(t,e,n){var r=n(16).point;function i(t,e,n,r,i,o,a,s){var l,u,c,p,h={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(l=(s-o)*(n-t)-(a-i)*(r-e))?null!==h.x&&null!==h.y&&h:(p=(n-t)*(u=e-o)-(r-e)*(c=t-i),u=((a-i)*u-(s-o)*c)/l,c=p/l,h.x=t+u*(n-t),h.y=e+u*(r-e),u>=0&&u<=1&&(h.onLine1=!0),c>=0&&c<=1&&(h.onLine2=!0),!(!h.onLine1||!h.onLine2)&&[h.x,h.y])}t.exports=function(t){var e,n={type:"FeatureCollection",features:[]};return(e="Feature"===t.type?t.geometry:t).coordinates.forEach((function(t){e.coordinates.forEach((function(e){for(var o=0;o<t.length-1;o++)for(var a=0;a<e.length-1;a++)if(t!==e||1!==Math.abs(o-a)&&Math.abs(o-a)!==t.length-2){var s=i(t[o][0],t[o][1],t[o+1][0],t[o+1][1],e[a][0],e[a][1],e[a+1][0],e[a+1][1]);s&&n.features.push(r([s[0],s[1]]))}}))})),n}},function(t,e,n){var r=n(16).featureCollection,i=n(306),o=n(36),a=n(86),s=n(307);function l(t,e,n,r,i,o){if(Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e)))return!0}t.exports=function(t){"FeatureCollection"!==t.type&&("Feature"!==t.type&&(t={type:"Feature",geometry:t,properties:{}}),t=r([t]));for(var e=i(t),n=!1,u=0;!n&&u<t.features.length;){var c,p=t.features[u].geometry,h=!1;if("Point"===p.type)e.geometry.coordinates[0]===p.coordinates[0]&&e.geometry.coordinates[1]===p.coordinates[1]&&(n=!0);else if("MultiPoint"===p.type){var f=!1;for(c=0;!f&&c<p.coordinates.length;)e.geometry.coordinates[0]===p.coordinates[c][0]&&e.geometry.coordinates[1]===p.coordinates[c][1]&&(n=!0,f=!0),c++}else if("LineString"===p.type)for(c=0;!h&&c<p.coordinates.length-1;)l(e.geometry.coordinates[0],e.geometry.coordinates[1],p.coordinates[c][0],p.coordinates[c][1],p.coordinates[c+1][0],p.coordinates[c+1][1])&&(h=!0,n=!0),c++;else if("MultiLineString"===p.type)for(var d=0;d<p.coordinates.length;){h=!1,c=0;for(var g=p.coordinates[d];!h&&c<g.length-1;)l(e.geometry.coordinates[0],e.geometry.coordinates[1],g[c][0],g[c][1],g[c+1][0],g[c+1][1])&&(h=!0,n=!0),c++;d++}else if("Polygon"===p.type||"MultiPolygon"===p.type){a(e,{type:"Feature",geometry:p,properties:{}})&&(n=!0)}u++}if(n)return e;var m,v=r([]);for(u=0;u<t.features.length;u++)v.features=v.features.concat(s(t.features[u]).features);var y=1/0;for(u=0;u<v.features.length;u++){var _=o(e,v.features[u],"miles");_<y&&(y=_,m=v.features[u])}return m}},function(t,e,n){var r=n(626).geometry;t.exports=function(t){if("FeatureCollection"===t.type){for(var e=0,n=0;e<t.features.length;e++)t.features[e].geometry&&(n+=r(t.features[e].geometry));return n}return"Feature"===t.type?r(t.geometry):r(t)}},function(t,e,n){var r=n(627);function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(a(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(a(t[n]))}return e}function a(t){var e,n,o,a,l,u=0,c=t.length;if(c>2){for(i=0;i<c;i++)i===c-2?(o=c-2,a=c-1,l=0):i===c-1?(o=c-1,a=0,l=1):(o=i,a=i+1,l=i+2),e=t[o],n=t[a],u+=(s(t[l][0])-s(e[0]))*Math.sin(s(n[1]));u=u*r.RADIUS*r.RADIUS/2}return u}function s(t){return t*Math.PI/180}t.exports.geometry=function t(e){var n,r=0;switch(e.type){case"Polygon":return o(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=o(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}},t.exports.ring=a},function(t,e){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},function(t,e,n){var r=n(36),i=n(16).point,o=n(151),a=n(152);t.exports=function(t,e,n){var s;if("Feature"===t.type)s=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");s=t.coordinates}for(var l=0,u=0;u<s.length&&!(e>=l&&u===s.length-1);u++){if(l>=e){var c=e-l;if(c){var p=o(s[u],s[u-1])-180;return a(s[u],c,p,n)}return i(s[u])}l+=r(s[u],s[u+1],n)}return i(s[s.length-1])}},function(t,e,n){var r=n(36),i=n(16).point;function o(t,e){for(var n,o=0,a=i(t[0]),s=i(t[0]),l=1;l<t.length;l++)s.geometry.coordinates=t[l],o+=r(a,s,e),n=a,a=s,s=n;return o}t.exports=function t(e,n){if("FeatureCollection"===e.type)return e.features.reduce((function(e,r){return e+t(r,n)}),0);var r,i,a="Feature"===e.type?e.geometry:e;if("LineString"===a.type)return o(a.coordinates,n);if("Polygon"===a.type||"MultiLineString"===a.type){for(r=0,i=0;i<a.coordinates.length;i++)r+=o(a.coordinates[i],n);return r}if("MultiPolygon"===e.type){for(r=0,i=0;i<a.coordinates.length;i++)for(var s=0;s<a.coordinates[i].length;s++)r+=o(a.coordinates[i][s],n);return r}throw new Error("input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry (or a FeatureCollection containing only those types)")}},function(t,e,n){var r=n(16).lineString,i=n(308);t.exports=function(t,e,n){var o;if("Feature"===n.type)o=n.geometry.coordinates;else{if("LineString"!==n.type)throw new Error("input must be a LineString Feature or Geometry");o=n.coordinates}var a,s=i(n,t),l=i(n,e);a=s.properties.index<=l.properties.index?[s,l]:[l,s];for(var u=r([a[0].geometry.coordinates],{}),c=a[0].properties.index+1;c<a[1].properties.index+1;c++)u.geometry.coordinates.push(o[c]);return u.geometry.coordinates.push(a[1].geometry.coordinates),u}},function(t,e,n){var r=n(16).point,i=n(16).featureCollection,o=n(36);t.exports=function(t,e,n){for(var a=i([]),s=e/o(r([t[0],t[1]]),r([t[2],t[1]]),n)*(t[2]-t[0]),l=e/o(r([t[0],t[1]]),r([t[0],t[3]]),n)*(t[3]-t[1]),u=t[0];u<=t[2];){for(var c=t[1];c<=t[3];)a.features.push(r([u,c])),c+=l;u+=s}return a}},function(t,e,n){var r=n(16).featureCollection,i=n(16).point,o=n(16).polygon,a=n(36);t.exports=function(t,e,n){for(var s=r([]),l=e/a(i([t[0],t[1]]),i([t[2],t[1]]),n)*(t[2]-t[0]),u=e/a(i([t[0],t[1]]),i([t[0],t[3]]),n)*(t[3]-t[1]),c=t[0];c<=t[2];){for(var p=t[1];p<=t[3];){var h=o([[[c,p],[c,p+u],[c+l,p+u],[c+l,p],[c,p]]]);s.features.push(h),p+=u}c+=l}return s}},function(t,e,n){var r=n(16).featureCollection,i=n(16).polygon,o=n(36);t.exports=function(t,e,n){for(var a=r([]),s=e/o([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),l=e/o([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),u=0,c=t[0];c<=t[2];){for(var p=0,h=t[1];h<=t[3];)u%2==0&&p%2==0?a.features.push(i([[[c,h],[c,h+l],[c+s,h],[c,h]]]),i([[[c,h+l],[c+s,h+l],[c+s,h],[c,h+l]]])):u%2==0&&p%2==1?a.features.push(i([[[c,h],[c+s,h+l],[c+s,h],[c,h]]]),i([[[c,h],[c,h+l],[c+s,h+l],[c,h]]])):p%2==0&&u%2==1?a.features.push(i([[[c,h],[c,h+l],[c+s,h+l],[c,h]]]),i([[[c,h],[c+s,h+l],[c+s,h],[c,h]]])):p%2==1&&u%2==1&&a.features.push(i([[[c,h],[c,h+l],[c+s,h],[c,h]]]),i([[[c,h+l],[c+s,h+l],[c+s,h],[c,h+l]]])),h+=l,p++;u++,c+=s}return a}},function(t,e,n){for(var r=n(16).point,i=n(16).polygon,o=n(36),a=n(16).featureCollection,s=[],l=[],u=0;u<6;u++){var c=2*Math.PI/6*u;s.push(Math.cos(c)),l.push(Math.sin(c))}function p(t,e,n){for(var r=[],o=0;o<6;o++){var a=t[0]+e*s[o],u=t[1]+n*l[o];r.push([a,u])}return r.push(r[0]),i([r])}function h(t,e,n){for(var r=[],o=0;o<6;o++){var a=[];a.push(t),a.push([t[0]+e*s[o],t[1]+n*l[o]]),a.push([t[0]+e*s[(o+1)%6],t[1]+n*l[(o+1)%6]]),a.push(t),r.push(i([a]))}return r}t.exports=function(t,e,n,i){var s=e/o(r([t[0],t[1]]),r([t[2],t[1]]),n)*(t[2]-t[0]),l=e/o(r([t[0],t[1]]),r([t[0],t[3]]),n)*(t[3]-t[1]),u=s/2,c=2*u,f=Math.sqrt(3)/2*l,d=t[2]-t[0],g=t[3]-t[1],m=.75*c,v=f,y=d/(c-u/2),_=Math.ceil(y);Math.round(y)===_&&_++;var b=(_*m-u/2-d)/2-u/2,x=Math.ceil(g/f),w=(g-x*f)/2,E=x*f-g>f/2;E&&(w-=f/4);for(var C=a([]),S=0;S<_;S++)for(var T=0;T<=x;T++){var k=S%2==1;if((0!==T||!k)&&(0!==T||!E)){var O=S*m+t[0]-b,I=T*v+t[1]+w;k&&(I-=f/2),i?C.features.push.apply(C.features,h([O,I],s/2,l/2)):C.features.push(p([O,I],s/2,l/2))}}return C}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(0)),o=s(n(211)),a=n(320);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return l(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"componentDidUpdate",value:function(){this.setFill()}},{key:"componentDidMount",value:function(){var t=this;this.map=new o.default.Map({container:this.mapContainer}),this.map.on("load",(function(){t.map.addSource("osm",{type:"vector",tiles:[renderUrl(Config.server_url,"changshan:buildings","EPSG:900913")]}),t.map.addLayer({id:"buildings",type:"fill",source:"osm"}),t.map.setViewport(Config.startViewport),t.setFill()}))}},{key:"setFill",value:function(){var t=this.props.active;t.property,t.stops;this.map.setPaintProperty("buildings","fill-color","#D5D3D5")}},{key:"render",value:function(){var t=this;return i.default.createElement("div",{ref:function(e){return t.mapContainer=e},className:"absolute top right left bottom"})}}]),e}(i.default.Component),p=(0,a.connect)((function(t){return{state:t}}))(c);e.default=p},function(t,e,n){"use strict";
/** @license React v16.12.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function x(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case p:case h:case a:case l:case s:case d:return t;default:switch(t=t&&t.$$typeof){case c:case f:case v:case m:case u:return t;default:return e}}case o:return e}}}function w(t){return x(t)===h}e.typeOf=x,e.AsyncMode=p,e.ConcurrentMode=h,e.ContextConsumer=c,e.ContextProvider=u,e.Element=i,e.ForwardRef=f,e.Fragment=a,e.Lazy=v,e.Memo=m,e.Portal=o,e.Profiler=l,e.StrictMode=s,e.Suspense=d,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===h||t===l||t===s||t===d||t===g||"object"==typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===m||t.$$typeof===u||t.$$typeof===c||t.$$typeof===f||t.$$typeof===y||t.$$typeof===_||t.$$typeof===b)},e.isAsyncMode=function(t){return w(t)||x(t)===p},e.isConcurrentMode=w,e.isContextConsumer=function(t){return x(t)===c},e.isContextProvider=function(t){return x(t)===u},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return x(t)===f},e.isFragment=function(t){return x(t)===a},e.isLazy=function(t){return x(t)===v},e.isMemo=function(t){return x(t)===m},e.isPortal=function(t){return x(t)===o},e.isProfiler=function(t){return x(t)===l},e.isStrictMode=function(t){return x(t)===s},e.isSuspense=function(t){return x(t)===d}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=l(o),s=l(n(45));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={viewport:{width:"100vw",height:"100vh",longitude:120.26090868883423,latitude:30.598002857796907,zoom:7,pitch:50,bearing:-20}},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"render",value:function(){var t=this;console.log("hELLO");return a.default.createElement("div",{className:"fourteen wide column "},a.default.createElement(s.default,r({mapStyle:{version:8,sources:{wrong:{type:"geojson",data:"http://192.168.1.254:3000/json/testPoint.json"}},layers:[{id:"background",type:"background",paint:{"background-color":"#F2F5F7","background-opacity":1}},{id:"test",type:"circle",source:"wrong",paint:{"circle-radius":2}}]}},this.state.viewport,{onViewportChange:function(e){console.log(e),t.setState({viewport:e})}})))}}]),e}(o.Component);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=l(o),s=l(n(45));l(n(53)),l(n(212));function l(t){return t&&t.__esModule?t:{default:t}}var u={version:8,sources:{virus:{type:"geojson",data:"./json/latest.json"},"山东":{type:"geojson",data:"./json/cities/山东.json"},"福建":{type:"geojson",data:"./json/cities/福建.json"},"台湾":{type:"geojson",data:"./json/cities/台湾.json"},"河北":{type:"geojson",data:"./json/cities/河北.json"},"河南":{type:"geojson",data:"./json/cities/河南.json"},"重庆":{type:"geojson",data:"./json/cities/重庆.json"},"湖北":{type:"geojson",data:"./json/cities/湖北.json"},"湖南":{type:"geojson",data:"./json/cities/湖南.json"},"海南":{type:"geojson",data:"./json/cities/海南.json"},"江西":{type:"geojson",data:"./json/cities/江西.json"},"黑龍":{type:"geojson",data:"./json/cities/黑龙江.json"},"天津":{type:"geojson",data:"./json/cities/天津.json"},"贵州":{type:"geojson",data:"./json/cities/贵州.json"},"陕西":{type:"geojson",data:"./json/cities/陕西.json"},"新疆":{type:"geojson",data:"./json/cities/新疆.json"},"澳门":{type:"geojson",data:"./json/cities/澳门.json"},"江苏":{type:"geojson",data:"./json/cities/江苏.json"},"安徽":{type:"geojson",data:"./json/cities/安徽.json"},"西藏":{type:"geojson",data:"./json/cities/西藏.json"},"吉林":{type:"geojson",data:"./json/cities/吉林.json"},"上海":{type:"geojson",data:"./json/cities/上海.json"},"甘肃":{type:"geojson",data:"./json/cities/甘肃.json"},"山西":{type:"geojson",data:"./json/cities/山西.json"},"香港":{type:"geojson",data:"./json/cities/香港.json"},"宁夏":{type:"geojson",data:"./json/cities/宁夏.json"},"四川":{type:"geojson",data:"./json/cities/四川.json"},"广西":{type:"geojson",data:"./json/cities/广西.json"},"浙江":{type:"geojson",data:"./json/cities/浙江.json"},"云南":{type:"geojson",data:"./json/cities/云南.json"},"辽宁":{type:"geojson",data:"./json/cities/辽宁.json"},"广东":{type:"geojson",data:"./json/cities/广东.json"},"青海":{type:"geojson",data:"./json/cities/青海.json"},"内蒙":{type:"geojson",data:"./json/cities/内蒙古.json"},"北京":{type:"geojson",data:"./json/cities/北京.json"},china:{type:"vector",tiles:["http://121.40.169.189:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=virus:china&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/vnd.mapbox-vector-tile&TILECOL={x}&TILEROW={y}"]},city:{type:"vector",tiles:["http://121.40.169.189:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=virus:city&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/vnd.mapbox-vector-tile&TILECOL={x}&TILEROW={y}"]},name:{type:"raster",tiles:["http://121.40.169.189:8083/geoserver/gwc/service/wmts?layer=virus%3Acenter&style=&tilematrixset=EPSG%3A900913&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix=EPSG%3A900913%3A{z}&TileCol={x}&TileRow={y}"],tileSize:256}},layers:[{id:"background",type:"background",paint:{"background-color":"#fff","background-opacity":1}},{id:"city",type:"line",source:"city","source-layer":"city",minzoom:6,layout:{visibility:"visible"},paint:{"line-color":"#131313"}},{id:"virus-possible",type:"fill",source:"virus",maxzoom:6,layout:{visibility:"visible"},paint:{"fill-color":"#d3d3d3"}},{id:"virus-high",type:"fill",source:"virus",maxzoom:6,filter:["all",[">=","quantity",1],["<=","quantity",5]],layout:{visibility:"visible"},paint:{"fill-color":"#ffffb2","fill-outline-color":"#131313"}},{id:"virus-high2",type:"fill",source:"virus",maxzoom:6,filter:["all",[">=","quantity",5],["<=","quantity",10]],layout:{visibility:"visible"},paint:{"fill-color":"#feb24c","fill-outline-color":"#131313"}},{id:"virus-high3",type:"fill",maxzoom:6,source:"virus",filter:["all",[">=","quantity",10],["<=","quantity",50]],layout:{visibility:"visible"},paint:{"fill-color":"#fd8d3c","fill-outline-color":"#131313"}},{id:"virus-high4",type:"fill",source:"virus",maxzoom:6,filter:["all",[">=","quantity",50],["<=","quantity",100]],layout:{visibility:"visible"},paint:{"fill-color":"#fc4e2a","fill-outline-color":"#131313"}},{id:"virus-high5",type:"fill",source:"virus",maxzoom:6,filter:[">=","quantity",101],layout:{visibility:"visible"},paint:{"fill-color":"#b10026","fill-outline-color":"#131313"}},{id:"山东",type:"fill",source:"山东",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"广西",type:"fill",source:"广西",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"福建",type:"fill",source:"福建",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"台湾",type:"fill",source:"台湾",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"河北",type:"fill",source:"河北",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"河南",type:"fill",source:"河南",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"重庆",type:"fill",source:"重庆",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"湖北",type:"fill",source:"湖北",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"湖南",type:"fill",source:"湖南",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"海南",type:"fill",source:"海南",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"江西",type:"fill",source:"江西",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"天津",type:"fill",source:"天津",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"贵州",type:"fill",source:"贵州",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"陕西",type:"fill",source:"陕西",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"澳门",type:"fill",source:"澳门",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"江苏",type:"fill",source:"江苏",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"安徽",type:"fill",source:"安徽",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"西藏",type:"fill",source:"西藏",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"黑龍",type:"fill",source:"黑龍",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"吉林",type:"fill",source:"吉林",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"上海",type:"fill",source:"上海",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"甘肃",type:"fill",source:"甘肃",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"山西",type:"fill",source:"山西",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"香港",type:"fill",source:"香港",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"四川",type:"fill",source:"四川",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"浙江",type:"fill",source:"浙江",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"宁夏",type:"fill",source:"宁夏",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"云南",type:"fill",source:"云南",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"内蒙",type:"fill",source:"内蒙",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"辽宁",type:"fill",source:"辽宁",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"广东",type:"fill",source:"广东",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"青海",type:"fill",source:"青海",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"新疆",type:"fill",source:"新疆",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"北京",type:"fill",source:"北京",minzoom:6,layout:{visibility:"visible"},paint:{"fill-color":{property:"quantity",stops:[[1,"#ffffb2"],[10,"#fd8d3c"],[50,"#fc4e2a"],[100,"#b10026"]]},"fill-outline-color":"#131313"}},{id:"china",type:"line",source:"china","source-layer":"china",layout:{visibility:"visible"},paint:{"line-color":{stops:[[6,"#131313"],[6.5,"#000000"]]},"line-width":{stops:[[6,1],[6.5,2.5]]}}},{id:"name",minzoom:6,type:"raster",source:"name"}]},c=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={viewport:{width:"100vw",height:"100vh",latitude:37.01677,longitude:106.50836,zoom:2,pitch:0,bearing:0},feature:null,style:u},t.handleViewportChange=t.handleViewportChange.bind(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"handleViewportChange",value:function(t){console.log(t),this.setState({viewport:t})}},{key:"render",value:function(){var t=this;return a.default.createElement("div",{className:"ui sixteen  wide column "},a.default.createElement(s.default,r({mapStyle:this.state.style},this.state.viewport,{onClick:function(e){console.log(e),t.setState({feature:e.features[0]})},onViewportChange:function(e){return t.handleViewportChange(e)}}),this.state.feature?a.default.createElement("div",{style:{backgroundColor:"#f3f3f3",width:"15em",position:"absolute",height:"10em",right:"3em",textAlign:"center"}},a.default.createElement("h3",null,"信息"),this.state.feature.properties.description):null,a.default.createElement("div",{style:{position:"absolute",width:"6em",height:"10em",right:"0.5em",bottom:"5em"}},a.default.createElement("table",null,a.default.createElement("tr",null,a.default.createElement("td",null,"101+"),a.default.createElement("td",null,a.default.createElement("div",{style:{backgroundColor:"#b10026",height:"1em",width:"1em"}}))),a.default.createElement("tr",null,a.default.createElement("td",null,"51-100"),a.default.createElement("td",null,a.default.createElement("div",{style:{backgroundColor:"#fc4e2a",height:"1em",width:"1em"}}))),a.default.createElement("tr",null,a.default.createElement("td",null,"11-50"),a.default.createElement("td",null,a.default.createElement("div",{style:{backgroundColor:"#fd8d3c",height:"1em",width:"1em"}}))),a.default.createElement("tr",null,a.default.createElement("td",null,"6-10"),a.default.createElement("td",null,a.default.createElement("div",{style:{backgroundColor:"#feb24c",height:"1em",width:"1em"}}))),a.default.createElement("tr",null,a.default.createElement("td",null,"1-5"),a.default.createElement("td",null,a.default.createElement("div",{style:{backgroundColor:"#ffffb2",height:"1em",width:"1em"}}))),a.default.createElement("tr",null,a.default.createElement("td",null,"疑似"),a.default.createElement("td",null,a.default.createElement("div",{style:{backgroundColor:"#d3d3d3",height:"1em",width:"1em"}}))))),a.default.createElement("img",{src:"./imgs/icon.png",style:{position:"absolute",width:"10em",height:"3em",right:"0.1em",bottom:"1.5em"},alt:"领图"}),a.default.createElement("div",{style:{position:"absolute",width:"11em",height:"1em",right:"0.1em",bottom:"0.5em"}},"powered by ",a.default.createElement("a",{href:"http://www.leadmap.net/"},"LeadMap"))))}}]),e}(o.Component);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=p(o),s=p(n(45)),l=p(n(104)),u=p(n(53)),c=p(n(105));function p(t){return t&&t.__esModule?t:{default:t}}var h={content:{top:"30%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};c.default.setAppElement("#root");var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=.875*window.innerWidth,i=window.innerHeight;return n.state={catalog:"guyuan",objectID:"5cdd65861c757c74fc451eff",viewport:{width:r,height:i,longitude:120.57489605342477,latitude:31.35595573106957,zoom:12,pitch:0,bearing:0},style:null,modalIsOpen:!1},n._onLoadStyle=n._onLoadStyle.bind(n),n._resize=n._resize.bind(n),n.divRef=a.default.createRef(),n.openModal=n.openModal.bind(n),n.afterOpenModal=n.afterOpenModal.bind(n),n.closeModal=n.closeModal.bind(n),n._onViewportChange=n._onViewportChange.bind(n),n._fixedHere=n._fixedHere.bind(n),n._onCrop=n._onCrop.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"componentDidMount",value:function(){var t=this;fetch(u.default.prefix+"/"+this.state.catalog+".json").then((function(t){return t.json()})).then((function(e){var n=e;n.viewport?t.setState({style:n.style,viewport:n.viewport,objectID:n._id}):t.setState({style:n.style,objectID:n._id})})),window.addEventListener("resize",this._resize)}},{key:"_onLoadStyle",value:function(){window.location.assign(u.default.prefix+"/test/"+this.state.objectID)}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){this.inputWidth.value=this.state.viewport.width,this.inputHeight.value=this.state.viewport.height,this.inputLongitude.value=this.state.viewport.longitude,this.inputLatitude.value=this.state.viewport.latitude,this.inputPitch.value=this.state.viewport.pitch,this.inputBearing.value=this.state.viewport.bearing,this.selectZoom.value=this.state.viewport.zoom}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"_onViewportChange",value:function(){var t={width:parseInt(this.inputWidth.value,10),height:parseInt(this.inputHeight.value,10),longitude:parseFloat(this.inputLongitude.value),latitude:parseFloat(this.inputLatitude.value),pitch:parseFloat(this.inputPitch.value),bearing:parseFloat(this.inputBearing.value),zoom:parseFloat(this.selectZoom.value)},e={style:this.state.style,prev:this.state.objectID,catalog:this.state.catalog,viewport:t};console.log(t),fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)})),this.closeModal()}},{key:"_fixedHere",value:function(){var t={style:this.state.style,prev:this.state.objectID,catalog:this.state.catalog,viewport:this.state.viewport};console.log(this.state.viewport),fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))}},{key:"_resize",value:function(){console.log("resize");var t=.875*window.innerWidth,e=window.innerHeight;this.setState({viewport:r({width:t,height:e},this.state.viewport)})}},{key:"_onCrop",value:function(){}},{key:"render",value:function(){var t=this;return a.default.createElement("div",{id:"container",className:"fourteen wide column "},a.default.createElement(s.default,r({onResize:this._resize,mapStyle:this.state.style},this.state.viewport,{onClick:function(t){return console.log(t)},onViewportChange:function(e){console.log(e),t.setState({viewport:e})}}),a.default.createElement(l.default,{onLoadStyle:this._onLoadStyle,onShowModal:this.openModal,onFixedHere:this._fixedHere,onCrop:this._onCrop})),a.default.createElement(c.default,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:h},a.default.createElement("div",{className:"ui card",style:{height:"100%",width:"100%"}},a.default.createElement("div",{className:"content"},a.default.createElement("div",{className:"header"},"ViewPort 设置")),a.default.createElement("div",{className:"ui segment"},a.default.createElement("div",{className:"ui  form"},a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"MapSize"),a.default.createElement("div",{className:"two fields"},a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"RECT[WIDTH]",placeholder:"width",ref:function(e){return t.inputWidth=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"RECT[HEGHT]",placeholder:"height",ref:function(e){return t.inputHeight=e}})))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"Center"),a.default.createElement("div",{className:"two fields"},a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"Center[lonitude]",placeholder:"longitude",ref:function(e){return t.inputLongitude=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"Center[latitude]",placeholder:"latitude",ref:function(e){return t.inputLatitude=e}})))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"zoom"),a.default.createElement("select",{className:"ui fluid dropdown",ref:function(e){return t.selectZoom=e}},function(t,e){for(var n=[],r=t;r<e;r++)n.push(a.default.createElement("option",{key:"option"+r,value:r},r));return n}(1,20))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"pitch"),a.default.createElement("input",{type:"text",name:"pitch",ref:function(e){return t.inputPitch=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"bearing"),a.default.createElement("input",{type:"text",name:"bearing",ref:function(e){return t.inputBearing=e}})),a.default.createElement("div",{className:"ui right floated buttons"},a.default.createElement("div",{className:"ui red button",onClick:this._onViewportChange},"Update"),a.default.createElement("div",{className:"ui green button",onClick:this.closeModal},"Cancel")))))))}}]),e}(o.Component);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bodyOpenClassName=e.portalClassName=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=d(o),s=d(n(48)),l=d(n(1)),u=d(n(642)),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(310)),p=n(215),h=d(p),f=n(216);function d(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var v=e.portalClassName="ReactModalPortal",y=e.bodyOpenClassName="ReactModal__Body--open",_=void 0!==s.default.createPortal,b=function(){return _?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function x(t){return t()}var w=function(t){function e(){var t,n,i;g(this,e);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=i=m(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.removePortal=function(){!_&&s.default.unmountComponentAtNode(i.node),x(i.props.parentSelector).removeChild(i.node)},i.portalRef=function(t){i.portal=t},i.renderPortal=function(t){var n=b()(i,a.default.createElement(u.default,r({defaultStyles:e.defaultStyles},t)),i.node);i.portalRef(n)},m(i,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"componentDidMount",value:function(){p.canUseDOM&&(_||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,x(this.props.parentSelector).appendChild(this.node),!_&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(t){return{prevParent:x(t.parentSelector),nextParent:x(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(t,e,n){if(p.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;t.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(t.isOpen||i)&&!_&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(p.canUseDOM&&this.node&&this.portal){var t=this.portal.state,e=Date.now(),n=t.isOpen&&this.props.closeTimeoutMS&&(t.closesAt||e+this.props.closeTimeoutMS);n?(t.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-e)):this.removePortal()}}},{key:"render",value:function(){return p.canUseDOM&&_?(!this.node&&_&&(this.node=document.createElement("div")),b()(a.default.createElement(u.default,r({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(t){c.setElement(t)}}]),e}(o.Component);w.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.instanceOf(h.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func},w.defaultProps={isOpen:!1,portalClassName:v,bodyOpenClassName:y,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},w.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(w),e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),s=g(a),l=g(n(1)),u=d(n(643)),c=g(n(644)),p=d(n(310)),h=d(n(646)),f=g(n(215));function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function g(t){return t&&t.__esModule?t:{default:t}}var m={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},v=0,y=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setOverlayRef=function(t){n.overlay=t,n.props.overlayRef&&n.props.overlayRef(t)},n.setContentRef=function(t){n.content=t,n.props.contentRef&&n.props.contentRef(t)},n.afterClose=function(){var t=n.props,e=t.appElement,r=t.ariaHideApp,i=t.htmlOpenClassName,o=t.bodyOpenClassName;o&&h.remove(document.body,o),i&&h.remove(document.getElementsByTagName("html")[0],i),r&&v>0&&0===(v-=1)&&p.show(e),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(u.returnFocus(),u.teardownScopedFocus()):u.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose()},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(u.setupScopedFocus(n.node),u.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var t=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:t},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(t){9===t.keyCode&&(0,c.default)(n.content,t),n.props.shouldCloseOnEsc&&27===t.keyCode&&(t.stopPropagation(),n.requestClose(t))},n.handleOverlayOnClick=function(t){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(t):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(t){n.props.shouldCloseOnOverlayClick||t.target!=n.overlay||t.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(t){return n.ownerHandlesClose()&&n.props.onRequestClose(t)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(t,e){var r="object"===(void 0===e?"undefined":i(e))?e:{base:m[t],afterOpen:m[t]+"--after-open",beforeClose:m[t]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"==typeof e&&e?o+" "+e:o},n.attributesFromObject=function(t,e){return Object.keys(e).reduce((function(n,r){return n[t+"-"+r]=e[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(t,e){this.props.isOpen&&!t.isOpen?this.open():!this.props.isOpen&&t.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!e.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var t=this.props,e=t.appElement,n=t.ariaHideApp,r=t.htmlOpenClassName,i=t.bodyOpenClassName;i&&h.add(document.body,i),r&&h.add(document.getElementsByTagName("html")[0],r),n&&(v+=1,p.hide(e))}},{key:"render",value:function(){var t=this.props,e=t.id,n=t.className,i=t.overlayClassName,o=t.defaultStyles,a=n?{}:o.content,l=i?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",r({id:e,ref:this.setContentRef,style:r({},a,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),e}(a.Component);y.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},y.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.instanceOf(f.default),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,testId:l.default.string},e.default=y,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handleBlur=u,e.handleFocus=c,e.markForFocusLater=function(){a.push(document.activeElement)},e.returnFocus=function(){var t=null;try{return void(0!==a.length&&(t=a.pop()).focus())}catch(e){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},e.popWithoutFocus=function(){a.length>0&&a.pop()},e.setupScopedFocus=function(t){s=t,window.addEventListener?(window.addEventListener("blur",u,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",u),document.attachEvent("onFocus",c))},e.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",u),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",u),document.detachEvent("onFocus",c))};var r,i=n(309),o=(r=i)&&r.__esModule?r:{default:r};var a=[],s=null,l=!1;function u(){l=!0}function c(){if(l){if(l=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()}),0)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,o.default)(t);if(!n.length)return void e.preventDefault();var r,i=e.shiftKey,a=n[0],s=n[n.length-1];if(t===document.activeElement){if(!i)return;r=s}s!==document.activeElement||i||(r=a);a===document.activeElement&&i&&(r=s);if(r)return e.preventDefault(),void r.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var u=n.indexOf(document.activeElement);u>-1&&(u+=i?-1:1);if(void 0===n[u])return e.preventDefault(),void(r=i?s:a).focus();e.preventDefault(),n[u].focus()};var r,i=n(309),o=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},function(t,e,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dumpClassLists=function(){0};var r={},i={};e.add=function(t,e){return n=t.classList,o="html"==t.nodeName.toLowerCase()?r:i,void e.split(" ").forEach((function(t){!function(t,e){t[e]||(t[e]=0),t[e]+=1}(o,t),n.add(t)}));var n,o},e.remove=function(t,e){return n=t.classList,o="html"==t.nodeName.toLowerCase()?r:i,void e.split(" ").forEach((function(t){!function(t,e){t[e]&&(t[e]-=1)}(o,t),0===o[t]&&n.remove(t)}));var n,o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=u(o),s=u(n(45)),l=u(n(53));u(n(212));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={url:l.default.server_url,viewport:{width:"100vw",height:"100vh",latitude:26.00197,longitude:119.338782,zoom:12,pitch:50,bearing:-20}},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"render",value:function(){var t=this;return a.default.createElement("div",{className:"fourteen wide column "},a.default.createElement(s.default,r({mapStyle:{version:8,sources:{parkpts:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:parkpts&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},greenground:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:greenground&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},rivers:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:water&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},river:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:river&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},buildings:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:buildings&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},jiewuguan:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:jiewuguan&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},roads:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:roads&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},roadnet:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:roadnet&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},provincialhighway:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:provincialhighway&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},countyroad:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:countyroad&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},expressway:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:expressway&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},reservoir:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:reservoir&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},sewagepipe:{type:"vector",tiles:["http://183.129.204.238:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshan:sewagepipe&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]}},layers:[{id:"background",type:"background",paint:{"background-color":"#142a21","background-opacity":1}},{id:"greenground",type:"fill",source:"greenground","source-layer":"greenground",layout:{visibility:"visible"},paint:{"fill-color":"#142a21"}},{id:"expressway",type:"line",source:"expressway","source-layer":"expressway",layout:{visibility:"visible"},paint:{"line-color":"#50a882","line-opacity":1,"line-width":5}},{id:"roadnet",type:"fill",source:"roadnet","source-layer":"roadnet",layout:{visibility:"visible"},paint:{"fill-color":"#3c7e61","fill-translate":[0,0]}},{id:"provincialhighway",type:"line",source:"provincialhighway","source-layer":"provincialhighway",layout:{visibility:"visible"},paint:{"line-color":"#285441","line-opacity":1,"line-width":4}},{id:"countyroad",type:"line",source:"countyroad","source-layer":"countyroad",layout:{visibility:"visible"},paint:{"line-color":"#EBC547","line-opacity":1,"line-width":3}},{id:"buildings",type:"fill",source:"buildings","source-layer":"buildings",paint:{"fill-color":"#071a11"}},{id:"rivers",type:"fill",source:"rivers","source-layer":"water",layout:{visibility:"visible"},paint:{"fill-color":"#285441"}},{id:"jiewuguan",type:"line",source:"jiewuguan","source-layer":"jiewuguan",minzoom:11.9,maxzoom:21.7,layout:{},paint:{"line-color":"#8dcbf7","line-dasharray":[4,2]}},{id:"reservoir",type:"line",source:"reservoir","source-layer":"reservoir",layout:{visibility:"visible"},paint:{"line-color":"#ededcf","line-width":4}},{id:"sewagepipe",type:"line",source:"sewagepipe","source-layer":"sewagepipe",layout:{visibility:"none"},paint:{"line-color":"rgb(146, 100, 216)","line-width":3}}]}},this.state.viewport,{onViewportChange:function(e){console.log(e),t.setState({viewport:e})}})))}}]),e}(o.Component);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=m(o),s=m(n(45)),l=m(n(104)),u=m(n(53)),c=m(n(105)),p=n(153),h=m(n(89)),f=n(154);n(155),n(158),n(159);var d=n(160),g=m(n(88));function m(t){return t&&t.__esModule?t:{default:t}}function v(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=function(t){var e=t.node,n=t.style;t.prefix;return a.default.createElement("div",{style:n.base},a.default.createElement("div",{style:i({},n.title,{display:"flex"})},a.default.createElement("i",{style:{display:"flex",width:"10px",height:"10px",marginRight:"0.5em",color:e.color},className:e.img}),a.default.createElement("i",{style:{display:"flex",width:"10px",height:"10px",marginRight:"0.5em"},className:e.visible?"eye icon":"low vision icon"})," "+e.name.toUpperCase()))},w=(function(t){function e(){return y(this,e),_(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}b(e,t),r(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.style,r=e.decorators,i=e.terminal,o=e.onClick,s=e.node;return a.default.createElement("div",{onClick:o,ref:function(e){return t.clickableRef=e},style:n.container[0]},a.default.createElement(r.Header,{node:s,style:n.header}),a.default.createElement("span",{style:{float:"right"}},i?null:this.renderToggle()))}}])}(h.default.Container),{name:"root",toggled:!0,children:[{name:"parent",children:[{name:"child1"},{name:"child2"}]},{name:"loading parent",loading:!0,children:[]},{name:"parent",children:[{name:"nested parent",children:[{name:"nested child 1"},{name:"nested child 2"}]}]}]}),E={content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},C={content:{width:"500px",top:"30%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},S={marginTop:"20px",position:"absolute",zIndex:1e4};c.default.setAppElement("#root");var T=function(t){function e(t){y(this,e);var n=_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.instance=null;var r=.875*window.innerWidth,i=window.innerHeight;return n.state={catalog:u.default.catalog,objectID:"5cdd65861c757c74fc451eff",viewport:{width:r,height:i,longitude:120.57489605342477,latitude:31.35595573106957,zoom:12,pitch:0,bearing:0},style:null,modalIsOpen:!1,LayerModal:!1,gridsetIsOn:!1,zoomCheck:null,data:w,displayData:null,editorDataDesc:{type:"source",order:-1,name:""},closeCodeMirrorModal:!1},n._onLoadStyle=n._onLoadStyle.bind(n),n._resize=n._resize.bind(n),n.divRef=a.default.createRef(),n.openModal=n.openModal.bind(n),n.afterOpenModal=n.afterOpenModal.bind(n),n.closeModal=n.closeModal.bind(n),n._onViewportChange=n._onViewportChange.bind(n),n._fixedHere=n._fixedHere.bind(n),n._onCrop=n._onCrop.bind(n),n._drawGridSet=n._drawGridSet.bind(n),n._hideGridSet=n._hideGridSet.bind(n),n._onViewportChange=n._onViewportChange.bind(n),n.onToggle=n.onToggle.bind(n),n.openCodeMirrorModal=n.openCodeMirrorModal.bind(n),n.afterOpenCodeMirrorModal=n.afterOpenCodeMirrorModal.bind(n),n.closeCodeMirrorModal=n.closeCodeMirrorModal.bind(n),n.saveCodeMirrorModal=n.saveCodeMirrorModal.bind(n),n.findColor=n.findColor.bind(n),n}return b(e,t),r(e,[{key:"onToggle",value:function(t,e){var n=this.state,r=n.cursor,i=n.data;r&&this.setState((function(){return{cursor:r,active:!1}}));var o={};if(t.active=!0,t.children&&(t.toggled=e),e&&0===t.children.length){console.log(t);var a=t.parent,s=t.src;if(console.log(s),"background"===a){switch(t.name){case"source":this.setState((function(){return{displayData:"background has no source"}}));break;case"layer":var l=this.state.style.layers[t.order];o={type:t.name,order:t.order},this.setState((function(){return{displayData:(0,d.js)(JSON.stringify(l),{ident:2}),editorDataDesc:o}}));break;case"visible":this.setState((function(){return{displayData:"background shall be open forever"}}))}return void this.openCodeMirrorModal()}switch(t.name){case"source":var u=this.state.style.sources[s];o={type:t.name,name:s},this.setState((function(){return{displayData:(0,d.js)(JSON.stringify(u),{ident:2}),editorDataDesc:o}}));break;case"layer":var c=this.state.style.layers[t.order];o={type:t.name,order:t.order},this.setState((function(){return{displayData:(0,d.js)(JSON.stringify(c),{ident:2}),editorDataDesc:o}}));break;case"visible":this.setState((function(){return{displayData:"background shall be open forever"}}))}this.openCodeMirrorModal()}this.setState((function(){return{cursor:t,data:Object.assign({},i)}}))}},{key:"findColor",value:function(t){var e={};switch(t.type){case"background":e={color:t.paint["background-color"]||"#FFFFFF",img:"leaf icon"};break;case"line":e={color:t.paint["line-color"]||"#FFFFFF",img:"window minimize outline icon"};break;case"circle":e={color:t.paint["circle-color"]||"#FFFFFF",img:"circle icon"};break;case"symbol":e={color:t.paint&&t.paint["text-color"]||"#FFFFFF",img:"marker icon"};break;case"fill":e={color:t.paint["fill-color"]||"#FFFFFF",img:"stop icon"};break;case"raster":e={color:"#FFFFFF",img:"image icon"};break;default:e={color:t.paint[t.type+"-color"]||"#FFFFFF"}}return t.layout&&t.layout.visibility&&"none"===t.layout.visibility?e.visible=!1:e.visible=!0,e}},{key:"componentDidMount",value:function(){var t=this;fetch(u.default.prefix+"/"+this.state.catalog+".json").then((function(t){return t.json()})).then((function(e){var n=e;console.log(n);var r={name:"root",visible:!0,children:n.style.layers.map((function(e,n){var r=t.findColor(e);return{name:e.id,color:r.color,img:r.img,visible:r.visible,children:[{name:"source",parent:e.id,src:e.source,order:n,visible:r.visible,children:[]},{name:"layer",parent:e.id,src:e.source,order:n,visible:r.visible,children:[]},{name:"visible",parent:e.id,src:e.source,order:n,visible:r.visible,children:[]}]}}))};console.log(r),n.viewport?t.setState({style:n.style,data:r,viewport:n.viewport,catalog:n.catalog,objectID:n._id}):t.setState({style:n.style,objectID:n._id,data:r,catalog:n.catalog})})),window.addEventListener("resize",this._resize)}},{key:"_onLoadStyle",value:function(){window.location.assign(u.default.prefix+"/test/"+this.state.objectID)}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){this.inputWidth.value=this.state.viewport.width,this.inputHeight.value=this.state.viewport.height,this.inputLongitude.value=this.state.viewport.longitude,this.inputLatitude.value=this.state.viewport.latitude,this.inputPitch.value=this.state.viewport.pitch,this.inputBearing.value=this.state.viewport.bearing,this.selectZoom.value=this.state.viewport.zoom,this.inputCatalog.value=this.state.catalog}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"_onViewportChange",value:function(){var t=this,e={width:parseInt(this.inputWidth.value,10),height:parseInt(this.inputHeight.value,10),longitude:parseFloat(this.inputLongitude.value),latitude:parseFloat(this.inputLatitude.value),pitch:parseFloat(this.inputPitch.value),bearing:parseFloat(this.inputBearing.value),zoom:this.selectZoom.value?parseFloat(this.selectZoom.value):13},n={style:this.state.style,prev:this.state.objectID,catalog:this.inputCatalog.value,viewport:e};console.log(e),fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){u.default.catalog=n.catalog,t.setState({catalog:n.catalog,viewport:n.viewport})})).catch((function(t){return console.log(t)})),this.closeModal()}},{key:"_fixedHere",value:function(){var t={style:this.state.style,prev:this.state.objectID,catalog:this.state.catalog,viewport:this.state.viewport};console.log(this.state.viewport),fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))}},{key:"_resize",value:function(){console.log("resize");var t=.875*window.innerWidth,e=window.innerHeight;this.setState({viewport:i({width:t,height:e},this.state.viewport)})}},{key:"findAndChange",value:function(t,e,n){var r=e,i=r.findIndex((function(e){return e.id===t}));console.log(i);return[].concat(v(r.slice(0,i)),"gridset"===t?[{id:"gridset",type:"line",source:"gridset",paint:{"line-color":"rgb(233,0,0)"},layout:{visibility:n?"none":"visible"}}]:[{id:"center",type:"symbol",source:"center",paint:{},layout:{visibility:n?"none":"visible","text-field":"{desc}","text-font":["Open Sans"]}}],v(r.slice(i+1,r.length)))}},{key:"_hideGridSet",value:function(t){var e=this.findAndChange("gridset",this.state.style.layers,t);e=this.findAndChange("center",e,t);var n=i({},this.state.style,{layers:e});this.setState({style:n,gridsetIsOn:t})}},{key:"getBBox",value:function(t,e,n,r,i){var o,a,s=t*n,l=e*r,u=void 0,c=void 0;return{rect:{type:"Feature",geometry:{type:"LineString",coordinates:[[u=s>180?s-180:-s,a=(c=l>90?l-90:90-l)-r],[o=u+n,a],[o,c],[u,c],[u,a]]},properties:{}},center:{type:"Feature",geometry:{type:"Point",coordinates:[(u+o)/2,(c+a)/2]},properties:{desc:i+":"+e+"x"+t}}}}},{key:"_drawGridSet",value:function(){for(var t=this.state.viewport.longitude,e=this.state.viewport.latitude,n=Math.ceil(this.state.viewport.zoom),r=360/(1<<n),o=180/(1<<n),a=Math.floor((180+t)/r),s=Math.floor((90-e)/o),l=[],u=[],c=-5;c<5;c++)for(var p=-5;p<5;p++){var h=this.getBBox(a+c,s+p,r,o,n);l.push(h.rect),u.push(h.center)}var f={type:"geojson",data:{type:"FeatureCollection",features:l}},d={type:"geojson",data:{type:"FeatureCollection",features:u}};console.log(d);var g=this.state.style.sources,m=i({},g,{gridset:f,center:d}),y=this.state.style.layers,_=y.findIndex((function(t){return"gridset"===t.id}));console.log("i need to know",_);var b=void 0;-1===_?b=[].concat(v(y),[{id:"gridset",type:"line",source:"gridset",paint:{"line-color":"rgb(233,0,0)"},layout:{visibility:"visible"}},{id:"center",type:"symbol",source:"center",paint:{},layout:{visibility:"visible","text-field":"{desc}","text-font":["Open Sans"]}}]):(b=this.findAndChange("gridset",y,!0),b=this.findAndChange("center",b,!0),console.log("i really need to know",b));var x=i({},this.state.style,{sources:m,layers:b});this.setState({style:x,gridsetIsOn:!0,zoomCheck:n})}},{key:"_onCrop",value:function(t){console.log(t.stopPropagation());var e=this.state.style.layers.findIndex((function(t){return"gridset"===t.id})),n=!1;if(-1!==e&&(n="visible"===this.state.style.layers[e].layout.visibility),this.state.style.sources.gridset&&-1!==e&&this.state.zoomCheck===Math.ceil(this.state.viewport.zoom))return console.log("invisible"),void this._hideGridSet(n);this._drawGridSet()}},{key:"__viewportChange",value:function(t){console.log(t),this.state.gridsetIsOn||this._drawGridSet(),this.setState({viewport:t})}},{key:"openCodeMirrorModal",value:function(){this.setState({CodeMirrorIsOpen:!0})}},{key:"afterOpenCodeMirrorModal",value:function(){}},{key:"closeCodeMirrorModal",value:function(){this.setState({CodeMirrorIsOpen:!1})}},{key:"saveCodeMirrorModal",value:function(){var t=this;console.log("changes"),console.log(this.instance.getValue()),console.log(this.state.editorDataDesc);var e,n,r,o=this.state.editorDataDesc.type,a=JSON.parse(this.instance.getValue()),s={};if("source"===o){var l=this.state.editorDataDesc.name,c=this.state.style.sources,p=i({},c,(r=a,(n=l)in(e={})?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e));s=i({},this.state.style,{sources:p})}else{var h=this.state.editorDataDesc.order,f=this.state.style.layers,d=[].concat(v(f.slice(0,h)),[a],v(f.slice(h+1,f.length)));s=i({},this.state.style,{layers:d})}console.log(s);var g={style:s,prev:this.state.objectID,catalog:this.state.catalog,viewport:this.state.viewport};fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(g),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){u.default.catalog=g.catalog,t.setState({style:s})})).catch((function(t){return console.log(t)})),this.closeCodeMirrorModal()}},{key:"render",value:function(){var t=this;return h.default.Header=x,g.default.tree.base=i({},g.default.tree.base,{color:"white",backgroundColor:"#1D1D1D"}),a.default.createElement("div",{id:"container",className:"fourteen wide column "},a.default.createElement("div",{style:S},a.default.createElement(p.Treebeard,{data:this.state.data,onToggle:this.onToggle}),a.default.createElement(c.default,{isOpen:this.state.CodeMirrorIsOpen,onAfterOpen:this.afterOpenCodeMirrorModal,onRequestClose:this.closeCodeMirrorModal,style:C,decorators:h.default},a.default.createElement("div",{className:"ui segment"},a.default.createElement(f.UnControlled,{editorDidMount:function(e){t.instance=e},value:this.state.displayData,options:{mode:"javascript",theme:"material",lineNumbers:!0},onBeforeChange:function(e,n,r){t.setState({value:r})},onChange:function(t,e){console.log("uncontrolled",{value:e})}})),a.default.createElement("div",{className:"ui right floated buttons"},a.default.createElement("div",{className:"ui red button",onClick:this.saveCodeMirrorModal},"Update"),a.default.createElement("div",{className:"ui green button",onClick:this.closeCodeMirrorModal},"Cancel")))),a.default.createElement(s.default,i({onResize:this._resize,mapStyle:this.state.style},this.state.viewport,{onClick:function(t){return console.log(t)},onViewportChange:function(e){console.log(e),t.setState({viewport:e})}}),a.default.createElement(l.default,{onLoadStyle:this._onLoadStyle,onShowModal:this.openModal,onFixedHere:this._fixedHere,onCrop:this._onCrop})),a.default.createElement(c.default,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:E},a.default.createElement("div",{className:"ui card",style:{height:"100%",width:"100%"}},a.default.createElement("div",{className:"content"},a.default.createElement("div",{className:"header"},"ViewPort 设置")),a.default.createElement("div",{className:"ui segment"},a.default.createElement("div",{className:"ui  form"},a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"MapSize"),a.default.createElement("div",{className:"two fields"},a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"RECT[WIDTH]",placeholder:"width",ref:function(e){return t.inputWidth=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"RECT[HEGHT]",placeholder:"height",ref:function(e){return t.inputHeight=e}})))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"Center"),a.default.createElement("div",{className:"two fields"},a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"Center[lonitude]",placeholder:"longitude",ref:function(e){return t.inputLongitude=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"Center[latitude]",placeholder:"latitude",ref:function(e){return t.inputLatitude=e}})))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"zoom"),a.default.createElement("select",{className:"ui fluid dropdown",ref:function(e){return t.selectZoom=e}},function(t,e){for(var n=[],r=t;r<e;r++)n.push(a.default.createElement("option",{key:"option"+r,value:r},r));return n}(1,20))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"pitch"),a.default.createElement("input",{type:"text",name:"pitch",ref:function(e){return t.inputPitch=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"bearing"),a.default.createElement("input",{type:"text",name:"bearing",ref:function(e){return t.inputBearing=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"catalog"),a.default.createElement("input",{type:"text",name:"bearing",ref:function(e){return t.inputCatalog=e}})),a.default.createElement("div",{className:"ui right floated buttons"},a.default.createElement("div",{className:"ui red button",onClick:this._onViewportChange},"Update"),a.default.createElement("div",{className:"ui green button",onClick:this.closeModal},"Cancel")))))))}}]),e}(o.Component);e.default=T},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Treebeard",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"decorators",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"animations",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"theme",{enumerable:!0,get:function(){return a.default}});var r=s(n(650)),i=s(n(89)),o=s(n(217)),a=s(n(88));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(n(0)),i=h(n(1)),o=n(311),a=h(n(88)),s=h(n(217)),l=n(312),u=n(106),c=h(n(89)),p=h(n(668));function h(t){return t&&t.__esModule?t:{default:t}}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){g(t,e,n[e])}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){var e=t.animations,n=t.decorators,i=t.data,s=t.onToggle,c=t.style;return r.default.createElement(u.Ul,{style:d({},a.default.tree.base,c.tree.base)},(0,o.castArray)(i).map((function(t){return r.default.createElement(p.default,f({decorators:n,node:t,onToggle:s,animations:e},{key:t.id||(0,l.randomString)(),style:d({},a.default.tree.node,c.tree.node)}))})))};m.propTypes={style:i.default.object,data:i.default.oneOfType([i.default.object,i.default.array]).isRequired,animations:i.default.oneOfType([i.default.object,i.default.bool]),onToggle:i.default.func,decorators:i.default.object},m.defaultProps={style:a.default,animations:s.default,decorators:c.default};var v=m;e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){return Math.random().toString(36).substring(7)};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),o=(r=n(1))&&r.__esModule?r:{default:r},a=n(313);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){u(t,e,n[e])}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(){return c(this,e),h(this,f(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(r=[{key:"renderToggle",value:function(){var t=this.props.animations;return t?i.default.createElement(a.VelocityComponent,{animation:t.toggle.animation,duration:t.toggle.duration},this.renderToggleDecorator()):this.renderToggleDecorator()}},{key:"renderToggleDecorator",value:function(){var t=this.props,e=t.style,n=t.decorators;return i.default.createElement(n.Toggle,{style:e.toggle})}},{key:"render",value:function(){var t=this.props,e=t.style,n=t.decorators,r=t.terminal,o=t.onClick,a=t.node;return i.default.createElement("div",{onClick:o,style:a.active?l({},e.container):l({},e.link)},r?null:this.renderToggle(),i.default.createElement(n.Header,{node:a,style:e.header}))}}])&&p(n.prototype,r),o&&p(n,o),e}(i.PureComponent);g.propTypes={style:o.default.object.isRequired,decorators:o.default.object.isRequired,terminal:o.default.bool.isRequired,onClick:o.default.func.isRequired,animations:o.default.oneOfType([o.default.object,o.default.bool]).isRequired,node:o.default.object.isRequired};var m=g;e.default=m},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();var i={forEach:n(23),isEqual:n(91),keys:n(25),omit:n(314)},o=n(0),a=n(48),s=n(1),l=n(218),u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._animationTimeout=null,n.runAnimation=n.runAnimation.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"componentDidMount",value:function(){this.runAnimation(),!0!==this.props.runOnMount&&this._finishAnimation()}},{key:"componentDidUpdate",value:function(t){i.isEqual(t.animation,this.props.animation)||("stop"===this.props.interruptBehavior?this._stopAnimation():"finish"===this.props.interruptBehavior&&this._finishAnimation(),this._scheduleAnimation())}},{key:"componentWillUnmount",value:function(){this._stopAnimation(),this._clearVelocityCache(this._getDOMTarget()),this._animationTimeout&&clearTimeout(this._animationTimeout)}},{key:"runAnimation",value:function(t){if(t=t||{},this._animationTimeout=null,null!=this.props.animation){t.stop?l(this._getDOMTarget(),"stop",!0):t.finish&&l(this._getDOMTarget(),"finishAll",!0);var n=i.omit(this.props,i.keys(e.propTypes));l(this._getDOMTarget(),this.props.animation,n)}}},{key:"_scheduleAnimation",value:function(){this._animationTimeout||(this._animationTimeout=setTimeout(this.runAnimation,0))}},{key:"_getDOMTarget",value:function(){var t=a.findDOMNode(this);return"children"===this.props.targetQuerySelector?t.children:null!=this.props.targetQuerySelector?t.querySelectorAll(this.props.targetQuerySelector):t}},{key:"_finishAnimation",value:function(){l(this._getDOMTarget(),"finishAll",!0)}},{key:"_stopAnimation",value:function(){l(this._getDOMTarget(),"stop",!0)}},{key:"_clearVelocityCache",value:function(t){t.length?i.forEach(t,this._clearVelocityCache):l.Utilities.removeData(t,["velocity","fxqueue"])}},{key:"render",value:function(){return this.props.children}}]),e}(o.Component);u.propTypes={animation:s.any,children:s.element.isRequired,runOnMount:s.bool,targetQuerySelector:s.string,interruptBehavior:s.string},u.defaultProps={animation:null,runOnMount:!1,targetQuerySelector:null,interruptBehavior:"stop"},t.exports=u},function(t,e,n){var r=n(71),i=n(163),o=n(252),a=n(61);t.exports=function(t,e){return e=r(e,t),null==(t=o(t,e))||delete t[a(i(e))]}},function(t,e,n){var r=n(78);t.exports=function(t){return r(t)?void 0:t}},function(t,e,n){var r,i;/*! VelocityJS.org (1.5.2). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */!function(t){"use strict";if(!t.jQuery){var e=function(t,n){return new e.fn.init(t,n)};e.isWindow=function(t){return t&&t===t.window},e.type=function(t){return t?"object"==typeof t||"function"==typeof t?r[o.call(t)]||"object":typeof t:t+""},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isPlainObject=function(t){var n;if(!t||"object"!==e.type(t)||t.nodeType||e.isWindow(t))return!1;try{if(t.constructor&&!i.call(t,"constructor")&&!i.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(n in t);return void 0===n||i.call(t,n)},e.each=function(t,e,n){var r=0,i=t.length,o=l(t);if(n){if(o)for(;r<i&&!1!==e.apply(t[r],n);r++);else for(r in t)if(t.hasOwnProperty(r)&&!1===e.apply(t[r],n))break}else if(o)for(;r<i&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(t.hasOwnProperty(r)&&!1===e.call(t[r],r,t[r]))break;return t},e.data=function(t,r,i){if(void 0===i){var o=t[e.expando],a=o&&n[o];if(void 0===r)return a;if(a&&r in a)return a[r]}else if(void 0!==r){var s=t[e.expando]||(t[e.expando]=++e.uuid);return n[s]=n[s]||{},n[s][r]=i,i}},e.removeData=function(t,r){var i=t[e.expando],o=i&&n[i];o&&(r?e.each(r,(function(t,e){delete o[e]})):delete n[i])},e.extend=function(){var t,n,r,i,o,a,s=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[l]||{},l++),"object"!=typeof s&&"function"!==e.type(s)&&(s={}),l===u&&(s=this,l--);l<u;l++)if(o=arguments[l])for(i in o)o.hasOwnProperty(i)&&(t=s[i],s!==(r=o[i])&&(c&&r&&(e.isPlainObject(r)||(n=e.isArray(r)))?(n?(n=!1,a=t&&e.isArray(t)?t:[]):a=t&&e.isPlainObject(t)?t:{},s[i]=e.extend(c,a,r)):void 0!==r&&(s[i]=r)));return s},e.queue=function(t,n,r){if(t){n=(n||"fx")+"queue";var i,o,a,s=e.data(t,n);return r?(!s||e.isArray(r)?s=e.data(t,n,(a=o||[],(i=r)&&(l(Object(i))?function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;)t[i++]=e[r++];if(n!=n)for(;void 0!==e[r];)t[i++]=e[r++];t.length=i}(a,"string"==typeof i?[i]:i):[].push.call(a,i)),a)):s.push(r),s):s||[]}},e.dequeue=function(t,n){e.each(t.nodeType?[t]:t,(function(t,r){n=n||"fx";var i=e.queue(r,n),o=i.shift();"inprogress"===o&&(o=i.shift()),o&&("fx"===n&&i.unshift("inprogress"),o.call(r,(function(){e.dequeue(r,n)})))}))},e.fn=e.prototype={init:function(t){if(t.nodeType)return this[0]=t,this;throw new Error("Not a DOM node.")},offset:function(){var e=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:e.top+(t.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:e.left+(t.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){var t=this[0],n=function(t){for(var e=t.offsetParent;e&&"html"!==e.nodeName.toLowerCase()&&e.style&&"static"===e.style.position.toLowerCase();)e=e.offsetParent;return e||document}(t),r=this.offset(),i=/^(?:body|html)$/i.test(n.nodeName)?{top:0,left:0}:e(n).offset();return r.top-=parseFloat(t.style.marginTop)||0,r.left-=parseFloat(t.style.marginLeft)||0,n.style&&(i.top+=parseFloat(n.style.borderTopWidth)||0,i.left+=parseFloat(n.style.borderLeftWidth)||0),{top:r.top-i.top,left:r.left-i.left}}};var n={};e.expando="velocity"+(new Date).getTime(),e.uuid=0;for(var r={},i=r.hasOwnProperty,o=r.toString,a="Boolean Number String Function Array Date RegExp Object Error".split(" "),s=0;s<a.length;s++)r["[object "+a[s]+"]"]=a[s].toLowerCase();e.fn.init.prototype=e.fn,t.Velocity={Utilities:e}}function l(t){var n=t.length,r=e.type(t);return"function"!==r&&!e.isWindow(t)&&(!(1!==t.nodeType||!n)||("array"===r||0===n||"number"==typeof n&&n>0&&n-1 in t))}}(window),function(o){"use strict";"object"==typeof t.exports?t.exports=o():void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)}((function(){"use strict";return function(t,e,n,r){var i,o=function(){if(n.documentMode)return n.documentMode;for(var t=7;t>4;t--){var e=n.createElement("div");if(e.innerHTML="\x3c!--[if IE "+t+"]><span></span><![endif]--\x3e",e.getElementsByTagName("span").length)return e=null,t}}(),a=(i=0,e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){var e,n=(new Date).getTime();return e=Math.max(0,16-(n-i)),i=n+e,setTimeout((function(){t(n+e)}),e)}),s=function(){var t=e.performance||{};if("function"!=typeof t.now){var n=t.timing&&t.timing.navigationStart?t.timing.navigationStart:(new Date).getTime();t.now=function(){return(new Date).getTime()-n}}return t}();var l=function(){var t=Array.prototype.slice;try{return t.call(n.documentElement),t}catch(e){return function(e,n){var r=this.length;if("number"!=typeof e&&(e=0),"number"!=typeof n&&(n=r),this.slice)return t.call(this,e,n);var i,o=[],a=e>=0?e:Math.max(0,r+e),s=(n<0?r+n:Math.min(n,r))-a;if(s>0)if(o=new Array(s),this.charAt)for(i=0;i<s;i++)o[i]=this.charAt(a+i);else for(i=0;i<s;i++)o[i]=this[a+i];return o}}}(),u=function(){return Array.prototype.includes?function(t,e){return t.includes(e)}:Array.prototype.indexOf?function(t,e){return t.indexOf(e)>=0}:function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}};function c(t){return h.isWrapped(t)?t=l.call(t):h.isNode(t)&&(t=[t]),t}var p,h={isNumber:function(t){return"number"==typeof t},isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNode:function(t){return t&&t.nodeType},isWrapped:function(t){return t&&t!==e&&h.isNumber(t.length)&&!h.isString(t)&&!h.isFunction(t)&&!h.isNode(t)&&(0===t.length||h.isNode(t[0]))},isSVG:function(t){return e.SVGElement&&t instanceof e.SVGElement},isEmptyObject:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}},f=!1;if(t.fn&&t.fn.jquery?(p=t,f=!0):p=e.Velocity.Utilities,o<=8&&!f)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(!(o<=7)){var d={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e.navigator.userAgent),isAndroid:/Android/i.test(e.navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(e.navigator.userAgent),isChrome:e.chrome,isFirefox:/Firefox/i.test(e.navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:p,Redirects:{},Easings:{},Promise:e.Promise,defaults:{queue:"",duration:400,easing:"swing",begin:void 0,complete:void 0,progress:void 0,display:void 0,visibility:void 0,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(t){p.data(t,"velocity",{isSVG:h.isSVG(t),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:5,patch:2},debug:!1,timestamp:!0,pauseAll:function(t){var e=(new Date).getTime();p.each(d.State.calls,(function(e,n){if(n){if(void 0!==t&&(n[2].queue!==t||!1===n[2].queue))return!0;n[5]={resume:!1}}})),p.each(d.State.delayedElements,(function(t,n){n&&x(n,e)}))},resumeAll:function(t){var e=(new Date).getTime();p.each(d.State.calls,(function(e,n){if(n){if(void 0!==t&&(n[2].queue!==t||!1===n[2].queue))return!0;n[5]&&(n[5].resume=!0)}})),p.each(d.State.delayedElements,(function(t,n){n&&w(n,e)}))}};void 0!==e.pageYOffset?(d.State.scrollAnchor=e,d.State.scrollPropertyLeft="pageXOffset",d.State.scrollPropertyTop="pageYOffset"):(d.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,d.State.scrollPropertyLeft="scrollLeft",d.State.scrollPropertyTop="scrollTop");var g=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,r){var i={x:e.x+r.dx*n,v:e.v+r.dv*n,tension:e.tension,friction:e.friction};return{dx:i.v,dv:t(i)}}function n(n,r){var i={dx:n.v,dv:t(n)},o=e(n,.5*r,i),a=e(n,.5*r,o),s=e(n,r,a),l=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),u=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+l*r,n.v=n.v+u*r,n}return function t(e,r,i){var o,a,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0;for(e=parseFloat(e)||500,r=parseFloat(r)||20,i=i||null,l.tension=e,l.friction=r,a=(o=null!==i)?(c=t(e,r))/i*.016:.016;s=n(s||l,a),u.push(1+s.x),c+=16,Math.abs(s.x)>1e-4&&Math.abs(s.v)>1e-4;);return o?function(t){return u[t*(u.length-1)|0]}:c}}();d.Easings={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}},p.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],(function(t,e){d.Easings[e[0]]=C.apply(null,e[1])}));var m=d.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var t=0;t<m.Lists.colors.length;t++){var e="color"===m.Lists.colors[t]?"0 0 0 1":"255 255 255 1";m.Hooks.templates[m.Lists.colors[t]]=["Red Green Blue Alpha",e]}var n,r,i;if(o)for(n in m.Hooks.templates)if(m.Hooks.templates.hasOwnProperty(n)){i=(r=m.Hooks.templates[n])[0].split(" ");var a=r[1].match(m.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),a.push(a.shift()),m.Hooks.templates[n]=[i.join(" "),a.join(" ")])}for(n in m.Hooks.templates)if(m.Hooks.templates.hasOwnProperty(n))for(var s in i=(r=m.Hooks.templates[n])[0].split(" "))if(i.hasOwnProperty(s)){var l=n+i[s],u=s;m.Hooks.registered[l]=[n,u]}},getRoot:function(t){var e=m.Hooks.registered[t];return e?e[0]:t},getUnit:function(t,e){var n=(t.substr(e||0,5).match(/^[a-z%]+/)||[])[0]||"";return n&&u(m.Lists.units)?n:""},fixColors:function(t){return t.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,(function(t,e,n){return m.Lists.colorNames.hasOwnProperty(n)?(e||"rgba(")+m.Lists.colorNames[n]+(e?"":",1)"):e+n}))},cleanRootPropertyValue:function(t,e){return m.RegEx.valueUnwrap.test(e)&&(e=e.match(m.RegEx.valueUnwrap)[1]),m.Values.isCSSNullValue(e)&&(e=m.Hooks.templates[t][1]),e},extractValue:function(t,e){var n=m.Hooks.registered[t];if(n){var r=n[0],i=n[1];return(e=m.Hooks.cleanRootPropertyValue(r,e)).toString().match(m.RegEx.valueSplit)[i]}return e},injectValue:function(t,e,n){var r=m.Hooks.registered[t];if(r){var i,o=r[0],a=r[1];return(i=(n=m.Hooks.cleanRootPropertyValue(o,n)).toString().match(m.RegEx.valueSplit))[a]=e,i.join(" ")}return n}},Normalizations:{registered:{clip:function(t,e,n){switch(t){case"name":return"clip";case"extract":var r;return r=m.RegEx.wrappedValueAlreadyExtracted.test(n)?n:(r=n.toString().match(m.RegEx.valueUnwrap))?r[1].replace(/,(\s+)?/g," "):n;case"inject":return"rect("+n+")"}},blur:function(t,e,n){switch(t){case"name":return d.State.isFirefox?"filter":"-webkit-filter";case"extract":var r=parseFloat(n);if(!r&&0!==r){var i=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);r=i?i[1]:0}return r;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(t,e,n){if(o<=8)switch(t){case"name":return"filter";case"extract":var r=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=r?r[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(t){case"name":return"opacity";case"extract":case"inject":return n}}},register:function(){o&&!(o>9)||d.State.isGingerbread||(m.Lists.transformsBase=m.Lists.transformsBase.concat(m.Lists.transforms3D));for(var t=0;t<m.Lists.transformsBase.length;t++)!function(){var e=m.Lists.transformsBase[t];m.Normalizations.registered[e]=function(t,n,r){switch(t){case"name":return"transform";case"extract":return void 0===b(n)||void 0===b(n).transformCache[e]?/^scale/i.test(e)?1:0:b(n).transformCache[e].replace(/[()]/g,"");case"inject":var i=!1;switch(e.substr(0,e.length-1)){case"translate":i=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":d.State.isAndroid&&void 0===b(n).transformCache[e]&&r<1&&(r=1),i=!/(\d)$/i.test(r);break;case"skew":case"rotate":i=!/(deg|\d)$/i.test(r)}return i||(b(n).transformCache[e]="("+r+")"),b(n).transformCache[e]}}}();for(var e=0;e<m.Lists.colors.length;e++)!function(){var t=m.Lists.colors[e];m.Normalizations.registered[t]=function(e,n,r){switch(e){case"name":return t;case"extract":var i;if(m.RegEx.wrappedValueAlreadyExtracted.test(r))i=r;else{var a,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?a=void 0!==s[r]?s[r]:s.black:m.RegEx.isHex.test(r)?a="rgb("+m.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(a=s.black),i=(a||r).toString().match(m.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!o||o>8)&&3===i.split(" ").length&&(i+=" 1"),i;case"inject":return/^rgb/.test(r)?r:(o<=8?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(o<=8?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();function n(t,e,n){if("border-box"===m.getPropertyValue(e,"boxSizing").toString().toLowerCase()===(n||!1)){var r,i,o=0,a="width"===t?["Left","Right"]:["Top","Bottom"],s=["padding"+a[0],"padding"+a[1],"border"+a[0]+"Width","border"+a[1]+"Width"];for(r=0;r<s.length;r++)i=parseFloat(m.getPropertyValue(e,s[r])),isNaN(i)||(o+=i);return n?-o:o}return 0}function r(t,e){return function(r,i,o){switch(r){case"name":return t;case"extract":return parseFloat(o)+n(t,i,e);case"inject":return parseFloat(o)-n(t,i,e)+"px"}}}m.Normalizations.registered.innerWidth=r("width",!0),m.Normalizations.registered.innerHeight=r("height",!0),m.Normalizations.registered.outerWidth=r("width"),m.Normalizations.registered.outerHeight=r("height")}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()}))},SVGAttribute:function(t){var e="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(o||d.State.isAndroid&&!d.State.isChrome)&&(e+="|transform"),new RegExp("^("+e+")$","i").test(t)},prefixCheck:function(t){if(d.State.prefixMatches[t])return[d.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],n=0,r=e.length;n<r;n++){var i;if(i=0===n?t:e[n]+t.replace(/^\w/,(function(t){return t.toUpperCase()})),h.isString(d.State.prefixElement.style[i]))return d.State.prefixMatches[t]=i,[i,!0]}return[t,!1]}},Values:{hexToRgb:function(t){var e;return t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r})),(e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[0,0,0]},isCSSNullValue:function(t){return!t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(t)?"":"px"},getDisplayType:function(t){var e=t&&t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":/^(table)$/i.test(e)?"table":/^(tbody)$/i.test(e)?"table-row-group":"block"},addClass:function(t,e){if(t)if(t.classList)t.classList.add(e);else if(h.isString(t.className))t.className+=(t.className.length?" ":"")+e;else{var n=t.getAttribute(o<=7?"className":"class")||"";t.setAttribute("class",n+(n?" ":"")+e)}},removeClass:function(t,e){if(t)if(t.classList)t.classList.remove(e);else if(h.isString(t.className))t.className=t.className.toString().replace(new RegExp("(^|\\s)"+e.split(" ").join("|")+"(\\s|$)","gi")," ");else{var n=t.getAttribute(o<=7?"className":"class")||"";t.setAttribute("class",n.replace(new RegExp("(^|s)"+e.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(t,n,r,i){function a(t,n){var r=0;if(o<=8)r=p.css(t,n);else{var s=!1;/^(width|height)$/.test(n)&&0===m.getPropertyValue(t,"display")&&(s=!0,m.setPropertyValue(t,"display",m.Values.getDisplayType(t)));var l,u=function(){s&&m.setPropertyValue(t,"display","none")};if(!i){if("height"===n&&"border-box"!==m.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var c=t.offsetHeight-(parseFloat(m.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(m.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(m.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(m.getPropertyValue(t,"paddingBottom"))||0);return u(),c}if("width"===n&&"border-box"!==m.getPropertyValue(t,"boxSizing").toString().toLowerCase()){var h=t.offsetWidth-(parseFloat(m.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(m.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(m.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(m.getPropertyValue(t,"paddingRight"))||0);return u(),h}}l=void 0===b(t)?e.getComputedStyle(t,null):b(t).computedStyle?b(t).computedStyle:b(t).computedStyle=e.getComputedStyle(t,null),"borderColor"===n&&(n="borderTopColor"),""!==(r=9===o&&"filter"===n?l.getPropertyValue(n):l[n])&&null!==r||(r=t.style[n]),u()}if("auto"===r&&/^(top|right|bottom|left)$/i.test(n)){var f=a(t,"position");("fixed"===f||"absolute"===f&&/top|left/i.test(n))&&(r=p(t).position()[n]+"px")}return r}var s;if(m.Hooks.registered[n]){var l=n,u=m.Hooks.getRoot(l);void 0===r&&(r=m.getPropertyValue(t,m.Names.prefixCheck(u)[0])),m.Normalizations.registered[u]&&(r=m.Normalizations.registered[u]("extract",t,r)),s=m.Hooks.extractValue(l,r)}else if(m.Normalizations.registered[n]){var c,h;"transform"!==(c=m.Normalizations.registered[n]("name",t))&&(h=a(t,m.Names.prefixCheck(c)[0]),m.Values.isCSSNullValue(h)&&m.Hooks.templates[n]&&(h=m.Hooks.templates[n][1])),s=m.Normalizations.registered[n]("extract",t,h)}if(!/^[\d-]/.test(s)){var f=b(t);if(f&&f.isSVG&&m.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{s=t.getBBox()[n]}catch(t){s=0}else s=t.getAttribute(n);else s=a(t,m.Names.prefixCheck(n)[0])}return m.Values.isCSSNullValue(s)&&(s=0),d.debug>=2&&console.log("Get "+n+": "+s),s},setPropertyValue:function(t,n,r,i,a){var s=n;if("scroll"===n)a.container?a.container["scroll"+a.direction]=r:"Left"===a.direction?e.scrollTo(r,a.alternateValue):e.scrollTo(a.alternateValue,r);else if(m.Normalizations.registered[n]&&"transform"===m.Normalizations.registered[n]("name",t))m.Normalizations.registered[n]("inject",t,r),s="transform",r=b(t).transformCache[n];else{if(m.Hooks.registered[n]){var l=n,u=m.Hooks.getRoot(n);i=i||m.getPropertyValue(t,u),r=m.Hooks.injectValue(l,r,i),n=u}if(m.Normalizations.registered[n]&&(r=m.Normalizations.registered[n]("inject",t,r),n=m.Normalizations.registered[n]("name",t)),s=m.Names.prefixCheck(n)[0],o<=8)try{t.style[s]=r}catch(t){d.debug&&console.log("Browser does not support ["+r+"] for ["+s+"]")}else{var c=b(t);c&&c.isSVG&&m.Names.SVGAttribute(n)?t.setAttribute(n,r):t.style[s]=r}d.debug>=2&&console.log("Set "+n+" ("+s+"): "+r)}return[s,r]},flushTransformCache:function(t){var e="",n=b(t);if((o||d.State.isAndroid&&!d.State.isChrome)&&n&&n.isSVG){var r=function(e){return parseFloat(m.getPropertyValue(t,e))},i={translate:[r("translateX"),r("translateY")],skewX:[r("skewX")],skewY:[r("skewY")],scale:1!==r("scale")?[r("scale"),r("scale")]:[r("scaleX"),r("scaleY")],rotate:[r("rotateZ"),0,0]};p.each(b(t).transformCache,(function(t){/^translate/i.test(t)?t="translate":/^scale/i.test(t)?t="scale":/^rotate/i.test(t)&&(t="rotate"),i[t]&&(e+=t+"("+i[t].join(" ")+") ",delete i[t])}))}else{var a,s;p.each(b(t).transformCache,(function(n){if(a=b(t).transformCache[n],"transformPerspective"===n)return s=a,!0;9===o&&"rotateZ"===n&&(n="rotate"),e+=n+a+" "})),s&&(e="perspective"+s+" "+e)}m.setPropertyValue(t,"transform",e)}};m.Hooks.register(),m.Normalizations.register(),d.hook=function(t,e,n){var r;return t=c(t),p.each(t,(function(t,i){if(void 0===b(i)&&d.init(i),void 0===n)void 0===r&&(r=m.getPropertyValue(i,e));else{var o=m.setPropertyValue(i,e,n);"transform"===o[0]&&d.CSS.flushTransformCache(i),r=o}})),r};var v=function(){var t;function r(){return i?y.promise||null:o}var i,o,a,s,l,f,g=arguments[0]&&(arguments[0].p||p.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||h.isString(arguments[0].properties));h.isWrapped(this)?(i=!1,a=0,s=this,o=this):(i=!0,a=1,s=g?arguments[0].elements||arguments[0].e:arguments[0]);var y={promise:null,resolver:null,rejecter:null};if(i&&d.Promise&&(y.promise=new d.Promise((function(t,e){y.resolver=t,y.rejecter=e}))),g?(l=arguments[0].properties||arguments[0].p,f=arguments[0].options||arguments[0].o):(l=arguments[a],f=arguments[a+1]),s=c(s)){var _,E=s.length,C=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(l)&&!p.isPlainObject(f)){var O=a+1;f={};for(var I=O;I<arguments.length;I++)h.isArray(arguments[I])||!/^(fast|normal|slow)$/i.test(arguments[I])&&!/^\d/.test(arguments[I])?h.isString(arguments[I])||h.isArray(arguments[I])?f.easing=arguments[I]:h.isFunction(arguments[I])&&(f.complete=arguments[I]):f.duration=arguments[I]}switch(l){case"scroll":_="scroll";break;case"reverse":_="reverse";break;case"pause":var P=(new Date).getTime();return p.each(s,(function(t,e){x(e,P)})),p.each(d.State.calls,(function(t,e){var n=!1;e&&p.each(e[1],(function(t,r){var i=void 0===f?"":f;return!0!==i&&e[2].queue!==i&&(void 0!==f||!1!==e[2].queue)||(p.each(s,(function(t,i){if(i===r)return e[5]={resume:!1},n=!0,!1})),!n&&void 0)}))})),r();case"resume":return p.each(s,(function(t,e){w(e)})),p.each(d.State.calls,(function(t,e){var n=!1;e&&p.each(e[1],(function(t,r){var i=void 0===f?"":f;return!0!==i&&e[2].queue!==i&&(void 0!==f||!1!==e[2].queue)||(!e[5]||(p.each(s,(function(t,i){if(i===r)return e[5].resume=!0,n=!0,!1})),!n&&void 0))}))})),r();case"finish":case"finishAll":case"stop":p.each(s,(function(t,e){b(e)&&b(e).delayTimer&&(clearTimeout(b(e).delayTimer.setTimeout),b(e).delayTimer.next&&b(e).delayTimer.next(),delete b(e).delayTimer),"finishAll"!==l||!0!==f&&!h.isString(f)||(p.each(p.queue(e,h.isString(f)?f:""),(function(t,e){h.isFunction(e)&&e()})),p.queue(e,h.isString(f)?f:"",[]))}));var N=[];return p.each(d.State.calls,(function(t,e){e&&p.each(e[1],(function(n,r){var i=void 0===f?"":f;if(!0!==i&&e[2].queue!==i&&(void 0!==f||!1!==e[2].queue))return!0;p.each(s,(function(n,o){if(o===r)if((!0===f||h.isString(f))&&(p.each(p.queue(o,h.isString(f)?f:""),(function(t,e){h.isFunction(e)&&e(null,!0)})),p.queue(o,h.isString(f)?f:"",[])),"stop"===l){var a=b(o);a&&a.tweensContainer&&(!0===i||""===i)&&p.each(a.tweensContainer,(function(t,e){e.endValue=e.currentValue})),N.push(t)}else"finish"!==l&&"finishAll"!==l||(e[2].duration=1)}))}))})),"stop"===l&&(p.each(N,(function(t,e){k(e,!0)})),y.promise&&y.resolver(s)),r();default:if(!p.isPlainObject(l)||h.isEmptyObject(l)){if(h.isString(l)&&d.Redirects[l]){var M=(t=p.extend({},f)).duration,A=t.delay||0;return!0===t.backwards&&(s=p.extend(!0,[],s).reverse()),p.each(s,(function(e,n){parseFloat(t.stagger)?t.delay=A+parseFloat(t.stagger)*e:h.isFunction(t.stagger)&&(t.delay=A+t.stagger.call(n,e,E)),t.drag&&(t.duration=parseFloat(M)||(/^(callout|transition)/.test(l)?1e3:400),t.duration=Math.max(t.duration*(t.backwards?1-e/E:(e+1)/E),.75*t.duration,200)),d.Redirects[l].call(n,n,t||{},e,E,s,y.promise?y:void 0)})),r()}var L="Velocity: First argument ("+l+") was not a property map, a known action, or a registered redirect. Aborting.";return y.promise?y.rejecter(new Error(L)):e.console&&console.log(L),r()}_="start"}var R={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},D=[];p.each(s,(function(t,e){h.isNode(e)&&B(e,t)})),(t=p.extend({},d.defaults,f)).loop=parseInt(t.loop,10);var z=2*t.loop-1;if(t.loop)for(var F=0;F<z;F++){var j={delay:t.delay,progress:t.progress};F===z-1&&(j.display=t.display,j.visibility=t.visibility,j.complete=t.complete),v(s,"reverse",j)}return r()}function B(t,r){var i,o,a=p.extend({},d.defaults,f),c={};switch(void 0===b(t)&&d.init(t),parseFloat(a.delay)&&!1!==a.queue&&p.queue(t,a.queue,(function(e,n){if(!0===n)return!0;d.velocityQueueEntryFlag=!0;var r=d.State.delayedElements.count++;d.State.delayedElements[r]=t;var i,o=(i=r,function(){d.State.delayedElements[i]=!1,e()});b(t).delayBegin=(new Date).getTime(),b(t).delay=parseFloat(a.delay),b(t).delayTimer={setTimeout:setTimeout(e,parseFloat(a.delay)),next:o}})),a.duration.toString().toLowerCase()){case"fast":a.duration=200;break;case"normal":a.duration=400;break;case"slow":a.duration=600;break;default:a.duration=parseFloat(a.duration)||1}function g(o){var g,v;if(a.begin&&0===C)try{a.begin.call(s,s)}catch(t){setTimeout((function(){throw t}),1)}if("scroll"===_){var x,w,k,O=/^x$/i.test(a.axis)?"Left":"Top",I=parseFloat(a.offset)||0;a.container?h.isWrapped(a.container)||h.isNode(a.container)?(a.container=a.container[0]||a.container,k=(x=a.container["scroll"+O])+p(t).position()[O.toLowerCase()]+I):a.container=null:(x=d.State.scrollAnchor[d.State["scrollProperty"+O]],w=d.State.scrollAnchor[d.State["scrollProperty"+("Left"===O?"Top":"Left")]],k=p(t).offset()[O.toLowerCase()]+I),c={scroll:{rootPropertyValue:!1,startValue:x,currentValue:x,endValue:k,unitType:"",easing:a.easing,scrollData:{container:a.container,direction:O,alternateValue:w}},element:t},d.debug&&console.log("tweensContainer (scroll): ",c.scroll,t)}else if("reverse"===_){if(!(g=b(t)))return;if(!g.tweensContainer)return void p.dequeue(t,a.queue);for(var P in"none"===g.opts.display&&(g.opts.display="auto"),"hidden"===g.opts.visibility&&(g.opts.visibility="visible"),g.opts.loop=!1,g.opts.begin=null,g.opts.complete=null,f.easing||delete a.easing,f.duration||delete a.duration,a=p.extend({},g.opts,a),v=p.extend(!0,{},g?g.tweensContainer:null))if(v.hasOwnProperty(P)&&"element"!==P){var N=v[P].startValue;v[P].startValue=v[P].currentValue=v[P].endValue,v[P].endValue=N,h.isEmptyObject(f)||(v[P].easing=a.easing),d.debug&&console.log("reverse tweensContainer ("+P+"): "+JSON.stringify(v[P]),t)}c=v}else if("start"===_){(g=b(t))&&g.tweensContainer&&!0===g.isAnimating&&(v=g.tweensContainer);var M=function(e,n){var i,o,s;return h.isFunction(e)&&(e=e.call(t,r,E)),h.isArray(e)?(i=e[0],!h.isArray(e[1])&&/^[\d-]/.test(e[1])||h.isFunction(e[1])||m.RegEx.isHex.test(e[1])?s=e[1]:h.isString(e[1])&&!m.RegEx.isHex.test(e[1])&&d.Easings[e[1]]||h.isArray(e[1])?(o=n?e[1]:S(e[1],a.duration),s=e[2]):s=e[1]||e[2]):i=e,n||(o=o||a.easing),h.isFunction(i)&&(i=i.call(t,r,E)),h.isFunction(s)&&(s=s.call(t,r,E)),[i||0,o,s]},A=function(r,o){var s,l=m.Hooks.getRoot(r),u=!1,f=o[0],y=o[1],_=o[2];if(g&&g.isSVG||"tween"===l||!1!==m.Names.prefixCheck(l)[1]||void 0!==m.Normalizations.registered[l]){(void 0!==a.display&&null!==a.display&&"none"!==a.display||void 0!==a.visibility&&"hidden"!==a.visibility)&&/opacity|filter/.test(r)&&!_&&0!==f&&(_=0),a._cacheValues&&v&&v[r]?(void 0===_&&(_=v[r].endValue+v[r].unitType),u=g.rootPropertyValueCache[l]):m.Hooks.registered[r]?void 0===_?(u=m.getPropertyValue(t,l),_=m.getPropertyValue(t,r,u)):u=m.Hooks.templates[l][1]:void 0===_&&(_=m.getPropertyValue(t,r));var b,x,w,E=!1,C=function(t,e){var n,r;return r=(e||"0").toString().toLowerCase().replace(/[%A-z]+$/,(function(t){return n=t,""})),n||(n=m.Values.getUnitType(t)),[r,n]};if(_!==f&&h.isString(_)&&h.isString(f)){s="";var S=0,T=0,k=[],O=[],I=0,P=0,N=0;for(_=m.Hooks.fixColors(_),f=m.Hooks.fixColors(f);S<_.length&&T<f.length;){var M=_[S],A=f[T];if(/[\d\.-]/.test(M)&&/[\d\.-]/.test(A)){for(var L=M,D=A,z=".",F=".";++S<_.length;){if((M=_[S])===z)z="..";else if(!/\d/.test(M))break;L+=M}for(;++T<f.length;){if((A=f[T])===F)F="..";else if(!/\d/.test(A))break;D+=A}var j=m.Hooks.getUnit(_,S),B=m.Hooks.getUnit(f,T);if(S+=j.length,T+=B.length,j===B)L===D?s+=L+j:(s+="{"+k.length+(P?"!":"")+"}"+j,k.push(parseFloat(L)),O.push(parseFloat(D)));else{var U=parseFloat(L),V=parseFloat(D);s+=(I<5?"calc":"")+"("+(U?"{"+k.length+(P?"!":"")+"}":"0")+j+" + "+(V?"{"+(k.length+(U?1:0))+(P?"!":"")+"}":"0")+B+")",U&&(k.push(U),O.push(0)),V&&(k.push(0),O.push(V))}}else{if(M!==A){I=0;break}s+=M,S++,T++,0===I&&"c"===M||1===I&&"a"===M||2===I&&"l"===M||3===I&&"c"===M||I>=4&&"("===M?I++:(I&&I<5||I>=4&&")"===M&&--I<5)&&(I=0),0===P&&"r"===M||1===P&&"g"===M||2===P&&"b"===M||3===P&&"a"===M||P>=3&&"("===M?(3===P&&"a"===M&&(N=1),P++):N&&","===M?++N>3&&(P=N=0):(N&&P<(N?5:4)||P>=(N?4:3)&&")"===M&&--P<(N?5:4))&&(P=N=0)}}S===_.length&&T===f.length||(d.debug&&console.error('Trying to pattern match mis-matched strings ["'+f+'", "'+_+'"]'),s=void 0),s&&(k.length?(d.debug&&console.log('Pattern found "'+s+'" -> ',k,O,"["+_+","+f+"]"),_=k,f=O,x=w=""):s=void 0)}s||(_=(b=C(r,_))[0],w=b[1],f=(b=C(r,f))[0].replace(/^([+-\/*])=/,(function(t,e){return E=e,""})),x=b[1],_=parseFloat(_)||0,f=parseFloat(f)||0,"%"===x&&(/^(fontSize|lineHeight)$/.test(r)?(f/=100,x="em"):/^scale/.test(r)?(f/=100,x=""):/(Red|Green|Blue)$/i.test(r)&&(f=f/100*255,x="")));if(/[\/*]/.test(E))x=w;else if(w!==x&&0!==_)if(0===f)x=w;else{i=i||function(){var r={myParent:t.parentNode||n.body,position:m.getPropertyValue(t,"position"),fontSize:m.getPropertyValue(t,"fontSize")},i=r.position===R.lastPosition&&r.myParent===R.lastParent,o=r.fontSize===R.lastFontSize;R.lastParent=r.myParent,R.lastPosition=r.position,R.lastFontSize=r.fontSize;var a={};if(o&&i)a.emToPx=R.lastEmToPx,a.percentToPxWidth=R.lastPercentToPxWidth,a.percentToPxHeight=R.lastPercentToPxHeight;else{var s=g&&g.isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");d.init(s),r.myParent.appendChild(s),p.each(["overflow","overflowX","overflowY"],(function(t,e){d.CSS.setPropertyValue(s,e,"hidden")})),d.CSS.setPropertyValue(s,"position",r.position),d.CSS.setPropertyValue(s,"fontSize",r.fontSize),d.CSS.setPropertyValue(s,"boxSizing","content-box"),p.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],(function(t,e){d.CSS.setPropertyValue(s,e,"100%")})),d.CSS.setPropertyValue(s,"paddingLeft","100em"),a.percentToPxWidth=R.lastPercentToPxWidth=(parseFloat(m.getPropertyValue(s,"width",null,!0))||1)/100,a.percentToPxHeight=R.lastPercentToPxHeight=(parseFloat(m.getPropertyValue(s,"height",null,!0))||1)/100,a.emToPx=R.lastEmToPx=(parseFloat(m.getPropertyValue(s,"paddingLeft"))||1)/100,r.myParent.removeChild(s)}return null===R.remToPx&&(R.remToPx=parseFloat(m.getPropertyValue(n.body,"fontSize"))||16),null===R.vwToPx&&(R.vwToPx=parseFloat(e.innerWidth)/100,R.vhToPx=parseFloat(e.innerHeight)/100),a.remToPx=R.remToPx,a.vwToPx=R.vwToPx,a.vhToPx=R.vhToPx,d.debug>=1&&console.log("Unit ratios: "+JSON.stringify(a),t),a}();var q=/margin|padding|left|right|width|text|word|letter/i.test(r)||/X$/.test(r)||"x"===r?"x":"y";switch(w){case"%":_*="x"===q?i.percentToPxWidth:i.percentToPxHeight;break;case"px":break;default:_*=i[w+"ToPx"]}switch(x){case"%":_*=1/("x"===q?i.percentToPxWidth:i.percentToPxHeight);break;case"px":break;default:_*=1/i[x+"ToPx"]}}switch(E){case"+":f=_+f;break;case"-":f=_-f;break;case"*":f*=_;break;case"/":f=_/f}c[r]={rootPropertyValue:u,startValue:_,currentValue:_,endValue:f,unitType:x,easing:y},s&&(c[r].pattern=s),d.debug&&console.log("tweensContainer ("+r+"): "+JSON.stringify(c[r]),t)}else d.debug&&console.log("Skipping ["+l+"] due to a lack of browser support.")};for(var L in l)if(l.hasOwnProperty(L)){var z=m.Names.camelCase(L),F=M(l[L]);if(u(m.Lists.colors)){var j=F[0],B=F[1],U=F[2];if(m.RegEx.isHex.test(j)){for(var V=["Red","Green","Blue"],q=m.Values.hexToRgb(j),G=U?m.Values.hexToRgb(U):void 0,W=0;W<V.length;W++){var H=[q[W]];B&&H.push(B),void 0!==G&&H.push(G[W]),A(z+V[W],H)}continue}}A(z,F)}c.element=t}c.element&&(m.Values.addClass(t,"velocity-animating"),D.push(c),(g=b(t))&&(""===a.queue&&(g.tweensContainer=c,g.opts=a),g.isAnimating=!0),C===E-1?(d.State.calls.push([D,s,a,null,y.resolver,null,0]),!1===d.State.isTicking&&(d.State.isTicking=!0,T())):C++)}if(!1!==d.mock&&(!0===d.mock?a.duration=a.delay=1:(a.duration*=parseFloat(d.mock)||1,a.delay*=parseFloat(d.mock)||1)),a.easing=S(a.easing,a.duration),a.begin&&!h.isFunction(a.begin)&&(a.begin=null),a.progress&&!h.isFunction(a.progress)&&(a.progress=null),a.complete&&!h.isFunction(a.complete)&&(a.complete=null),void 0!==a.display&&null!==a.display&&(a.display=a.display.toString().toLowerCase(),"auto"===a.display&&(a.display=d.CSS.Values.getDisplayType(t))),void 0!==a.visibility&&null!==a.visibility&&(a.visibility=a.visibility.toString().toLowerCase()),a.mobileHA=a.mobileHA&&d.State.isMobile&&!d.State.isGingerbread,!1===a.queue)if(a.delay){var v=d.State.delayedElements.count++;d.State.delayedElements[v]=t;var x=(o=v,function(){d.State.delayedElements[o]=!1,g()});b(t).delayBegin=(new Date).getTime(),b(t).delay=parseFloat(a.delay),b(t).delayTimer={setTimeout:setTimeout(g,parseFloat(a.delay)),next:x}}else g();else p.queue(t,a.queue,(function(t,e){if(!0===e)return y.promise&&y.resolver(s),!0;d.velocityQueueEntryFlag=!0,g()}));""!==a.queue&&"fx"!==a.queue||"inprogress"===p.queue(t)[0]||p.dequeue(t)}y.promise&&(l&&f&&!1===f.promiseRejectEmpty?y.resolver():y.rejecter())};(d=p.extend(v,d)).animate=v;var y=e.requestAnimationFrame||a;if(!d.State.isMobile&&void 0!==n.hidden){var _=function(){n.hidden?(y=function(t){return setTimeout((function(){t(!0)}),16)},T()):y=e.requestAnimationFrame||a};_(),n.addEventListener("visibilitychange",_)}return t.Velocity=d,t!==e&&(t.fn.velocity=v,t.fn.velocity.defaults=d.defaults),p.each(["Down","Up"],(function(t,e){d.Redirects["slide"+e]=function(t,n,r,i,o,a){var s=p.extend({},n),l=s.begin,u=s.complete,c={},h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};void 0===s.display&&(s.display="Down"===e?"inline"===d.CSS.Values.getDisplayType(t)?"inline-block":"block":"none"),s.begin=function(){for(var n in 0===r&&l&&l.call(o,o),h)if(h.hasOwnProperty(n)){c[n]=t.style[n];var i=m.getPropertyValue(t,n);h[n]="Down"===e?[i,0]:[0,i]}c.overflow=t.style.overflow,t.style.overflow="hidden"},s.complete=function(){for(var e in c)c.hasOwnProperty(e)&&(t.style[e]=c[e]);r===i-1&&(u&&u.call(o,o),a&&a.resolver(o))},d(t,h,s)}})),p.each(["In","Out"],(function(t,e){d.Redirects["fade"+e]=function(t,n,r,i,o,a){var s=p.extend({},n),l=s.complete,u={opacity:"In"===e?1:0};0!==r&&(s.begin=null),s.complete=r!==i-1?null:function(){l&&l.call(o,o),a&&a.resolver(o)},void 0===s.display&&(s.display="In"===e?"auto":"none"),d(this,u,s)}})),d}function b(t){var e=p.data(t,"velocity");return null===e?void 0:e}function x(t,e){var n=b(t);n&&n.delayTimer&&!n.delayPaused&&(n.delayRemaining=n.delay-e+n.delayBegin,n.delayPaused=!0,clearTimeout(n.delayTimer.setTimeout))}function w(t,e){var n=b(t);n&&n.delayTimer&&n.delayPaused&&(n.delayPaused=!1,n.delayTimer.setTimeout=setTimeout(n.delayTimer.next,n.delayRemaining))}function E(t){return function(e){return Math.round(e*t)*(1/t)}}function C(t,n,r,i){var o=4,a=.001,s=1e-7,l=10,u=11,c=1/(u-1),p="Float32Array"in e;if(4!==arguments.length)return!1;for(var h=0;h<4;++h)if("number"!=typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var f=p?new Float32Array(u):new Array(u);function d(t,e){return 1-3*e+3*t}function g(t,e){return 3*e-6*t}function m(t){return 3*t}function v(t,e,n){return((d(e,n)*t+g(e,n))*t+m(e))*t}function y(t,e,n){return 3*d(e,n)*t*t+2*g(e,n)*t+m(e)}function _(e,n){for(var i=0;i<o;++i){var a=y(n,t,r);if(0===a)return n;n-=(v(n,t,r)-e)/a}return n}function b(){for(var e=0;e<u;++e)f[e]=v(e*c,t,r)}function x(e,n,i){var o,a,u=0;do{(o=v(a=n+(i-n)/2,t,r)-e)>0?i=a:n=a}while(Math.abs(o)>s&&++u<l);return a}function w(e){for(var n=0,i=1,o=u-1;i!==o&&f[i]<=e;++i)n+=c;--i;var s=n+(e-f[i])/(f[i+1]-f[i])*c,l=y(s,t,r);return l>=a?_(e,s):0===l?s:x(e,n,n+c)}var E=!1;function C(){E=!0,t===n&&r===i||b()}var S=function(e){return E||C(),t===n&&r===i?e:0===e?0:1===e?1:v(w(e),n,i)};S.getControlPoints=function(){return[{x:t,y:n},{x:r,y:i}]};var T="generateBezier("+[t,n,r,i]+")";return S.toString=function(){return T},S}function S(t,e){var n=t;return h.isString(t)?d.Easings[t]||(n=!1):n=h.isArray(t)&&1===t.length?E.apply(null,t):h.isArray(t)&&2===t.length?g.apply(null,t.concat([e])):!(!h.isArray(t)||4!==t.length)&&C.apply(null,t),!1===n&&(n=d.Easings[d.defaults.easing]?d.defaults.easing:"swing"),n}function T(t){if(t){var e=d.timestamp&&!0!==t?t:s.now(),n=d.State.calls.length;n>1e4&&(d.State.calls=function(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var i=t[e];i&&r.push(i)}return r}(d.State.calls),n=d.State.calls.length);for(var r=0;r<n;r++)if(d.State.calls[r]){var i=d.State.calls[r],a=i[0],l=i[2],u=i[3],c=!u,f=null,g=i[5],v=i[6];if(u||(u=d.State.calls[r][3]=e-16),g){if(!0!==g.resume)continue;u=i[3]=Math.round(e-v-16),i[5]=null}v=i[6]=e-u;for(var _=Math.min(v/l.duration,1),x=0,w=a.length;x<w;x++){var E=a[x],C=E.element;if(b(C)){var S=!1;if(void 0!==l.display&&null!==l.display&&"none"!==l.display){if("flex"===l.display){p.each(["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"],(function(t,e){m.setPropertyValue(C,"display",e)}))}m.setPropertyValue(C,"display",l.display)}for(var O in void 0!==l.visibility&&"hidden"!==l.visibility&&m.setPropertyValue(C,"visibility",l.visibility),E)if(E.hasOwnProperty(O)&&"element"!==O){var I,P=E[O],N=h.isString(P.easing)?d.Easings[P.easing]:P.easing;if(h.isString(P.pattern)){var M=1===_?function(t,e,n){var r=P.endValue[e];return n?Math.round(r):r}:function(t,e,n){var r=P.startValue[e],i=P.endValue[e]-r,o=r+i*N(_,l,i);return n?Math.round(o):o};I=P.pattern.replace(/{(\d+)(!)?}/g,M)}else if(1===_)I=P.endValue;else{var A=P.endValue-P.startValue;I=P.startValue+A*N(_,l,A)}if(!c&&I===P.currentValue)continue;if(P.currentValue=I,"tween"===O)f=I;else{var L;if(m.Hooks.registered[O]){L=m.Hooks.getRoot(O);var R=b(C).rootPropertyValueCache[L];R&&(P.rootPropertyValue=R)}var D=m.setPropertyValue(C,O,P.currentValue+(o<9&&0===parseFloat(I)?"":P.unitType),P.rootPropertyValue,P.scrollData);m.Hooks.registered[O]&&(m.Normalizations.registered[L]?b(C).rootPropertyValueCache[L]=m.Normalizations.registered[L]("extract",null,D[1]):b(C).rootPropertyValueCache[L]=D[1]),"transform"===D[0]&&(S=!0)}}l.mobileHA&&void 0===b(C).transformCache.translate3d&&(b(C).transformCache.translate3d="(0px, 0px, 0px)",S=!0),S&&m.flushTransformCache(C)}}void 0!==l.display&&"none"!==l.display&&(d.State.calls[r][2].display=!1),void 0!==l.visibility&&"hidden"!==l.visibility&&(d.State.calls[r][2].visibility=!1),l.progress&&l.progress.call(i[1],i[1],_,Math.max(0,u+l.duration-e),u,f),1===_&&k(r)}}d.State.isTicking&&y(T)}function k(t,e){if(!d.State.calls[t])return!1;for(var n=d.State.calls[t][0],r=d.State.calls[t][1],i=d.State.calls[t][2],o=d.State.calls[t][4],a=!1,s=0,l=n.length;s<l;s++){var u=n[s].element;e||i.loop||("none"===i.display&&m.setPropertyValue(u,"display",i.display),"hidden"===i.visibility&&m.setPropertyValue(u,"visibility",i.visibility));var c=b(u);if(!0!==i.loop&&(void 0===p.queue(u)[1]||!/\.velocityQueueEntryFlag/i.test(p.queue(u)[1]))&&c){c.isAnimating=!1,c.rootPropertyValueCache={};var h=!1;p.each(m.Lists.transforms3D,(function(t,e){var n=/^scale/.test(e)?1:0,r=c.transformCache[e];void 0!==c.transformCache[e]&&new RegExp("^\\("+n+"[^.]").test(r)&&(h=!0,delete c.transformCache[e])})),i.mobileHA&&(h=!0,delete c.transformCache.translate3d),h&&m.flushTransformCache(u),m.Values.removeClass(u,"velocity-animating")}if(!e&&i.complete&&!i.loop&&s===l-1)try{i.complete.call(r,r)}catch(t){setTimeout((function(){throw t}),1)}o&&!0!==i.loop&&o(r),c&&!0===i.loop&&!e&&(p.each(c.tweensContainer,(function(t,e){if(/^rotate/.test(t)&&(parseFloat(e.startValue)-parseFloat(e.endValue))%360==0){var n=e.startValue;e.startValue=e.endValue,e.endValue=n}/^backgroundPosition/.test(t)&&100===parseFloat(e.endValue)&&"%"===e.unitType&&(e.endValue=0,e.startValue=100)})),d(u,"reverse",{loop:!0,delay:i.delay})),!1!==i.queue&&p.dequeue(u,i.queue)}d.State.calls[t]=!1;for(var f=0,g=d.State.calls.length;f<g;f++)if(!1!==d.State.calls[f]){a=!0;break}!1===a&&(d.State.isTicking=!1,delete d.State.calls,d.State.calls=[])}jQuery.fn.velocity=jQuery.fn.animate}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)}))},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l={each:n(90),extend:n(658),forEach:n(23),isEqual:n(91),keys:n(25),omit:n(314),map:n(14)},u=n(0),c=n(48),p=n(1),h=n(660),f=n(662).default,d=n(218),g="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,0)});g="undefined"!=typeof window&&g.bind(window);var m="undefined"!=typeof window&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){window.clearTimeout(t)});m="undefined"!=typeof window&&m.bind(window);var v=function(t){function e(){var t,n,r;o(this,e);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=r=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),r.lastState="appear",r.componentWillEnter=function(t,e){r.lastState=e?"appear":"enter"},r.componentWillExit=function(){r.lastState="exit"},r.endListener=function(t,e){switch(r.lastState){case"appear":r.props.willAppearFunc(t,e);break;case"enter":r.props.willEnterFunc(t,e);break;case"exit":r.props.willLeaveFunc(t,e)}},a(r,n)}return s(e,t),i(e,[{key:"componentWillUnmount",value:function(){d.Utilities.removeData(c.findDOMNode(this),["velocity","fxqueue"])}},{key:"render",value:function(){var t=l.omit(this.props,l.keys(e.propTypes));return u.createElement(f,r({},t,{timeout:null,addEndListener:this.endListener,appear:!0,onEnter:this.componentWillEnter,onExit:this.componentWillExit}),this.props.children)}}]),e}(u.Component);v.propTypes={children:p.element.isRequired,willAppearFunc:p.func.isRequired,willEnterFunc:p.func.isRequired,willLeaveFunc:p.func.isRequired};var y=function(t){function e(t){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._scheduledAnimationFrame=null,n._scheduledAnimationRunFrames=[],n._entering=[],n._leaving=[],n._timers=[],n._unmounted=!1,n.childWillAppear=n.childWillAppear.bind(n),n.childWillEnter=n.childWillEnter.bind(n),n.childWillLeave=n.childWillLeave.bind(n),n._runAnimations=n._runAnimations.bind(n),n._wrapChild=n._wrapChild.bind(n),n}return s(e,t),i(e,[{key:"componentWillUnmount",value:function(){this._scheduledAnimationFrame&&m(this._scheduledAnimationFrame),l.forEach(this._timers,(function(t){clearTimeout(t)})),l.forEach(this._scheduledAnimationRunFrames,(function(t){m(t)})),this._unmounted=!0}},{key:"render",value:function(){var t=l.omit(this.props,l.keys(e.propTypes));return u.createElement(h,t,this.constructor.disabledForTest||d.velocityReactServerShim?u.Children.map(this.props.children,(function(t){return t&&u.createElement(f,{timeout:0},t)})):u.Children.map(this.props.children,this._wrapChild))}},{key:"childWillAppear",value:function(t,e){var n=this;if(this.props.runOnMount)this.childWillEnter(t,e);else{this._finishAnimation(t,this.props.enter);var r=setTimeout((function(){var t=n._timers.indexOf(r);t>=0&&n._timers.splice(t,1),e()}),0);this._timers.push(r)}}},{key:"childWillEnter",value:function(t,e){this._shortCircuitAnimation(this.props.enter,e)||(this._finishAnimation(t,this.props.leave,{begin:void 0,complete:void 0}),l.forEach(this.props.enterHideStyle,(function(e,n){d.CSS.setPropertyValue(t,n,e)})),this._entering.push({node:t,doneFn:e}),this._schedule())}},{key:"childWillLeave",value:function(t,e){this._shortCircuitAnimation(this.props.leave,e)||(this._leaving.push({node:t,doneFn:e}),this._schedule())}},{key:"_shortCircuitAnimation",value:function(t,e){return!(!document.hidden&&null!=this._parseAnimationProp(t).animation)&&(e(),!0)}},{key:"_schedule",value:function(){this._scheduledAnimationFrame||(this._scheduledAnimationFrame=g(this._runAnimations))}},{key:"_runAnimations",value:function(){this._scheduledAnimationFrame=null,this._runAnimation(!0,this._entering,this.props.enter),this._runAnimation(!1,this._leaving,this.props.leave),this._entering=[],this._leaving=[]}},{key:"_parseAnimationProp",value:function(t){var e,n,r;return"string"==typeof t?(e=t,r=null,n={}):(e=null!=t?t.animation:null,r=null!=t?t.style:null,n=l.omit(t,"animation","style")),{animation:e,style:r,opts:n}}},{key:"_runAnimation",value:function(t,e,n){var r=this;if(0!==e.length){var i=l.map(e,"node"),o=l.map(e,"doneFn"),a=this._parseAnimationProp(n),s=a.animation,u=a.style,c=a.opts;t&&(l.isEqual(this.props.enterShowStyle,{display:""})&&(/^(fade|slide)/.test(s)||/In$/.test(s))||(u=l.extend({},this.props.enterShowStyle,u))),null!=u&&l.each(u,(function(t,e){d.hook(i,e,t)}));var p,h=function(){r._unmounted||o.map((function(t){t()}))};if(t?(h(),h=null):d(i,"stop"),h&&c.complete){var f=c.complete;p=function(){h(),f.apply(this,arguments)}}else p=h||c.complete;var m=g((function(){var t=r._scheduledAnimationRunFrames.indexOf(m);t>=0&&r._scheduledAnimationRunFrames.splice(t,1),d(i,s,l.extend({},c,{complete:p}))}));this._scheduledAnimationRunFrames.push(m)}}},{key:"_finishAnimation",value:function(t,e,n){var r=this._parseAnimationProp(e),i=r.animation,o=r.style,a=l.extend({},r.opts,n);null!=o&&l.each(o,(function(e,n){d.hook(t,n,e)})),null!=i&&(d(t,i,a),d(t,"finishAll",!0))}},{key:"_wrapChild",value:function(t){return t?u.createElement(v,{key:t.key,willAppearFunc:this.childWillAppear,willEnterFunc:this.childWillEnter,willLeaveFunc:this.childWillLeave},t):null}}]),e}(u.Component);y.disabledForTest=!1,y.propTypes={runOnMount:p.bool,enter:p.any,leave:p.any,children:p.any,enterHideStyle:p.object,enterShowStyle:p.object},y.defaultProps={runOnMount:!1,enter:null,leave:null,enterHideStyle:{display:"none"},enterShowStyle:{display:""}},t.exports=y},function(t,e,n){t.exports=n(659)},function(t,e,n){var r=n(77),i=n(300),o=n(207),a=i((function(t,e){r(e,o(e),t)}));t.exports=a},function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=s(n(1)),i=s(n(0)),o=n(216),a=n(661);function s(t){return t&&t.__esModule?t:{default:t}}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var c=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},p=function(t){var e,n;function r(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(u(u(r)));return r.state={handleExited:i,firstRender:!0},r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,a.getInitialChildMapping)(t,r):(0,a.getNextChildMapping)(t,n,r),firstRender:!1}},o.handleExited=function(t,e){var n=(0,a.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=l({},e.children);return delete n[t.key],{children:n}})))},o.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["component","childFactory"]),o=c(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o:i.default.createElement(e,r,o)},r}(i.default.Component);p.childContextTypes={transitionGroup:r.default.object.isRequired},p.propTypes={},p.defaultProps={component:"div",childFactory:function(t){return t}};var h=(0,o.polyfill)(p);e.default=h,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=i,e.mergeChildMappings=o,e.getInitialChildMapping=function(t,e){return i(t.children,(function(n){return(0,r.cloneElement)(n,{onExited:e.bind(null,n),in:!0,appear:a(n,"appear",t),enter:a(n,"enter",t),exit:a(n,"exit",t)})}))},e.getNextChildMapping=function(t,e,n){var s=i(t.children),l=o(e,s);return Object.keys(l).forEach((function(i){var o=l[i];if((0,r.isValidElement)(o)){var u=i in e,c=i in s,p=e[i],h=(0,r.isValidElement)(p)&&!p.props.in;!c||u&&!h?c||!u||h?c&&u&&(0,r.isValidElement)(p)&&(l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:p.props.in,exit:a(o,"exit",t),enter:a(o,"enter",t)})):l[i]=(0,r.cloneElement)(o,{in:!1}):l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",t),enter:a(o,"enter",t)})}})),l};var r=n(0);function i(t,e){var n=Object.create(null);return t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)})),n}function o(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in e){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(t,e,n){return null!=n[e]?n[e]:t.props[e]}},function(t,e,n){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(1)),i=s(n(0)),o=s(n(48)),a=n(216);n(663);function s(t){return t&&t.__esModule?t:{default:t}}e.UNMOUNTED="unmounted";e.EXITED="exited";e.ENTERING="entering";e.ENTERED="entered";e.EXITING="exiting";var l=function(t){var e,n;function r(e,n){var r;r=t.call(this,e,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i="exited",r.appearStatus="entering"):i="entered":i=e.unmountOnExit||e.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(t,e){return t.in&&"unmounted"===e.status?{status:"exited"}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(e="entering"):"entering"!==n&&"entered"!==n||(e="exiting")}this.updateStatus(!1,e)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!=typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},a.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=o.default.findDOMNode(this);"entering"===e?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(t,e){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,o=this.getTimeouts(),a=i?o.appear:o.enter;e||r?(this.props.onEnter(t,i),this.safeSetState({status:"entering"},(function(){n.props.onEntering(t,i),n.onTransitionEnd(t,a,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(t,i)}))}))}))):this.safeSetState({status:"entered"},(function(){n.props.onEntered(t)}))},a.performExit=function(t){var e=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(t)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(t)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},a.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(t,e,n){this.setNextCallback(n);var r=null==e&&!this.props.addEndListener;t&&!r?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if("unmounted"===t)return null;var e=this.props,n=e.children,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(t,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function u(){}l.contextTypes={transitionGroup:r.object},l.childContextTypes={transitionGroup:function(){}},l.propTypes={},l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:u,onEntering:u,onEntered:u,onExit:u,onExiting:u,onExited:u},l.UNMOUNTED=0,l.EXITED=1,l.ENTERING=2,l.ENTERED=3,l.EXITING=4;var c=(0,a.polyfill)(l);e.default=c},function(t,e,n){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0;var r;(r=n(1))&&r.__esModule;e.timeoutsShape=null;e.classNamesShape=null},function(t,e,n){"use strict";var r={isObject:n(28)},i=n(218),o=0;t.exports={registerEffect:function(t,e){r.isObject(t)&&(e=t,t="");var n="VelocityHelper.animation."+o+++t;if(i.velocityReactServerShim)return n;if(void 0===i.RegisterEffect)throw"Velocity.RegisterEffect not found. You need to require 'velocity-animate/velocity.ui' at a top level for UI Pack.";return i.RegisterEffect(n,e),n}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(0)),i=a(n(1)),o=n(106);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e=t.node,n=t.style;return r.default.createElement(o.Div,{style:n.base},r.default.createElement(o.Div,{style:n.title},e.name))};s.propTypes={style:i.default.object,node:i.default.object.isRequired};var l=s;e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(0)),i=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}var a=(0,o(n(162)).default)((function(t){var e=t.className;return r.default.createElement("div",{className:e},"loading...")}))((function(t){return t.style}));a.propTypes={style:i.default.object};var s=a;e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n(0)),i=s(n(1)),o=s(n(162)),a=n(106);function s(t){return t&&t.__esModule?t:{default:t}}var l=(0,o.default)("polygon",{shouldForwardProp:function(t){return-1!==["className","children","points"].indexOf(t)}})((function(t){return t.style})),u=function(t){var e=t.style,n=e.height,i=e.width,o=.5*n,s="0,0 0,".concat(n," ").concat(i,",").concat(o);return r.default.createElement(a.Div,{style:e.base},r.default.createElement(a.Div,{style:e.wrapper},r.default.createElement("svg",{height:n,width:i},r.default.createElement(l,{points:s,style:e.arrow}))))};u.propTypes={style:i.default.object};var c=u;e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),i=f(n(1)),o=f(n(162)),a=n(311),s=f(n(217)),l=n(312),u=n(106),c=f(n(669)),p=f(n(685)),h=f(n(686));function f(t){return t&&t.__esModule?t:{default:t}}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){m(t,e,n[e])}))}return t}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=(0,o.default)("li",{shouldForwardProp:function(t){return-1!==["className","children","ref"].indexOf(t)}})((function(t){return t.style})),C=function(t){function e(){return y(this,e),b(this,x(e).apply(this,arguments))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(e,t),n=e,(i=[{key:"onClick",value:function(){var t=this.props,e=t.node,n=t.onToggle,r=e.toggled;n&&n(e,!r)}},{key:"animations",value:function(){var t=this.props,e=t.animations,n=t.node;if(!e)return{toggle:s.default.toggle(this.props,0)};var r=Object.assign({},e,n.animations);return{toggle:r.toggle(this.props),drawer:r.drawer(this.props)}}},{key:"decorators",value:function(){var t=this.props,e=t.decorators,n=t.node.decorators||{};return Object.assign({},e,n)}},{key:"renderChildren",value:function(t){var n=this.props,i=n.animations,o=n.decorators,s=n.node,c=n.style,p=n.onToggle;if(s.loading)return r.default.createElement(h.default,{decorators:t,style:c});var f=s.children;return(0,a.isArray)(f)||(f=f?[f]:[]),r.default.createElement(u.Ul,{style:c.subtree},f.map((function(t){return r.default.createElement(e,v({onToggle:p,animations:i,style:c},{decorators:o,key:t.id||(0,l.randomString)(),node:t}))})))}},{key:"render",value:function(){var t=this,e=this.props,n=e.node,i=e.style,o=this.decorators(),a=this.animations(),s=v({},a.drawer);return r.default.createElement(E,{style:i.base},r.default.createElement(c.default,v({decorators:o,animations:a,node:n,style:i},{onClick:function(){return t.onClick()}})),r.default.createElement(p.default,{restAnimationInfo:g({},s)},n.toggled?this.renderChildren(o,a):null))}}])&&_(n.prototype,i),o&&_(n,o),e}(r.PureComponent);C.propTypes={onToggle:i.default.func,style:i.default.object.isRequired,node:i.default.object.isRequired,decorators:i.default.object.isRequired,animations:i.default.oneOfType([i.default.object,i.default.bool]).isRequired};var S=C;e.default=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(0)),i=s(n(1)),o=s(n(670)),a=s(n(671));function s(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){p(t,e,n[e])}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(){return h(this,e),d(this,g(e).apply(this,arguments))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,t),n=e,(i=[{key:"shouldComponentUpdate",value:function(t){for(var e=this.props,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];if("animations"!==i&&!(0,o.default)(e[i],t[i]))return!0}return!(0,a.default)(e.animations,t.animations,{strict:!0})}},{key:"render",value:function(){var t,e=this.props,n=e.animations,i=e.decorators,o=e.node,a=e.onClick,s=e.style,l=o.active,p=!o.children;return t=l?Object.assign(s,{container:c({},s.link,s.activeLink)}):s,r.default.createElement(i.Container,u({animations:n,decorators:i,node:o,onClick:a,terminal:p},{style:t}))}}])&&f(n.prototype,i),s&&f(n,s),e}(r.Component);v.propTypes={style:i.default.object.isRequired,decorators:i.default.object.isRequired,animations:i.default.oneOfType([i.default.object,i.default.bool]).isRequired,node:i.default.object.isRequired,onClick:i.default.func};var y=v;e.default=y},function(t,e){t.exports=function(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(void 0!==i)return!!i;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=t[u],p=e[u];if(!1===(i=n?n.call(r,c,p,u):void 0)||void 0===i&&c!==p)return!1}return!0}},function(t,e,n){var r=n(315),i=n(673),o=n(674),a=n(675),s=n(678),l=n(684),u=Date.prototype.getTime;function c(t,e,n){var f=n||{};return!(f.strict?!o(t,e):t!==e)||(!t||!e||"object"!=typeof t&&"object"!=typeof e?f.strict?o(t,e):t==e:function(t,e,n){var o,f;if(typeof t!=typeof e)return!1;if(p(t)||p(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t)!==i(e))return!1;var d=a(t),g=a(e);if(d!==g)return!1;if(d||g)return t.source===e.source&&s(t)===s(e);if(l(t)&&l(e))return u.call(t)===u.call(e);var m=h(t),v=h(e);if(m!==v)return!1;if(m||v){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}if(typeof t!=typeof e)return!1;try{var y=r(t),_=r(e)}catch(t){return!1}if(y.length!==_.length)return!1;for(y.sort(),_.sort(),o=y.length-1;o>=0;o--)if(y[o]!=_[o])return!1;for(o=y.length-1;o>=0;o--)if(f=y[o],!c(t[f],e[f],n))return!1;return!0}(t,e,f))}function p(t){return null==t}function h(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}t.exports=c},function(t,e,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(316),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{p(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===o.call(t),r=a(t),s=e&&"[object String]"===o.call(t),h=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var d=u&&n;if(s&&t.length>0&&!i.call(t,0))for(var g=0;g<t.length;++g)h.push(String(g));if(r&&t.length>0)for(var m=0;m<t.length;++m)h.push(String(m));else for(var v in t)d&&"prototype"===v||!i.call(t,v)||h.push(String(v));if(l)for(var y=function(t){if("undefined"==typeof window||!f)return p(t);try{return p(t)}catch(t){return!1}}(t),_=0;_<c.length;++_)y&&"constructor"===c[_]||!i.call(t,c[_])||h.push(c[_]);return h}}t.exports=r},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=Object.prototype.toString,o=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i.call(t)},a=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i.call(t)&&"[object Function]"===i.call(t.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,t.exports=s?o:a},function(t,e,n){"use strict";var r=function(t){return t!=t};t.exports=function(t,e){return 0===t&&0===e?1/t==1/e:t===e||!(!r(t)||!r(e))}},function(t,e,n){"use strict";var r=n(676),i=RegExp.prototype.exec,o=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!s)return"[object RegExp]"===a.call(t);var e=o(t,"lastIndex");return!(!e||!r(e,"value"))&&function(t){try{var e=t.lastIndex;return t.lastIndex=0,i.call(t),!0}catch(t){return!1}finally{t.lastIndex=e}}(t)}},function(t,e,n){"use strict";var r=n(219);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==o.call(e))throw new TypeError(r+e);for(var n,a=i.call(arguments,1),s=function(){if(this instanceof n){var r=e.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return e.apply(t,a.concat(i.call(arguments)))},l=Math.max(0,e.length-a.length),u=[],c=0;c<l;c++)u.push("$"+c);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),e.prototype){var p=function(){};p.prototype=e.prototype,n.prototype=new p,p.prototype=null}return n}},function(t,e,n){"use strict";var r=n(220),i=n(679),o=n(317),a=n(318),s=n(683),l=i(o);r(l,{getPolyfill:a,implementation:o,shim:s}),t.exports=l},function(t,e,n){"use strict";var r=n(219),i=n(680)("%Function%"),o=i.apply,a=i.call;t.exports=function(){return r.apply(a,arguments)},t.exports.apply=function(){return r.apply(o,arguments)}},function(t,e,n){"use strict";var r=TypeError,i=Object.getOwnPropertyDescriptor;if(i)try{i({},"")}catch(t){i=null}var o=function(){throw new r},a=i?function(){try{return arguments.callee,o}catch(t){try{return i(arguments,"callee").get}catch(t){return o}}}():o,s=n(681)(),l=Object.getPrototypeOf||function(t){return t.__proto__},u=void 0,c="undefined"==typeof Uint8Array?void 0:l(Uint8Array),p={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":s?l([][Symbol.iterator]()):void 0,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":void 0,"%AsyncFunctionPrototype%":void 0,"%AsyncGenerator%":void 0,"%AsyncGeneratorFunction%":void 0,"%AsyncGeneratorPrototype%":void 0,"%AsyncIteratorPrototype%":u&&s&&Symbol.asyncIterator?u[Symbol.asyncIterator]():void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":void 0,"%GeneratorFunction%":void 0,"%GeneratorPrototype%":void 0,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":s?l(l([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%JSONParse%":"object"==typeof JSON?JSON.parse:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&s?l((new Map)[Symbol.iterator]()):void 0,"%MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&s?l((new Set)[Symbol.iterator]()):void 0,"%SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":s?l(""[Symbol.iterator]()):void 0,"%StringPrototype%":String.prototype,"%Symbol%":s?Symbol:void 0,"%SymbolPrototype%":s?Symbol.prototype:void 0,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":c,"%TypedArrayPrototype%":c?c.prototype:void 0,"%TypeError%":r,"%TypeErrorPrototype%":r.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype},h=n(219).call(Function.call,String.prototype.replace),f=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,d=/\\(\\)?/g,g=function(t){var e=[];return h(t,f,(function(t,n,r,i){e[e.length]=r?h(i,d,"$1"):n||t})),e},m=function(t,e){if(!(t in p))throw new SyntaxError("intrinsic "+t+" does not exist!");if(void 0===p[t]&&!e)throw new r("intrinsic "+t+" exists, but is not available. Please file an issue!");return p[t]};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new TypeError('"allowMissing" argument must be a boolean');for(var n=g(t),o=m("%"+(n.length>0?n[0]:"")+"%",e),a=1;a<n.length;a+=1)if(null!=o)if(i&&a+1>=n.length){var s=i(o,n[a]);if(!(e||n[a]in o))throw new r("base intrinsic for "+t+" exists, but the property is not available.");o=s?s.get||s.value:o[n[a]]}else o=o[n[a]];return o}},function(t,e,n){"use strict";(function(e){var r=e.Symbol,i=n(682);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}}).call(this,n(60))},function(t,e,n){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(t,e,n){"use strict";var r=n(220).supportsDescriptors,i=n(318),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,u=/a/;t.exports=function(){if(!r||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=i(),e=l(u),n=o(e,"flags");return n&&n.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},function(t,e,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(t){return"object"==typeof t&&null!==t&&(o?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Date]"===i.call(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(0)),i=a(n(1)),o=n(313);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e=t.restAnimationInfo,n=t.children;return r.default.createElement(o.VelocityTransitionGroup,e,n)};s.propTypes={restAnimationInfo:i.default.shape({}).isRequired,children:i.default.oneOfType([i.default.func,i.default.arrayOf(i.default.func,i.default.shape({})),i.default.shape({})])};var l=s;e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(0)),i=a(n(1)),o=n(106);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e=t.style,n=t.decorators;return r.default.createElement(o.Ul,{style:e.subtree},r.default.createElement("li",null,r.default.createElement(n.Loading,{style:e.loading})))};s.propTypes={decorators:i.default.object.isRequired,style:i.default.object.isRequired};var l=s;e.default=l},function(t,e,n){(t.exports=n(156)(!1)).push([t.i,"/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: 0;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -30px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre.CodeMirror-line,\n.CodeMirror pre.CodeMirror-line-like {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre.CodeMirror-line,\n.CodeMirror-wrap pre.CodeMirror-line-like {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e,n){(t.exports=n(156)(!1)).push([t.i,"/*\n  Name:       material\n  Author:     Mattia Astorino (http://github.com/equinusocio)\n  Website:    https://material-theme.site/\n*/\n\n.cm-s-material.CodeMirror {\n  background-color: #263238;\n  color: #EEFFFF;\n}\n\n.cm-s-material .CodeMirror-gutters {\n  background: #263238;\n  color: #546E7A;\n  border: none;\n}\n\n.cm-s-material .CodeMirror-guttermarker,\n.cm-s-material .CodeMirror-guttermarker-subtle,\n.cm-s-material .CodeMirror-linenumber {\n  color: #546E7A;\n}\n\n.cm-s-material .CodeMirror-cursor {\n  border-left: 1px solid #FFCC00;\n}\n\n.cm-s-material div.CodeMirror-selected {\n  background: rgba(128, 203, 196, 0.2);\n}\n\n.cm-s-material.CodeMirror-focused div.CodeMirror-selected {\n  background: rgba(128, 203, 196, 0.2);\n}\n\n.cm-s-material .CodeMirror-line::selection,\n.cm-s-material .CodeMirror-line>span::selection,\n.cm-s-material .CodeMirror-line>span>span::selection {\n  background: rgba(128, 203, 196, 0.2);\n}\n\n.cm-s-material .CodeMirror-line::-moz-selection,\n.cm-s-material .CodeMirror-line>span::-moz-selection,\n.cm-s-material .CodeMirror-line>span>span::-moz-selection {\n  background: rgba(128, 203, 196, 0.2);\n}\n\n.cm-s-material .CodeMirror-activeline-background {\n  background: rgba(0, 0, 0, 0.5);\n}\n\n.cm-s-material .cm-keyword {\n  color: #C792EA;\n}\n\n.cm-s-material .cm-operator {\n  color: #89DDFF;\n}\n\n.cm-s-material .cm-variable-2 {\n  color: #EEFFFF;\n}\n\n.cm-s-material .cm-variable-3,\n.cm-s-material .cm-type {\n  color: #f07178;\n}\n\n.cm-s-material .cm-builtin {\n  color: #FFCB6B;\n}\n\n.cm-s-material .cm-atom {\n  color: #F78C6C;\n}\n\n.cm-s-material .cm-number {\n  color: #FF5370;\n}\n\n.cm-s-material .cm-def {\n  color: #82AAFF;\n}\n\n.cm-s-material .cm-string {\n  color: #C3E88D;\n}\n\n.cm-s-material .cm-string-2 {\n  color: #f07178;\n}\n\n.cm-s-material .cm-comment {\n  color: #546E7A;\n}\n\n.cm-s-material .cm-variable {\n  color: #f07178;\n}\n\n.cm-s-material .cm-tag {\n  color: #FF5370;\n}\n\n.cm-s-material .cm-meta {\n  color: #FFCB6B;\n}\n\n.cm-s-material .cm-attribute {\n  color: #C792EA;\n}\n\n.cm-s-material .cm-property {\n  color: #C792EA;\n}\n\n.cm-s-material .cm-qualifier {\n  color: #DECB6B;\n}\n\n.cm-s-material .cm-variable-3,\n.cm-s-material .cm-type {\n  color: #DECB6B;\n}\n\n\n.cm-s-material .cm-error {\n  color: rgba(255, 255, 255, 1.0);\n  background-color: #FF5370;\n}\n\n.cm-s-material .CodeMirror-matchingbracket {\n  text-decoration: underline;\n  color: white !important;\n}",""])},function(t,e,n){var r,i,o;o=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=18)}([,,function(t,e,n){"use strict";function r(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function i(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}function o(t,e){this.__indent_cache=new i(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new r(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}r.prototype.clone_empty=function(){var t=new r(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t},r.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]},r.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1},r.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},r.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},r.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},r.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===t.__items[0]&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1},r.prototype.is_empty=function(){return 0===this.__items.length},r.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},r.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf("\n");-1!==e?this.__character_count=t.length-e:this.__character_count+=t.length},r.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t},r.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},r.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},r.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},r.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t},i.prototype.get_indent_size=function(t,e){var n=this.__base_string_length;return e=e||0,t<0&&(n=0),n+=t*this.__indent_size,n+=e},i.prototype.get_indent_string=function(t,e){var n=this.__base_string;return e=e||0,t<0&&(t=0,n=""),e+=t*this.__indent_size,this.__ensure_cache(e),n+=this.__cache[e]},i.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()},i.prototype.__add_column=function(){var t=this.__cache.length,e=0,n="";this.__indent_size&&t>=this.__indent_size&&(t-=(e=Math.floor(t/this.__indent_size))*this.__indent_size,n=new Array(e+1).join(this.__indent_string)),t&&(n+=new Array(t+1).join(" ")),this.__cache.push(n)},o.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},o.prototype.get_line_number=function(){return this.__lines.length},o.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)},o.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)},o.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},o.prototype.add_new_line=function(t){return!(this.is_empty()||!t&&this.just_added_newline()||(this.raw||this.__add_outputline(),0))},o.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&("\n"===e[e.length-1]&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var n=this.__lines.join("\n");return"\n"!==t&&(n=n.replace(/[\n]/g,t)),n},o.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},o.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)},o.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},o.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},o.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},o.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()},o.prototype.trim=function(t){for(t=void 0!==t&&t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},o.prototype.just_added_newline=function(){return this.current_line.is_empty()},o.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},o.prototype.ensure_empty_line_above=function(t,e){for(var n=this.__lines.length-2;n>=0;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(t)&&i.item(-1)!==e){this.__lines.splice(n+1,0,new r(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},t.exports.Output=o},function(t,e,n){"use strict";t.exports.Token=function(t,e,n,r){this.type=t,this.text=e,this.comments_before=null,this.newlines=n||0,this.whitespace_before=r||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}},,,function(t,e,n){"use strict";function r(t,e){this.raw_options=i(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php"],["auto"])}function i(t,e){var n,r={};for(n in t=o(t))n!==e&&(r[n]=t[n]);if(e&&t[e])for(n in t[e])r[n]=t[e][n];return r}function o(t){var e,n={};for(e in t)n[e.replace(/-/g,"_")]=t[e];return n}r.prototype._get_array=function(t,e){var n=this.raw_options[t],r=e||[];return"object"==typeof n?null!==n&&"function"==typeof n.concat&&(r=n.concat()):"string"==typeof n&&(r=n.split(/[^a-zA-Z0-9_\/\-]+/)),r},r.prototype._get_boolean=function(t,e){var n=this.raw_options[t];return void 0===n?!!e:!!n},r.prototype._get_characters=function(t,e){var n=this.raw_options[t],r=e||"";return"string"==typeof n&&(r=n.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r},r.prototype._get_number=function(t,e){var n=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var r=parseInt(n,10);return isNaN(r)&&(r=e),r},r.prototype._get_selection=function(t,e,n){var r=this._get_selection_list(t,e,n);if(1!==r.length)throw new Error("Invalid Option Value: The option '"+t+"' can only be one of the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r[0]},r.prototype._get_selection_list=function(t,e,n){if(!e||0===e.length)throw new Error("Selection list cannot be empty.");if(n=n||[e[0]],!this._is_valid_selection(n,e))throw new Error("Invalid Default Value!");var r=this._get_array(t,n);if(!this._is_valid_selection(r,e))throw new Error("Invalid Option Value: The option '"+t+"' can contain only the following values:\n"+e+"\nYou passed in: '"+this.raw_options[t]+"'");return r},r.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some((function(t){return-1===e.indexOf(t)}))},t.exports.Options=r,t.exports.normalizeOpts=o,t.exports.mergeOpts=i},,function(t,e,n){"use strict";var r=RegExp.prototype.hasOwnProperty("sticky");function i(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}i.prototype.restart=function(){this.__position=0},i.prototype.back=function(){this.__position>0&&(this.__position-=1)},i.prototype.hasNext=function(){return this.__position<this.__input_length},i.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t},i.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e},i.prototype.__match=function(t,e){t.lastIndex=e;var n=t.exec(this.__input);return!n||r&&t.sticky||n.index!==e&&(n=null),n},i.prototype.test=function(t,e){return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&!!this.__match(t,e)},i.prototype.testChar=function(t,e){var n=this.peek(e);return t.lastIndex=0,null!==n&&t.test(n)},i.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e},i.prototype.read=function(t,e,n){var r,i="";return t&&(r=this.match(t))&&(i+=r[0]),!e||!r&&t||(i+=this.readUntil(e,n)),i},i.prototype.readUntil=function(t,e){var n,r=this.__position;t.lastIndex=this.__position;var i=t.exec(this.__input);return i?(r=i.index,e&&(r+=i[0].length)):r=this.__input_length,n=this.__input.substring(this.__position,r),this.__position=r,n},i.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)},i.prototype.get_regexp=function(t,e){var n=null,i="g";return e&&r&&(i="y"),"string"==typeof t&&""!==t?n=new RegExp(t,i):t&&(n=new RegExp(t.source,i)),n},i.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},i.prototype.peekUntilAfter=function(t){var e=this.__position,n=this.readUntilAfter(t);return this.__position=e,n},i.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t},t.exports.InputScanner=i},function(t,e,n){"use strict";var r=n(8).InputScanner,i=n(3).Token,o=n(10).TokenStream,a=n(11).WhitespacePattern,s={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},l=function(t,e){this._input=new r(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new a(this._input)};l.prototype.tokenize=function(){var t;this._input.restart(),this.__tokens=new o,this._reset();for(var e=new i(s.START,""),n=null,r=[],a=new o;e.type!==s.EOF;){for(t=this._get_next_token(e,n);this._is_comment(t);)a.add(t),t=this._get_next_token(e,n);a.isEmpty()||(t.comments_before=a,a=new o),t.parent=n,this._is_opening(t)?(r.push(n),n=t):n&&this._is_closing(t,n)&&(t.opened=n,n.closed=t,n=r.pop(),t.parent=n),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens},l.prototype._is_first_token=function(){return this.__tokens.isEmpty()},l.prototype._reset=function(){},l.prototype._get_next_token=function(t,e){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(s.RAW,n):this._create_token(s.EOF,"")},l.prototype._is_comment=function(t){return!1},l.prototype._is_opening=function(t){return!1},l.prototype._is_closing=function(t,e){return!1},l.prototype._create_token=function(t,e){return new i(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)},l.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},t.exports.Tokenizer=l,t.exports.TOKEN=s},function(t,e,n){"use strict";function r(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}r.prototype.restart=function(){this.__position=0},r.prototype.isEmpty=function(){return 0===this.__tokens_length},r.prototype.hasNext=function(){return this.__position<this.__tokens_length},r.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t},r.prototype.peek=function(t){var e=null;return t=t||0,(t+=this.__position)>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e},r.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1},t.exports.TokenStream=r},function(t,e,n){"use strict";var r=n(12).Pattern;function i(t,e){r.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}i.prototype=new r,i.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")},i.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(" "===t)this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t},i.prototype.matching=function(t,e){var n=this._create();return n.__set_whitespace_patterns(t,e),n._update(),n},i.prototype._create=function(){return new i(this._input,this)},i.prototype.__split=function(t,e){t.lastIndex=0;for(var n=0,r=[],i=t.exec(e);i;)r.push(e.substring(n,i.index)),n=i.index+i[0].length,i=t.exec(e);return n<e.length?r.push(e.substring(n,e.length)):r.push(""),r},t.exports.WhitespacePattern=i},function(t,e,n){"use strict";function r(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}r.prototype.read=function(){var t=this._input.read(this._starting_pattern);return this._starting_pattern&&!t||(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t},r.prototype.read_match=function(){return this._input.match(this._match_pattern)},r.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e},r.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e},r.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e},r.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e},r.prototype._create=function(){return new r(this._input,this)},r.prototype._update=function(){},t.exports.Pattern=r},function(t,e,n){"use strict";function r(t,e){t="string"==typeof t?t:t.source,e="string"==typeof e?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}r.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var n=this.__directive_pattern.exec(t);n;)e[n[1]]=n[2],n=this.__directive_pattern.exec(t);return e},r.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)},t.exports.Directives=r},function(t,e,n){"use strict";var r=n(12).Pattern,i={django:!1,erb:!1,handlebars:!1,php:!1};function o(t,e){r.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},i),this._excluded=Object.assign({},i),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var n=new r(t);this.__patterns={handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:n.starting_with(/{{{/).until_after(/}}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),php:n.starting_with(/<\?(?:[=]|php)/).until_after(/\?>/),erb:n.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:n.starting_with(/{%/).until_after(/%}/),django_value:n.starting_with(/{{/).until_after(/}}/),django_comment:n.starting_with(/{#/).until_after(/#}/)}}o.prototype=new r,o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){this.__set_templated_pattern()},o.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e},o.prototype.read_options=function(t){var e=this._create();for(var n in i)e._disabled[n]=-1===t.templating.indexOf(n);return e._update(),e},o.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e},o.prototype.read=function(){var t="";t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t},o.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")},o.prototype._read_template=function(){var t="",e=this._input.peek();if("<"===e){var n=this._input.peek(1);this._disabled.php||this._excluded.php||"?"!==n||(t=t||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||"%"!==n||(t=t||this.__patterns.erb.read())}else"{"===e&&(this._disabled.handlebars||this._excluded.handlebars||(t=(t=(t=t||this.__patterns.handlebars_comment.read())||this.__patterns.handlebars_unescaped.read())||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=(t=t||this.__patterns.django_comment.read())||this.__patterns.django.read())));return t},t.exports.TemplatablePattern=o},,,,function(t,e,n){"use strict";var r=n(19).Beautifier,i=n(20).Options;t.exports=function(t,e,n,i){return new r(t,e,n,i).beautify()},t.exports.defaultOptions=function(){return new i}},function(t,e,n){"use strict";var r=n(20).Options,i=n(2).Output,o=n(21).Tokenizer,a=n(21).TOKEN,s=/\r\n|[\r\n]/,l=/\r\n|[\r\n]/g,u=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new i(t,e)};u.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)},u.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e},u.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},u.prototype.add_raw_token=function(t){this._output.add_raw_token(t)},u.prototype.print_preserved_newlines=function(t){var e=0;t.type!==a.TEXT&&t.previous.type!==a.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var n=0;n<e;n++)this.print_newline(n>0);return 0!==e},u.prototype.traverse_whitespace=function(t){return!(!t.whitespace_before&&!t.newlines||(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),0))},u.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},u.prototype.print_newline=function(t){this._output.add_new_line(t)},u.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))},u.prototype.indent=function(){this.indent_level++},u.prototype.get_full_indent=function(t){return(t=this.indent_level+(t||0))<1?"":this._output.get_indent_string(t)};var c=function(t,e){var n=null,r=null;return e.closed?("script"===t?n="text/javascript":"style"===t&&(n="text/css"),(n=function(t){for(var e=null,n=t.next;n.type!==a.EOF&&t.closed!==n;){if(n.type===a.ATTRIBUTE&&"type"===n.text){n.next&&n.next.type===a.EQUALS&&n.next.next&&n.next.next.type===a.VALUE&&(e=n.next.next.text);break}n=n.next}return e}(e)||n).search("text/css")>-1?r="css":n.search(/(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/)>-1?r="javascript":n.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":n.search(/test\/null/)>-1&&(r="null"),r):null};function p(t,e){return-1!==e.indexOf(t)}function h(t,e,n){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=n||0,this.parser_token=e||null}function f(t){this._printer=t,this._current_frame=null}function d(t,e,n,i){this._source_text=t||"",e=e||{},this._js_beautify=n,this._css_beautify=i,this._tag_stack=null;var o=new r(e,"html");this._options=o,this._is_wrap_attributes_force="force"===this._options.wrap_attributes.substr(0,"force".length),this._is_wrap_attributes_force_expand_multiline="force-expand-multiline"===this._options.wrap_attributes,this._is_wrap_attributes_force_aligned="force-aligned"===this._options.wrap_attributes,this._is_wrap_attributes_aligned_multiple="aligned-multiple"===this._options.wrap_attributes,this._is_wrap_attributes_preserve="preserve"===this._options.wrap_attributes.substr(0,"preserve".length),this._is_wrap_attributes_preserve_aligned="preserve-aligned"===this._options.wrap_attributes}f.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},f.prototype.record_tag=function(t){var e=new h(this._current_frame,t,this._printer.indent_level);this._current_frame=e},f.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e},f.prototype._get_frame=function(t,e){for(var n=this._current_frame;n&&-1===t.indexOf(n.tag);){if(e&&-1!==e.indexOf(n.tag)){n=null;break}n=n.parent}return n},f.prototype.try_pop=function(t,e){var n=this._get_frame([t],e);return this._try_pop_frame(n)},f.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)},d.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;"auto"===this._options.eol&&(e="\n",t&&s.test(t)&&(e=t.match(s)[0]));var n=(t=t.replace(l,"\n")).match(/^[\t ]*/)[0],r={text:"",type:""},i=new g,c=new u(this._options,n),p=new o(t,this._options).tokenize();this._tag_stack=new f(c);for(var h=null,d=p.next();d.type!==a.EOF;)d.type===a.TAG_OPEN||d.type===a.COMMENT?i=h=this._handle_tag_open(c,d,i,r):d.type===a.ATTRIBUTE||d.type===a.EQUALS||d.type===a.VALUE||d.type===a.TEXT&&!i.tag_complete?h=this._handle_inside_tag(c,d,i,p):d.type===a.TAG_CLOSE?h=this._handle_tag_close(c,d,i):d.type===a.TEXT?h=this._handle_text(c,d,i):c.add_raw_token(d),r=h,d=p.next();return c._output.get_code(e)},d.prototype._handle_tag_close=function(t,e,n){var r={text:e.text,type:e.type};return t.alignment_size=0,n.tag_complete=!0,t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),n.is_unformatted?t.add_raw_token(e):("<"===n.tag_start_char&&(t.set_space_before_token("/"===e.text[0],!0),this._is_wrap_attributes_force_expand_multiline&&n.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),!n.indent_content||n.is_unformatted||n.is_content_unformatted||(t.indent(),n.indent_content=!1),n.is_inline_element||n.is_unformatted||n.is_content_unformatted||t.set_wrap_point(),r},d.prototype._handle_inside_tag=function(t,e,n,r){var i=n.has_wrapped_attrs,o={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||""!==e.whitespace_before,!0),n.is_unformatted)t.add_raw_token(e);else if("{"===n.tag_start_char&&e.type===a.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===a.ATTRIBUTE?(t.set_space_before_token(!0),n.attr_count+=1):e.type===a.EQUALS?t.set_space_before_token(!1):e.type===a.VALUE&&e.previous.type===a.EQUALS&&t.set_space_before_token(!1),e.type===a.ATTRIBUTE&&"<"===n.tag_start_char&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),i=i||0!==e.newlines),this._is_wrap_attributes_force)){var s=n.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&1===n.attr_count){var l,u=!0,c=0;do{if((l=r.peek(c)).type===a.ATTRIBUTE){u=!1;break}c+=1}while(c<4&&l.type!==a.EOF&&l.type!==a.TAG_CLOSE);s=!u}s&&(t.print_newline(!1),i=!0)}t.print_token(e),i=i||t.previous_token_wrapped(),n.has_wrapped_attrs=i}return o},d.prototype._handle_text=function(t,e,n){var r={text:e.text,type:"TK_CONTENT"};return n.custom_beautifier_name?this._print_custom_beatifier_text(t,e,n):n.is_unformatted||n.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),r},d.prototype._print_custom_beatifier_text=function(t,e,n){var r=this;if(""!==e.text){var i,o=e.text,a=1,s="",l="";"javascript"===n.custom_beautifier_name&&"function"==typeof this._js_beautify?i=this._js_beautify:"css"===n.custom_beautifier_name&&"function"==typeof this._css_beautify?i=this._css_beautify:"html"===n.custom_beautifier_name&&(i=function(t,e){return new d(t,e,r._js_beautify,r._css_beautify).beautify()}),"keep"===this._options.indent_scripts?a=0:"separate"===this._options.indent_scripts&&(a=-t.indent_level);var u=t.get_full_indent(a);if(o=o.replace(/\n[ \t]*$/,""),"html"!==n.custom_beautifier_name&&"<"===o[0]&&o.match(/^(<!--|<!\[CDATA\[)/)){var c=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(o);if(!c)return void t.add_raw_token(e);s=u+c[1]+"\n",o=c[4],c[5]&&(l=u+c[5]),o=o.replace(/\n[ \t]*$/,""),(c[2]||-1!==c[3].indexOf("\n"))&&(c=c[3].match(/[ \t]+$/))&&(e.whitespace_before=c[0])}if(o)if(i){var p=function(){this.eol="\n"};p.prototype=this._options.raw_options,o=i(u+o,new p)}else{var h=e.whitespace_before;h&&(o=o.replace(new RegExp("\n("+h+")?","g"),"\n")),o=u+o.replace(/\n/g,"\n"+u)}s&&(o=o?s+o+"\n"+l:s+l),t.print_newline(!1),o&&(e.text=o,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}},d.prototype._handle_tag_open=function(t,e,n,r){var i=this._get_tag_open_token(e);return(n.is_unformatted||n.is_content_unformatted)&&e.type===a.TAG_OPEN&&0===e.text.indexOf("</")?t.add_raw_token(e):(t.traverse_whitespace(e),this._set_tag_position(t,e,i,n,r),i.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(i.alignment_size=e.text.length+1),i.tag_complete||i.is_unformatted||(t.alignment_size=i.alignment_size),i};var g=function(t,e){var n;this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",e?(this.tag_start_char=e.text[0],this.text=e.text,"<"===this.tag_start_char?(n=e.text.match(/^<([^\s>]*)/),this.tag_check=n?n[1]:""):(n=e.text.match(/^{{[#\^]?([^\s}]+)/),this.tag_check=n?n[1]:""),this.tag_check=this.tag_check.toLowerCase(),e.type===a.COMMENT&&(this.tag_complete=!0),this.is_start_tag="/"!==this.tag_check.charAt(0),this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&"/>"===e.closed.text,this.is_end_tag=this.is_end_tag||"{"===this.tag_start_char&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))):this.tag_complete=!0};d.prototype._get_tag_open_token=function(t){var e=new g(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||p(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&p(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&p(e.tag_check,this._options.content_unformatted),e.is_inline_element=p(e.tag_name,this._options.inline)||"{"===e.tag_start_char,e},d.prototype._set_tag_position=function(t,e,n,r,i){n.is_empty_element||(n.is_end_tag?n.start_tag_token=this._tag_stack.try_pop(n.tag_name):(this._do_optional_end_element(n)&&(n.is_inline_element||(n.parent&&(n.parent.multiline_content=!0),t.print_newline(!1))),this._tag_stack.record_tag(n),"script"!==n.tag_name&&"style"!==n.tag_name||n.is_unformatted||n.is_content_unformatted||(n.custom_beautifier_name=c(n.tag_check,e)))),p(n.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),n.is_empty_element?("{"===n.tag_start_char&&"else"===n.tag_check&&(this._tag_stack.indent_to_tag(["if","unless","each"]),n.indent_content=!0,t.current_line_has_match(/{{#if/)||t.print_newline(!1)),"!--"===n.tag_name&&i.type===a.TAG_CLOSE&&r.is_end_tag&&-1===n.text.indexOf("\n")||n.is_inline_element||n.is_unformatted||t.print_newline(!1)):n.is_unformatted||n.is_content_unformatted?n.is_inline_element||n.is_unformatted||t.print_newline(!1):n.is_end_tag?(n.start_tag_token&&n.start_tag_token.multiline_content||!(n.is_inline_element||r.is_inline_element||i.type===a.TAG_CLOSE&&n.start_tag_token===r||"TK_CONTENT"===i.type))&&t.print_newline(!1):(n.indent_content=!n.custom_beautifier_name,"<"===n.tag_start_char&&("html"===n.tag_name?n.indent_content=this._options.indent_inner_html:"head"===n.tag_name?n.indent_content=this._options.indent_head_inner_html:"body"===n.tag_name&&(n.indent_content=this._options.indent_body_inner_html)),n.is_inline_element||"TK_CONTENT"===i.type||(n.parent&&(n.parent.multiline_content=!0),t.print_newline(!1)))},d.prototype._do_optional_end_element=function(t){var e=null;if(!t.is_empty_element&&t.is_start_tag&&t.parent)return"body"===t.tag_name?e=e||this._tag_stack.try_pop("head"):"li"===t.tag_name?e=e||this._tag_stack.try_pop("li",["ol","ul"]):"dd"===t.tag_name||"dt"===t.tag_name?e=(e=e||this._tag_stack.try_pop("dt",["dl"]))||this._tag_stack.try_pop("dd",["dl"]):"rp"===t.tag_name||"rt"===t.tag_name?e=(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]))||this._tag_stack.try_pop("rp",["ruby","rtc"]):"optgroup"===t.tag_name?e=e||this._tag_stack.try_pop("optgroup",["select"]):"option"===t.tag_name?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):"colgroup"===t.tag_name?e=e||this._tag_stack.try_pop("caption",["table"]):"thead"===t.tag_name?e=(e=e||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]):"tbody"===t.tag_name||"tfoot"===t.tag_name?e=(e=(e=(e=e||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("thead",["table"]))||this._tag_stack.try_pop("tbody",["table"]):"tr"===t.tag_name?e=(e=(e=e||this._tag_stack.try_pop("caption",["table"]))||this._tag_stack.try_pop("colgroup",["table"]))||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"]):"th"!==t.tag_name&&"td"!==t.tag_name||(e=(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]))||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),t.parent=this._tag_stack.get_parser_token(),e},t.exports.Beautifier=d},function(t,e,n){"use strict";var r=n(6).Options;function i(t){r.call(this,t,"html"),1===this.templating.length&&"auto"===this.templating[0]&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}i.prototype=new r,t.exports.Options=i},function(t,e,n){"use strict";var r=n(9).Tokenizer,i=n(9).TOKEN,o=n(13).Directives,a=n(14).TemplatablePattern,s=n(12).Pattern,l={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:i.START,RAW:i.RAW,EOF:i.EOF},u=new o(/<\!--/,/-->/),c=function(t,e){r.call(this,t,e),this._current_tag_name="";var n=new a(this._input).read_options(this._options),i=new s(this._input);if(this.__patterns={word:n.until(/[\n\r\t <]/),single_quote:n.until_after(/'/),double_quote:n.until_after(/"/),attribute:n.until(/[\n\r\t =>]|\/>/),element_name:n.until(/[\n\r\t >\/]/),handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),handlebars_open:i.until(/[\n\r\t }]/),handlebars_raw_close:i.until(/}}/),comment:i.starting_with(/<!--/).until_after(/-->/),cdata:i.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:i.starting_with(/<!\[/).until_after(/]>/),processing:i.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var o=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=i.matching(o).until_after(o)}};(c.prototype=new r)._is_comment=function(t){return!1},c.prototype._is_opening=function(t){return t.type===l.TAG_OPEN},c.prototype._is_closing=function(t,e){return t.type===l.TAG_CLOSE&&e&&((">"===t.text||"/>"===t.text)&&"<"===e.text[0]||"}}"===t.text&&"{"===e.text[0]&&"{"===e.text[1])},c.prototype._reset=function(){this._current_tag_name=""},c.prototype._get_next_token=function(t,e){var n=null;this._readWhitespace();var r=this._input.peek();return null===r?this._create_token(l.EOF,""):n=(n=(n=(n=(n=(n=(n=(n=(n=n||this._read_open_handlebars(r,e))||this._read_attribute(r,t,e))||this._read_raw_content(r,t,e))||this._read_close(r,e))||this._read_content_word(r))||this._read_comment_or_cdata(r))||this._read_processing(r))||this._read_open(r,e))||this._create_token(l.UNKNOWN,this._input.next())},c.prototype._read_comment_or_cdata=function(t){var e=null,n=null,r=null;return"<"===t&&("!"===this._input.peek(1)&&((n=this.__patterns.comment.read())?(r=u.get_directives(n))&&"start"===r.ignore&&(n+=u.readIgnored(this._input)):n=this.__patterns.cdata.read()),n&&((e=this._create_token(l.COMMENT,n)).directives=r)),e},c.prototype._read_processing=function(t){var e=null,n=null;if("<"===t){var r=this._input.peek(1);"!"!==r&&"?"!==r||(n=(n=this.__patterns.conditional_comment.read())||this.__patterns.processing.read()),n&&((e=this._create_token(l.COMMENT,n)).directives=null)}return e},c.prototype._read_open=function(t,e){var n=null,r=null;return e||"<"===t&&(n=this._input.next(),"/"===this._input.peek()&&(n+=this._input.next()),n+=this.__patterns.element_name.read(),r=this._create_token(l.TAG_OPEN,n)),r},c.prototype._read_open_handlebars=function(t,e){var n=null,r=null;return e||this._options.indent_handlebars&&"{"===t&&"{"===this._input.peek(1)&&("!"===this._input.peek(2)?(n=(n=this.__patterns.handlebars_comment.read())||this.__patterns.handlebars.read(),r=this._create_token(l.COMMENT,n)):(n=this.__patterns.handlebars_open.read(),r=this._create_token(l.TAG_OPEN,n))),r},c.prototype._read_close=function(t,e){var n=null,r=null;return e&&("<"===e.text[0]&&(">"===t||"/"===t&&">"===this._input.peek(1))?(n=this._input.next(),"/"===t&&(n+=this._input.next()),r=this._create_token(l.TAG_CLOSE,n)):"{"===e.text[0]&&"}"===t&&"}"===this._input.peek(1)&&(this._input.next(),this._input.next(),r=this._create_token(l.TAG_CLOSE,"}}"))),r},c.prototype._read_attribute=function(t,e,n){var r=null,i="";if(n&&"<"===n.text[0])if("="===t)r=this._create_token(l.EQUALS,this._input.next());else if('"'===t||"'"===t){var o=this._input.next();o+='"'===t?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),r=this._create_token(l.VALUE,o)}else(i=this.__patterns.attribute.read())&&(r=e.type===l.EQUALS?this._create_token(l.VALUE,i):this._create_token(l.ATTRIBUTE,i));return r},c.prototype._is_content_unformatted=function(t){return-1===this._options.void_elements.indexOf(t)&&(-1!==this._options.content_unformatted.indexOf(t)||-1!==this._options.unformatted.indexOf(t))},c.prototype._read_raw_content=function(t,e,n){var r="";if(n&&"{"===n.text[0])r=this.__patterns.handlebars_raw_close.read();else if(e.type===l.TAG_CLOSE&&"<"===e.opened.text[0]){var i=e.opened.text.substr(1).toLowerCase();if("script"===i||"style"===i){var o=this._read_comment_or_cdata(t);if(o)return o.type=l.TEXT,o;r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(i)&&(r=this._input.readUntil(new RegExp("</"+i+"[\\n\\r\\t ]*?>","ig")))}return r?this._create_token(l.TEXT,r):null},c.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(l.TEXT,e)},t.exports.Tokenizer=c,t.exports.TOKEN=l}]),r=[n,n(221),n(222)],void 0===(i=function(t){var e=n(221),r=n(222);return{html_beautify:function(t,n){return o(t,n,e.js_beautify,r.css_beautify)}}}.apply(e,r))||(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),a=l(o),s=l(n(45));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={viewport:{width:"100vw",height:"100vh",longitude:119.32121,latitude:26.022041,zoom:13,pitch:50,bearing:-20}},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"render",value:function(){var t=this;console.log("hELLO");return a.default.createElement("div",{className:"fourteen wide column "},a.default.createElement(s.default,r({maxZoom:18,mapStyle:{version:8,sources:{wrong:{type:"vector",tiles:["http://192.168.1.254:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=sqlserver:flowpipe&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=application/x-protobuf;type=mapbox-vector&TILECOL={x}&TILEROW={y}"]},right:{type:"raster",tiles:["http://192.168.1.254:8083/geoserver/gwc/service/wmts?REQUEST=GetTile&SERVICE=WMTS&VERSION=1.0.0&LAYER=cangshanmobile&STYLE=&TILEMATRIX=EPSG:900913:{z}&TILEMATRIXSET=EPSG:900913&FORMAT=image/png&TILECOL={x}&TILEROW={y}"],tileSize:256}},layers:[{id:"background",type:"background",paint:{"background-color":"#F2F5F7","background-opacity":1}},{id:"xproject",type:"raster",source:"right","source-layer":"xproject"}]}},this.state.viewport,{onViewportChange:function(e){console.log(e),t.setState({viewport:e})}})))}}]),e}(o.Component);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=m(o),s=m(n(45)),l=m(n(104)),u=m(n(53)),c=m(n(105)),p=n(153),h=m(n(89)),f=n(154);n(155),n(158),n(159);var d=n(160),g=m(n(88));function m(t){return t&&t.__esModule?t:{default:t}}function v(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=function(t){var e=t.node,n=t.style;t.prefix;return a.default.createElement("div",{style:n.base},a.default.createElement("div",{style:i({},n.title,{display:"flex"})},a.default.createElement("i",{style:{display:"flex",width:"10px",height:"10px",marginRight:"0.5em",color:e.color},className:e.img}),a.default.createElement("i",{style:{display:"flex",width:"10px",height:"10px",marginRight:"0.5em"},className:e.visible?"eye icon":"low vision icon"})," "+e.name.toUpperCase()))},w=(function(t){function e(){return y(this,e),_(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}b(e,t),r(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.style,r=e.decorators,i=e.terminal,o=e.onClick,s=e.node;return a.default.createElement("div",{onClick:o,ref:function(e){return t.clickableRef=e},style:n.container[0]},a.default.createElement(r.Header,{node:s,style:n.header}),a.default.createElement("span",{style:{float:"right"}},i?null:this.renderToggle()))}}])}(h.default.Container),{name:"root",toggled:!0,children:[{name:"parent",children:[{name:"child1"},{name:"child2"}]},{name:"loading parent",loading:!0,children:[]},{name:"parent",children:[{name:"nested parent",children:[{name:"nested child 1"},{name:"nested child 2"}]}]}]}),E={content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},C={content:{width:"500px",top:"30%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},S={marginTop:"20px",position:"absolute",zIndex:1e4};c.default.setAppElement("#root");var T=function(t){function e(t){y(this,e);var n=_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.instance=null;var r=.875*window.innerWidth,i=window.innerHeight;return n.state={catalog:"shiyan",catalogs:null,objectID:"5d55254b8ab07500139e2da2",viewport:{width:r,height:i,longitude:120.57489605342477,latitude:31.35595573106957,zoom:12,pitch:0,bearing:0},style:null,modalIsOpen:!1,LayerModal:!1,gridsetIsOn:!1,zoomCheck:null,data:w,displayData:null,editorDataDesc:{type:"source",order:-1,name:""},closeCodeMirrorModal:!1},n._onLoadStyle=n._onLoadStyle.bind(n),n._resize=n._resize.bind(n),n.divRef=a.default.createRef(),n.openModal=n.openModal.bind(n),n.afterOpenModal=n.afterOpenModal.bind(n),n.closeModal=n.closeModal.bind(n),n._onViewportChange=n._onViewportChange.bind(n),n._fixedHere=n._fixedHere.bind(n),n._onCrop=n._onCrop.bind(n),n._drawGridSet=n._drawGridSet.bind(n),n._hideGridSet=n._hideGridSet.bind(n),n._onViewportChange=n._onViewportChange.bind(n),n.onToggle=n.onToggle.bind(n),n.openCodeMirrorModal=n.openCodeMirrorModal.bind(n),n.afterOpenCodeMirrorModal=n.afterOpenCodeMirrorModal.bind(n),n.closeCodeMirrorModal=n.closeCodeMirrorModal.bind(n),n.saveCodeMirrorModal=n.saveCodeMirrorModal.bind(n),n.findColor=n.findColor.bind(n),n}return b(e,t),r(e,[{key:"onToggle",value:function(t,e){var n=this.state,r=n.cursor,i=n.data;r&&this.setState((function(){return{cursor:r,active:!1}}));var o={};if(t.active=!0,t.children&&(t.toggled=e),e&&0===t.children.length){console.log(t);var a=t.parent,s=t.src;if(console.log(s),"background"===a){switch(t.name){case"source":this.setState((function(){return{displayData:"background has no source"}}));break;case"layer":var l=this.state.style.layers[t.order];o={type:t.name,order:t.order},this.setState((function(){return{displayData:(0,d.js)(JSON.stringify(l),{ident:2}),editorDataDesc:o}}));break;case"visible":this.setState((function(){return{displayData:"background shall be open forever"}}))}return void this.openCodeMirrorModal()}switch(t.name){case"source":var u=this.state.style.sources[s];o={type:t.name,name:s},this.setState((function(){return{displayData:(0,d.js)(JSON.stringify(u),{ident:2}),editorDataDesc:o}}));break;case"layer":var c=this.state.style.layers[t.order];o={type:t.name,order:t.order},this.setState((function(){return{displayData:(0,d.js)(JSON.stringify(c),{ident:2}),editorDataDesc:o}}));break;case"visible":this.setState((function(){return{displayData:"background shall be open forever"}}))}this.openCodeMirrorModal()}this.setState((function(){return{cursor:t,data:Object.assign({},i)}}))}},{key:"findColor",value:function(t){var e={};switch(t.type){case"background":e={color:t.paint["background-color"]||"#FFFFFF",img:"leaf icon"};break;case"line":e={color:t.paint["line-color"]||"#FFFFFF",img:"window minimize outline icon"};break;case"circle":e={color:t.paint["circle-color"]||"#FFFFFF",img:"circle icon"};break;case"symbol":e={color:t.paint&&t.paint["text-color"]||"#FFFFFF",img:"marker icon"};break;case"fill":e={color:t.paint["fill-color"]||"#FFFFFF",img:"stop icon"};break;case"raster":e={color:"#FFFFFF",img:"image icon"};break;default:e={color:t.paint[t.type+"-color"]||"#FFFFFF"}}return t.layout&&t.layout.visibility&&"none"===t.layout.visibility?e.visible=!1:e.visible=!0,e}},{key:"componentDidMount",value:function(){var t=this;fetch(""+u.default.prefix+this.state.catalog+".json").then((function(t){return t.json()})).then((function(e){var n=e;console.log(n);var r={name:"root",visible:!0,children:n.style.layers.map((function(e,n){var r=t.findColor(e);return{name:e.id,color:r.color,img:r.img,visible:r.visible,children:[{name:"source",parent:e.id,src:e.source,order:n,visible:r.visible,children:[]},{name:"layer",parent:e.id,src:e.source,order:n,visible:r.visible,children:[]},{name:"visible",parent:e.id,src:e.source,order:n,visible:r.visible,children:[]}]}}))};console.log(r),n.viewport?t.setState({style:n.style,data:r,viewport:n.viewport,catalog:n.catalog,objectID:n._id}):t.setState({style:n.style,objectID:n._id,data:r,catalog:n.catalog})})),window.addEventListener("resize",this._resize)}},{key:"_onLoadStyle",value:function(){window.location.assign(u.default.prefix+"/test/"+this.state.objectID)}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){this.inputWidth.value=this.state.viewport.width,this.inputHeight.value=this.state.viewport.height,this.inputLongitude.value=this.state.viewport.longitude,this.inputLatitude.value=this.state.viewport.latitude,this.inputPitch.value=this.state.viewport.pitch,this.inputBearing.value=this.state.viewport.bearing,this.selectZoom.value=this.state.viewport.zoom,this.inputCatalog.value=this.state.catalog}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"_onViewportChange",value:function(){var t=this,e={width:parseInt(this.inputWidth.value,10),height:parseInt(this.inputHeight.value,10),longitude:parseFloat(this.inputLongitude.value),latitude:parseFloat(this.inputLatitude.value),pitch:parseFloat(this.inputPitch.value),bearing:parseFloat(this.inputBearing.value),zoom:this.selectZoom.value?parseFloat(this.selectZoom.value):13},n={style:this.state.style,prev:this.state.objectID,catalog:this.inputCatalog.value,viewport:e};console.log(e),fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){u.default.catalog=n.catalog,t.setState({catalog:n.catalog,viewport:n.viewport})})).catch((function(t){return console.log(t)})),this.closeModal()}},{key:"_fixedHere",value:function(){var t={style:this.state.style,prev:this.state.objectID,catalog:this.state.catalog,viewport:this.state.viewport};console.log(this.state.viewport),fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))}},{key:"_resize",value:function(){console.log("resize");var t=.875*window.innerWidth,e=window.innerHeight;this.setState({viewport:i({width:t,height:e},this.state.viewport)})}},{key:"findAndChange",value:function(t,e,n){var r=e,i=r.findIndex((function(e){return e.id===t}));console.log(i);return[].concat(v(r.slice(0,i)),"gridset"===t?[{id:"gridset",type:"line",source:"gridset",paint:{"line-color":"rgb(233,0,0)"},layout:{visibility:n?"none":"visible"}}]:[{id:"center",type:"symbol",source:"center",paint:{},layout:{visibility:n?"none":"visible","text-field":"{desc}","text-font":["Open Sans"]}}],v(r.slice(i+1,r.length)))}},{key:"_hideGridSet",value:function(t){var e=this.findAndChange("gridset",this.state.style.layers,t);e=this.findAndChange("center",e,t);var n=i({},this.state.style,{layers:e});this.setState({style:n,gridsetIsOn:t})}},{key:"getBBox",value:function(t,e,n,r,i){var o,a,s=t*n,l=e*r,u=void 0,c=void 0;return{rect:{type:"Feature",geometry:{type:"LineString",coordinates:[[u=s>180?s-180:-s,a=(c=l>90?l-90:90-l)-r],[o=u+n,a],[o,c],[u,c],[u,a]]},properties:{}},center:{type:"Feature",geometry:{type:"Point",coordinates:[(u+o)/2,(c+a)/2]},properties:{desc:i+":"+e+"x"+t}}}}},{key:"_drawGridSet",value:function(){for(var t=this.state.viewport.longitude,e=this.state.viewport.latitude,n=Math.ceil(this.state.viewport.zoom),r=360/(1<<n),o=180/(1<<n),a=Math.floor((180+t)/r),s=Math.floor((90-e)/o),l=[],u=[],c=-5;c<5;c++)for(var p=-5;p<5;p++){var h=this.getBBox(a+c,s+p,r,o,n);l.push(h.rect),u.push(h.center)}var f={type:"geojson",data:{type:"FeatureCollection",features:l}},d={type:"geojson",data:{type:"FeatureCollection",features:u}};console.log(d);var g=this.state.style.sources,m=i({},g,{gridset:f,center:d}),y=this.state.style.layers,_=y.findIndex((function(t){return"gridset"===t.id}));console.log("i need to know",_);var b=void 0;-1===_?b=[].concat(v(y),[{id:"gridset",type:"line",source:"gridset",paint:{"line-color":"rgb(233,0,0)"},layout:{visibility:"visible"}},{id:"center",type:"symbol",source:"center",paint:{},layout:{visibility:"visible","text-field":"{desc}","text-font":["Open Sans"]}}]):(b=this.findAndChange("gridset",y,!0),b=this.findAndChange("center",b,!0),console.log("i really need to know",b));var x=i({},this.state.style,{sources:m,layers:b});this.setState({style:x,gridsetIsOn:!0,zoomCheck:n})}},{key:"_onCrop",value:function(t){console.log(t.stopPropagation());var e=this.state.style.layers.findIndex((function(t){return"gridset"===t.id})),n=!1;if(-1!==e&&(n="visible"===this.state.style.layers[e].layout.visibility),this.state.style.sources.gridset&&-1!==e&&this.state.zoomCheck===Math.ceil(this.state.viewport.zoom))return console.log("invisible"),void this._hideGridSet(n);this._drawGridSet()}},{key:"__viewportChange",value:function(t){console.log(t),this.state.gridsetIsOn||this._drawGridSet(),this.setState({viewport:t})}},{key:"openCodeMirrorModal",value:function(){this.setState({CodeMirrorIsOpen:!0})}},{key:"afterOpenCodeMirrorModal",value:function(){}},{key:"closeCodeMirrorModal",value:function(){this.setState({CodeMirrorIsOpen:!1})}},{key:"saveCodeMirrorModal",value:function(){var t=this;console.log("changes"),console.log(this.instance.getValue()),console.log(this.state.editorDataDesc);var e,n,r,o=this.state.editorDataDesc.type,a=JSON.parse(this.instance.getValue()),s={};if("source"===o){var l=this.state.editorDataDesc.name,c=this.state.style.sources,p=i({},c,(r=a,(n=l)in(e={})?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e));s=i({},this.state.style,{sources:p})}else{var h=this.state.editorDataDesc.order,f=this.state.style.layers,d=[].concat(v(f.slice(0,h)),[a],v(f.slice(h+1,f.length)));s=i({},this.state.style,{layers:d})}console.log(s);var g={style:s,prev:this.state.objectID,catalog:this.state.catalog,viewport:this.state.viewport};fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(g),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){u.default.catalog=g.catalog,t.setState({style:s})})).catch((function(t){return console.log(t)})),this.closeCodeMirrorModal()}},{key:"render",value:function(){var t=this;return h.default.Header=x,g.default.tree.base=i({},g.default.tree.base,{color:"white",backgroundColor:"#1D1D1D"}),a.default.createElement("div",{id:"container",className:"fourteen wide column "},a.default.createElement("div",{style:S},a.default.createElement(p.Treebeard,{data:this.state.data,onToggle:this.onToggle}),a.default.createElement(c.default,{isOpen:this.state.CodeMirrorIsOpen,onAfterOpen:this.afterOpenCodeMirrorModal,onRequestClose:this.closeCodeMirrorModal,style:C,decorators:h.default},a.default.createElement("div",{className:"ui segment"},a.default.createElement(f.UnControlled,{editorDidMount:function(e){t.instance=e},value:this.state.displayData,options:{mode:"javascript",theme:"material",lineNumbers:!0},onBeforeChange:function(e,n,r){t.setState({value:r})},onChange:function(t,e){console.log("uncontrolled",{value:e})}})),a.default.createElement("div",{className:"ui right floated buttons"},a.default.createElement("div",{className:"ui red button",onClick:this.saveCodeMirrorModal},"Update"),a.default.createElement("div",{className:"ui green button",onClick:this.closeCodeMirrorModal},"Cancel")))),a.default.createElement(s.default,i({onResize:this._resize,mapStyle:this.state.style},this.state.viewport,{onClick:function(t){return console.log(t)},onViewportChange:function(e){console.log(e),t.setState({viewport:e})}}),a.default.createElement(l.default,{onLoadStyle:this._onLoadStyle,onShowModal:this.openModal,onFixedHere:this._fixedHere,onCrop:this._onCrop})),a.default.createElement(c.default,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:E},a.default.createElement("div",{className:"ui card",style:{height:"100%",width:"100%"}},a.default.createElement("div",{className:"content"},a.default.createElement("div",{className:"header"},"ViewPort 设置")),a.default.createElement("div",{className:"ui segment"},a.default.createElement("div",{className:"ui  form"},a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"MapSize"),a.default.createElement("div",{className:"two fields"},a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"RECT[WIDTH]",placeholder:"width",ref:function(e){return t.inputWidth=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"RECT[HEGHT]",placeholder:"height",ref:function(e){return t.inputHeight=e}})))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"Center"),a.default.createElement("div",{className:"two fields"},a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"Center[lonitude]",placeholder:"longitude",ref:function(e){return t.inputLongitude=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"Center[latitude]",placeholder:"latitude",ref:function(e){return t.inputLatitude=e}})))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"zoom"),a.default.createElement("select",{className:"ui fluid dropdown",ref:function(e){return t.selectZoom=e}},function(t,e){for(var n=[],r=t;r<e;r++)n.push(a.default.createElement("option",{key:"option"+r,value:r},r));return n}(1,20))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"pitch"),a.default.createElement("input",{type:"text",name:"pitch",ref:function(e){return t.inputPitch=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"bearing"),a.default.createElement("input",{type:"text",name:"bearing",ref:function(e){return t.inputBearing=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"catalog"),a.default.createElement("input",{type:"text",name:"bearing",ref:function(e){return t.inputCatalog=e}})),a.default.createElement("div",{className:"ui right floated buttons"},a.default.createElement("div",{className:"ui red button",onClick:this._onViewportChange},"Update"),a.default.createElement("div",{className:"ui green button",onClick:this.closeModal},"Cancel")))))))}}]),e}(o.Component);e.default=T},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=m(o),s=m(n(45)),l=m(n(104)),u=m(n(53)),c=m(n(105)),p=n(153),h=m(n(89)),f=n(154);n(155),n(158),n(159);var d=n(160),g=m(n(88));function m(t){return t&&t.__esModule?t:{default:t}}function v(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=function(t){var e=t.node,n=t.style;t.prefix;return a.default.createElement("div",{style:n.base},a.default.createElement("div",{style:i({},n.title,{display:"flex"})},a.default.createElement("i",{style:{display:"flex",width:"10px",height:"10px",marginRight:"0.5em",color:e.color},className:e.img}),a.default.createElement("i",{style:{display:"flex",width:"10px",height:"10px",marginRight:"0.5em"},className:e.visible?"eye icon":"low vision icon"})," "+e.name.toUpperCase()))},w=(function(t){function e(){return y(this,e),_(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}b(e,t),r(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.style,r=e.decorators,i=e.terminal,o=e.onClick,s=e.node;return a.default.createElement("div",{onClick:o,ref:function(e){return t.clickableRef=e},style:n.container[0]},a.default.createElement(r.Header,{node:s,style:n.header}),a.default.createElement("span",{style:{float:"right"}},i?null:this.renderToggle()))}}])}(h.default.Container),{name:"root",toggled:!0,children:[{name:"parent",children:[{name:"child1"},{name:"child2"}]},{name:"loading parent",loading:!0,children:[]},{name:"parent",children:[{name:"nested parent",children:[{name:"nested child 1"},{name:"nested child 2"}]}]}]}),E={content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},C={content:{width:"500px",top:"30%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},S={marginTop:"20px",position:"absolute",zIndex:1e4};c.default.setAppElement("#root");var T=function(t){function e(t){y(this,e);var n=_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.instance=null;var r=.875*window.innerWidth,i=window.innerHeight;return n.state={catalog:"hz",catalogs:null,objectID:"5d5525b08ab07500139e2da6",viewport:{width:r,height:i,longitude:120.57489605342477,latitude:31.35595573106957,zoom:12,pitch:0,bearing:0},style:null,modalIsOpen:!1,LayerModal:!1,gridsetIsOn:!1,zoomCheck:null,data:w,displayData:null,editorDataDesc:{type:"source",order:-1,name:""},closeCodeMirrorModal:!1},n._onLoadStyle=n._onLoadStyle.bind(n),n._resize=n._resize.bind(n),n.divRef=a.default.createRef(),n.openModal=n.openModal.bind(n),n.afterOpenModal=n.afterOpenModal.bind(n),n.closeModal=n.closeModal.bind(n),n._onViewportChange=n._onViewportChange.bind(n),n._fixedHere=n._fixedHere.bind(n),n._onCrop=n._onCrop.bind(n),n._drawGridSet=n._drawGridSet.bind(n),n._hideGridSet=n._hideGridSet.bind(n),n._onViewportChange=n._onViewportChange.bind(n),n.onToggle=n.onToggle.bind(n),n.openCodeMirrorModal=n.openCodeMirrorModal.bind(n),n.afterOpenCodeMirrorModal=n.afterOpenCodeMirrorModal.bind(n),n.closeCodeMirrorModal=n.closeCodeMirrorModal.bind(n),n.saveCodeMirrorModal=n.saveCodeMirrorModal.bind(n),n.findColor=n.findColor.bind(n),n}return b(e,t),r(e,[{key:"onToggle",value:function(t,e){var n=this.state,r=n.cursor,i=n.data;r&&this.setState((function(){return{cursor:r,active:!1}}));var o={};if(t.active=!0,t.children&&(t.toggled=e),e&&0===t.children.length){console.log(t);var a=t.parent,s=t.src;if(console.log(s),"background"===a){switch(t.name){case"source":this.setState((function(){return{displayData:"background has no source"}}));break;case"layer":var l=this.state.style.layers[t.order];o={type:t.name,order:t.order},this.setState((function(){return{displayData:(0,d.js)(JSON.stringify(l),{ident:2}),editorDataDesc:o}}));break;case"visible":this.setState((function(){return{displayData:"background shall be open forever"}}))}return void this.openCodeMirrorModal()}switch(t.name){case"source":var u=this.state.style.sources[s];o={type:t.name,name:s},this.setState((function(){return{displayData:(0,d.js)(JSON.stringify(u),{ident:2}),editorDataDesc:o}}));break;case"layer":var c=this.state.style.layers[t.order];o={type:t.name,order:t.order},this.setState((function(){return{displayData:(0,d.js)(JSON.stringify(c),{ident:2}),editorDataDesc:o}}));break;case"visible":this.setState((function(){return{displayData:"background shall be open forever"}}))}this.openCodeMirrorModal()}this.setState((function(){return{cursor:t,data:Object.assign({},i)}}))}},{key:"findColor",value:function(t){var e={};switch(t.type){case"background":e={color:t.paint["background-color"]||"#FFFFFF",img:"leaf icon"};break;case"line":e={color:t.paint["line-color"]||"#FFFFFF",img:"window minimize outline icon"};break;case"circle":e={color:t.paint["circle-color"]||"#FFFFFF",img:"circle icon"};break;case"symbol":e={color:t.paint&&t.paint["text-color"]||"#FFFFFF",img:"marker icon"};break;case"fill":e={color:t.paint["fill-color"]||"#FFFFFF",img:"stop icon"};break;case"raster":e={color:"#FFFFFF",img:"image icon"};break;default:e={color:t.paint[t.type+"-color"]||"#FFFFFF"}}return t.layout&&t.layout.visibility&&"none"===t.layout.visibility?e.visible=!1:e.visible=!0,e}},{key:"componentDidMount",value:function(){var t=this;fetch(""+u.default.prefix+this.state.catalog+".json").then((function(t){return t.json()})).then((function(e){var n=e;console.log(n);var r={name:"root",visible:!0,children:n.style.layers.map((function(e,n){var r=t.findColor(e);return{name:e.id,color:r.color,img:r.img,visible:r.visible,children:[{name:"source",parent:e.id,src:e.source,order:n,visible:r.visible,children:[]},{name:"layer",parent:e.id,src:e.source,order:n,visible:r.visible,children:[]},{name:"visible",parent:e.id,src:e.source,order:n,visible:r.visible,children:[]}]}}))};console.log(r),n.viewport?t.setState({style:n.style,data:r,viewport:n.viewport,catalog:n.catalog,objectID:n._id}):t.setState({style:n.style,objectID:n._id,data:r,catalog:n.catalog})})),window.addEventListener("resize",this._resize)}},{key:"_onLoadStyle",value:function(){window.location.assign(u.default.prefix+"/test/"+this.state.objectID)}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){this.inputWidth.value=this.state.viewport.width,this.inputHeight.value=this.state.viewport.height,this.inputLongitude.value=this.state.viewport.longitude,this.inputLatitude.value=this.state.viewport.latitude,this.inputPitch.value=this.state.viewport.pitch,this.inputBearing.value=this.state.viewport.bearing,this.selectZoom.value=this.state.viewport.zoom,this.inputCatalog.value=this.state.catalog}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"_onViewportChange",value:function(){var t=this,e={width:parseInt(this.inputWidth.value,10),height:parseInt(this.inputHeight.value,10),longitude:parseFloat(this.inputLongitude.value),latitude:parseFloat(this.inputLatitude.value),pitch:parseFloat(this.inputPitch.value),bearing:parseFloat(this.inputBearing.value),zoom:this.selectZoom.value?parseFloat(this.selectZoom.value):13},n={style:this.state.style,prev:this.state.objectID,catalog:this.inputCatalog.value,viewport:e};console.log(e),fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){u.default.catalog=n.catalog,t.setState({catalog:n.catalog,viewport:n.viewport})})).catch((function(t){return console.log(t)})),this.closeModal()}},{key:"_fixedHere",value:function(){var t={style:this.state.style,prev:this.state.objectID,catalog:this.state.catalog,viewport:this.state.viewport};console.log(this.state.viewport),fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))}},{key:"_resize",value:function(){console.log("resize");var t=.875*window.innerWidth,e=window.innerHeight;this.setState({viewport:i({width:t,height:e},this.state.viewport)})}},{key:"findAndChange",value:function(t,e,n){var r=e,i=r.findIndex((function(e){return e.id===t}));console.log(i);return[].concat(v(r.slice(0,i)),"gridset"===t?[{id:"gridset",type:"line",source:"gridset",paint:{"line-color":"rgb(233,0,0)"},layout:{visibility:n?"none":"visible"}}]:[{id:"center",type:"symbol",source:"center",paint:{},layout:{visibility:n?"none":"visible","text-field":"{desc}","text-font":["Open Sans"]}}],v(r.slice(i+1,r.length)))}},{key:"_hideGridSet",value:function(t){var e=this.findAndChange("gridset",this.state.style.layers,t);e=this.findAndChange("center",e,t);var n=i({},this.state.style,{layers:e});this.setState({style:n,gridsetIsOn:t})}},{key:"getBBox",value:function(t,e,n,r,i){var o,a,s=t*n,l=e*r,u=void 0,c=void 0;return{rect:{type:"Feature",geometry:{type:"LineString",coordinates:[[u=s>180?s-180:-s,a=(c=l>90?l-90:90-l)-r],[o=u+n,a],[o,c],[u,c],[u,a]]},properties:{}},center:{type:"Feature",geometry:{type:"Point",coordinates:[(u+o)/2,(c+a)/2]},properties:{desc:i+":"+e+"x"+t}}}}},{key:"_drawGridSet",value:function(){for(var t=this.state.viewport.longitude,e=this.state.viewport.latitude,n=Math.ceil(this.state.viewport.zoom),r=360/(1<<n),o=180/(1<<n),a=Math.floor((180+t)/r),s=Math.floor((90-e)/o),l=[],u=[],c=-5;c<5;c++)for(var p=-5;p<5;p++){var h=this.getBBox(a+c,s+p,r,o,n);l.push(h.rect),u.push(h.center)}var f={type:"geojson",data:{type:"FeatureCollection",features:l}},d={type:"geojson",data:{type:"FeatureCollection",features:u}};console.log(d);var g=this.state.style.sources,m=i({},g,{gridset:f,center:d}),y=this.state.style.layers,_=y.findIndex((function(t){return"gridset"===t.id}));console.log("i need to know",_);var b=void 0;-1===_?b=[].concat(v(y),[{id:"gridset",type:"line",source:"gridset",paint:{"line-color":"rgb(233,0,0)"},layout:{visibility:"visible"}},{id:"center",type:"symbol",source:"center",paint:{},layout:{visibility:"visible","text-field":"{desc}","text-font":["Open Sans"]}}]):(b=this.findAndChange("gridset",y,!0),b=this.findAndChange("center",b,!0),console.log("i really need to know",b));var x=i({},this.state.style,{sources:m,layers:b});this.setState({style:x,gridsetIsOn:!0,zoomCheck:n})}},{key:"_onCrop",value:function(t){console.log(t.stopPropagation());var e=this.state.style.layers.findIndex((function(t){return"gridset"===t.id})),n=!1;if(-1!==e&&(n="visible"===this.state.style.layers[e].layout.visibility),this.state.style.sources.gridset&&-1!==e&&this.state.zoomCheck===Math.ceil(this.state.viewport.zoom))return console.log("invisible"),void this._hideGridSet(n);this._drawGridSet()}},{key:"__viewportChange",value:function(t){console.log(t),this.state.gridsetIsOn||this._drawGridSet(),this.setState({viewport:t})}},{key:"openCodeMirrorModal",value:function(){this.setState({CodeMirrorIsOpen:!0})}},{key:"afterOpenCodeMirrorModal",value:function(){}},{key:"closeCodeMirrorModal",value:function(){this.setState({CodeMirrorIsOpen:!1})}},{key:"saveCodeMirrorModal",value:function(){var t=this;console.log("changes"),console.log(this.instance.getValue()),console.log(this.state.editorDataDesc);var e,n,r,o=this.state.editorDataDesc.type,a=JSON.parse(this.instance.getValue()),s={};if("source"===o){var l=this.state.editorDataDesc.name,c=this.state.style.sources,p=i({},c,(r=a,(n=l)in(e={})?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e));s=i({},this.state.style,{sources:p})}else{var h=this.state.editorDataDesc.order,f=this.state.style.layers,d=[].concat(v(f.slice(0,h)),[a],v(f.slice(h+1,f.length)));s=i({},this.state.style,{layers:d})}console.log(s);var g={style:s,prev:this.state.objectID,catalog:this.state.catalog,viewport:this.state.viewport};fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(g),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){u.default.catalog=g.catalog,t.setState({style:s})})).catch((function(t){return console.log(t)})),this.closeCodeMirrorModal()}},{key:"render",value:function(){var t=this;return h.default.Header=x,g.default.tree.base=i({},g.default.tree.base,{color:"white",backgroundColor:"#1D1D1D"}),a.default.createElement("div",{id:"container",className:"fourteen wide column "},a.default.createElement("div",{style:S},a.default.createElement(p.Treebeard,{data:this.state.data,onToggle:this.onToggle}),a.default.createElement(c.default,{isOpen:this.state.CodeMirrorIsOpen,onAfterOpen:this.afterOpenCodeMirrorModal,onRequestClose:this.closeCodeMirrorModal,style:C,decorators:h.default},a.default.createElement("div",{className:"ui segment"},a.default.createElement(f.UnControlled,{editorDidMount:function(e){t.instance=e},value:this.state.displayData,options:{mode:"javascript",theme:"material",lineNumbers:!0},onBeforeChange:function(e,n,r){t.setState({value:r})},onChange:function(t,e){console.log("uncontrolled",{value:e})}})),a.default.createElement("div",{className:"ui right floated buttons"},a.default.createElement("div",{className:"ui red button",onClick:this.saveCodeMirrorModal},"Update"),a.default.createElement("div",{className:"ui green button",onClick:this.closeCodeMirrorModal},"Cancel")))),a.default.createElement(s.default,i({onResize:this._resize,mapStyle:this.state.style},this.state.viewport,{onClick:function(t){return console.log(t)},onViewportChange:function(e){console.log(e),t.setState({viewport:e})}}),a.default.createElement(l.default,{onLoadStyle:this._onLoadStyle,onShowModal:this.openModal,onFixedHere:this._fixedHere,onCrop:this._onCrop})),a.default.createElement(c.default,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:E},a.default.createElement("div",{className:"ui card",style:{height:"100%",width:"100%"}},a.default.createElement("div",{className:"content"},a.default.createElement("div",{className:"header"},"ViewPort 设置")),a.default.createElement("div",{className:"ui segment"},a.default.createElement("div",{className:"ui  form"},a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"MapSize"),a.default.createElement("div",{className:"two fields"},a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"RECT[WIDTH]",placeholder:"width",ref:function(e){return t.inputWidth=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"RECT[HEGHT]",placeholder:"height",ref:function(e){return t.inputHeight=e}})))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"Center"),a.default.createElement("div",{className:"two fields"},a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"Center[lonitude]",placeholder:"longitude",ref:function(e){return t.inputLongitude=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"Center[latitude]",placeholder:"latitude",ref:function(e){return t.inputLatitude=e}})))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"zoom"),a.default.createElement("select",{className:"ui fluid dropdown",ref:function(e){return t.selectZoom=e}},function(t,e){for(var n=[],r=t;r<e;r++)n.push(a.default.createElement("option",{key:"option"+r,value:r},r));return n}(1,20))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"pitch"),a.default.createElement("input",{type:"text",name:"pitch",ref:function(e){return t.inputPitch=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"bearing"),a.default.createElement("input",{type:"text",name:"bearing",ref:function(e){return t.inputBearing=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"catalog"),a.default.createElement("input",{type:"text",name:"bearing",ref:function(e){return t.inputCatalog=e}})),a.default.createElement("div",{className:"ui right floated buttons"},a.default.createElement("div",{className:"ui red button",onClick:this._onViewportChange},"Update"),a.default.createElement("div",{className:"ui green button",onClick:this.closeModal},"Cancel")))))))}}]),e}(o.Component);e.default=T},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(0),a=m(o),s=m(n(45)),l=m(n(104)),u=m(n(53)),c=m(n(105)),p=n(153),h=m(n(89)),f=n(154);n(155),n(158),n(159);var d=n(160),g=m(n(88));function m(t){return t&&t.__esModule?t:{default:t}}function v(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=function(t){var e=t.node,n=t.style;t.prefix;return a.default.createElement("div",{style:n.base},a.default.createElement("div",{style:i({},n.title,{display:"flex"})},a.default.createElement("i",{style:{display:"flex",width:"10px",height:"10px",marginRight:"0.5em",color:e.color},className:e.img}),a.default.createElement("i",{style:{display:"flex",width:"10px",height:"10px",marginRight:"0.5em"},className:e.visible?"eye icon":"low vision icon"})," "+e.name.toUpperCase()))},w=(function(t){function e(){return y(this,e),_(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}b(e,t),r(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.style,r=e.decorators,i=e.terminal,o=e.onClick,s=e.node;return a.default.createElement("div",{onClick:o,ref:function(e){return t.clickableRef=e},style:n.container[0]},a.default.createElement(r.Header,{node:s,style:n.header}),a.default.createElement("span",{style:{float:"right"}},i?null:this.renderToggle()))}}])}(h.default.Container),{name:"root",toggled:!0,children:[{name:"parent",children:[{name:"child1"},{name:"child2"}]},{name:"loading parent",loading:!0,children:[]},{name:"parent",children:[{name:"nested parent",children:[{name:"nested child 1"},{name:"nested child 2"}]}]}]}),E={content:{top:"40%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},C={content:{width:"500px",top:"30%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},S={marginTop:"20px",position:"absolute",zIndex:1e4};c.default.setAppElement("#root");var T=function(t){function e(t){y(this,e);var n=_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.instance=null;var r=.875*window.innerWidth,i=window.innerHeight;return n.state={catalog:"cangshan",catalogs:null,objectID:"5d551e608ab07500139e2d93",viewport:{width:r,height:i,longitude:120.57489605342477,latitude:31.35595573106957,zoom:12,pitch:0,bearing:0},style:null,modalIsOpen:!1,LayerModal:!1,gridsetIsOn:!1,zoomCheck:null,data:w,displayData:null,editorDataDesc:{type:"source",order:-1,name:""},closeCodeMirrorModal:!1},n._onLoadStyle=n._onLoadStyle.bind(n),n._resize=n._resize.bind(n),n.divRef=a.default.createRef(),n.openModal=n.openModal.bind(n),n.afterOpenModal=n.afterOpenModal.bind(n),n.closeModal=n.closeModal.bind(n),n._onViewportChange=n._onViewportChange.bind(n),n._fixedHere=n._fixedHere.bind(n),n._onCrop=n._onCrop.bind(n),n._drawGridSet=n._drawGridSet.bind(n),n._hideGridSet=n._hideGridSet.bind(n),n._onViewportChange=n._onViewportChange.bind(n),n.onToggle=n.onToggle.bind(n),n.openCodeMirrorModal=n.openCodeMirrorModal.bind(n),n.afterOpenCodeMirrorModal=n.afterOpenCodeMirrorModal.bind(n),n.closeCodeMirrorModal=n.closeCodeMirrorModal.bind(n),n.saveCodeMirrorModal=n.saveCodeMirrorModal.bind(n),n.findColor=n.findColor.bind(n),n}return b(e,t),r(e,[{key:"onToggle",value:function(t,e){var n=this.state,r=n.cursor,i=n.data;r&&this.setState((function(){return{cursor:r,active:!1}}));var o={};if(t.active=!0,t.children&&(t.toggled=e),e&&0===t.children.length){console.log(t);var a=t.parent,s=t.src;if(console.log(s),"background"===a){switch(t.name){case"source":this.setState((function(){return{displayData:"background has no source"}}));break;case"layer":var l=this.state.style.layers[t.order];o={type:t.name,order:t.order},this.setState((function(){return{displayData:(0,d.js)(JSON.stringify(l),{ident:2}),editorDataDesc:o}}));break;case"visible":this.setState((function(){return{displayData:"background shall be open forever"}}))}return void this.openCodeMirrorModal()}switch(t.name){case"source":var u=this.state.style.sources[s];o={type:t.name,name:s},this.setState((function(){return{displayData:(0,d.js)(JSON.stringify(u),{ident:2}),editorDataDesc:o}}));break;case"layer":var c=this.state.style.layers[t.order];o={type:t.name,order:t.order},this.setState((function(){return{displayData:(0,d.js)(JSON.stringify(c),{ident:2}),editorDataDesc:o}}));break;case"visible":this.setState((function(){return{displayData:"background shall be open forever"}}))}this.openCodeMirrorModal()}this.setState((function(){return{cursor:t,data:Object.assign({},i)}}))}},{key:"findColor",value:function(t){var e={};switch(t.type){case"background":e={color:t.paint["background-color"]||"#FFFFFF",img:"leaf icon"};break;case"line":e={color:t.paint["line-color"]||"#FFFFFF",img:"window minimize outline icon"};break;case"circle":e={color:t.paint["circle-color"]||"#FFFFFF",img:"circle icon"};break;case"symbol":e={color:t.paint&&t.paint["text-color"]||"#FFFFFF",img:"marker icon"};break;case"fill":e={color:t.paint["fill-color"]||"#FFFFFF",img:"stop icon"};break;case"raster":e={color:"#FFFFFF",img:"image icon"};break;default:e={color:t.paint[t.type+"-color"]||"#FFFFFF"}}return t.layout&&t.layout.visibility&&"none"===t.layout.visibility?e.visible=!1:e.visible=!0,e}},{key:"componentDidMount",value:function(){var t=this;fetch(""+u.default.prefix+this.state.catalog+".json").then((function(t){return t.json()})).then((function(e){var n=e;console.log(n);var r={name:"root",visible:!0,children:n.style.layers.map((function(e,n){var r=t.findColor(e);return{name:e.id,color:r.color,img:r.img,visible:r.visible,children:[{name:"source",parent:e.id,src:e.source,order:n,visible:r.visible,children:[]},{name:"layer",parent:e.id,src:e.source,order:n,visible:r.visible,children:[]},{name:"visible",parent:e.id,src:e.source,order:n,visible:r.visible,children:[]}]}}))};console.log(r),n.viewport?t.setState({style:n.style,data:r,viewport:n.viewport,catalog:n.catalog,objectID:n._id}):t.setState({style:n.style,objectID:n._id,data:r,catalog:n.catalog})})),window.addEventListener("resize",this._resize)}},{key:"_onLoadStyle",value:function(){window.location.assign(u.default.prefix+"/test/"+this.state.objectID)}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function(){this.inputWidth.value=this.state.viewport.width,this.inputHeight.value=this.state.viewport.height,this.inputLongitude.value=this.state.viewport.longitude,this.inputLatitude.value=this.state.viewport.latitude,this.inputPitch.value=this.state.viewport.pitch,this.inputBearing.value=this.state.viewport.bearing,this.selectZoom.value=this.state.viewport.zoom,this.inputCatalog.value=this.state.catalog}},{key:"closeModal",value:function(){this.setState({modalIsOpen:!1})}},{key:"_onViewportChange",value:function(){var t=this,e={width:parseInt(this.inputWidth.value,10),height:parseInt(this.inputHeight.value,10),longitude:parseFloat(this.inputLongitude.value),latitude:parseFloat(this.inputLatitude.value),pitch:parseFloat(this.inputPitch.value),bearing:parseFloat(this.inputBearing.value),zoom:this.selectZoom.value?parseFloat(this.selectZoom.value):13},n={style:this.state.style,prev:this.state.objectID,catalog:this.inputCatalog.value,viewport:e};console.log(e),fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){u.default.catalog=n.catalog,t.setState({catalog:n.catalog,viewport:n.viewport})})).catch((function(t){return console.log(t)})),this.closeModal()}},{key:"_fixedHere",value:function(){var t={style:this.state.style,prev:this.state.objectID,catalog:this.state.catalog,viewport:this.state.viewport};console.log(this.state.viewport),fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))}},{key:"_resize",value:function(){console.log("resize");var t=.875*window.innerWidth,e=window.innerHeight;this.setState({viewport:i({width:t,height:e},this.state.viewport)})}},{key:"findAndChange",value:function(t,e,n){var r=e,i=r.findIndex((function(e){return e.id===t}));console.log(i);return[].concat(v(r.slice(0,i)),"gridset"===t?[{id:"gridset",type:"line",source:"gridset",paint:{"line-color":"rgb(233,0,0)"},layout:{visibility:n?"none":"visible"}}]:[{id:"center",type:"symbol",source:"center",paint:{},layout:{visibility:n?"none":"visible","text-field":"{desc}","text-font":["Open Sans"]}}],v(r.slice(i+1,r.length)))}},{key:"_hideGridSet",value:function(t){var e=this.findAndChange("gridset",this.state.style.layers,t);e=this.findAndChange("center",e,t);var n=i({},this.state.style,{layers:e});this.setState({style:n,gridsetIsOn:t})}},{key:"getBBox",value:function(t,e,n,r,i){var o,a,s=t*n,l=e*r,u=void 0,c=void 0;return{rect:{type:"Feature",geometry:{type:"LineString",coordinates:[[u=s>180?s-180:-s,a=(c=l>90?l-90:90-l)-r],[o=u+n,a],[o,c],[u,c],[u,a]]},properties:{}},center:{type:"Feature",geometry:{type:"Point",coordinates:[(u+o)/2,(c+a)/2]},properties:{desc:i+":"+e+"x"+t}}}}},{key:"_drawGridSet",value:function(){for(var t=this.state.viewport.longitude,e=this.state.viewport.latitude,n=Math.ceil(this.state.viewport.zoom),r=360/(1<<n),o=180/(1<<n),a=Math.floor((180+t)/r),s=Math.floor((90-e)/o),l=[],u=[],c=-5;c<5;c++)for(var p=-5;p<5;p++){var h=this.getBBox(a+c,s+p,r,o,n);l.push(h.rect),u.push(h.center)}var f={type:"geojson",data:{type:"FeatureCollection",features:l}},d={type:"geojson",data:{type:"FeatureCollection",features:u}};console.log(d);var g=this.state.style.sources,m=i({},g,{gridset:f,center:d}),y=this.state.style.layers,_=y.findIndex((function(t){return"gridset"===t.id}));console.log("i need to know",_);var b=void 0;-1===_?b=[].concat(v(y),[{id:"gridset",type:"line",source:"gridset",paint:{"line-color":"rgb(233,0,0)"},layout:{visibility:"visible"}},{id:"center",type:"symbol",source:"center",paint:{},layout:{visibility:"visible","text-field":"{desc}","text-font":["Open Sans"]}}]):(b=this.findAndChange("gridset",y,!0),b=this.findAndChange("center",b,!0),console.log("i really need to know",b));var x=i({},this.state.style,{sources:m,layers:b});this.setState({style:x,gridsetIsOn:!0,zoomCheck:n})}},{key:"_onCrop",value:function(t){console.log(t.stopPropagation());var e=this.state.style.layers.findIndex((function(t){return"gridset"===t.id})),n=!1;if(-1!==e&&(n="visible"===this.state.style.layers[e].layout.visibility),this.state.style.sources.gridset&&-1!==e&&this.state.zoomCheck===Math.ceil(this.state.viewport.zoom))return console.log("invisible"),void this._hideGridSet(n);this._drawGridSet()}},{key:"__viewportChange",value:function(t){console.log(t),this.state.gridsetIsOn||this._drawGridSet(),this.setState({viewport:t})}},{key:"openCodeMirrorModal",value:function(){this.setState({CodeMirrorIsOpen:!0})}},{key:"afterOpenCodeMirrorModal",value:function(){}},{key:"closeCodeMirrorModal",value:function(){this.setState({CodeMirrorIsOpen:!1})}},{key:"saveCodeMirrorModal",value:function(){var t=this;console.log("changes"),console.log(this.instance.getValue()),console.log(this.state.editorDataDesc);var e,n,r,o=this.state.editorDataDesc.type,a=JSON.parse(this.instance.getValue()),s={};if("source"===o){var l=this.state.editorDataDesc.name,c=this.state.style.sources,p=i({},c,(r=a,(n=l)in(e={})?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e));s=i({},this.state.style,{sources:p})}else{var h=this.state.editorDataDesc.order,f=this.state.style.layers,d=[].concat(v(f.slice(0,h)),[a],v(f.slice(h+1,f.length)));s=i({},this.state.style,{layers:d})}console.log(s);var g={style:s,prev:this.state.objectID,catalog:this.state.catalog,viewport:this.state.viewport};fetch(u.default.prefix+"/saveStyle",{method:"POST",body:JSON.stringify(g),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(e){u.default.catalog=g.catalog,t.setState({style:s})})).catch((function(t){return console.log(t)})),this.closeCodeMirrorModal()}},{key:"render",value:function(){var t=this;return h.default.Header=x,g.default.tree.base=i({},g.default.tree.base,{color:"white",backgroundColor:"#1D1D1D"}),a.default.createElement("div",{id:"container",className:"fourteen wide column "},a.default.createElement("div",{style:S},a.default.createElement(p.Treebeard,{data:this.state.data,onToggle:this.onToggle}),a.default.createElement(c.default,{isOpen:this.state.CodeMirrorIsOpen,onAfterOpen:this.afterOpenCodeMirrorModal,onRequestClose:this.closeCodeMirrorModal,style:C,decorators:h.default},a.default.createElement("div",{className:"ui segment"},a.default.createElement(f.UnControlled,{editorDidMount:function(e){t.instance=e},value:this.state.displayData,options:{mode:"javascript",theme:"material",lineNumbers:!0},onBeforeChange:function(e,n,r){t.setState({value:r})},onChange:function(t,e){console.log("uncontrolled",{value:e})}})),a.default.createElement("div",{className:"ui right floated buttons"},a.default.createElement("div",{className:"ui red button",onClick:this.saveCodeMirrorModal},"Update"),a.default.createElement("div",{className:"ui green button",onClick:this.closeCodeMirrorModal},"Cancel")))),a.default.createElement(s.default,i({onResize:this._resize,mapStyle:this.state.style},this.state.viewport,{onClick:function(t){return console.log(t)},onViewportChange:function(e){console.log(e),t.setState({viewport:e})}}),a.default.createElement(l.default,{onLoadStyle:this._onLoadStyle,onShowModal:this.openModal,onFixedHere:this._fixedHere,onCrop:this._onCrop})),a.default.createElement(c.default,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:E},a.default.createElement("div",{className:"ui card",style:{height:"100%",width:"100%"}},a.default.createElement("div",{className:"content"},a.default.createElement("div",{className:"header"},"ViewPort 设置")),a.default.createElement("div",{className:"ui segment"},a.default.createElement("div",{className:"ui  form"},a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"MapSize"),a.default.createElement("div",{className:"two fields"},a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"RECT[WIDTH]",placeholder:"width",ref:function(e){return t.inputWidth=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"RECT[HEGHT]",placeholder:"height",ref:function(e){return t.inputHeight=e}})))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"Center"),a.default.createElement("div",{className:"two fields"},a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"Center[lonitude]",placeholder:"longitude",ref:function(e){return t.inputLongitude=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("input",{type:"text",name:"Center[latitude]",placeholder:"latitude",ref:function(e){return t.inputLatitude=e}})))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"zoom"),a.default.createElement("select",{className:"ui fluid dropdown",ref:function(e){return t.selectZoom=e}},function(t,e){for(var n=[],r=t;r<e;r++)n.push(a.default.createElement("option",{key:"option"+r,value:r},r));return n}(1,20))),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"pitch"),a.default.createElement("input",{type:"text",name:"pitch",ref:function(e){return t.inputPitch=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"bearing"),a.default.createElement("input",{type:"text",name:"bearing",ref:function(e){return t.inputBearing=e}})),a.default.createElement("div",{className:"field"},a.default.createElement("label",null,"catalog"),a.default.createElement("input",{type:"text",name:"bearing",ref:function(e){return t.inputCatalog=e}})),a.default.createElement("div",{className:"ui right floated buttons"},a.default.createElement("div",{className:"ui red button",onClick:this._onViewportChange},"Update"),a.default.createElement("div",{className:"ui green button",onClick:this.closeModal},"Cancel")))))))}}]),e}(o.Component);e.default=T},function(t,e,n){var r=n(696);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(157)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(156)(!1)).push([t.i,".mapboxgl-map {\n    font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n    overflow: hidden;\n    position: relative;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.mapboxgl-map:-webkit-full-screen {\n    width: 100%;\n    height: 100%;\n}\n\n.mapboxgl-canary {\n    background-color: salmon;\n}\n\n.mapboxgl-canvas-container.mapboxgl-interactive,\n.mapboxgl-ctrl-group > button.mapboxgl-ctrl-compass {\n    cursor: -webkit-grab;\n    cursor: -moz-grab;\n    cursor: grab;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.mapboxgl-canvas-container.mapboxgl-interactive:active,\n.mapboxgl-ctrl-group > button.mapboxgl-ctrl-compass:active {\n    cursor: -webkit-grabbing;\n    cursor: -moz-grabbing;\n    cursor: grabbing;\n}\n\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas {\n    touch-action: pan-x pan-y;\n}\n\n.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,\n.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas {\n    touch-action: pinch-zoom;\n}\n\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas {\n    touch-action: none;\n}\n\n.mapboxgl-ctrl-top-left,\n.mapboxgl-ctrl-top-right,\n.mapboxgl-ctrl-bottom-left,\n.mapboxgl-ctrl-bottom-right { position: absolute; pointer-events: none; z-index: 2; }\n.mapboxgl-ctrl-top-left     { top: 0; left: 0; }\n.mapboxgl-ctrl-top-right    { top: 0; right: 0; }\n.mapboxgl-ctrl-bottom-left  { bottom: 0; left: 0; }\n.mapboxgl-ctrl-bottom-right { right: 0; bottom: 0; }\n\n.mapboxgl-ctrl { clear: both; pointer-events: auto; }\n.mapboxgl-ctrl-top-left .mapboxgl-ctrl     { margin: 10px 0 0 10px; float: left; }\n.mapboxgl-ctrl-top-right .mapboxgl-ctrl    { margin: 10px 10px 0 0; float: right; }\n.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl  { margin: 0 0 10px 10px; float: left; }\n.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl { margin: 0 10px 10px 0; float: right; }\n\n.mapboxgl-ctrl-group {\n    border-radius: 4px;\n    overflow: hidden;\n    background: #fff;\n}\n\n.mapboxgl-ctrl-group:not(:empty) {\n    -moz-box-shadow: 0 0 2px rgba(0, 0, 0, 0.1);\n    -webkit-box-shadow: 0 0 2px rgba(0, 0, 0, 0.1);\n    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);\n}\n\n.mapboxgl-ctrl-group > button {\n    width: 30px;\n    height: 30px;\n    display: block;\n    padding: 0;\n    outline: none;\n    border: 0;\n    box-sizing: border-box;\n    background-color: transparent;\n    cursor: pointer;\n}\n\n.mapboxgl-ctrl-group > button + button {\n    border-top: 1px solid #ddd;\n}\n\n/* https://bugzilla.mozilla.org/show_bug.cgi?id=140562 */\n.mapboxgl-ctrl > button::-moz-focus-inner {\n    border: 0;\n    padding: 0;\n}\n\n.mapboxgl-ctrl > button:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n}\n\n.mapboxgl-ctrl-icon,\n.mapboxgl-ctrl-icon > .mapboxgl-ctrl-compass-arrow {\n    speak: none;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.mapboxgl-ctrl-icon {\n    padding: 5px;\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23333333;' d='m 7,9 c -0.554,0 -1,0.446 -1,1 0,0.554 0.446,1 1,1 l 6,0 c 0.554,0 1,-0.446 1,-1 0,-0.554 -0.446,-1 -1,-1 z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23333333;' d='M 10 6 C 9.446 6 9 6.4459904 9 7 L 9 9 L 7 9 C 6.446 9 6 9.446 6 10 C 6 10.554 6.446 11 7 11 L 9 11 L 9 13 C 9 13.55401 9.446 14 10 14 C 10.554 14 11 13.55401 11 13 L 11 11 L 13 11 C 13.554 11 14 10.554 14 10 C 14 9.446 13.554 9 13 9 L 11 9 L 11 7 C 11 6.4459904 10.554 6 10 6 z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate:disabled {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M 10,4 C 9,4 9,5 9,5 L 9,5.1 C 7.0357113,5.5006048 5.5006048,7.0357113 5.1,9 L 5,9 c 0,0 -1,0 -1,1 0,1 1,1 1,1 l 0.1,0 c 0.4006048,1.964289 1.9357113,3.499395 3.9,3.9 L 9,15 c 0,0 0,1 1,1 1,0 1,-1 1,-1 l 0,-0.1 c 1.964289,-0.400605 3.499395,-1.935711 3.9,-3.9 l 0.1,0 c 0,0 1,0 1,-1 C 16,9 15,9 15,9 L 14.9,9 C 14.499395,7.0357113 12.964289,5.5006048 11,5.1 L 11,5 c 0,0 0,-1 -1,-1 z m 0,2.5 c 1.932997,0 3.5,1.5670034 3.5,3.5 0,1.932997 -1.567003,3.5 -3.5,3.5 C 8.0670034,13.5 6.5,11.932997 6.5,10 6.5,8.0670034 8.0670034,6.5 10,6.5 Z'/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting {\n    -webkit-animation: mapboxgl-spin 2s infinite linear;\n    -moz-animation: mapboxgl-spin 2s infinite linear;\n    -o-animation: mapboxgl-spin 2s infinite linear;\n    -ms-animation: mapboxgl-spin 2s infinite linear;\n    animation: mapboxgl-spin 2s infinite linear;\n}\n\n@-webkit-keyframes mapboxgl-spin {\n    0% { -webkit-transform: rotate(0deg); }\n    100% { -webkit-transform: rotate(360deg); }\n}\n\n@-moz-keyframes mapboxgl-spin {\n    0% { -moz-transform: rotate(0deg); }\n    100% { -moz-transform: rotate(360deg); }\n}\n\n@-o-keyframes mapboxgl-spin {\n    0% { -o-transform: rotate(0deg); }\n    100% { -o-transform: rotate(360deg); }\n}\n\n@-ms-keyframes mapboxgl-spin {\n    0% { -ms-transform: rotate(0deg); }\n    100% { -ms-transform: rotate(360deg); }\n}\n\n@keyframes mapboxgl-spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-fullscreen {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M 5 4 C 4.5 4 4 4.5 4 5 L 4 6 L 4 9 L 4.5 9 L 5.7773438 7.296875 C 6.7771319 8.0602131 7.835765 8.9565728 8.890625 10 C 7.8257121 11.0633 6.7761791 11.951675 5.78125 12.707031 L 4.5 11 L 4 11 L 4 15 C 4 15.5 4.5 16 5 16 L 9 16 L 9 15.5 L 7.2734375 14.205078 C 8.0428931 13.187886 8.9395441 12.133481 9.9609375 11.068359 C 11.042371 12.14699 11.942093 13.2112 12.707031 14.21875 L 11 15.5 L 11 16 L 14 16 L 15 16 C 15.5 16 16 15.5 16 15 L 16 14 L 16 11 L 15.5 11 L 14.205078 12.726562 C 13.177985 11.949617 12.112718 11.043577 11.037109 10.009766 C 12.151856 8.981061 13.224345 8.0798624 14.228516 7.3046875 L 15.5 9 L 16 9 L 16 5 C 16 4.5 15.5 4 15 4 L 11 4 L 11 4.5 L 12.703125 5.7773438 C 11.932647 6.7864834 11.026693 7.8554712 9.9707031 8.9199219 C 8.9584739 7.8204943 8.0698767 6.7627188 7.3046875 5.7714844 L 9 4.5 L 9 4 L 6 4 L 5 4 z '/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-shrink {\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath style='fill:%23000000;' d='M 4.2421875 3.4921875 A 0.750075 0.750075 0 0 0 3.71875 4.78125 L 5.9648438 7.0273438 L 4 8.5 L 4 9 L 8 9 C 8.500001 8.9999988 9 8.4999992 9 8 L 9 4 L 8.5 4 L 7.0175781 5.9550781 L 4.78125 3.71875 A 0.750075 0.750075 0 0 0 4.2421875 3.4921875 z M 15.734375 3.4921875 A 0.750075 0.750075 0 0 0 15.21875 3.71875 L 12.984375 5.953125 L 11.5 4 L 11 4 L 11 8 C 11 8.4999992 11.499999 8.9999988 12 9 L 16 9 L 16 8.5 L 14.035156 7.0273438 L 16.28125 4.78125 A 0.750075 0.750075 0 0 0 15.734375 3.4921875 z M 4 11 L 4 11.5 L 5.9648438 12.972656 L 3.71875 15.21875 A 0.75130096 0.75130096 0 1 0 4.78125 16.28125 L 7.0273438 14.035156 L 8.5 16 L 9 16 L 9 12 C 9 11.500001 8.500001 11.000001 8 11 L 4 11 z M 12 11 C 11.499999 11.000001 11 11.500001 11 12 L 11 16 L 11.5 16 L 12.972656 14.035156 L 15.21875 16.28125 A 0.75130096 0.75130096 0 1 0 16.28125 15.21875 L 14.035156 12.972656 L 16 11.5 L 16 11 L 12 11 z '/%3E %3C/svg%3E\");\n}\n\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass > .mapboxgl-ctrl-compass-arrow {\n    width: 20px;\n    height: 20px;\n    margin: 5px;\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpolygon fill='%23333333' points='6,9 10,1 14,9'/%3E %3Cpolygon fill='%23CCCCCC' points='6,11 10,19 14,11 '/%3E %3C/svg%3E\");\n    background-repeat: no-repeat;\n    display: inline-block;\n}\n\na.mapboxgl-ctrl-logo {\n    width: 85px;\n    height: 21px;\n    margin: 0 0 -3px -3px;\n    display: block;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 84.49 21' style='enable-background:new 0 0 84.49 21;' xml:space='preserve'%3E%3Cg%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M83.25,14.26c0,0.12-0.09,0.21-0.21,0.21h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39l-1.44,2.39 c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68L76.2,6.84 c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.4-2.35 c0.06-0.11,0.18-0.17,0.3-0.17H83c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.37,3.63l2.43,3.67 C83.24,14.18,83.25,14.22,83.25,14.26z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M66.24,9.59c-0.39-1.88-1.96-3.28-3.84-3.28c-1.03,0-2.03,0.42-2.73,1.18V3.51c0-0.13-0.1-0.23-0.23-0.23h-1.4 c-0.13,0-0.23,0.11-0.23,0.23v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.11,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.73,1.18 c1.88,0,3.45-1.41,3.84-3.29C66.37,10.79,66.37,10.18,66.24,9.59L66.24,9.59z M62.08,13c-1.32,0-2.39-1.11-2.41-2.48v-0.06 c0.02-1.38,1.09-2.48,2.41-2.48s2.42,1.12,2.42,2.51S63.41,13,62.08,13z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M71.67,6.32c-1.98-0.01-3.72,1.35-4.16,3.29c-0.13,0.59-0.13,1.19,0,1.77c0.44,1.94,2.17,3.32,4.17,3.3 c2.35,0,4.26-1.87,4.26-4.19S74.04,6.32,71.67,6.32z M71.65,13.01c-1.33,0-2.42-1.12-2.42-2.51s1.08-2.52,2.42-2.52 c1.33,0,2.42,1.12,2.42,2.51S72.99,13,71.65,13.01L71.65,13.01z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M62.08,7.98c-1.32,0-2.39,1.11-2.41,2.48v0.06C59.68,11.9,60.75,13,62.08,13s2.42-1.12,2.42-2.51 S63.41,7.98,62.08,7.98z M62.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25 c0.63,0,1.17,0.57,1.17,1.27C63.24,11.2,62.73,11.76,62.08,11.76z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M71.65,7.98c-1.33,0-2.42,1.12-2.42,2.51S70.32,13,71.65,13s2.42-1.12,2.42-2.51S72.99,7.98,71.65,7.98z M71.65,11.76c-0.64,0-1.17-0.57-1.17-1.27c0-0.7,0.53-1.26,1.17-1.26s1.17,0.57,1.17,1.27C72.82,11.21,72.29,11.76,71.65,11.76z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M45.74,6.53h-1.4c-0.13,0-0.23,0.11-0.23,0.23v0.73c-0.71-0.75-1.7-1.18-2.73-1.18 c-2.17,0-3.94,1.87-3.94,4.19s1.77,4.19,3.94,4.19c1.04,0,2.03-0.43,2.73-1.19v0.73c0,0.13,0.1,0.23,0.23,0.23h1.4 c0.13,0,0.23-0.11,0.23-0.23V6.74c0-0.12-0.09-0.22-0.22-0.22C45.75,6.53,45.75,6.53,45.74,6.53z M44.12,10.53 C44.11,11.9,43.03,13,41.71,13s-2.42-1.12-2.42-2.51s1.08-2.52,2.4-2.52c1.33,0,2.39,1.11,2.41,2.48L44.12,10.53z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M41.71,7.98c-1.33,0-2.42,1.12-2.42,2.51S40.37,13,41.71,13s2.39-1.11,2.41-2.48v-0.06 C44.1,9.09,43.03,7.98,41.71,7.98z M40.55,10.49c0-0.7,0.52-1.27,1.17-1.27c0.64,0,1.14,0.56,1.17,1.25v0.04 c-0.01,0.68-0.53,1.24-1.17,1.24C41.08,11.75,40.55,11.19,40.55,10.49z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M52.41,6.32c-1.03,0-2.03,0.42-2.73,1.18V6.75c0-0.13-0.1-0.23-0.23-0.23h-1.4c-0.13,0-0.23,0.11-0.23,0.23 v10.72c0,0.13,0.1,0.23,0.23,0.23h1.4c0.13,0,0.23-0.1,0.23-0.23V13.5c0.71,0.75,1.7,1.18,2.74,1.18c2.17,0,3.94-1.87,3.94-4.19 S54.58,6.32,52.41,6.32z M52.08,13.01c-1.32,0-2.39-1.11-2.42-2.48v-0.07c0.02-1.38,1.09-2.49,2.4-2.49c1.32,0,2.41,1.12,2.41,2.51 S53.4,13,52.08,13.01L52.08,13.01z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M52.08,7.98c-1.32,0-2.39,1.11-2.42,2.48v0.06c0.03,1.38,1.1,2.48,2.42,2.48s2.41-1.12,2.41-2.51 S53.4,7.98,52.08,7.98z M52.08,11.76c-0.63,0-1.14-0.56-1.17-1.25v-0.04c0.01-0.69,0.54-1.25,1.17-1.25c0.63,0,1.17,0.58,1.17,1.27 S52.72,11.76,52.08,11.76z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M36.08,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68c0-0.98-0.74-1.71-1.62-1.71 c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.11,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V6.74 c0.01-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03c1.09,0,2.09,0.6,2.6,1.55 c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78L36.08,14.24z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M84.34,13.59l-0.07-0.13l-1.96-2.99l1.94-2.95c0.44-0.67,0.26-1.56-0.41-2.02c-0.02,0-0.03,0-0.04-0.01 c-0.23-0.15-0.5-0.22-0.78-0.22h-1.61c-0.56,0-1.08,0.29-1.37,0.78L79.72,6.6l-0.34-0.56C79.09,5.56,78.57,5.27,78,5.27h-1.6 c-0.6,0-1.13,0.37-1.35,0.92c-2.19-1.66-5.28-1.47-7.26,0.45c-0.35,0.34-0.65,0.72-0.89,1.14c-0.9-1.62-2.58-2.72-4.5-2.72 c-0.5,0-1.01,0.07-1.48,0.23V3.51c0-0.82-0.66-1.48-1.47-1.48h-1.4c-0.81,0-1.47,0.66-1.47,1.47v3.75 c-0.95-1.36-2.5-2.18-4.17-2.19c-0.74,0-1.46,0.16-2.12,0.47c-0.24-0.17-0.54-0.26-0.84-0.26h-1.4c-0.45,0-0.87,0.21-1.15,0.56 c-0.02-0.03-0.04-0.05-0.07-0.08c-0.28-0.3-0.68-0.47-1.09-0.47h-1.39c-0.3,0-0.6,0.09-0.84,0.26c-0.67-0.3-1.39-0.46-2.12-0.46 c-1.83,0-3.43,1-4.37,2.5c-0.2-0.46-0.48-0.89-0.83-1.25c-0.8-0.81-1.89-1.25-3.02-1.25h-0.01c-0.89,0.01-1.75,0.33-2.46,0.88 c-0.74-0.57-1.64-0.88-2.57-0.88H28.1c-0.29,0-0.58,0.03-0.86,0.11c-0.28,0.06-0.56,0.16-0.82,0.28c-0.21-0.12-0.45-0.18-0.7-0.18 h-1.4c-0.82,0-1.47,0.66-1.47,1.47v7.5c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.48-0.66,1.48-1.48l0,0V9.79 c0.03-0.36,0.23-0.59,0.36-0.59c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41c0.82,0,1.47-0.66,1.47-1.47 l-0.01-4.57c0.06-0.32,0.25-0.47,0.35-0.47c0.18,0,0.38,0.18,0.38,0.47v4.57c0,0.82,0.66,1.47,1.47,1.47h1.41 c0.82,0,1.47-0.66,1.47-1.47v-0.38c0.96,1.29,2.46,2.06,4.06,2.06c0.74,0,1.46-0.16,2.12-0.47c0.24,0.17,0.54,0.26,0.84,0.26h1.39 c0.3,0,0.6-0.09,0.84-0.26v2.01c0,0.82,0.66,1.47,1.47,1.47h1.4c0.82,0,1.47-0.66,1.47-1.47v-1.77c0.48,0.15,0.99,0.23,1.49,0.22 c1.7,0,3.22-0.87,4.17-2.2v0.52c0,0.82,0.66,1.47,1.47,1.47h1.4c0.3,0,0.6-0.09,0.84-0.26c0.66,0.31,1.39,0.47,2.12,0.47 c1.92,0,3.6-1.1,4.49-2.73c1.54,2.65,4.95,3.53,7.58,1.98c0.18-0.11,0.36-0.22,0.53-0.36c0.22,0.55,0.76,0.91,1.35,0.9H78 c0.56,0,1.08-0.29,1.37-0.78l0.37-0.61l0.37,0.61c0.29,0.48,0.81,0.78,1.38,0.78h1.6c0.81,0,1.46-0.66,1.45-1.46 C84.49,14.02,84.44,13.8,84.34,13.59L84.34,13.59z M35.86,14.47h-1.41c-0.13,0-0.23-0.11-0.23-0.23V9.68 c0-0.98-0.74-1.71-1.62-1.71c-0.8,0-1.46,0.7-1.59,1.62l0.01,4.66c0,0.13-0.1,0.23-0.23,0.23h-1.41c-0.13,0-0.23-0.11-0.23-0.23 V9.68c0-0.98-0.74-1.71-1.62-1.71c-0.85,0-1.54,0.79-1.6,1.8v4.48c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23 V6.74c0.01-0.13,0.11-0.22,0.23-0.22h1.4c0.13,0,0.22,0.11,0.23,0.22V7.4c0.5-0.68,1.3-1.09,2.16-1.1h0.03 c1.09,0,2.09,0.6,2.6,1.55c0.45-0.95,1.4-1.55,2.44-1.56c1.62,0,2.93,1.25,2.9,2.78l0.01,5.16C36.09,14.36,35.98,14.46,35.86,14.47 L35.86,14.47z M45.97,14.24c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V13.5c-0.7,0.76-1.69,1.18-2.72,1.18 c-2.17,0-3.94-1.87-3.94-4.19s1.77-4.19,3.94-4.19c1.03,0,2.02,0.43,2.73,1.18V6.74c0-0.13,0.1-0.23,0.23-0.23h1.4 c0.12-0.01,0.22,0.08,0.23,0.21c0,0.01,0,0.01,0,0.02v7.51h-0.01V14.24z M52.41,14.67c-1.03,0-2.02-0.43-2.73-1.18v3.97 c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.1-0.23-0.23V6.75c0-0.13,0.1-0.22,0.23-0.22h1.4c0.13,0,0.23,0.11,0.23,0.23v0.73 c0.71-0.76,1.7-1.18,2.73-1.18c2.17,0,3.94,1.86,3.94,4.18S54.58,14.67,52.41,14.67z M66.24,11.39c-0.39,1.87-1.96,3.29-3.84,3.29 c-1.03,0-2.02-0.43-2.73-1.18v0.73c0,0.13-0.1,0.23-0.23,0.23h-1.4c-0.13,0-0.23-0.11-0.23-0.23V3.51c0-0.13,0.1-0.23,0.23-0.23 h1.4c0.13,0,0.23,0.11,0.23,0.23v3.97c0.71-0.75,1.7-1.18,2.73-1.17c1.88,0,3.45,1.4,3.84,3.28C66.37,10.19,66.37,10.8,66.24,11.39 L66.24,11.39L66.24,11.39z M71.67,14.68c-2,0.01-3.73-1.35-4.17-3.3c-0.13-0.59-0.13-1.19,0-1.77c0.44-1.94,2.17-3.31,4.17-3.3 c2.36,0,4.26,1.87,4.26,4.19S74.03,14.68,71.67,14.68L71.67,14.68z M83.04,14.47h-1.61c-0.13,0-0.24-0.06-0.3-0.17l-1.44-2.39 l-1.44,2.39c-0.06,0.11-0.18,0.17-0.3,0.17h-1.61c-0.04,0-0.08-0.01-0.12-0.03c-0.09-0.06-0.13-0.19-0.06-0.28l0,0l2.43-3.68 L76.2,6.84c-0.02-0.03-0.03-0.07-0.03-0.12c0-0.12,0.09-0.21,0.21-0.21h1.61c0.13,0,0.24,0.06,0.3,0.17l1.41,2.36l1.41-2.36 c0.06-0.11,0.18-0.17,0.3-0.17h1.61c0.04,0,0.08,0.01,0.12,0.03c0.09,0.06,0.13,0.19,0.06,0.28l0,0l-2.38,3.64l2.43,3.67 c0.02,0.03,0.03,0.07,0.03,0.12C83.25,14.38,83.16,14.47,83.04,14.47L83.04,14.47L83.04,14.47z'/%3E %3Cpath class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' d='M10.5,1.24c-5.11,0-9.25,4.15-9.25,9.25s4.15,9.25,9.25,9.25s9.25-4.15,9.25-9.25 C19.75,5.38,15.61,1.24,10.5,1.24z M14.89,12.77c-1.93,1.93-4.78,2.31-6.7,2.31c-0.7,0-1.41-0.05-2.1-0.16c0,0-1.02-5.64,2.14-8.81 c0.83-0.83,1.95-1.28,3.13-1.28c1.27,0,2.49,0.51,3.39,1.42C16.59,8.09,16.64,11,14.89,12.77z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M10.5-0.01C4.7-0.01,0,4.7,0,10.49s4.7,10.5,10.5,10.5S21,16.29,21,10.49C20.99,4.7,16.3-0.01,10.5-0.01z M10.5,19.74c-5.11,0-9.25-4.15-9.25-9.25s4.14-9.26,9.25-9.26s9.25,4.15,9.25,9.25C19.75,15.61,15.61,19.74,10.5,19.74z'/%3E %3Cpath class='st1' style='opacity:0.35; enable-background:new;' d='M14.74,6.25C12.9,4.41,9.98,4.35,8.23,6.1c-3.16,3.17-2.14,8.81-2.14,8.81s5.64,1.02,8.81-2.14 C16.64,11,16.59,8.09,14.74,6.25z M12.47,10.34l-0.91,1.87l-0.9-1.87L8.8,9.43l1.86-0.9l0.9-1.87l0.91,1.87l1.86,0.9L12.47,10.34z'/%3E %3Cpolygon class='st0' style='opacity:0.9; fill: %23FFFFFF; enable-background: new;' points='14.33,9.43 12.47,10.34 11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 '/%3E%3C/g%3E%3C/svg%3E\");\n}\n\na.mapboxgl-ctrl-logo.mapboxgl-compact {\n    width: 21px;\n    height: 21px;\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3C?xml version='1.0' encoding='utf-8'?%3E %3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 21 21' style='enable-background:new 0 0 21 21;' xml:space='preserve'%3E%3Cg transform='translate(0,0.01)'%3E%3Cpath d='m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z' style='opacity:0.9;fill:%23ffffff;enable-background:new' class='st0'/%3E%3Cpath d='M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z' style='opacity:0.35;enable-background:new' class='st1'/%3E%3Cpath d='M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z' style='opacity:0.35;enable-background:new' class='st1'/%3E%3Cpolygon points='11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 ' style='opacity:0.9;fill:%23ffffff;enable-background:new' class='st0'/%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.mapboxgl-ctrl.mapboxgl-ctrl-attrib {\n    padding: 0 5px;\n    background-color: rgba(255, 255, 255, 0.5);\n    margin: 0;\n}\n\n@media screen {\n    .mapboxgl-ctrl-attrib.mapboxgl-compact {\n        margin: 10px;\n        position: relative;\n        background-color: #fff;\n        border-radius: 3px 12px 12px 3px;\n    }\n\n    .mapboxgl-ctrl-attrib.mapboxgl-compact:hover {\n        padding: 2px 24px 2px 4px;\n        visibility: visible;\n    }\n\n    .mapboxgl-ctrl-top-left > .mapboxgl-ctrl-attrib.mapboxgl-compact:hover,\n    .mapboxgl-ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact:hover {\n        padding: 2px 4px 2px 24px;\n        border-radius: 12px 3px 3px 12px;\n    }\n\n    .mapboxgl-ctrl-attrib.mapboxgl-compact > * {\n        display: none;\n    }\n\n    .mapboxgl-ctrl-attrib.mapboxgl-compact:hover > * {\n        display: inline;\n    }\n\n    .mapboxgl-ctrl-attrib.mapboxgl-compact::after {\n        content: '';\n        cursor: pointer;\n        position: absolute;\n        background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill='%23333333' fill-rule='evenodd' d='M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0'/%3E %3C/svg%3E\");\n        background-color: rgba(255, 255, 255, 0.5);\n        width: 24px;\n        height: 24px;\n        box-sizing: border-box;\n        border-radius: 12px;\n    }\n\n    .mapboxgl-ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after {\n        bottom: 0;\n        right: 0;\n    }\n\n    .mapboxgl-ctrl-top-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after {\n        top: 0;\n        right: 0;\n    }\n\n    .mapboxgl-ctrl-top-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after {\n        top: 0;\n        left: 0;\n    }\n\n    .mapboxgl-ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after {\n        bottom: 0;\n        left: 0;\n    }\n}\n\n.mapboxgl-ctrl-attrib a {\n    color: rgba(0, 0, 0, 0.75);\n    text-decoration: none;\n}\n\n.mapboxgl-ctrl-attrib a:hover {\n    color: inherit;\n    text-decoration: underline;\n}\n\n/* stylelint-disable-next-line selector-class-pattern */\n.mapboxgl-ctrl-attrib .mapbox-improve-map {\n    font-weight: bold;\n    margin-left: 2px;\n}\n\n.mapboxgl-attrib-empty {\n    display: none;\n}\n\n.mapboxgl-ctrl-scale {\n    background-color: rgba(255, 255, 255, 0.75);\n    font-size: 10px;\n    border-width: medium 2px 2px;\n    border-style: none solid solid;\n    border-color: #333;\n    padding: 0 5px;\n    color: #333;\n    box-sizing: border-box;\n}\n\n.mapboxgl-popup {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: -webkit-flex;\n    display: flex;\n    will-change: transform;\n    pointer-events: none;\n}\n\n.mapboxgl-popup-anchor-top,\n.mapboxgl-popup-anchor-top-left,\n.mapboxgl-popup-anchor-top-right {\n    -webkit-flex-direction: column;\n    flex-direction: column;\n}\n\n.mapboxgl-popup-anchor-bottom,\n.mapboxgl-popup-anchor-bottom-left,\n.mapboxgl-popup-anchor-bottom-right {\n    -webkit-flex-direction: column-reverse;\n    flex-direction: column-reverse;\n}\n\n.mapboxgl-popup-anchor-left {\n    -webkit-flex-direction: row;\n    flex-direction: row;\n}\n\n.mapboxgl-popup-anchor-right {\n    -webkit-flex-direction: row-reverse;\n    flex-direction: row-reverse;\n}\n\n.mapboxgl-popup-tip {\n    width: 0;\n    height: 0;\n    border: 10px solid transparent;\n    z-index: 1;\n}\n\n.mapboxgl-popup-anchor-top .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-top: none;\n    border-bottom-color: #fff;\n}\n\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip {\n    -webkit-align-self: flex-start;\n    align-self: flex-start;\n    border-top: none;\n    border-left: none;\n    border-bottom-color: #fff;\n}\n\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {\n    -webkit-align-self: flex-end;\n    align-self: flex-end;\n    border-top: none;\n    border-right: none;\n    border-bottom-color: #fff;\n}\n\n.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-bottom: none;\n    border-top-color: #fff;\n}\n\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip {\n    -webkit-align-self: flex-start;\n    align-self: flex-start;\n    border-bottom: none;\n    border-left: none;\n    border-top-color: #fff;\n}\n\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip {\n    -webkit-align-self: flex-end;\n    align-self: flex-end;\n    border-bottom: none;\n    border-right: none;\n    border-top-color: #fff;\n}\n\n.mapboxgl-popup-anchor-left .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-left: none;\n    border-right-color: #fff;\n}\n\n.mapboxgl-popup-anchor-right .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-right: none;\n    border-left-color: #fff;\n}\n\n.mapboxgl-popup-close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n    border: 0;\n    border-radius: 0 3px 0 0;\n    cursor: pointer;\n    background-color: transparent;\n}\n\n.mapboxgl-popup-close-button:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n}\n\n.mapboxgl-popup-content {\n    position: relative;\n    background: #fff;\n    border-radius: 3px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n    padding: 10px 10px 15px;\n    pointer-events: auto;\n}\n\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content {\n    border-top-left-radius: 0;\n}\n\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content {\n    border-top-right-radius: 0;\n}\n\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content {\n    border-bottom-left-radius: 0;\n}\n\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content {\n    border-bottom-right-radius: 0;\n}\n\n.mapboxgl-marker {\n    position: absolute;\n    top: 0;\n    left: 0;\n    will-change: transform;\n}\n\n.mapboxgl-user-location-dot {\n    background-color: #1da1f2;\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n    box-shadow: 0 0 2px rgba(0, 0, 0, 0.25);\n}\n\n.mapboxgl-user-location-dot::before {\n    background-color: #1da1f2;\n    content: '';\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n    position: absolute;\n    -webkit-animation: mapboxgl-user-location-dot-pulse 2s infinite;\n    -moz-animation: mapboxgl-user-location-dot-pulse 2s infinite;\n    -ms-animation: mapboxgl-user-location-dot-pulse 2s infinite;\n    animation: mapboxgl-user-location-dot-pulse 2s infinite;\n}\n\n.mapboxgl-user-location-dot::after {\n    border-radius: 50%;\n    border: 2px solid #fff;\n    content: '';\n    height: 19px;\n    left: -2px;\n    position: absolute;\n    top: -2px;\n    width: 19px;\n    box-sizing: border-box;\n}\n\n@-webkit-keyframes mapboxgl-user-location-dot-pulse {\n    0%   { -webkit-transform: scale(1); opacity: 1; }\n    70%  { -webkit-transform: scale(3); opacity: 0; }\n    100% { -webkit-transform: scale(1); opacity: 0; }\n}\n\n@-ms-keyframes mapboxgl-user-location-dot-pulse {\n    0%   { -ms-transform: scale(1); opacity: 1; }\n    70%  { -ms-transform: scale(3); opacity: 0; }\n    100% { -ms-transform: scale(1); opacity: 0; }\n}\n\n@keyframes mapboxgl-user-location-dot-pulse {\n    0%   { transform: scale(1); opacity: 1; }\n    70%  { transform: scale(3); opacity: 0; }\n    100% { transform: scale(1); opacity: 0; }\n}\n\n.mapboxgl-user-location-dot-stale {\n    background-color: #aaa;\n}\n\n.mapboxgl-user-location-dot-stale::after {\n    display: none;\n}\n\n.mapboxgl-crosshair,\n.mapboxgl-crosshair .mapboxgl-interactive,\n.mapboxgl-crosshair .mapboxgl-interactive:active {\n    cursor: crosshair;\n}\n\n.mapboxgl-boxzoom {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    background: #fff;\n    border: 2px dotted #202020;\n    opacity: 0.5;\n}\n\n@media print {\n    /* stylelint-disable-next-line selector-class-pattern */\n    .mapbox-improve-map {\n        display: none;\n    }\n}",""])},function(t,e,n){var r=n(698);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(157)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(156)(!1)).push([t.i,"body {\n    margin: 0;\n    padding: 0;\n    font-family: sans-serif;\n    background-color: beige;\n}\n  ",""])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(700)),i=n(164),o=s(n(701)),a=s(n(702));function s(t){return t&&t.__esModule?t:{default:t}}e.default=(0,i.createStore)(a.default,(0,i.applyMiddleware)(o.default.withExtraArgument(r.default)))},function(t,e,n){},function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}n.r(e);var i=r();i.withExtraArgument=r,e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(164),o=n(703),a=(r=o)&&r.__esModule?r:{default:r};e.default=(0,i.combineReducers)({cart:a.default})},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];switch(e.type){case"":return[].concat(r(t),[e.payload]);default:return t}}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"someByType",(function(){return J})),n.d(r,"findByType",(function(){return Q})),n.d(r,"isNil",(function(){return tt}));var i={};n.r(i),n.d(i,"TYPES",(function(){return Ie})),n.d(i,"isMeta",(function(){return Ne})),n.d(i,"isType",(function(){return Ae})),n.d(i,"isAddon",(function(){return Le})),n.d(i,"isCollection",(function(){return Re})),n.d(i,"isElement",(function(){return De})),n.d(i,"isView",(function(){return ze})),n.d(i,"isModule",(function(){return Fe})),n.d(i,"isParent",(function(){return je})),n.d(i,"isChild",(function(){return Be})),n.d(i,"isPrivate",(function(){return Ue}));var o={};n.r(o),n.d(o,"COLORS",(function(){return nn})),n.d(o,"FLOATS",(function(){return rn})),n.d(o,"SIZES",(function(){return on})),n.d(o,"TEXT_ALIGNMENTS",(function(){return an})),n.d(o,"VERTICAL_ALIGNMENTS",(function(){return sn})),n.d(o,"VISIBILITY",(function(){return ln})),n.d(o,"WIDTHS",(function(){return un})),n.d(o,"DIRECTIONAL_TRANSITIONS",(function(){return cn})),n.d(o,"STATIC_TRANSITIONS",(function(){return pn})),n.d(o,"TRANSITIONS",(function(){return hn})),n.d(o,"WEB_CONTENT_ICONS",(function(){return fn})),n.d(o,"USER_ACTIONS_ICONS",(function(){return dn})),n.d(o,"MESSAGES_ICONS",(function(){return gn})),n.d(o,"USERS_ICONS",(function(){return mn})),n.d(o,"GENDER_SEXUALITY_ICONS",(function(){return vn})),n.d(o,"ACCESSIBILITY_ICONS",(function(){return yn})),n.d(o,"VIEW_ADJUSTMENT_ICONS",(function(){return _n})),n.d(o,"LITERAL_OBJECTS_ICONS",(function(){return bn})),n.d(o,"SHAPES_ICONS",(function(){return xn})),n.d(o,"ITEM_SELECTION_ICONS",(function(){return wn})),n.d(o,"MEDIA_ICONS",(function(){return En})),n.d(o,"POINTERS_ICONS",(function(){return Cn})),n.d(o,"MOBILE_ICONS",(function(){return Sn})),n.d(o,"COMPUTER_ICONS",(function(){return Tn})),n.d(o,"FILE_SYSTEM_ICONS",(function(){return kn})),n.d(o,"TECHNOLOGIES_ICONS",(function(){return On})),n.d(o,"RATING_ICONS",(function(){return In})),n.d(o,"AUDIO_ICONS",(function(){return Pn})),n.d(o,"MAP_LOCATIONS_TRANSPORTATION_ICONS",(function(){return Nn})),n.d(o,"TABLES_ICONS",(function(){return Mn})),n.d(o,"TEXT_EDITOR_ICONS",(function(){return An})),n.d(o,"CURRENCY_ICONS",(function(){return Ln})),n.d(o,"PAYMENT_OPTIONS_ICONS",(function(){return Rn})),n.d(o,"NETWORKS_AND_WEBSITE_ICONS",(function(){return Dn})),n.d(o,"ICONS",(function(){return zn})),n.d(o,"ICON_ALIASES",(function(){return Fn})),n.d(o,"ICONS_AND_ALIASES",(function(){return jn})),n.d(o,"COMPONENT_CONTEXT_SPECIFIC_ICONS",(function(){return Bn})),n.d(o,"ALL_ICONS_IN_ALL_CONTEXTS",(function(){return Un}));var a=n(2),s=n.n(a),l=n(8),u=n.n(l),c=n(9),p=n.n(c),h=n(5),f=n.n(h),d=n(10),g=n.n(d),m=n(29),v=n.n(m),y=n(6),_=n.n(y),b=(n(1),n(0)),x=n.n(b),w=n(108),E=n.n(w),C=n(33),S=n.n(C),T=(n(258),n(79)),k=n.n(T),O=n(41),I=n.n(O),P=n(25),N=n.n(P),M=(n(463),n(90)),A=n.n(M),L=function(t){return"default"+(t[0].toUpperCase()+t.slice(1))},R=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[t];if(void 0!==i)return i;if(r){var o=e[L(t)];if(void 0!==o)return o;if(n){var a=n[t];if(void 0!==a)return a}}return"checked"!==t&&("value"===t?e.multiple?[]:"":void 0)},D=function(t){function e(){var t;u()(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r)));z.call(o);var a=o.constructor.autoControlledProps,l=_()(o,"getInitialAutoControlledState",o.props)||{},c=a.reduce((function(t,e){return t[e]=R(e,o.props,l,!0),t}),{});return o.state=s()({},l,c),o}return g()(e,t),p()(e,[{key:"componentWillReceiveProps",value:function(t){var e=this,n=this.constructor.autoControlledProps.reduce((function(n,r){var i=S()(t[r]),o=!S()(e.props[r])&&i;return i?o&&(n[r]=R(r,t)):n[r]=t[r],n}),{});Object.keys(n).length>0&&this.setState(n)}}]),e}(b.Component),z=function(){var t=this;this.trySetState=function(e,n){var r=t.constructor.autoControlledProps,i=Object.keys(e).reduce((function(n,i){return void 0!==t.props[i]?n:-1===r.indexOf(i)?n:(n[i]=e[i],n)}),{});n&&(i=s()({},i,n)),Object.keys(i).length>0&&t.setState(i)}},F=D,j=n(32),B=n.n(j),U=n(23),V=n.n(U),q=n(321),G=n.n(q),W=function(t){return G()(k()(b.Children.toArray(t),b.isValidElement),"key")},H=function(t,e){var n={},r=[];return V()(N()(t),(function(t){v()(e,t)?r.length&&(n[t]=r,r=[]):r.push(t)})),[n,r]},Y=function(t,e,n){return v()(n,t)?n[t]:e[t]},X=n(165),Z=n.n(X),K=n(50),$=n.n(K),J=function(t,e){return $()(b.Children.toArray(t),{type:e})},Q=function(t,e){return Z()(b.Children.toArray(t),{type:e})},tt=function(t){return null==t||Array.isArray(t)&&0===t.length},et=n(49),nt=n.n(et),rt={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function it(t){var e=void 0===t?"undefined":nt()(t);return"string"===e||"number"===e?rt[t]||t:""}var ot=function(t,e){return t&&e},at=function(t,e){return t&&!0!==t&&t+" "+e},st=function(t,e){return t&&(!0===t?e:t+" "+e)},lt=function(t,e){return t&&!0!==t?t.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(t){return t.replace("-"," ")+" "+e})).join(" "):null},ut=function(t){return"justified"===t?"justified":at(t,"aligned")},ct=function(t){return at(t,"aligned")},pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n&&"equal"===t)return"equal width";var r=void 0===t?"undefined":nt()(t);return"string"!==r&&"number"!==r||!e?it(t):it(t)+" "+e},ht=n(22),ft=n.n(ht),dt=(n(322),n(323),n(324),n(325),n(170),n(326),n(327),n(227),n(171),n(328),n(329),n(228),n(229),n(38)),gt=n.n(dt),mt=n(42),vt=n.n(mt),yt=(n(330),n(13)),_t=n.n(yt),bt="object"===("undefined"==typeof document?"undefined":nt()(document))&&null!==document,xt="object"===("undefined"==typeof window?"undefined":nt()(window))&&null!==window&&window.self===window,wt=function t(){return _t()(t.override)?bt&&xt:t.override};wt();var Et=n(15),Ct=n.n(Et),St=n(172),Tt=n.n(St),kt=n(20),Ot=n.n(kt),It=n(110),Pt=n.n(It),Nt=n(18),Mt=n.n(Nt),At=n(163),Lt=n.n(At),Rt=function t(e){var n=this;u()(this,t),this._handlers={},this._pools={},this._emit=function(t){return function(e){V()(n._pools,(function(n,r){var i=n[t];i&&("default"!==r?Lt()(i)(e):V()(i,(function(t){return t(e)})))}))}},this._normalize=function(t){return Mt()(t)?t:[t]},this._listen=function(t){if(!v()(n._handlers,t)){var e=n._emit(t);n.target.addEventListener(t,e),n._handlers[t]=e}},this._unlisten=function(t){if(!$()(n._pools,t)){var e=n._handlers[t];n.target.removeEventListener(t,e),delete n._handlers[t]}},this.empty=function(){return I()(n._handlers)},this.sub=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",i=Pt()([].concat(ft()(Ot()(n._pools,r+"."+t,[])),ft()(n._normalize(e))));n._listen(t),Tt()(n._pools,r+"."+t,i)},this.unsub=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",i=Ct.a.apply(void 0,[Ot()(n._pools,r+"."+t,[])].concat(ft()(n._normalize(e))));i.length>0?Tt()(n._pools,r+"."+t,i):(Tt()(n._pools,r+"."+t,void 0),n._unlisten(t))},this.target=e},Dt=function(t){return"document"===t?document:"window"===t?window:t||document},zt=new function t(){var e=this;u()(this,t),this._find=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=Dt(t);if(e._targets.has(r))return e._targets.get(r);if(n){var i=new Rt(r);return e._targets.set(r,i),i}},this._remove=function(t){var n=Dt(t);e._targets.delete(n)},this.sub=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(wt()){var i=r.target,o=void 0===i?document:i,a=r.pool,s=void 0===a?"default":a,l=e._find(o);l.sub(t,n,s)}},this.unsub=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(wt()){var i=r.target,o=void 0===i?document:i,a=r.pool,s=void 0===a?"default":a,l=e._find(o,!1);l&&(l.unsub(t,n,s),l.empty()&&e._remove(o))}},this._targets=new Map},Ft=n(54),jt=n.n(Ft),Bt=n(78),Ut=n.n(Bt),Vt=n(67),qt=n.n(Vt),Gt=n(107),Wt=n.n(Gt),Ht=n(331),Yt=n.n(Ht),Xt=n(3),Zt=n.n(Xt);function Kt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("function"!=typeof t&&"string"!=typeof t)throw new Error("createShorthand() Component must be a string or function.");if(_t()(n)||Yt()(n))return null;var i=Wt()(n),o=qt()(n),a=Object(b.isValidElement)(n),l=Ut()(n),u=i||o||Mt()(n);if(!a&&!l&&!u)return null;var c=r.defaultProps,p=void 0===c?{}:c,h=a&&n.props||l&&n||u&&e(n),f=r.overrideProps,d=void 0===f?{}:f;d=jt()(d)?d(s()({},p,h)):d;var g=s()({},p,h,d);if(p.className||d.className||h.className){var m=Zt()(p.className,d.className,h.className);g.className=Pt()(m.split(" ")).join(" ")}if((p.style||d.style||h.style)&&(g.style=s()({},p.style,h.style,d.style)),_t()(g.key)){var v=g.childKey;_t()(v)?(i||o)&&(g.key=n):(g.key="function"==typeof v?v(g):v,delete g.childKey)}return a?Object(b.cloneElement)(n,g):u||l?x.a.createElement(t,g):void 0}function $t(t,e){if("function"!=typeof t&&"string"!=typeof t)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return Kt(t,e,n,r)}}Kt.handledProps=[];var Jt=$t("div",(function(t){return{children:t}})),Qt=$t("iframe",(function(t){return{src:t}})),te=$t("img",(function(t){return{src:t}})),ee=$t("input",(function(t){return{type:t}})),ne=$t("label",(function(t){return{children:t}})),re=$t("p",(function(t){return{children:t}})),ie=function(t,e){var n=t.handledProps,r=void 0===n?[]:n;return Object.keys(e).reduce((function(t,n){return"childKey"===n?t:(-1===r.indexOf(n)&&(t[n]=e[n]),t)}),{})};var oe=function(t,e,n){var r=t.defaultProps,i=void 0===r?{}:r;if(e.as&&e.as!==i.as)return e.as;if(n){var o=n();if(o)return o}return e.href?"a":i.as||"div"},ae=n(21),se=n.n(ae),le=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","type","value"],ue=[].concat(le,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),ce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.htmlProps,r=void 0===n?ue:n,i=e.includeAria,o=void 0===i||i,a={},s={};return V()(t,(function(t,e){var n=o&&(/^aria-.*$/.test(e)||"role"===e);(se()(r,e)||n?a:s)[e]=t})),[a,s]},pe=n(111),he=n.n(pe),fe=n(332),de=n.n(fe),ge=function(t,e){if($()([e,t],_t.a))return!1;if(e.target&&(_()(e.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return _()(e.target,"removeAttribute","data-suir-click-target"),t.contains(e.target);var n=e.clientX,r=e.clientY;if($()([n,r],_t.a))return!1;var i=t.getClientRects();if(!(t.offsetWidth&&t.offsetHeight&&i&&i.length))return!1;var o=de()(i),a=o.top,s=o.bottom,l=o.left,u=o.right;return!$()([a,s,l,u],_t.a)&&(he()(r,a,s+.001)&&he()(n,l,u+.001))},me=n(333),ve=n.n(me),ye=n(230),_e=n.n(ye),be=n(231),xe=n.n(be),we=n(334),Ee=n.n(we),Ce=n(92),Se=n.n(Ce),Te=n(335),ke=n.n(Te),Oe=n(336),Ie={ADDON:"addon",BEHAVIOR:"behavior",COLLECTION:"collection",ELEMENT:"element",VIEW:"view",MODULE:"module"},Pe=n.n(Oe)()(Ie),Ne=function(t){return ke()(Se()("type",t),Pe)},Me=function(t){return Ne(t)?t:Ne(Se()("_meta",t))?t._meta:Ne(Se()("constructor._meta",t))?t.constructor._meta:void 0},Ae=Ee()((function(t,e,n){return vt()(Me,Se()(t),xe()(e))(n)}))("type"),Le=Ae(Ie.ADDON),Re=Ae(Ie.COLLECTION),De=Ae(Ie.ELEMENT),ze=Ae(Ie.VIEW),Fe=Ae(Ie.MODULE),je=vt()(Me,_e()("parent"),xe()(!1)),Be=vt()(Me,_e()("parent")),Ue=vt()(Me,Se()("name"),ve()("_")),Ve=function(t){return{active:!1,type:"ellipsisItem",value:t}},qe=function(t){return{active:!1,type:"prevItem",value:Math.max(1,t-1)}},Ge=function(t,e){return{active:!1,type:"nextItem",value:Math.min(t+1,e)}},We=function(t){return{active:!1,type:"lastItem",value:t}},He=n(337),Ye=n.n(He),Xe=n(14),Ze=n.n(Xe),Ke=function(t,e,n){var r=e-1;return(r!==t+1?Ve:n)(r)},$e=function(t,e,n){var r=t+1;return(r!==e-1?Ve:n)(r)},Je=function(t,e,n){return Ze()(Ye()(t,e+1),n)},Qe=function(t){var e,n,r,i={activePage:+(e=t).activePage,boundaryRange:+e.boundaryRange,siblingRange:+e.siblingRange,totalPages:+e.totalPages},o=i.activePage,a=i.totalPages,s=function(t){return function(e){return{active:t===e,type:"pageItem",value:e}}}(o),l=(r=(n=i).boundaryRange,3+2*n.siblingRange+2*r>=n.totalPages?Je(1,a,s):function(t,e){var n=t.activePage,r=t.boundaryRange,i=t.siblingRange,o=t.totalPages,a=r,s=Je(1,a,e),l=o+1-r,u=Je(l,o,e),c=Math.min(Math.max(n-i,a+2),l-1-2*i-1),p=c+2*i,h=Je(c,p,e);return[].concat(ft()(s),[Ke(a,c,e)],ft()(h),[$e(p,l,e)],ft()(u)).filter(Boolean)}(i,s));return[{active:!1,type:"firstItem",value:1},qe(o)].concat(ft()(l),[Ge(o,a),We(a)])},tn=n(64),en=n.n(tn),nn=["red","orange","yellow","olive","green","teal","blue","violet","purple","pink","brown","grey","black"],rn=["left","right"],on=["mini","tiny","small","medium","large","big","huge","massive"],an=["left","center","right","justified"],sn=["bottom","middle","top"],ln=["mobile","tablet","computer","large screen","widescreen"],un=[].concat(ft()(N()(rt)),ft()(N()(rt).map(Number)),ft()(en()(rt))),cn=["browse","browse right","drop","fade","fade up","fade down","fade left","fade right","fly up","fly down","fly left","fly right","horizontal flip","vertical flip","scale","slide up","slide down","slide left","slide right","swing up","swing down","swing left","swing right"],pn=["jiggle","flash","shake","pulse","tada","bounce"],hn=[].concat(cn,pn),fn=["search","mail outline","signal","setting","home","inbox","browser","tag","tags","image","calendar","comment","shop","comments","external","privacy","settings","comments","external","trophy","payment","feed","alarm outline","tasks","cloud","lab","mail","dashboard","comment outline","comments outline","sitemap","idea","alarm","terminal","code","protect","calendar outline","ticket","external square","bug","mail square","history","options","text telephone","find","wifi","alarm mute","alarm mute outline","copyright","at","eyedropper","paint brush","heartbeat","mouse pointer","hourglass empty","hourglass start","hourglass half","hourglass end","hourglass full","hand pointer","trademark","registered","creative commons","add to calendar","remove from calendar","delete calendar","checked calendar","industry","shopping bag","shopping basket","hashtag","percent","address book","address book outline","address card","address card outline","id badge","id card","id card outline","podcast","window close","window close outline","window maximize","window minimize","window restore"],dn=["wait","download","repeat","refresh","lock","bookmark","print","write","adjust","theme","edit","external share","ban","mail forward","share","expand","compress","unhide","hide","random","retweet","sign out","pin","sign in","upload","call","remove bookmark","call square","unlock","configure","filter","wizard","undo","exchange","cloud download","cloud upload","reply","reply all","erase","unlock alternate","write square","share square","archive","translate","recycle","send","send outline","share alternate","share alternate square","add to cart","in cart","add user","remove user","object group","object ungroup","clone","talk","talk outline"],gn=["help circle","info circle","warning circle","warning sign","announcement","help","info","warning","birthday","help circle outline"],mn=["user","users","doctor","handicap","student","child","spy","user circle","user circle outline","user outline"],vn=["female","male","woman","man","non binary transgender","intergender","transgender","lesbian","gay","heterosexual","other gender","other gender vertical","other gender horizontal","neuter","genderless"],yn=["universal access","wheelchair","blind","audio description","volume control phone","braille","asl","assistive listening systems","deafness","sign language","low vision"],_n=["block layout","grid layout","list layout","zoom","zoom out","resize vertical","resize horizontal","maximize","crop"],bn=["cocktail","road","flag","book","gift","leaf","fire","plane","magnet","lemon","world","travel","shipping","money","legal","lightning","umbrella","treatment","suitcase","bar","flag outline","flag checkered","puzzle","fire extinguisher","rocket","anchor","bullseye","sun","moon","fax","life ring","bomb","soccer","calculator","diamond","sticky note","sticky note outline","law","hand peace","hand rock","hand paper","hand scissors","hand lizard","hand spock","tv","thermometer empty","thermometer full","thermometer half","thermometer quarter","thermometer three quarters","bath","snowflake outline"],xn=["crosshairs","asterisk","square outline","certificate","square","quote left","quote right","spinner","circle","ellipsis horizontal","ellipsis vertical","cube","cubes","circle notched","circle thin"],wn=["checkmark","remove","checkmark box","move","add circle","minus circle","remove circle","check circle","remove circle outline","check circle outline","plus","minus","add square","radio","minus square","minus square outline","check square","selected radio","plus square outline","toggle off","toggle on"],En=["film","sound","photo","bar chart","camera retro","newspaper","area chart","pie chart","line chart"],Cn=["arrow circle outline down","arrow circle outline up","chevron left","chevron right","arrow left","arrow right","arrow up","arrow down","chevron up","chevron down","pointing right","pointing left","pointing up","pointing down","arrow circle left","arrow circle right","arrow circle up","arrow circle down","caret down","caret up","caret left","caret right","angle double left","angle double right","angle double up","angle double down","angle left","angle right","angle up","angle down","chevron circle left","chevron circle right","chevron circle up","chevron circle down","toggle down","toggle up","toggle right","long arrow down","long arrow up","long arrow left","long arrow right","arrow circle outline right","arrow circle outline left","toggle left"],Sn=["tablet","mobile","battery full","battery high","battery medium","battery low","battery empty"],Tn=["power","trash outline","disk outline","desktop","laptop","game","keyboard","plug"],kn=["trash","file outline","folder","folder open","file text outline","folder outline","folder open outline","level up","level down","file","file text","file pdf outline","file word outline","file excel outline","file powerpoint outline","file image outline","file archive outline","file audio outline","file video outline","file code outline"],On=["qrcode","barcode","rss","fork","html5","css3","rss square","openid","database","server","usb","bluetooth","bluetooth alternative","microchip"],In=["heart","star","empty star","thumbs outline up","thumbs outline down","star half","empty heart","smile","frown","meh","star half empty","thumbs up","thumbs down"],Pn=["music","video play outline","volume off","volume down","volume up","record","step backward","fast backward","backward","play","pause","stop","forward","fast forward","step forward","eject","unmute","mute","video play","closed captioning","pause circle","pause circle outline","stop circle","stop circle outline"],Nn=["marker","coffee","food","building outline","hospital","emergency","first aid","military","h","location arrow","compass","space shuttle","university","building","paw","spoon","car","taxi","tree","bicycle","bus","ship","motorcycle","street view","hotel","train","subway","map pin","map signs","map outline","map"],Mn=["table","columns","sort","sort descending","sort ascending","sort alphabet ascending","sort alphabet descending","sort content ascending","sort content descending","sort numeric ascending","sort numeric descending"],An=["font","bold","italic","text height","text width","align left","align center","align right","align justify","list","outdent","indent","linkify","cut","copy","attach","save","content","unordered list","ordered list","strikethrough","underline","paste","unlinkify","superscript","subscript","header","paragraph","text cursor"],Ln=["euro","pound","dollar","rupee","yen","ruble","won","bitcoin","lira","shekel"],Rn=["paypal","google wallet","visa","mastercard","discover","american express","paypal card","stripe","japan credit bureau","diners club","credit card alternative"],Dn=["twitter square","facebook square","linkedin square","github square","twitter","facebook f","github","pinterest","pinterest square","google plus square","google plus","linkedin","github alternate","maxcdn","youtube square","youtube","xing","xing square","youtube play","dropbox","stack overflow","instagram","flickr","adn","bitbucket","bitbucket square","tumblr","tumblr square","apple","windows","android","linux","dribble","skype","foursquare","trello","gittip","vk","weibo","renren","pagelines","stack exchange","vimeo square","slack","wordpress","yahoo","google","reddit","reddit square","stumbleupon circle","stumbleupon","delicious","digg","pied piper","pied piper alternate","drupal","joomla","behance","behance square","steam","steam square","spotify","deviantart","soundcloud","vine","codepen","jsfiddle","rebel","empire","git square","git","hacker news","tencent weibo","qq","wechat","slideshare","twitch","yelp","lastfm","lastfm square","ioxhost","angellist","meanpath","buysellads","connectdevelop","dashcube","forumbee","leanpub","sellsy","shirtsinbulk","simplybuilt","skyatlas","facebook","pinterest","whatsapp","viacoin","medium","y combinator","optinmonster","opencart","expeditedssl","gg","gg circle","tripadvisor","odnoklassniki","odnoklassniki square","pocket","wikipedia","safari","chrome","firefox","opera","internet explorer","contao","500px","amazon","houzz","vimeo","black tie","fonticons","reddit alien","microsoft edge","codiepie","modx","fort awesome","product hunt","mixcloud","scribd","gitlab","wpbeginner","wpforms","envira gallery","glide","glide g","viadeo","viadeo square","snapchat","snapchat ghost","snapchat square","pied piper hat","first order","yoast","themeisle","google plus circle","font awesome","bandcamp","eercast","etsy","free code camp","grav","imdb","linode","meetup","quora","ravelry","superpowers","telegram","wpexplorer"],zn=[].concat(fn,dn,gn,mn,vn,yn,_n,bn,xn,wn,En,Cn,Sn,Tn,kn,On,In,Pn,Nn,Mn,An,Ln,Rn,Dn),Fn=["like","favorite","video","check","close","cancel","delete","x","zoom in","magnify","shutdown","clock","time","play circle outline","headphone","camera","video camera","picture","pencil","compose","point","tint","signup","plus circle","question circle","dont","minimize","add","exclamation circle","attention","eye","exclamation triangle","shuffle","chat","cart","shopping cart","bar graph","key","cogs","discussions","like outline","dislike outline","heart outline","log out","thumb tack","winner","phone","bookmark outline","phone square","credit card","hdd outline","bullhorn","bell outline","hand outline right","hand outline left","hand outline up","hand outline down","globe","wrench","briefcase","group","linkify","chain","flask","sidebar","bars","list ul","list ol","numbered list","magic","truck","currency","triangle down","dropdown","triangle up","triangle left","triangle right","envelope","conversation","rain","clipboard","lightbulb","bell","ambulance","medkit","fighter jet","beer","plus square","computer","circle outline","gamepad","star half full","broken chain","question","exclamation","eraser","microphone","microphone slash","shield","target","play circle","pencil square","eur","gbp","usd","inr","cny","rmb","jpy","rouble","rub","krw","btc","gratipay","zip","dot circle outline","try","graduation","circle outline","sliders","weixin","tty","teletype","binoculars","power cord","wifi","visa card","mastercard card","discover card","amex","american express card","stripe card","bell slash","bell slash outline","area graph","pie graph","line graph","cc","sheqel","ils","plus cart","arrow down cart","detective","venus","mars","mercury","intersex","venus double","female homosexual","mars double","male homosexual","venus mars","mars stroke","mars alternate","mars vertical","mars stroke vertical","mars horizontal","mars stroke horizontal","asexual","facebook official","user plus","user times","user close","user cancel","user delete","user x","bed","yc","ycombinator","battery four","battery three","battery three quarters","battery two","battery half","battery one","battery quarter","battery zero","i cursor","jcb","japan credit bureau card","diners club card","balance","hourglass outline","hourglass zero","hourglass one","hourglass two","hourglass three","hourglass four","grab","hand victory","tm","r circle","television","five hundred pixels","calendar plus","calendar minus","calendar times","calendar check","factory","commenting","commenting outline","edge","ms edge","wordpress beginner","wordpress forms","envira","question circle outline","assistive listening devices","als","ald","asl interpreting","deaf","american sign language interpreting","hard of hearing","signing","new pied piper","theme isle","google plus official","fa","bathtub","drivers license","drivers license outline","s15","thermometer","times rectangle","times rectangle outline","vcard","vcard outline"],jn=[].concat(ft()(zn),Fn),Bn=["left dropdown"],Un=[].concat(ft()(jn),Bn),Vn=n(28),qn=n.n(Vn),Gn=n(112),Wn=n.n(Gn),Hn={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};Wn()(24,(function(t){return Hn[112+t]="F"+(t+1)})),Wn()(26,(function(t){var e=t+65;Hn[e]=[String.fromCharCode(e+32),String.fromCharCode(e)]}));var Yn={codes:Hn,getCode:function(t){return qn()(t)?t.keyCode||t.which||this[t.key]:this[t]},getName:function(t){var e=qn()(t),n=Hn[e?t.keyCode||t.which:t];return Array.isArray(n)&&(n=e?n[t.shiftKey?1:0]:n[0]),n},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};Yn.Spacebar=Yn[" "],Yn.Digit0=Yn[0],Yn.Digit1=Yn[1],Yn.Digit2=Yn[2],Yn.Digit3=Yn[3],Yn.Digit4=Yn[4],Yn.Digit5=Yn[5],Yn.Digit6=Yn[6],Yn.Digit7=Yn[7],Yn.Digit8=Yn[8],Yn.Digit9=Yn[9],Yn.Tilde=Yn["~"],Yn.GraveAccent=Yn["`"],Yn.ExclamationPoint=Yn["!"],Yn.AtSign=Yn["@"],Yn.PoundSign=Yn["#"],Yn.PercentSign=Yn["%"],Yn.Caret=Yn["^"],Yn.Ampersand=Yn["&"],Yn.PlusSign=Yn["+"],Yn.MinusSign=Yn["-"],Yn.EqualsSign=Yn["="],Yn.DivisionSign=Yn["/"],Yn.MultiplicationSign=Yn["*"],Yn.Comma=Yn[","],Yn.Decimal=Yn["."],Yn.Colon=Yn[":"],Yn.Semicolon=Yn[";"],Yn.Pipe=Yn["|"],Yn.BackSlash=Yn["\\"],Yn.QuestionMark=Yn["?"],Yn.SingleQuote=Yn['"'],Yn.DoubleQuote=Yn['"'],Yn.LeftCurlyBrace=Yn["{"],Yn.RightCurlyBrace=Yn["}"],Yn.LeftParenthesis=Yn["("],Yn.RightParenthesis=Yn[")"],Yn.LeftAngleBracket=Yn["<"],Yn.RightAngleBracket=Yn[">"],Yn.LeftSquareBracket=Yn["["],Yn.RightSquareBracket=Yn["]"];var Xn=Yn,Zn=function(t,e){return"number"==typeof t||"string"==typeof t?t:t[e]},Kn=n(91),$n=n.n(Kn),Jn=(n(338),n(339)),Qn=n.n(Jn).a;function tr(t){var e=t.children,n=t.className,i=t.content,o=t.size,a=Zt()(o,"icons",n),l=ie(tr,t),u=oe(tr,t);return x.a.createElement(u,s()({},l,{className:a}),r.isNil(e)?i:e)}tr.handledProps=["as","children","className","content","size"],tr._meta={name:"IconGroup",parent:"Icon",type:i.TYPES.ELEMENT},tr.propTypes={},tr.defaultProps={as:"i"};var er=tr,nr=function(t){function e(){return u()(this,e),f()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return g()(e,t),p()(e,[{key:"shouldComponentUpdate",value:function(t){return!Qn(this.props,t)}},{key:"getIconAriaOptions",value:function(){var t={};return this.props["aria-label"]||(t["aria-hidden"]="true"),t}},{key:"render",value:function(){var t=this.props,n=t.bordered,r=t.circular,i=t.className,o=t.color,a=t.corner,l=t.disabled,u=t.fitted,c=t.flipped,p=t.inverted,h=t.link,f=t.loading,d=t.name,g=t.rotated,m=t.size,v=Zt()(o,d,m,ot(n,"bordered"),ot(r,"circular"),ot(a,"corner"),ot(l,"disabled"),ot(u,"fitted"),ot(p,"inverted"),ot(h,"link"),ot(f,"loading"),at(c,"flipped"),at(g,"rotated"),"icon",i),y=ie(e,this.props),_=oe(e,this.props),b=this.getIconAriaOptions();return x.a.createElement(_,s()({},y,b,{className:v}))}}]),e}(b.Component);nr.defaultProps={as:"i"},nr._meta={name:"Icon",type:i.TYPES.ELEMENT},nr.Group=er,nr.handledProps=["aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],nr.propTypes={},nr.create=$t(nr,(function(t){return{name:t}}));var rr=nr,ir=n(48),or=n.n(ir),ar=function(t){function e(){return u()(this,e),f()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return g()(e,t),p()(e,[{key:"componentDidMount",value:function(){var t=this.props.innerRef;t&&t(Object(ir.findDOMNode)(this))}},{key:"render",value:function(){var t=this.props.children;return b.Children.only(t)}}]),e}(b.Component);ar._meta={name:"Ref",type:Ie.ADDON},ar.handledProps=["children","innerRef"];var sr=ar;ar.propTypes={};var lr=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleDocumentClick=function(t){var e=r.props,n=e.closeOnDocumentClick,i=e.closeOnRootNodeClick;if(r.rootNode&&r.portalNode&&!ge(r.triggerNode,t)&&!ge(r.portalNode,t)){var o=ge(r.rootNode,t);(n&&!o||i&&o)&&r.close(t)}},r.handleEscape=function(t){r.props.closeOnEscape&&Xn.getCode(t)===Xn.Escape&&r.close(t)},r.handlePortalMouseLeave=function(t){var e=r.props,n=e.closeOnPortalMouseLeave,i=e.mouseLeaveDelay;n&&(r.mouseLeaveTimer=r.closeWithTimeout(t,i))},r.handlePortalMouseEnter=function(){r.props.closeOnPortalMouseLeave&&clearTimeout(r.mouseLeaveTimer)},r.handleTriggerBlur=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=r.props,a=o.trigger,s=o.closeOnTriggerBlur;_.a.apply(void 0,[a,"props.onBlur",t].concat(n));var l=_()(r,"rootNode.contains",t.relatedTarget);s&&!l&&r.close(t)},r.handleTriggerClick=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=r.props,a=o.trigger,s=o.closeOnTriggerClick,l=o.openOnTriggerClick,u=r.state.open;_.a.apply(void 0,[a,"props.onClick",t].concat(n)),u&&s?r.close(t):!u&&l&&r.open(t)},r.handleTriggerFocus=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=r.props,a=o.trigger,s=o.openOnTriggerFocus;_.a.apply(void 0,[a,"props.onFocus",t].concat(n)),s&&r.open(t)},r.handleTriggerMouseLeave=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];clearTimeout(r.mouseEnterTimer);var o=r.props,a=o.trigger,s=o.closeOnTriggerMouseLeave,l=o.mouseLeaveDelay;_.a.apply(void 0,[a,"props.onMouseLeave",t].concat(n)),s&&(r.mouseLeaveTimer=r.closeWithTimeout(t,l))},r.handleTriggerMouseEnter=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];clearTimeout(r.mouseLeaveTimer);var o=r.props,a=o.trigger,s=o.mouseEnterDelay,l=o.openOnTriggerMouseEnter;_.a.apply(void 0,[a,"props.onMouseEnter",t].concat(n)),l&&(r.mouseEnterTimer=r.openWithTimeout(t,s))},r.open=function(t){var e=r.props.onOpen;e&&e(t,r.props),r.trySetState({open:!0})},r.openWithTimeout=function(t,e){var n=s()({},t);return setTimeout((function(){return r.open(n)}),e||0)},r.close=function(t){var e=r.props.onClose;e&&e(t,r.props),r.trySetState({open:!1})},r.closeWithTimeout=function(t,e){var n=s()({},t);return setTimeout((function(){return r.close(n)}),e||0)},r.attachRenderSubTreeSubscribers=function(t){if(!r.rootNode)return null;r.portalNode=r.rootNode.firstElementChild,zt.sub("mouseleave",r.handlePortalMouseLeave,{pool:t,target:r.portalNode}),zt.sub("mouseenter",r.handlePortalMouseEnter,{pool:t,target:r.portalNode})},r.mountPortal=function(){if(wt()&&!r.rootNode){var t=r.props,e=t.eventPool,n=t.mountNode,i=void 0===n?wt()?document.body:null:n,o=t.prepend;r.rootNode=document.createElement("div"),o?i.insertBefore(r.rootNode,i.firstElementChild):i.appendChild(r.rootNode),zt.sub("click",r.handleDocumentClick,{pool:e}),zt.sub("keydown",r.handleEscape,{pool:e}),_()(r.props,"onMount",null,r.props)}},r.unmountPortal=function(){if(wt()&&r.rootNode){var t=r.props.eventPool;or.a.unmountComponentAtNode(r.rootNode),r.rootNode.parentNode.removeChild(r.rootNode),zt.unsub("mouseleave",r.handlePortalMouseLeave,{pool:t,target:r.portalNode}),zt.unsub("mouseenter",r.handlePortalMouseEnter,{pool:t,target:r.portalNode}),r.rootNode=null,r.portalNode=null,zt.unsub("click",r.handleDocumentClick,{pool:t}),zt.unsub("keydown",r.handleEscape,{pool:t}),_()(r.props,"onUnmount",null,r.props)}},r.handleRef=function(t){return r.triggerNode=t},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(t,e){this.renderPortal(),e.open&&!this.state.open&&this.unmountPortal()}},{key:"componentWillUnmount",value:function(){this.unmountPortal(),clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)}},{key:"renderPortal",value:function(){var t=this;if(this.state.open){var e=this.props,n=e.children,r=e.className,i=e.eventPool;if(this.mountPortal(),!wt())return null;this.rootNode.className=r||"",this.portalNode&&(zt.unsub("mouseleave",this.handlePortalMouseLeave,{pool:i,target:this.portalNode}),zt.unsub("mouseenter",this.handlePortalMouseEnter,{pool:i,target:this.portalNode})),or.a.unstable_renderSubtreeIntoContainer(this,b.Children.only(n),this.rootNode,(function(){return t.attachRenderSubTreeSubscribers(i)}))}}},{key:"render",value:function(){var t=this.props.trigger;return t?x.a.createElement(sr,{innerRef:this.handleRef},Object(b.cloneElement)(t,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})):null}}]),e}(F);lr.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},lr.autoControlledProps=["open"],lr._meta={name:"Portal",type:i.TYPES.ADDON},lr.handledProps=["children","className","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnRootNodeClick","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","prepend","trigger"],lr.propTypes={};var ur=lr;function cr(t){var e=t.blurring,n=t.className,i=t.children,o=t.content,a=t.dimmed,l=Zt()(ot(e,"blurring"),ot(a,"dimmed"),"dimmable",n),u=ie(cr,t),c=oe(cr,t);return x.a.createElement(c,s()({},u,{className:l}),r.isNil(i)?o:i)}cr.handledProps=["as","blurring","children","className","content","dimmed"],cr._meta={name:"DimmerDimmable",type:i.TYPES.MODULE,parent:"Dimmer"},cr.propTypes={};var pr=cr,hr=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handlePortalMount=function(){wt()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},r.handlePortalUnmount=function(){wt()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},r.handleClick=function(t){var e=r.props,n=e.onClick,i=e.onClickOutside;n&&n(t,r.props),r.centerRef&&r.centerRef!==t.target&&ge(r.centerRef,t)||i&&i(t,r.props)},r.handleCenterRef=function(t){return r.centerRef=t},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.active,i=t.children,o=t.className,a=t.content,l=t.disabled,u=t.inverted,c=t.page,p=t.simple,h=Zt()("ui",ot(n,"active transition visible"),ot(l,"disabled"),ot(u,"inverted"),ot(c,"page"),ot(p,"simple"),"dimmer",o),f=ie(e,this.props),d=oe(e,this.props),g=r.isNil(i)?a:i,m=x.a.createElement(d,s()({},f,{className:h,onClick:this.handleClick}),g&&x.a.createElement("div",{className:"content"},x.a.createElement("div",{className:"center",ref:this.handleCenterRef},g)));return c?x.a.createElement(ur,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},m):m}}]),e}(b.Component);hr._meta={name:"Dimmer",type:i.TYPES.MODULE},hr.Dimmable=pr,hr.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple"];var fr=hr;function dr(t){var e=t.children,n=t.className,i=t.content,o=t.size,a=Zt()("ui",o,n,"images"),l=ie(dr,t),u=oe(dr,t);return x.a.createElement(u,s()({},l,{className:a}),r.isNil(e)?i:e)}hr.propTypes={},hr.create=$t(hr,(function(t){return{content:t}})),dr.handledProps=["as","children","className","content","size"],dr._meta={name:"ImageGroup",parent:"Image",type:i.TYPES.ELEMENT},dr.propTypes={};var gr=dr,mr=["alt","height","src","srcSet","width"];function vr(t){var e=t.avatar,n=t.bordered,i=t.centered,o=t.children,a=t.circular,l=t.className,u=t.content,c=t.dimmer,p=t.disabled,h=t.floated,f=t.fluid,d=t.hidden,g=t.href,m=t.inline,v=t.label,y=t.rounded,_=t.size,b=t.spaced,w=t.verticalAlign,E=t.wrapped,C=t.ui,S=Zt()(ot(C,"ui"),_,ot(e,"avatar"),ot(n,"bordered"),ot(a,"circular"),ot(i,"centered"),ot(p,"disabled"),ot(f,"fluid"),ot(d,"hidden"),ot(m,"inline"),ot(y,"rounded"),st(b,"spaced"),at(h,"floated"),ct(w),"image",l),T=ie(vr,t),k=ce(T,{htmlProps:mr}),O=B()(k,2),I=O[0],P=O[1],N=oe(vr,t,(function(){if(!(_t()(c)&&_t()(v)&&_t()(E)&&r.isNil(o)))return"div"}));return r.isNil(o)?r.isNil(u)?"img"===N?x.a.createElement(N,s()({},P,I,{className:S})):x.a.createElement(N,s()({},P,{className:S,href:g}),fr.create(c),Cr.create(v),x.a.createElement("img",I)):x.a.createElement(N,s()({},T,{className:S}),u):x.a.createElement(N,s()({},T,{className:S}),o)}vr.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],vr.Group=gr,vr._meta={name:"Image",type:i.TYPES.ELEMENT},vr.propTypes={},vr.defaultProps={as:"img",ui:!0},vr.create=$t(vr,(function(t){return{src:t}}));var yr=vr;function _r(t){var e=t.children,n=t.className,i=t.content,o=Zt()("detail",n),a=ie(_r,t),l=oe(_r,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}_r.handledProps=["as","children","className","content"],_r._meta={name:"LabelDetail",parent:"Label",type:i.TYPES.ELEMENT},_r.propTypes={};var br=_r;function xr(t){var e=t.children,n=t.circular,i=t.className,o=t.color,a=t.content,l=t.size,u=t.tag,c=Zt()("ui",o,l,ot(n,"circular"),ot(u,"tag"),"labels",i),p=ie(xr,t),h=oe(xr,t);return x.a.createElement(h,s()({},p,{className:c}),r.isNil(e)?a:e)}xr.handledProps=["as","children","circular","className","color","content","size","tag"],xr._meta={name:"LabelGroup",parent:"Label",type:i.TYPES.ELEMENT},xr.propTypes={};var wr=xr,Er=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleClick=function(t){var e=r.props.onClick;e&&e(t,r.props)},r.handleIconOverrides=function(t){return{onClick:function(e){_()(t,"onClick",e),_()(r.props,"onRemove",e,r.props)}}},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.active,i=t.attached,o=t.basic,a=t.children,l=t.circular,u=t.className,c=t.color,p=t.content,h=t.corner,f=t.detail,d=t.empty,g=t.floating,m=t.horizontal,v=t.icon,y=t.image,_=t.onRemove,b=t.pointing,w=t.removeIcon,E=t.ribbon,C=t.size,T=t.tag,k=(!0===b?"pointing":("left"===b||"right"===b)&&b+" pointing")||("above"===b||"below"===b)&&"pointing "+b,O=Zt()("ui",c,k,C,ot(n,"active"),ot(o,"basic"),ot(l,"circular"),ot(d,"empty"),ot(g,"floating"),ot(m,"horizontal"),ot(!0===y,"image"),ot(T,"tag"),st(h,"corner"),st(E,"ribbon"),at(i,"attached"),"label",u),I=ie(e,this.props),P=oe(e,this.props);if(!r.isNil(a))return x.a.createElement(P,s()({},I,{className:O,onClick:this.handleClick}),a);var N=S()(w)?"delete":w;return x.a.createElement(P,s()({className:O,onClick:this.handleClick},I),rr.create(v),"boolean"!=typeof y&&yr.create(y),p,Kt(br,(function(t){return{content:t}}),f),_&&rr.create(N,{overrideProps:this.handleIconOverrides}))}}]),e}(b.Component);Er._meta={name:"Label",type:i.TYPES.ELEMENT},Er.Detail=br,Er.Group=wr,Er.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","removeIcon","ribbon","size","tag"];var Cr=Er;function Sr(t){var e=t.children,n=t.className,i=t.content,o=t.hidden,a=t.visible,l=Zt()(ot(a,"visible"),ot(o,"hidden"),"content",n),u=ie(Sr,t),c=oe(Sr,t);return x.a.createElement(c,s()({},u,{className:l}),r.isNil(e)?i:e)}Er.propTypes={},Er.create=$t(Er,(function(t){return{content:t}})),Sr.handledProps=["as","children","className","content","hidden","visible"],Sr._meta={name:"ButtonContent",parent:"Button",type:i.TYPES.ELEMENT},Sr.propTypes={};var Tr=Sr;function kr(t){var e=t.attached,n=t.basic,i=t.buttons,o=t.children,a=t.className,l=t.color,u=t.compact,c=t.content,p=t.floated,h=t.fluid,f=t.icon,d=t.inverted,g=t.labeled,m=t.negative,v=t.positive,y=t.primary,_=t.secondary,b=t.size,w=t.toggle,E=t.vertical,C=t.widths,S=Zt()("ui",l,b,ot(n,"basic"),ot(u,"compact"),ot(h,"fluid"),ot(f,"icon"),ot(d,"inverted"),ot(g,"labeled"),ot(m,"negative"),ot(v,"positive"),ot(y,"primary"),ot(_,"secondary"),ot(w,"toggle"),ot(E,"vertical"),st(e,"attached"),at(p,"floated"),pt(C),"buttons",a),T=ie(kr,t),k=oe(kr,t);return _t()(i)?x.a.createElement(k,s()({},T,{className:S}),r.isNil(o)?c:o):x.a.createElement(k,s()({},T,{className:S}),Ze()(i,(function(t){return Mr.create(t)})))}kr.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],kr._meta={name:"ButtonGroup",parent:"Button",type:i.TYPES.ELEMENT},kr.propTypes={};var Or=kr;function Ir(t){var e=t.className,n=t.text,r=Zt()("or",e),i=ie(Ir,t),o=oe(Ir,t);return x.a.createElement(o,s()({},i,{className:r,"data-text":n}))}Ir.handledProps=["as","className","text"],Ir._meta={name:"ButtonOr",parent:"Button",type:i.TYPES.ELEMENT},Ir.propTypes={};var Pr=Ir,Nr=function(t){function e(){var t,n,i,o;u()(this,e);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=i=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.computeElementType=function(){var t=i.props,e=t.attached,n=t.label;if(!_t()(e)||!_t()(n))return"div"},i.computeTabIndex=function(t){var e=i.props,n=e.disabled,r=e.tabIndex;return _t()(r)?n?-1:"div"===t?0:void 0:r},i.focus=function(){return _()(i.ref,"focus")},i.handleClick=function(t){i.props.disabled?t.preventDefault():_()(i.props,"onClick",t,i.props)},i.handleRef=function(t){return i.ref=t},i.hasIconClass=function(){var t=i.props,e=t.labelPosition,n=t.children,o=t.content,a=t.icon;return!0===a||a&&(e||r.isNil(n)&&_t()(o))},o=n,f()(i,o)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.active,i=t.animated,o=t.attached,a=t.basic,l=t.children,u=t.circular,c=t.className,p=t.color,h=t.compact,f=t.content,d=t.disabled,g=t.floated,m=t.fluid,v=t.icon,y=t.inverted,_=t.label,b=t.labelPosition,w=t.loading,E=t.negative,C=t.positive,S=t.primary,T=t.secondary,k=t.size,O=t.toggle,I=Zt()(p,k,ot(n,"active"),ot(a,"basic"),ot(u,"circular"),ot(h,"compact"),ot(m,"fluid"),ot(this.hasIconClass(),"icon"),ot(y,"inverted"),ot(w,"loading"),ot(E,"negative"),ot(C,"positive"),ot(S,"primary"),ot(T,"secondary"),ot(O,"toggle"),st(i,"animated"),st(o,"attached")),P=Zt()(st(b||!!_,"labeled")),N=Zt()(ot(d,"disabled"),at(g,"floated")),M=ie(e,this.props),A=oe(e,this.props,this.computeElementType),L=this.computeTabIndex(A);if(!_t()(_)){var R=Zt()("ui",I,"button",c),D=Zt()("ui",P,"button",c,N),z=Cr.create(_,{defaultProps:{basic:!0,pointing:"left"===b?"right":"left"}});return x.a.createElement(A,s()({},M,{className:D,onClick:this.handleClick}),"left"===b&&z,x.a.createElement("button",{className:R,disabled:d,ref:this.handleRef,tabIndex:L},rr.create(v)," ",f),("right"===b||!b)&&z)}var F=Zt()("ui",I,N,P,"button",c),j=!r.isNil(l);return x.a.createElement(A,s()({},M,{className:F,disabled:d&&"button"===A||void 0,onClick:this.handleClick,ref:this.handleRef,role:"button",tabIndex:L}),j&&l,!j&&rr.create(v),!j&&f)}}]),e}(b.Component);Nr.defaultProps={as:"button"},Nr._meta={name:"Button",type:i.TYPES.ELEMENT},Nr.Content=Tr,Nr.Group=Or,Nr.Or=Pr,Nr.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","secondary","size","tabIndex","toggle"],Nr.propTypes={},Nr.create=$t(Nr,(function(t){return{content:t}}));var Mr=Nr,Ar=n(109),Lr=n.n(Ar),Rr=n(65),Dr=n.n(Rr),zr=function(t){var e=t.node;if(wt())return _t()(e)?document.body:e},Fr=n(340),jr=n.n(Fr),Br=n(341),Ur=n.n(Br),Vr=n(342),qr=n.n(Vr),Gr=n(343),Wr=n.n(Gr),Hr=n(344),Yr=n.n(Hr),Xr=n(345),Zr=n.n(Xr),Kr=vt()(Zr.a,gt()("props.className"),Yr()(Wr()(/\s+/)),qr()(Ur.a),jr.a),$r=function(t,e){return[E()(e,t),E()(t,e)]},Jr=new Map,Qr=function(t,e){var n=Kr(e),r=$r(Jr.get(t),n),i=B()(r,2),o=i[0],a=i[1];V()(o,(function(e){return t.classList.add(e)})),V()(a,(function(e){return t.classList.remove(e)})),Jr.set(t,n)},ti=new function t(){var e=this;u()(this,t),this.add=function(t,n){e.nodes.has(t)?e.nodes.get(t).add(n):e.nodes.set(t,new Set([n]))},this.del=function(t,n){if(e.nodes.has(t)){var r=e.nodes.get(t);1!==r.size?r.delete(n):e.nodes.delete(t)}},this.emit=function(t,n){n(t,e.nodes.get(t))},this.nodes=new Map},ei=function(t){function e(){return u()(this,e),f()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return g()(e,t),p()(e,[{key:"shouldComponentUpdate",value:function(t){return t.className!==this.props.className}},{key:"componentWillMount",value:function(){var t=zr(this.props);t&&(ti.add(t,this),ti.emit(t,Qr))}},{key:"componentDidUpdate",value:function(){var t=zr(this.props);t&&ti.emit(t,Qr)}},{key:"componentWillUnmount",value:function(){var t=zr(this.props);t&&(ti.del(t,this),ti.emit(t,Qr))}},{key:"render",value:function(){return null}}]),e}(b.Component);ei._meta={name:"MountNode",type:i.TYPES.ADDON},ei.handledProps=["className","node"];var ni=ei;function ri(t){var e=t.children,n=t.className,i=t.content,o=Zt()(n,"header"),a=ie(ri,t),l=oe(ri,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}ei.propTypes={},ri.handledProps=["as","children","className","content"],ri._meta={name:"ModalHeader",type:i.TYPES.MODULE,parent:"Modal"},ri.propTypes={},ri.create=$t(ri,(function(t){return{content:t}}));var ii=ri;function oi(t){var e=t.children,n=t.className,i=t.content,o=t.image,a=t.scrolling,l=Zt()(n,ot(o,"image"),ot(a,"scrolling"),"content"),u=ie(oi,t),c=oe(oi,t);return x.a.createElement(c,s()({},u,{className:l}),r.isNil(e)?i:e)}oi.handledProps=["as","children","className","content","image","scrolling"],oi._meta={name:"ModalContent",type:i.TYPES.MODULE,parent:"Modal"},oi.propTypes={},oi.create=$t(oi,(function(t){return{content:t}}));var ai=oi,si=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleButtonOverrides=function(t){return{onClick:function(e,n){_()(t,"onClick",e,n),_()(r.props,"onActionClick",e,n)}}},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this,n=this.props,i=n.actions,o=n.children,a=n.className,l=n.content,u=Zt()("actions",a),c=ie(e,this.props),p=oe(e,this.props);return r.isNil(o)?r.isNil(l)?x.a.createElement(p,s()({},c,{className:u}),Ze()(i,(function(e){return Mr.create(e,{overrideProps:t.handleButtonOverrides})}))):x.a.createElement(p,s()({},c,{className:u}),l):x.a.createElement(p,s()({},c,{className:u}),o)}}]),e}(b.Component);si._meta={name:"ModalActions",type:i.TYPES.MODULE,parent:"Modal"},si.handledProps=["actions","as","children","className","content","onActionClick"];var li=si;function ui(t){var e=t.children,n=t.className,i=t.content,o=Zt()("description",n),a=ie(ui,t),l=oe(ui,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}si.propTypes={},si.create=$t(si,(function(t){return{actions:t}})),ui.handledProps=["as","children","className","content"],ui._meta={name:"ModalDescription",type:i.TYPES.MODULE,parent:"Modal"},ui.propTypes={};var ci=ui,pi=function(t){function e(){var t,n,i,o;u()(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.getMountNode=function(){return wt()?i.props.mountNode||document.body:null},i.handleActionsOverrides=function(t){return{onActionClick:function(e,n){_()(t,"onActionClick",e,n),_()(i.props,"onActionClick",e,i.props),i.handleClose(e)}}},i.handleClose=function(t){_()(i.props,"onClose",t,i.props),i.trySetState({open:!1})},i.handleIconOverrides=function(t){return{onClick:function(e){_()(t,"onClick",e),i.handleClose(e)}}},i.handleOpen=function(t){_()(i.props,"onOpen",t,i.props),i.trySetState({open:!0})},i.handlePortalMount=function(t){i.setState({scrolling:!1}),i.setPositionAndClassNames(),_()(i.props,"onMount",t,i.props)},i.handlePortalUnmount=function(t){cancelAnimationFrame(i.animationRequestId),_()(i.props,"onUnmount",t,i.props)},i.handleRef=function(t){return i.ref=t},i.setPositionAndClassNames=function(){var t=i.props.dimmer,e=void 0;t&&(e="dimmable dimmed","blurring"===t&&(e+=" blurring"));var n={};if(i.ref){var r=i.ref.getBoundingClientRect().height,o=-Math.round(r/2),a=r>=window.innerHeight;i.state.marginTop!==o&&(n.marginTop=o),i.state.scrolling!==a&&(n.scrolling=a),a&&(e+=" scrolling")}i.state.mountClasses!==e&&(n.mountClasses=e),I()(n)||i.setState(n),i.animationRequestId=requestAnimationFrame(i.setPositionAndClassNames)},i.renderContent=function(t){var n=i.props,o=n.actions,a=n.basic,l=n.children,u=n.className,c=n.closeIcon,p=n.content,h=n.header,f=n.mountNode,d=n.size,g=n.style,m=i.state,v=m.marginTop,y=m.mountClasses,_=m.scrolling,b=Zt()("ui",d,ot(a,"basic"),ot(_,"scrolling"),"modal transition visible active",u),w=oe(e,i.props),E=!0===c?"close":c,C=rr.create(E,{overrideProps:i.handleIconOverrides});return r.isNil(l)?x.a.createElement(sr,{innerRef:i.handleRef},x.a.createElement(w,s()({},t,{className:b,style:s()({marginTop:v},g)}),x.a.createElement(ni,{className:y,node:f}),C,ii.create(h),ai.create(p),li.create(o,{overrideProps:i.handleActionsOverrides}))):x.a.createElement(sr,{innerRef:i.handleRef},x.a.createElement(w,s()({},t,{className:b,style:s()({marginTop:v},g)}),x.a.createElement(ni,{className:y,node:f}),C,l))},o=n,f()(i,o)}return g()(e,t),p()(e,[{key:"componentWillUnmount",value:function(){this.handlePortalUnmount()}},{key:"render",value:function(){var t=this.state.open,n=this.props,r=n.closeOnDimmerClick,i=n.closeOnDocumentClick,o=n.dimmer,a=n.eventPool,l=n.trigger,u=this.getMountNode();if(!wt())return Object(b.isValidElement)(l)?l:null;var c=ie(e,this.props),p=ur.handledProps,h=Dr()(c,(function(t,e,n){return se()(p,n)||(t[n]=e),t}),{}),f=Lr()(c,p),d=o?Zt()("ui","inverted"===o&&"inverted","page modals dimmer transition visible active"):null;return x.a.createElement(ur,s()({closeOnDocumentClick:i,closeOnRootNodeClick:r},f,{trigger:l,className:d,eventPool:a,mountNode:u,open:t,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),this.renderContent(h))}}]),e}(F);pi.defaultProps={dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"},pi.autoControlledProps=["open"],pi._meta={name:"Modal",type:i.TYPES.MODULE},pi.Header=ii,pi.Content=ai,pi.Description=ci,pi.Actions=li,pi.handledProps=["actions","as","basic","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"],pi.propTypes={};var hi=pi,fi=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleCancel=function(t){_()(r.props,"onCancel",t,r.props)},r.handleCancelOverrides=function(t){return{onClick:function(e,n){_()(t,"onClick",e,n),r.handleCancel(e)}}},r.handleConfirmOverrides=function(t){return{onClick:function(e,n){_()(t,"onClick",e,n),_()(r.props,"onConfirm",e,r.props)}}},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.cancelButton,r=t.confirmButton,i=t.content,o=t.header,a=t.open,l=t.size,u=ie(e,this.props),c={};return v()(this.props,"open")&&(c.open=a),x.a.createElement(hi,s()({},u,c,{size:l,onClose:this.handleCancel}),hi.Header.create(o),hi.Content.create(i),x.a.createElement(hi.Actions,null,Mr.create(n,{overrideProps:this.handleCancelOverrides}),Mr.create(r,{defaultProps:{primary:!0},overrideProps:this.handleConfirmOverrides})))}}]),e}(b.Component);fi.defaultProps={cancelButton:"Cancel",confirmButton:"OK",content:"Are you sure?",size:"small"},fi._meta={name:"Confirm",type:i.TYPES.ADDON},fi.handledProps=["cancelButton","confirmButton","content","header","onCancel","onConfirm","open","size"],fi.propTypes={};var di=fi;function gi(t){var e=t.children,n=t.className,i=t.content,o=Zt()("header",n),a=ie(gi,t),l=oe(gi,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}gi.handledProps=["as","children","className","content"],gi._meta={name:"MenuHeader",type:i.TYPES.COLLECTION,parent:"Menu"},gi.propTypes={};var mi=gi,vi=n(346),yi=n.n(vi),_i=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleClick=function(t){r.props.disabled||_()(r.props,"onClick",t,r.props)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.active,i=t.children,o=t.className,a=t.color,l=t.content,u=t.disabled,c=t.fitted,p=t.header,h=t.icon,f=t.link,d=t.name,g=t.onClick,m=t.position,v=Zt()(a,m,ot(n,"active"),ot(u,"disabled"),ot(!0===h||h&&!(d||l),"icon"),ot(p,"header"),ot(f,"link"),st(c,"fitted"),"item",o),y=oe(e,this.props,(function(){if(g)return"a"})),_=ie(e,this.props);return r.isNil(i)?x.a.createElement(y,s()({},_,{className:v,onClick:this.handleClick}),rr.create(h),r.isNil(l)?yi()(d):l):x.a.createElement(y,s()({},_,{className:v,onClick:this.handleClick}),i)}}]),e}(b.Component);_i._meta={name:"MenuItem",type:i.TYPES.COLLECTION,parent:"Menu"},_i.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"];var bi=_i;function xi(t){var e=t.children,n=t.className,i=t.content,o=t.position,a=Zt()(o,"menu",n),l=ie(xi,t),u=oe(xi,t);return x.a.createElement(u,s()({},l,{className:a}),r.isNil(e)?i:e)}_i.propTypes={},_i.create=$t(_i,(function(t){return{content:t,name:t}})),xi.handledProps=["as","children","className","content","position"],xi._meta={name:"MenuMenu",type:i.TYPES.COLLECTION,parent:"Menu"},xi.propTypes={};var wi=xi,Ei=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleItemOverrides=function(t){return{onClick:function(e,n){var i=n.index;r.trySetState({activeIndex:i}),_()(t,"onClick",e,n),_()(r.props,"onItemClick",e,n)}}},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"renderItems",value:function(){var t=this,e=this.props.items,n=this.state.activeIndex;return Ze()(e,(function(e,r){return bi.create(e,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:t.handleItemOverrides})}))}},{key:"render",value:function(){var t=this.props,n=t.attached,i=t.borderless,o=t.children,a=t.className,l=t.color,u=t.compact,c=t.fixed,p=t.floated,h=t.fluid,f=t.icon,d=t.inverted,g=t.pagination,m=t.pointing,v=t.secondary,y=t.size,_=t.stackable,b=t.tabular,w=t.text,E=t.vertical,C=t.widths,S=Zt()("ui",l,y,ot(i,"borderless"),ot(u,"compact"),ot(h,"fluid"),ot(d,"inverted"),ot(g,"pagination"),ot(m,"pointing"),ot(v,"secondary"),ot(_,"stackable"),ot(w,"text"),ot(E,"vertical"),st(n,"attached"),st(p,"floated"),st(f,"icon"),st(b,"tabular"),at(c,"fixed"),pt(C,"item"),a,"menu"),T=ie(e,this.props),k=oe(e,this.props);return x.a.createElement(k,s()({},T,{className:S}),r.isNil(o)?this.renderItems():o)}}]),e}(F);Ei._meta={name:"Menu",type:i.TYPES.COLLECTION},Ei.autoControlledProps=["activeIndex"],Ei.Header=mi,Ei.Item=bi,Ei.Menu=wi,Ei.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],Ei.propTypes={},Ei.create=$t(Ei,(function(t){return{items:t}}));var Ci=Ei,Si=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleClick=function(t){"ellipsisItem"!==r.props.type&&_()(r.props,"onClick",t,r.props)},r.handleKeyDown=function(t){_()(r.props,"onKeyDown",t,r.props),Xn.getCode(t)===Xn.Enter&&_()(r.props,"onClick",t,r.props)},r.handleOverrides=function(){return{onClick:r.handleClick,onKeyDown:r.handleKeyDown}},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,e=t.active,n=t.type,r=this.props.disabled||"ellipsisItem"===n;return bi.create(this.props,{defaultProps:{active:e,disabled:r,"aria-current":e,onClick:this.handleClick,onKeyDown:this.handleKeyDown,tabIndex:r?-1:0},overrideProps:this.handleOverrides})}}]),e}(b.Component);Si._meta={name:"PaginationItem",parent:"Pagination",type:i.TYPES.ADDON},Si.handledProps=["active","disabled","onClick","onKeyDown","type"],Si.propTypes={},Si.create=$t(Si,(function(t){return{content:t}}));var Ti=Si,ki=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleItemClick=function(t,e){var n=e.value;+r.state.activePage!=+n&&(r.trySetState({activePage:n}),_()(r.props,"onPageChange",t,s()({},r.props,{activePage:n})))},r.handleItemOverrides=function(t,e,n){return function(i){return{active:t,type:e,key:e+"-"+n,onClick:function(t,e){_()(i,"onClick",t,e),r.handleItemClick(t,e)}}}},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this,n=this.props,r=n["aria-label"],i=n.boundaryRange,o=n.siblingRange,a=n.totalPages,l=this.state.activePage,u=Qe({activePage:l,boundaryRange:i,siblingRange:o,totalPages:a}),c=ie(e,this.props);return x.a.createElement(Ci,s()({},c,{"aria-label":r,pagination:!0,role:"navigation"}),Ze()(u,(function(e){var n=e.active,r=e.type,i=e.value;return Ti.create(t.props[r],{defaultProps:{content:i,value:i},overrideProps:t.handleItemOverrides(n,r,i)})})))}}]),e}(F);ki.autoControlledProps=["activePage"],ki.defaultProps={"aria-label":"Pagination Navigation",boundaryRange:1,ellipsisItem:"...",firstItem:{"aria-label":"First item",content:"«"},lastItem:{"aria-label":"Last item",content:"»"},nextItem:{"aria-label":"Next item",content:"⟩"},pageItem:{},prevItem:{"aria-label":"Previous item",content:"⟨"},siblingRange:1},ki._meta={name:"Pagination",type:i.TYPES.ADDON},ki.Item=Ti,ki.handledProps=["activePage","aria-label","boundaryRange","defaultActivePage","ellipsisItem","firstItem","lastItem","nextItem","onPageChange","pageItem","prevItem","siblingRange","totalPages"];var Oi=ki;ki.propTypes={};var Ii=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.canToggle=function(){var t=r.props,e=t.disabled,n=t.radio,i=t.readOnly,o=r.state.checked;return!(e||i||n&&o)},r.computeTabIndex=function(){var t=r.props,e=t.disabled,n=t.tabIndex;return _t()(n)?e?-1:0:n},r.handleContainerClick=function(t){var e=r.props.id;_t()(e)&&r.handleClick(t)},r.handleInputClick=function(t){r.props.id&&r.handleClick(t)},r.handleInputRef=function(t){return r.inputRef=t},r.handleClick=function(t){var e=r.state,n=e.checked,i=e.indeterminate;r.canToggle()&&(_()(r.props,"onClick",t,s()({},r.props,{checked:!n,indeterminate:!!i})),_()(r.props,"onChange",t,s()({},r.props,{checked:!n,indeterminate:!1})),r.trySetState({checked:!n,indeterminate:!1}))},r.handleMouseDown=function(t){var e=r.state,n=e.checked,i=e.indeterminate;_()(r.props,"onMouseDown",t,s()({},r.props,{checked:!!n,indeterminate:!!i})),_()(r.inputRef,"focus"),t.preventDefault()},r.setIndeterminate=function(){var t=r.state.indeterminate;r.inputRef&&(r.inputRef.indeterminate=!!t)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"componentDidMount",value:function(){this.setIndeterminate()}},{key:"componentDidUpdate",value:function(){this.setIndeterminate()}},{key:"render",value:function(){var t=this.props,n=t.className,r=t.disabled,i=t.label,o=t.id,a=t.name,l=t.radio,u=t.readOnly,c=t.slider,p=t.toggle,h=t.type,f=t.value,d=this.state,g=d.checked,m=d.indeterminate,v=Zt()("ui",ot(g,"checked"),ot(r,"disabled"),ot(m,"indeterminate"),ot(_t()(i),"fitted"),ot(l,"radio"),ot(u,"read-only"),ot(c,"slider"),ot(p,"toggle"),"checkbox",n),y=ie(e,this.props),_=oe(e,this.props),b=ce(y,{htmlProps:le}),w=B()(b,2),E=w[0],C=w[1];return x.a.createElement(_,s()({},C,{className:v,onClick:this.handleContainerClick,onChange:this.handleContainerClick,onMouseDown:this.handleMouseDown}),x.a.createElement("input",s()({},E,{checked:g,className:"hidden",id:o,name:a,onClick:this.handleInputClick,readOnly:!0,ref:this.handleInputRef,tabIndex:this.computeTabIndex(),type:h,value:f})),ne(i,{defaultProps:{htmlFor:o}})||x.a.createElement("label",{htmlFor:o}))}}]),e}(F);Ii.defaultProps={type:"checkbox"},Ii.autoControlledProps=["checked","indeterminate"],Ii._meta={name:"Checkbox",type:i.TYPES.MODULE},Ii.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","radio","readOnly","slider","tabIndex","toggle","type","value"];var Pi=Ii;function Ni(t){var e=t.slider,n=t.toggle,r=t.type,i=ie(Ni,t),o=!(e||n)||void 0;return x.a.createElement(Pi,s()({},i,{type:r,radio:o,slider:e,toggle:n}))}Ii.propTypes={},Ni.handledProps=["slider","toggle","type"],Ni._meta={name:"Radio",type:i.TYPES.ADDON},Ni.propTypes={},Ni.defaultProps={type:"radio"};var Mi=Ni,Ai=function(t){function e(){var t;u()(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r)));return Li.call(o),o.state={width:wt()?document.documentElement.clientWidth:0},o}return g()(e,t),p()(e,[{key:"componentDidMount",value:function(){var t=this.props.fireOnMount;this.mounted=!0,zt.sub("resize",this.handleResize,{target:"window"}),t&&this.handleUpdate()}},{key:"componentWillUnmount",value:function(){this.mounted=!1,zt.unsub("resize",this.handleResize,{target:"window"})}},{key:"render",value:function(){var t=this.props.children,n=oe(e,this.props),r=ie(e,this.props);return this.isVisible()?x.a.createElement(n,r,t):null}}]),e}(b.Component);Ai._meta={name:"Responsive",type:i.TYPES.ADDON},Ai.onlyMobile={minWidth:320,maxWidth:767},Ai.onlyTablet={minWidth:768,maxWidth:991},Ai.onlyComputer={minWidth:992},Ai.onlyLargeScreen={minWidth:1200,maxWidth:1919},Ai.onlyWidescreen={minWidth:1920},Ai.handledProps=["as","children","fireOnMount","maxWidth","minWidth","onUpdate"];var Li=function(){var t=this;this.fitsMaxWidth=function(){var e=t.props.maxWidth,n=t.state.width;return!!_t()(e)||n<=e},this.fitsMinWidth=function(){var e=t.props.minWidth,n=t.state.width;return!!_t()(e)||n>=e},this.setSafeState=function(){return t.mounted&&t.setState.apply(t,arguments)},this.isVisible=function(){return t.fitsMinWidth()&&t.fitsMaxWidth()},this.handleResize=function(e){t.ticking||(t.ticking=!0,requestAnimationFrame((function(){return t.handleUpdate(e)})))},this.handleUpdate=function(e){t.ticking=!1;var n=document.documentElement.clientWidth;t.setSafeState({width:n}),_()(t.props,"onUpdate",e,s()({},t.props,{width:n}))}},Ri=Ai;Ai.propTypes={};var Di=n(232),zi=n.n(Di),Fi=n(167),ji=n.n(Fi),Bi=n(224),Ui=n.n(Bi),Vi=n(347),qi=n.n(Vi),Gi=n(223),Wi=n.n(Gi),Hi=n(348),Yi=n.n(Hi),Xi=n(166),Zi=n.n(Xi),Ki=n(349),$i=n.n(Ki),Ji=n(233),Qi=n.n(Ji),to=n(234),eo=n.n(to);function no(t){var e=t.className,n=Zt()("divider",e),r=ie(no,t),i=oe(no,t);return x.a.createElement(i,s()({},r,{className:n}))}no.handledProps=["as","className"],no._meta={name:"DropdownDivider",parent:"Dropdown",type:i.TYPES.MODULE},no.propTypes={};var ro=no,io=function(t){function e(){return u()(this,e),f()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return g()(e,t),p()(e,[{key:"shouldComponentUpdate",value:function(t){return!Qn(this.props,t)}},{key:"render",value:function(){var t=this.props,n=t.className,r=t.name,i=Zt()(r,"flag",n),o=ie(e,this.props),a=oe(e,this.props);return x.a.createElement(a,s()({},o,{className:i}))}}]),e}(b.Component);io.defaultProps={as:"i"},io._meta={name:"Flag",type:i.TYPES.ELEMENT},io.handledProps=["as","className","name"],io.propTypes={},io.create=$t(io,(function(t){return{name:t}}));var oo=io,ao=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleClick=function(t){var e=r.props.onClick;e&&e(t,r.props)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.active,i=t.children,o=t.className,a=t.content,l=t.disabled,u=t.description,c=t.flag,p=t.icon,h=t.image,f=t.label,d=t.selected,g=t.text,m=Zt()(ot(n,"active"),ot(l,"disabled"),ot(d,"selected"),"item",o),v=_t()(p)?r.someByType(i,"DropdownMenu")&&"dropdown":p,y=ie(e,this.props),_=oe(e,this.props),b={role:"option","aria-disabled":l,"aria-checked":n,"aria-selected":d};if(!r.isNil(i))return x.a.createElement(_,s()({},y,b,{className:m,onClick:this.handleClick}),i);var w=oo.create(c),E=rr.create(v),C=yr.create(h),S=Cr.create(f),T=Kt("span",(function(t){return{children:t}}),u,{defaultProps:{className:"description"}}),k=Kt("span",(function(t){return{children:t}}),r.isNil(a)?g:a,{defaultProps:{className:"text"}});return x.a.createElement(_,s()({},y,b,{className:m,onClick:this.handleClick}),C,E,w,S,T,k)}}]),e}(b.Component);ao._meta={name:"DropdownItem",parent:"Dropdown",type:i.TYPES.MODULE},ao.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],ao.propTypes={},ao.create=$t(ao,(function(t){return t}));var so=ao;function lo(t){var e=t.children,n=t.className,i=t.content,o=t.icon,a=Zt()("header",n),l=ie(lo,t),u=oe(lo,t);return r.isNil(e)?x.a.createElement(u,s()({},l,{className:a}),rr.create(o),i):x.a.createElement(u,s()({},l,{className:a}),e)}lo.handledProps=["as","children","className","content","icon"],lo._meta={name:"DropdownHeader",parent:"Dropdown",type:i.TYPES.MODULE},lo.propTypes={},lo.create=$t(lo,(function(t){return{content:t}}));var uo=lo;function co(t){var e=t.children,n=t.className,i=t.content,o=t.direction,a=t.open,l=t.scrolling,u=Zt()(o,ot(a,"visible"),ot(l,"scrolling"),"menu transition",n),c=ie(co,t),p=oe(co,t);return x.a.createElement(p,s()({},c,{className:u}),r.isNil(e)?i:e)}co.handledProps=["as","children","className","content","direction","open","scrolling"],co._meta={name:"DropdownMenu",parent:"Dropdown",type:i.TYPES.MODULE},co.propTypes={};var po=co,ho=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleChange=function(t){var e=Ot()(t,"target.value");_()(r.props,"onChange",t,s()({},r.props,{value:e}))},r.handleRef=function(t){return _()(r.props,"inputRef",t)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.className,r=t.tabIndex,i=t.type,o=t.value,a=Zt()("search",n),l=ie(e,this.props);return x.a.createElement("input",s()({},l,{"aria-autocomplete":"list",autoComplete:"off",className:a,onChange:this.handleChange,ref:this.handleRef,tabIndex:r,type:i,value:o}))}}]),e}(b.Component);ho.defaultProps={type:"text"},ho._meta={name:"DropdownSearchInput",parent:"Dropdown",type:i.TYPES.MODULE},ho.handledProps=["as","className","inputRef","tabIndex","type","value"],ho.propTypes={},ho.create=$t(ho,(function(t){return{type:t}}));var fo=ho,go=function(t,e){return _t()(t)?e:t},mo=function(t){function e(){var t,n,i,o;u()(this,e);for(var a=arguments.length,l=Array(a),c=0;c<a;c++)l[c]=arguments[c];return n=i=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),i.handleChange=function(t,e){_()(i.props,"onChange",t,s()({},i.props,{value:e}))},i.closeOnChange=function(t){var e=i.props,n=e.closeOnChange,r=e.multiple;(S()(n)?!r:n)&&i.close(t)},i.closeOnEscape=function(t){Xn.getCode(t)===Xn.Escape&&(t.preventDefault(),i.close())},i.moveSelectionOnKeyDown=function(t){var e,n=i.props,r=n.multiple,o=n.selectOnNavigation,a=(e={},zi()(e,Xn.ArrowDown,1),zi()(e,Xn.ArrowUp,-1),e)[Xn.getCode(t)];void 0!==a&&(t.preventDefault(),i.moveSelectionBy(a),!r&&o&&i.makeSelectedItemActive(t))},i.openOnSpace=function(t){Xn.getCode(t)===Xn.Spacebar&&(i.state.open||(t.preventDefault(),i.open(t)))},i.openOnArrow=function(t){var e=Xn.getCode(t);se()([Xn.ArrowDown,Xn.ArrowUp],e)&&(i.state.open||(t.preventDefault(),i.open(t)))},i.makeSelectedItemActive=function(t){var e=i.state.open,n=i.props.multiple,r=i.getSelectedItem(),o=Ot()(r,"value");if(!_t()(o)&&e){var a=n?eo()(i.state.value,[o]):o;i.setValue(a),i.setSelectedIndex(a),i.handleChange(t,a),r["data-additional"]&&_()(i.props,"onAddItem",t,s()({},i.props,{value:o}))}},i.selectItemOnEnter=function(t){var e=i.props.search;if(Xn.getCode(t)===Xn.Enter){t.preventDefault();var n=Qi()(i.getMenuOptions());e&&0===n||(i.makeSelectedItemActive(t),i.closeOnChange(t),i.clearSearchQuery(),e&&i.searchRef&&i.searchRef.focus())}},i.removeItemOnBackspace=function(t){var e=i.props,n=e.multiple,r=e.search,o=i.state,a=o.searchQuery,s=o.value;if(Xn.getCode(t)===Xn.Backspace&&!a&&r&&n&&!I()(s)){t.preventDefault();var l=$i()(s);i.setValue(l),i.setSelectedIndex(l),i.handleChange(t,l)}},i.closeOnDocumentClick=function(t){i.props.closeOnBlur&&(i.ref&&ge(i.ref,t)||i.close())},i.attachHandlersOnOpen=function(){zt.sub("keydown",[i.closeOnEscape,i.moveSelectionOnKeyDown,i.selectItemOnEnter,i.removeItemOnBackspace]),zt.sub("click",i.closeOnDocumentClick),zt.unsub("keydown",[i.openOnArrow,i.openOnSpace])},i.handleMouseDown=function(t){i.isMouseDown=!0,zt.sub("mouseup",i.handleDocumentMouseUp),_()(i.props,"onMouseDown",t,i.props)},i.handleDocumentMouseUp=function(){i.isMouseDown=!1,zt.unsub("mouseup",i.handleDocumentMouseUp)},i.handleClick=function(t){var e=i.props,n=e.minCharacters,r=e.search,o=i.state,a=o.open,s=o.searchQuery;if(_()(i.props,"onClick",t,i.props),t.stopPropagation(),!r)return i.toggle(t);a||(s.length>=n||1===n?i.open(t):i.searchRef&&i.searchRef.focus())},i.handleIconClick=function(t){_()(i.props,"onClick",t,i.props),t.stopPropagation(),i.toggle(t)},i.handleItemClick=function(t,e){var n=i.props,r=n.multiple,o=n.search,a=e.value;if(t.stopPropagation(),(r||e.disabled)&&t.nativeEvent.stopImmediatePropagation(),!e.disabled){var l=e["data-additional"],u=r?eo()(i.state.value,[a]):a;i.setValue(u),i.setSelectedIndex(a);var c=Qi()(i.getMenuOptions());r&&!l&&1!==c||i.clearSearchQuery(),i.handleChange(t,u),i.closeOnChange(t),l&&_()(i.props,"onAddItem",t,s()({},i.props,{value:a})),r&&o&&i.searchRef&&i.searchRef.focus()}},i.handleFocus=function(t){i.state.focus||(_()(i.props,"onFocus",t,i.props),i.setState({focus:!0}))},i.handleBlur=function(t){var e=Ot()(t,"currentTarget");if(!e||!e.contains(document.activeElement)){var n=i.props,r=n.closeOnBlur,o=n.multiple,a=n.onBlur,s=n.selectOnBlur;i.isMouseDown||(a&&a(t,i.props),s&&!o&&(i.makeSelectedItemActive(t),r&&i.close()),i.setState({focus:!1}),i.clearSearchQuery())}},i.handleSearchChange=function(t,e){var n=e.value;t.stopPropagation();var r=i.props.minCharacters,o=i.state.open,a=n;_()(i.props,"onSearchChange",t,s()({},i.props,{searchQuery:a})),i.trySetState({searchQuery:a},{selectedIndex:0}),!o&&a.length>=r?i.open():o&&1!==r&&a.length<r&&i.close()},i.getMenuOptions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.state.value,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.props.options,n=i.props,r=n.additionLabel,o=n.additionPosition,a=n.allowAdditions,s=n.deburr,l=n.multiple,u=n.search,c=i.state.searchQuery,p=e;if(l&&(p=k()(p,(function(e){return!se()(t,e.value)}))),u&&c)if(jt()(u))p=u(p,c);else{var h=s?Zi()(c):c,f=new RegExp(Yi()(h),"i");p=k()(p,(function(t){return f.test(s?Zi()(t.text):t.text)}))}if(a&&u&&c&&!$()(p,{text:c})){var d=x.a.isValidElement(r)?x.a.cloneElement(r,{key:"addition-label"}):r||"",g={key:"addition",text:[d,x.a.createElement("b",{key:"addition-query"},c)],value:c,className:"addition","data-additional":!0};"top"===o?p.unshift(g):p.push(g)}return p},i.getSelectedItem=function(){var t=i.state.selectedIndex,e=i.getMenuOptions();return Ot()(e,"["+t+"]")},i.getEnabledIndices=function(t){var e=t||i.getMenuOptions();return Dr()(e,(function(t,e,n){return e.disabled||t.push(n),t}),[])},i.getItemByValue=function(t){var e=i.props.options;return Z()(e,{value:t})},i.getMenuItemIndexByValue=function(t,e){var n=e||i.getMenuOptions();return Wi()(n,["value",t])},i.getDropdownAriaOptions=function(){var t=i.props,e=t.loading,n=t.disabled,r=t.search,o=t.multiple,a={role:r?"combobox":"listbox","aria-busy":e,"aria-disabled":n,"aria-expanded":!!i.state.open};return"listbox"===a.role&&(a["aria-multiselectable"]=o),a},i.clearSearchQuery=function(){i.trySetState({searchQuery:""})},i.setValue=function(t){i.trySetState({value:t})},i.setSelectedIndex=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.state.value,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.props.options,n=i.props.multiple,r=i.state.selectedIndex,o=i.getMenuOptions(t,e),a=i.getEnabledIndices(o),s=void 0;if(!r||r<0){var l=a[0];s=n?l:i.getMenuItemIndexByValue(t,o)||a[0]}else if(n)r>=o.length-1&&(s=a[a.length-1]);else{var u=i.getMenuItemIndexByValue(t,o);s=se()(a,u)?u:void 0}(!s||s<0)&&(s=a[0]),i.setState({selectedIndex:s})},i.handleLabelClick=function(t,e){t.stopPropagation(),i.setState({selectedLabel:e.value});var n=i.props.onLabelClick;n&&n(t,e)},i.handleLabelRemove=function(t,e){t.stopPropagation();var n=i.state.value,r=Ct()(n,e.value);i.setValue(r),i.setSelectedIndex(r),i.handleChange(t,r)},i.moveSelectionBy=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.state.selectedIndex,n=i.getMenuOptions();if(void 0!==n&&!qi()(n,"disabled")){var r=n.length-1,o=i.props.wrapSelection,a=e+t;!o&&(a>r||a<0)?a=e:a>r?a=0:a<0&&(a=r),n[a].disabled?i.moveSelectionBy(t,a):(i.setState({selectedIndex:a}),i.scrollSelectedItemIntoView())}},i.handleIconOverrides=function(t){return{onClick:function(e){_()(t,"onClick",e,t),i.handleIconClick(e)}}},i.handleSearchRef=function(t){return i.searchRef=t},i.handleSizerRef=function(t){return i.sizerRef=t},i.handleRef=function(t){return i.ref=t},i.computeSearchInputTabIndex=function(){var t=i.props,e=t.disabled,n=t.tabIndex;return _t()(n)?e?-1:0:n},i.computeSearchInputWidth=function(){var t=i.state.searchQuery;if(i.sizerRef&&t){i.sizerRef.style.display="inline",i.sizerRef.textContent=t;var e=Math.ceil(i.sizerRef.getBoundingClientRect().width);return i.sizerRef.style.removeProperty("display"),e}},i.computeTabIndex=function(){var t=i.props,e=t.disabled,n=t.search,r=t.tabIndex;if(!n)return e?-1:_t()(r)?0:r},i.scrollSelectedItemIntoView=function(){if(i.ref){var t=i.ref.querySelector(".menu.visible");if(t){var e=t.querySelector(".item.selected");if(e){var n=e.offsetTop<t.scrollTop,r=e.offsetTop+e.clientHeight>t.scrollTop+t.clientHeight;n?t.scrollTop=e.offsetTop:r&&(t.scrollTop=e.offsetTop+e.clientHeight-t.clientHeight)}}}},i.open=function(t){var e=i.props,n=e.disabled,r=e.onOpen,o=e.search;n||(o&&i.searchRef&&i.searchRef.focus(),r&&r(t,i.props),i.trySetState({open:!0}),i.scrollSelectedItemIntoView())},i.close=function(t){var e=i.props.onClose;e&&e(t,i.props),i.trySetState({open:!1})},i.handleClose=function(){var t=document.activeElement===i.searchRef,e=document.activeElement===i.ref,n=t||e;t||i.ref.blur(),i.setState({focus:n})},i.toggle=function(t){return i.state.open?i.close(t):i.open(t)},i.renderText=function(){var t=i.props,e=t.multiple,n=t.placeholder,r=t.search,o=t.text,a=i.state,s=a.searchQuery,l=a.value,u=a.open,c=e?!I()(l):!_t()(l)&&""!==l,p=Zt()(n&&!c&&"default","text",r&&s&&"filtered"),h=n;return s?h=null:o?h=o:u&&!e?h=Ot()(i.getSelectedItem(),"text"):c&&(h=Ot()(i.getItemByValue(l),"text")),x.a.createElement("div",{className:p,role:"alert","aria-live":"polite"},h)},i.renderSearchInput=function(){var t=i.props,e=t.search,n=t.searchInput,r=i.state.searchQuery;return e?fo.create(n,{defaultProps:{inputRef:i.handleSearchRef,onChange:i.handleSearchChange,style:{width:i.computeSearchInputWidth()},tabIndex:i.computeSearchInputTabIndex(),value:r}}):null},i.renderSearchSizer=function(){var t=i.props,e=t.search,n=t.multiple;return e&&n?x.a.createElement("span",{className:"sizer",ref:i.handleSizerRef}):null},i.renderLabels=function(){var t=i.props,e=t.multiple,n=t.renderLabel,r=i.state,o=r.selectedLabel,a=r.value;if(e&&!I()(a)){var s=Ze()(a,i.getItemByValue);return Ze()(Ui()(s),(function(t,e){var r={active:t.value===o,as:"a",key:go(t.key,t.value),onClick:i.handleLabelClick,onRemove:i.handleLabelRemove,value:t.value};return Cr.create(n(t,e,r),{defaultProps:r})}))}},i.renderOptions=function(){var t=i.props,e=t.multiple,n=t.search,r=t.noResultsMessage,o=i.state,a=o.selectedIndex,l=o.value,u=i.getMenuOptions();if(null!==r&&n&&I()(u))return x.a.createElement("div",{className:"message"},r);var c=e?function(t){return se()(l,t)}:function(t){return t===l};return Ze()(u,(function(t,e){return so.create(s()({active:c(t.value),onClick:i.handleItemClick,selected:a===e},t,{key:go(t.key,t.value),style:s()({},t.style,{pointerEvents:"all"})}))}))},i.renderMenu=function(){var t=i.props,e=t.children,n=t.direction,o=t.header,a=i.state.open,l=i.getDropdownMenuAriaOptions();if(!r.isNil(e)){var u=b.Children.only(e),c=Zt()(n,ot(a,"visible"),u.props.className);return Object(b.cloneElement)(u,s()({className:c},l))}return x.a.createElement(po,s()({},l,{direction:n,open:a}),uo.create(o),i.renderOptions())},o=n,f()(i,o)}return g()(e,t),p()(e,[{key:"getInitialAutoControlledState",value:function(){return{searchQuery:""}}},{key:"componentWillMount",value:function(){var t=this.state,e=t.open,n=t.value;this.setValue(n),this.setSelectedIndex(n),e&&(this.open(),this.attachHandlersOnOpen())}},{key:"componentWillReceiveProps",value:function(t){ji()(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillReceiveProps",this).call(this,t),Qn(t.value,this.props.value)||(this.setValue(t.value),this.setSelectedIndex(t.value)),$n()(t.options,this.props.options)||this.setSelectedIndex(void 0,t.options)}},{key:"shouldComponentUpdate",value:function(t,e){return!Qn(t,this.props)||!Qn(e,this.state)}},{key:"componentDidUpdate",value:function(t,e){if(!e.focus&&this.state.focus){if(!this.isMouseDown){var n=this.props,r=n.minCharacters,i=n.openOnFocus,o=n.search;i&&(!o||o&&1===r)&&this.open()}this.state.open?zt.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter]):zt.sub("keydown",[this.openOnArrow,this.openOnSpace]),zt.sub("keydown",this.removeItemOnBackspace)}else if(e.focus&&!this.state.focus){var a=this.props.closeOnBlur;!this.isMouseDown&&a&&this.close(),zt.unsub("keydown",[this.openOnArrow,this.openOnSpace,this.moveSelectionOnKeyDown,this.selectItemOnEnter,this.removeItemOnBackspace])}!e.open&&this.state.open?(this.attachHandlersOnOpen(),this.scrollSelectedItemIntoView()):e.open&&!this.state.open&&(this.handleClose(),zt.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]),zt.unsub("click",this.closeOnDocumentClick),this.state.focus||zt.unsub("keydown",this.removeItemOnBackspace))}},{key:"componentWillUnmount",value:function(){zt.unsub("keydown",[this.openOnArrow,this.openOnSpace,this.moveSelectionOnKeyDown,this.selectItemOnEnter,this.removeItemOnBackspace,this.closeOnEscape]),zt.unsub("click",this.closeOnDocumentClick)}},{key:"getDropdownMenuAriaOptions",value:function(){var t=this.props,e=t.search,n=t.multiple,r={};return e&&(r["aria-multiselectable"]=n,r.role="listbox"),r}},{key:"render",value:function(){var t=this.props,n=t.basic,r=t.button,i=t.className,o=t.compact,a=t.disabled,l=t.error,u=t.fluid,c=t.floating,p=t.icon,h=t.inline,f=t.item,d=t.labeled,g=t.loading,m=t.multiple,v=t.pointing,y=t.search,_=t.selection,b=t.scrolling,w=t.simple,E=t.trigger,C=t.upward,S=this.state.open,T=Zt()("ui",ot(S,"active visible"),ot(a,"disabled"),ot(l,"error"),ot(g,"loading"),ot(n,"basic"),ot(r,"button"),ot(o,"compact"),ot(u,"fluid"),ot(c,"floating"),ot(h,"inline"),ot(d,"labeled"),ot(f,"item"),ot(m,"multiple"),ot(y,"search"),ot(_,"selection"),ot(w,"simple"),ot(b,"scrolling"),ot(C,"upward"),st(v,"pointing"),"dropdown",i),k=ie(e,this.props),O=oe(e,this.props),I=this.getDropdownAriaOptions(O,this.props);return x.a.createElement(O,s()({},k,I,{className:T,onBlur:this.handleBlur,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex(),ref:this.handleRef}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),E||this.renderText(),rr.create(p,{overrideProps:this.handleIconOverrides}),this.renderMenu())}}]),e}(F);mo.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:function(t){return t.text},searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},mo.autoControlledProps=["open","searchQuery","selectedLabel","value"],mo._meta={name:"Dropdown",type:i.TYPES.MODULE},mo.Divider=ro,mo.Header=uo,mo.Item=so,mo.Menu=po,mo.SearchInput=fo,mo.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","closeOnBlur","closeOnChange","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"];var vo=mo;function yo(t){return x.a.createElement(vo,s()({},t,{selection:!0}))}mo.propTypes={},yo.handledProps=[],yo._meta={name:"Select",type:i.TYPES.ADDON},yo.Divider=vo.Divider,yo.Header=vo.Header,yo.Item=vo.Item,yo.Menu=vo.Menu;var _o=yo,bo=n(225),xo=n.n(bo),wo=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.focus=function(){return r.ref.focus()},r.handleChange=function(t){var e=Ot()(t,"target.value");_()(r.props,"onChange",t,s()({},r.props,{value:e}))},r.handleInput=function(t){var e=Ot()(t,"target.value");_()(r.props,"onInput",t,s()({},r.props,{value:e})),r.updateHeight()},r.handleRef=function(t){return r.ref=t},r.removeAutoHeightStyles=function(){r.ref.style.height=null,r.ref.style.resize=null},r.updateHeight=function(){var t=r.props.autoHeight;if(r.ref&&t){var e=window.getComputedStyle(r.ref),n=e.minHeight,i=e.borderBottomWidth,o=e.borderTopWidth,a=xo()([i,o].map((function(t){return parseFloat(t)})));r.ref.style.height="auto",r.ref.style.overflowY="hidden",r.ref.style.height=Math.max(parseFloat(n),Math.ceil(r.ref.scrollHeight+a))+"px",r.ref.style.overflowY=""}},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"componentDidMount",value:function(){this.updateHeight()}},{key:"componentDidUpdate",value:function(t){!this.props.autoHeight&&t.autoHeight&&this.removeAutoHeightStyles(),(this.props.autoHeight&&!t.autoHeight||t.value!==this.props.value)&&this.updateHeight()}},{key:"render",value:function(){var t=this.props,n=t.autoHeight,r=t.rows,i=t.style,o=t.value,a=ie(e,this.props),l=oe(e,this.props),u=n?"none":"";return x.a.createElement(l,s()({},a,{onChange:this.handleChange,onInput:this.handleInput,ref:this.handleRef,rows:r,style:s()({resize:u},i),value:o}))}}]),e}(b.Component);wo._meta={name:"TextArea",type:i.TYPES.ADDON},wo.defaultProps={as:"textarea",rows:3},wo.handledProps=["as","autoHeight","onChange","onInput","rows","style","value"],wo.propTypes={};var Eo=wo,Co=n(168),So=n.n(Co),To=function(t){function e(){var t;u()(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r)));ko.call(o);var a=o.props.children;return o.state={children:So()(W(a),(function(t){return o.wrapChild(t)}))},o}return g()(e,t),p()(e,[{key:"componentWillReceiveProps",value:function(t){var e=this,n=this.state.children,r=W(t.children),i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=H(t,e),i=B()(r,2),o=i[0],a=i[1];return V()(N()(e),(function(r){v()(o,r)&&V()(o[r],(function(r){n[r]=Y(r,t,e)})),n[r]=Y(r,t,e)})),V()(a,(function(r){n[r]=Y(r,t,e)})),n}(n,r);V()(i,(function(t,o){var a=v()(n,o),s=v()(r,o),l=n[o],u=!Ot()(l,"props.visible");if(!s||a&&!u)if(s||!a||u){var c=l.props,p=c.visible,h=c.transitionOnMount;i[o]=e.wrapChild(t,{transitionOnMount:h,visible:p})}else i[o]=Object(b.cloneElement)(l,{visible:!1});else i[o]=e.wrapChild(t,{transitionOnMount:!0})})),this.setState({children:i})}},{key:"render",value:function(){var t=this.state.children,n=oe(e,this.props),r=ie(e,this.props);return x.a.createElement(n,r,en()(t))}}]),e}(x.a.Component);To.defaultProps={animation:"fade",duration:500},To._meta={name:"TransitionGroup",parent:"Transition",type:i.TYPES.MODULE},To.handledProps=["animation","as","children","duration"];var ko=function(){var t=this;this.handleOnHide=function(e,n){var r=n.reactKey;t.setState((function(t){var e=s()({},t.children);return delete e[r],{children:e}}))},this.wrapChild=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.props,i=r.animation,o=r.duration,a=e.key,s=n.visible,l=void 0===s||s,u=n.transitionOnMount,c=void 0!==u&&u;return x.a.createElement(Mo,{animation:i,duration:o,key:a,onHide:t.handleOnHide,reactKey:a,transitionOnMount:c,visible:l},e)}},Oo=To;To.propTypes={};var Io={ENTERING:"show",EXITING:"hide"},Po=function(t){function e(){var t;u()(this,e);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r)));No.call(o);var a=o.computeInitialStatuses(),s=a.initial,l=a.next;return o.nextStatus=l,o.state={status:s},o}return g()(e,t),p()(e,[{key:"componentDidMount",value:function(){this.mounted=!0,this.updateStatus()}},{key:"componentWillReceiveProps",value:function(t){var e=this.computeStatuses(t),n=e.current,r=e.next;this.nextStatus=r,n&&this.setSafeState({status:n})}},{key:"componentDidUpdate",value:function(){this.updateStatus()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var t=this.props.children;return this.state.status===e.UNMOUNTED?null:Object(b.cloneElement)(t,{className:this.computeClasses(),style:this.computeStyle()})}}]),e}(b.Component);Po.defaultProps={animation:"fade",duration:500,visible:!0,mountOnShow:!0,transitionOnMount:!1,unmountOnHide:!1},Po._meta={name:"Transition",type:i.TYPES.MODULE},Po.ENTERED="ENTERED",Po.ENTERING="ENTERING",Po.EXITED="EXITED",Po.EXITING="EXITING",Po.UNMOUNTED="UNMOUNTED",Po.Group=Oo,Po.handledProps=["animation","children","duration","mountOnShow","onComplete","onHide","onShow","onStart","reactKey","transitionOnMount","unmountOnHide","visible"];var No=function(){var t=this;this.handleStart=function(){var e=t.props.duration,n=t.nextStatus;t.nextStatus=null,t.setSafeState({status:n,animating:!0},(function(){var r=Zn(e,Io[n]);_()(t.props,"onStart",null,s()({},t.props,{status:n})),setTimeout(t.handleComplete,r)}))},this.handleComplete=function(){var e=t.state.status;if(_()(t.props,"onComplete",null,s()({},t.props,{status:e})),t.nextStatus)t.handleStart();else{var n=t.computeCompletedStatus(),r=e===Po.ENTERING?"onShow":"onHide";t.setSafeState({status:n,animating:!1},(function(){_()(t.props,r,null,s()({},t.props,{status:n}))}))}},this.updateStatus=function(){var e=t.state.animating;t.nextStatus&&(t.nextStatus=t.computeNextStatus(),e||t.handleStart())},this.computeClasses=function(){var e=t.props,n=e.animation,r=e.children,i=t.state,a=i.animating,s=i.status,l=Ot()(r,"props.className");return se()(o.DIRECTIONAL_TRANSITIONS,n)?Zt()(n,l,ot(a,"animating"),ot(s===Po.ENTERING,"in"),ot(s===Po.EXITING,"out"),ot(s===Po.EXITED,"hidden"),ot(s!==Po.EXITED,"visible"),"transition"):Zt()(n,l,ot(a,"animating transition"))},this.computeCompletedStatus=function(){var e=t.props.unmountOnHide;return t.state.status===Po.ENTERING?Po.ENTERED:e?Po.UNMOUNTED:Po.EXITED},this.computeInitialStatuses=function(){var e=t.props,n=e.visible,r=e.mountOnShow,i=e.transitionOnMount,o=e.unmountOnHide;return n?i?{initial:Po.EXITED,next:Po.ENTERING}:{initial:Po.ENTERED}:r||o?{initial:Po.UNMOUNTED}:{initial:Po.EXITED}},this.computeNextStatus=function(){var e=t.state,n=e.animating,r=e.status;return n?r===Po.ENTERING?Po.EXITING:Po.ENTERING:r===Po.ENTERED?Po.EXITING:Po.ENTERING},this.computeStatuses=function(e){var n=t.state.status;return e.visible?{current:n===Po.UNMOUNTED&&Po.EXITED,next:n!==Po.ENTERING&&n!==Po.ENTERED&&Po.ENTERING}:{next:(n===Po.ENTERING||n===Po.ENTERED)&&Po.EXITING}},this.computeStyle=function(){var e=t.props,n=e.children,r=e.duration,i=t.state.status,o=Ot()(n,"props.style"),a=Io[i],l=a&&Zn(r,a)+"ms";return s()({},o,{animationDuration:l})},this.setSafeState=function(){return t.mounted&&t.setState.apply(t,arguments)}},Mo=Po;Po.propTypes={};var Ao=function(t){function e(t){u()(this,e);var n=f()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handlePortalClose=function(){n.setState({portalOpen:!1})},n.handlePortalOpen=function(){n.setState({portalOpen:!0})},n.handleTransitionHide=function(t,e){var r=n.state.portalOpen;n.setState({transitionVisible:!1}),_()(n.props,"onClose",null,s()({},e,{portalOpen:!1,transitionVisible:!1})),_()(n.props,"onHide",null,s()({},e,{portalOpen:r,transitionVisible:!1}))},n.handleTransitionStart=function(t,e){var r=n.state.portalOpen,i=e.status===Mo.ENTERING;_()(n.props,"onStart",null,s()({},e,{portalOpen:r,transitionVisible:i})),i&&(n.setState({transitionVisible:i}),_()(n.props,"onOpen",null,s()({},e,{transitionVisible:i,portalOpen:!0})))},n.state={portalOpen:t.open},n}return g()(e,t),p()(e,[{key:"componentWillReceiveProps",value:function(t){var e=t.open;this.setState({portalOpen:e})}},{key:"render",value:function(){var t=this.props,n=t.children,r=t.transition,i=this.state,o=i.portalOpen,a=i.transitionVisible,l=o||a,u=ie(e,this.props);return x.a.createElement(ur,s()({},u,{open:l,onOpen:this.handlePortalOpen,onClose:this.handlePortalClose}),x.a.createElement(Mo,s()({},r,{transitionOnMount:!0,onStart:this.handleTransitionStart,onHide:this.handleTransitionHide,visible:o}),n))}}]),e}(b.Component);Ao._meta={name:"TransitionablePortal",type:i.TYPES.ADDON},Ao.defaultProps={transition:{animation:"scale",duration:400}},Ao.handledProps=["children","onClose","onHide","onOpen","onStart","open","transition"];var Lo=Ao;Ao.propTypes={};var Ro=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.calculations={bottomPassed:!1,bottomVisible:!1,fits:!1,passing:!1,offScreen:!1,onScreen:!1,topPassed:!1,topVisible:!1},r.firedCallbacks=[],r.fire=function(t,e){var n=t.callback,i=t.name,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=r.props,s=a.continuous,l=a.once,u=r.calculations[e]!==o,c=s||r.calculations[e]!==r.oldCalculations[e];u&&c&&r.execute(n,i),l||(r.firedCallbacks=Ct()(r.firedCallbacks,i))},r.handleUpdate=function(){r.ticking||(r.ticking=!0,r.frameId=requestAnimationFrame(r.update))},r.update=function(){r.ticking=!1,r.oldCalculations=r.calculations,r.calculations=r.computeCalculations(),r.pageYOffset=window.pageYOffset;var t=r.props,e=t.onBottomPassed,n=t.onBottomPassedReverse,i=t.onBottomVisible,o=t.onBottomVisibleReverse,a=t.onPassing,l=t.onPassingReverse,u=t.onTopPassed,c=t.onTopPassedReverse,p=t.onTopVisible,h=t.onTopVisibleReverse,f={bottomPassed:{callback:e,name:"onBottomPassed"},bottomVisible:{callback:i,name:"onBottomVisible"},passing:{callback:a,name:"onPassing"},offScreen:{callback:t.onOffScreen,name:"onOffScreen"},onScreen:{callback:t.onOnScreen,name:"onOnScreen"},topPassed:{callback:u,name:"onTopPassed"},topVisible:{callback:p,name:"onTopVisible"}},d={bottomPassed:{callback:n,name:"onBottomPassedReverse"},bottomVisible:{callback:o,name:"onBottomVisibleReverse"},passing:{callback:l,name:"onPassingReverse"},topPassed:{callback:c,name:"onTopPassedReverse"},topVisible:{callback:h,name:"onTopVisibleReverse"}};_()(r.props,"onUpdate",null,s()({},r.props,{calculations:r.calculations})),r.fireOnPassed(),V()(d,(function(t,e){return r.fire(t,e,!0)})),V()(f,(function(t,e){return r.fire(t,e)}))},r.handleRef=function(t){return r.ref=t},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"componentWillReceiveProps",value:function(t){var e=t.continuous,n=t.once,r=t.context;(e!==this.props.continuous||n!==this.props.once)&&(this.firedCallbacks=[]),this.props.context!==r&&(this.unattachHandlers(this.props.context),this.attachHandlers(r))}},{key:"componentDidMount",value:function(){if(wt()){var t=this.props,e=t.context,n=t.fireOnMount;this.pageYOffset=window.pageYOffset,this.attachHandlers(e),n&&this.update()}}},{key:"componentWillUnmount",value:function(){var t=this.props.context;this.unattachHandlers(t),this.frameId&&cancelAnimationFrame(this.frameId)}},{key:"attachHandlers",value:function(t){t&&(zt.sub("resize",this.handleUpdate,{target:t}),zt.sub("scroll",this.handleUpdate,{target:t}))}},{key:"unattachHandlers",value:function(t){t&&(zt.unsub("resize",this.handleUpdate,{target:t}),zt.unsub("scroll",this.handleUpdate,{target:t}))}},{key:"execute",value:function(t,e){var n=this.props.continuous;t&&(!n&&se()(this.firedCallbacks,e)||(t(null,s()({},this.props,{calculations:this.calculations})),this.firedCallbacks.push(e)))}},{key:"fireOnPassed",value:function(){var t=this,e=this.calculations,n=e.percentagePassed,r=e.pixelsPassed,i=this.props.onPassed;V()(i,(function(e,i){var o=Number(i);if(o&&r>=o)t.execute(e,i);else{var a=(""+i).match(/^(\d+)%$/);if(a){var s=Number(a[1])/100;n>=s&&t.execute(e,i)}}}))}},{key:"computeCalculations",value:function(){var t,e=this.props.offset,n=this.ref.getBoundingClientRect(),r=n.bottom,i=n.height,o=n.top,a=n.width,s="number"==typeof(t=e)||"string"==typeof t?[t,t]:t,l=B()(s,2),u=l[0],c=l[1],p=window.pageYOffset>this.pageYOffset?"down":"up",h=o<u,f=r<c,d=f?0:Math.max(-1*o,0),g=d/i,m=r>=c&&r<=window.innerHeight,v=o>=u&&o<=window.innerHeight,y=(v||h)&&!f;return{bottomPassed:f,bottomVisible:m,direction:p,fits:v&&m,height:i,passing:h&&!f,percentagePassed:g,pixelsPassed:d,offScreen:!y,onScreen:y,topPassed:h,topVisible:v,width:a}}},{key:"render",value:function(){var t=this.props.children,n=oe(e,this.props),r=ie(e,this.props);return x.a.createElement(n,s()({},r,{ref:this.handleRef}),t)}}]),e}(b.Component);Ro.defaultProps={context:wt()?window:null,continuous:!1,offset:[0,0],once:!0},Ro._meta={name:"Visibility",type:i.TYPES.BEHAVIOR},Ro.handledProps=["as","children","context","continuous","fireOnMount","offset","onBottomPassed","onBottomPassedReverse","onBottomVisible","onBottomVisibleReverse","onOffScreen","onOnScreen","onPassed","onPassing","onPassingReverse","onTopPassed","onTopPassedReverse","onTopVisible","onTopVisibleReverse","onUpdate","once"];var Do=Ro;function zo(t){var e=t.children,n=t.className,i=t.content,o=t.icon,a=Zt()("divider",n),l=ie(zo,t),u=oe(zo,t);return _t()(o)?_t()(i)?x.a.createElement(u,s()({},l,{className:a}),r.isNil(e)?"/":e):x.a.createElement(u,s()({},l,{className:a}),i):rr.create(o,{defaultProps:s()({},l,{className:a})})}Ro.propTypes={},zo.handledProps=["as","children","className","content","icon"],zo._meta={name:"BreadcrumbDivider",type:i.TYPES.COLLECTION,parent:"Breadcrumb"},zo.propTypes={},zo.create=$t(zo,(function(t){return{icon:t}}));var Fo=zo,jo=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.computeElementType=function(){var t=r.props,e=t.link,n=t.onClick;if(e||n)return"a"},r.handleClick=function(t){return _()(r.props,"onClick",t,r.props)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.active,i=t.children,o=t.className,a=t.content,l=t.href,u=Zt()(ot(n,"active"),"section",o),c=ie(e,this.props),p=oe(e,this.props,this.computeElementType);return x.a.createElement(p,s()({},c,{className:u,href:l,onClick:this.handleClick}),r.isNil(i)?a:i)}}]),e}(b.Component);jo._meta={name:"BreadcrumbSection",type:i.TYPES.COLLECTION,parent:"Breadcrumb"},jo.handledProps=["active","as","children","className","content","href","link","onClick"];var Bo=jo;function Uo(t){var e=t.children,n=t.className,i=t.divider,o=t.icon,a=t.sections,l=t.size,u=Zt()("ui",l,"breadcrumb",n),c=ie(Uo,t),p=oe(Uo,t);if(!r.isNil(e))return x.a.createElement(p,s()({},c,{className:u}),e);var h=[];return A()(a,(function(t,e){var n=Bo.create(t);if(h.push(n),e!==a.length-1){var r=n.key+"_divider"||!1;h.push(Fo.create({content:i,icon:o,key:r}))}})),x.a.createElement(p,s()({},c,{className:u}),h)}jo.propTypes={},jo.create=$t(jo,(function(t){return{content:t,link:!0}})),Uo.handledProps=["as","children","className","divider","icon","sections","size"],Uo._meta={name:"Breadcrumb",type:i.TYPES.COLLECTION},Uo.propTypes={},Uo.Divider=Fo,Uo.Section=Bo;var Vo=Uo;function qo(t){var e=t.children,n=t.className,i=t.content,o=t.control,a=t.disabled,l=t.error,u=t.inline,c=t.label,p=t.required,h=t.type,f=t.width,d=Zt()(ot(a,"disabled"),ot(l,"error"),ot(u,"inline"),ot(p,"required"),pt(f,"wide"),"field",n),g=ie(qo,t),m=oe(qo,t);if(_t()(o))return _t()(c)?x.a.createElement(m,s()({},g,{className:d}),r.isNil(e)?i:e):x.a.createElement(m,s()({},g,{className:d}),ne(c));var v=s()({},g,{content:i,children:e,disabled:a,required:p,type:h});return"input"!==o||"checkbox"!==h&&"radio"!==h?o===Pi||o===Mi?x.a.createElement(m,{className:d},Object(b.createElement)(o,s()({},v,{label:c}))):x.a.createElement(m,{className:d},ne(c,{defaultProps:{htmlFor:Ot()(v,"id")}}),Object(b.createElement)(o,v)):x.a.createElement(m,{className:d},x.a.createElement("label",null,Object(b.createElement)(o,v)," ",c))}qo.handledProps=["as","children","className","content","control","disabled","error","inline","label","required","type","width"],qo._meta={name:"FormField",parent:"Form",type:i.TYPES.COLLECTION},qo.propTypes={};var Go=qo;function Wo(t){var e=t.control,n=ie(Wo,t),r=oe(Wo,t);return x.a.createElement(r,s()({},n,{control:e}))}Wo.handledProps=["as","control"],Wo._meta={name:"FormButton",parent:"Form",type:i.TYPES.COLLECTION},Wo.propTypes={},Wo.defaultProps={as:Go,control:Mr};var Ho=Wo;function Yo(t){var e=t.control,n=ie(Yo,t),r=oe(Yo,t);return x.a.createElement(r,s()({},n,{control:e}))}Yo.handledProps=["as","control"],Yo._meta={name:"FormCheckbox",parent:"Form",type:i.TYPES.COLLECTION},Yo.propTypes={},Yo.defaultProps={as:Go,control:Pi};var Xo=Yo;function Zo(t){var e=t.control,n=ie(Zo,t),r=oe(Zo,t);return x.a.createElement(r,s()({},n,{control:e}))}Zo.handledProps=["as","control"],Zo._meta={name:"FormDropdown",parent:"Form",type:i.TYPES.COLLECTION},Zo.propTypes={},Zo.defaultProps={as:Go,control:vo};var Ko=Zo;function $o(t){var e=t.children,n=t.className,r=t.grouped,i=t.inline,o=t.unstackable,a=t.widths,l=Zt()(ot(r,"grouped"),ot(i,"inline"),ot(o,"unstackable"),pt(a,null,!0),"fields",n),u=ie($o,t),c=oe($o,t);return x.a.createElement(c,s()({},u,{className:l}),e)}$o.handledProps=["as","children","className","grouped","inline","unstackable","widths"],$o._meta={name:"FormGroup",parent:"Form",type:i.TYPES.COLLECTION},$o.propTypes={};var Jo=$o,Qo=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.computeIcon=function(){var t=r.props,e=t.loading,n=t.icon;return _t()(n)?e?"spinner":void 0:n},r.computeTabIndex=function(){var t=r.props,e=t.disabled,n=t.tabIndex;return _t()(n)?e?-1:void 0:n},r.focus=function(){return r.inputRef.focus()},r.handleChange=function(t){var e=Ot()(t,"target.value");_()(r.props,"onChange",t,s()({},r.props,{value:e}))},r.handleChildOverrides=function(t,e){return s()({},e,t.props,{ref:function(e){_()(t,"ref",e),r.handleInputRef(e)}})},r.handleInputRef=function(t){return r.inputRef=t},r.partitionProps=function(){var t=r.props,n=t.disabled,i=t.type,o=r.computeTabIndex(),a=ie(e,r.props),l=ce(a),u=B()(l,2),c=u[0],p=u[1];return[s()({},c,{disabled:n,type:i,tabIndex:o,onChange:r.handleChange,ref:r.handleInputRef}),p]},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this,n=this.props,i=n.action,o=n.actionPosition,a=n.children,l=n.className,u=n.disabled,c=n.error,p=n.fluid,h=n.focus,f=n.icon,d=n.iconPosition,g=n.input,m=n.inverted,v=n.label,y=n.labelPosition,_=n.loading,w=n.size,E=n.transparent,C=n.type,S=Zt()("ui",w,ot(u,"disabled"),ot(c,"error"),ot(p,"fluid"),ot(h,"focus"),ot(m,"inverted"),ot(_,"loading"),ot(E,"transparent"),at(o,"action")||ot(i,"action"),at(d,"icon")||ot(f||_,"icon"),at(y,"labeled")||ot(v,"labeled"),"input",l),T=oe(e,this.props),k=this.partitionProps(),O=B()(k,2),I=O[0],P=O[1];if(!r.isNil(a)){var N=Ze()(b.Children.toArray(a),(function(e){return"input"!==e.type?e:Object(b.cloneElement)(e,t.handleChildOverrides(e,I))}));return x.a.createElement(T,s()({},P,{className:S}),N)}var M=Mr.create(i),A=Cr.create(v,{defaultProps:{className:Zt()("label",se()(y,"corner")&&y)}});return x.a.createElement(T,s()({},P,{className:S}),"left"===o&&M,"right"!==y&&A,ee(g||C,{defaultProps:I}),"left"!==o&&M,rr.create(this.computeIcon()),"right"===y&&A)}}]),e}(b.Component);Qo.defaultProps={type:"text"},Qo._meta={name:"Input",type:i.TYPES.ELEMENT},Qo.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],Qo.propTypes={},Qo.create=$t(Qo,(function(t){return{type:t}}));var ta=Qo;function ea(t){var e=t.control,n=ie(ea,t),r=oe(ea,t);return x.a.createElement(r,s()({},n,{control:e}))}ea.handledProps=["as","control"],ea._meta={name:"FormInput",parent:"Form",type:i.TYPES.COLLECTION},ea.propTypes={},ea.defaultProps={as:Go,control:ta};var na=ea;function ra(t){var e=t.control,n=ie(ra,t),r=oe(ra,t);return x.a.createElement(r,s()({},n,{control:e}))}ra.handledProps=["as","control"],ra._meta={name:"FormRadio",parent:"Form",type:i.TYPES.COLLECTION},ra.propTypes={},ra.defaultProps={as:Go,control:Mi};var ia=ra;function oa(t){var e=t.control,n=ie(oa,t),r=oe(oa,t);return x.a.createElement(r,s()({},n,{control:e}))}oa.handledProps=["as","control"],oa._meta={name:"FormSelect",parent:"Form",type:i.TYPES.COLLECTION},oa.propTypes={},oa.defaultProps={as:Go,control:_o};var aa=oa;function sa(t){var e=t.control,n=ie(sa,t),r=oe(sa,t);return x.a.createElement(r,s()({},n,{control:e}))}sa.handledProps=["as","control"],sa._meta={name:"FormTextArea",parent:"Form",type:i.TYPES.COLLECTION},sa.propTypes={},sa.defaultProps={as:Go,control:Eo};var la=sa,ua=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),ca.call(r),i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.action,r=t.children,i=t.className,o=t.error,a=t.inverted,l=t.loading,u=t.reply,c=t.size,p=t.success,h=t.unstackable,f=t.warning,d=t.widths,g=Zt()("ui",c,ot(o,"error"),ot(a,"inverted"),ot(l,"loading"),ot(u,"reply"),ot(p,"success"),ot(h,"unstackable"),ot(f,"warning"),pt(d,null,!0),"form",i),m=ie(e,this.props),v=oe(e,this.props);return x.a.createElement(v,s()({},m,{action:n,className:g,onSubmit:this.handleSubmit}),r)}}]),e}(b.Component);ua.defaultProps={as:"form"},ua._meta={name:"Form",type:i.TYPES.COLLECTION},ua.Field=Go,ua.Button=Ho,ua.Checkbox=Xo,ua.Dropdown=Ko,ua.Group=Jo,ua.Input=na,ua.Radio=ia,ua.Select=aa,ua.TextArea=la,ua.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"];var ca=function(){var t=this;this.handleSubmit=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=t.props.action;"string"!=typeof o&&_()(e,"preventDefault"),_.a.apply(void 0,[t.props,"onSubmit",e,t.props].concat(r))}};ua.propTypes={};var pa=ua;function ha(t){var e=t.children,n=t.className,r=t.computer,i=t.color,o=t.floated,a=t.largeScreen,l=t.mobile,u=t.only,c=t.stretched,p=t.tablet,h=t.textAlign,f=t.verticalAlign,d=t.widescreen,g=t.width,m=Zt()(i,ot(c,"stretched"),lt(u,"only"),ut(h),at(o,"floated"),ct(f),pt(r,"wide computer"),pt(a,"wide large screen"),pt(l,"wide mobile"),pt(p,"wide tablet"),pt(d,"wide widescreen"),pt(g,"wide"),"column",n),v=ie(ha,t),y=oe(ha,t);return x.a.createElement(y,s()({},v,{className:m}),e)}ha.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],ha._meta={name:"GridColumn",parent:"Grid",type:i.TYPES.COLLECTION},ha.propTypes={},ha.create=$t(ha,(function(t){return{children:t}}));var fa=ha;function da(t){var e=t.centered,n=t.children,r=t.className,i=t.color,o=t.columns,a=t.divided,l=t.only,u=t.reversed,c=t.stretched,p=t.textAlign,h=t.verticalAlign,f=Zt()(i,ot(e,"centered"),ot(a,"divided"),ot(c,"stretched"),lt(l,"only"),lt(u,"reversed"),ut(p),ct(h),pt(o,"column",!0),"row",r),d=ie(da,t),g=oe(da,t);return x.a.createElement(g,s()({},d,{className:f}),n)}da.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],da._meta={name:"GridRow",parent:"Grid",type:i.TYPES.COLLECTION},da.propTypes={};var ga=da;function ma(t){var e=t.celled,n=t.centered,r=t.children,i=t.className,o=t.columns,a=t.container,l=t.divided,u=t.doubling,c=t.inverted,p=t.padded,h=t.relaxed,f=t.reversed,d=t.stackable,g=t.stretched,m=t.textAlign,v=t.verticalAlign,y=Zt()("ui",ot(n,"centered"),ot(a,"container"),ot(u,"doubling"),ot(c,"inverted"),ot(d,"stackable"),ot(g,"stretched"),st(e,"celled"),st(l,"divided"),st(p,"padded"),st(h,"relaxed"),lt(f,"reversed"),ut(m),ct(v),pt(o,"column",!0),"grid",i),_=ie(ma,t),b=oe(ma,t);return x.a.createElement(b,s()({},_,{className:y}),r)}ma.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],ma.Column=fa,ma.Row=ga,ma._meta={name:"Grid",type:i.TYPES.COLLECTION},ma.propTypes={};var va=ma;function ya(t){var e=t.children,n=t.className,i=t.content,o=Zt()("content",n),a=ie(ya,t),l=oe(ya,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}ya.handledProps=["as","children","className","content"],ya._meta={name:"MessageContent",parent:"Message",type:i.TYPES.COLLECTION},ya.propTypes={};var _a=ya;function ba(t){var e=t.children,n=t.className,i=t.content,o=Zt()("header",n),a=ie(ba,t),l=oe(ba,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}ba.handledProps=["as","children","className","content"],ba._meta={name:"MessageHeader",parent:"Message",type:i.TYPES.COLLECTION},ba.propTypes={},ba.create=$t(ba,(function(t){return{content:t}}));var xa=ba;function wa(t){var e=t.children,n=t.className,i=t.content,o=Zt()("content",n),a=ie(wa,t),l=oe(wa,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}wa.handledProps=["as","children","className","content"],wa._meta={name:"MessageItem",parent:"Message",type:i.TYPES.COLLECTION},wa.propTypes={},wa.defaultProps={as:"li"},wa.create=$t(wa,(function(t){return{content:t}}));var Ea=wa;function Ca(t){var e=t.children,n=t.className,i=t.items,o=Zt()("list",n),a=ie(Ca,t),l=oe(Ca,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?Ze()(i,Ea.create):e)}Ca.handledProps=["as","children","className","items"],Ca._meta={name:"MessageList",parent:"Message",type:i.TYPES.COLLECTION},Ca.propTypes={},Ca.defaultProps={as:"ul"},Ca.create=$t(Ca,(function(t){return{items:t}}));var Sa=Ca,Ta=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleDismiss=function(t){var e=r.props.onDismiss;e&&e(t,r.props)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.attached,i=t.children,o=t.className,a=t.color,l=t.compact,u=t.content,c=t.error,p=t.floating,h=t.header,f=t.hidden,d=t.icon,g=t.info,m=t.list,v=t.negative,y=t.onDismiss,_=t.positive,b=t.size,w=t.success,E=t.visible,C=t.warning,S=Zt()("ui",a,b,ot(l,"compact"),ot(c,"error"),ot(p,"floating"),ot(f,"hidden"),ot(d,"icon"),ot(g,"info"),ot(v,"negative"),ot(_,"positive"),ot(w,"success"),ot(E,"visible"),ot(C,"warning"),st(n,"attached"),"message",o),T=y&&x.a.createElement(rr,{name:"close",onClick:this.handleDismiss}),k=ie(e,this.props),O=oe(e,this.props);return r.isNil(i)?x.a.createElement(O,s()({},k,{className:S}),T,rr.create(d),(!_t()(h)||!_t()(u)||!_t()(m))&&x.a.createElement(_a,null,xa.create(h),Sa.create(m),re(u))):x.a.createElement(O,s()({},k,{className:S}),T,i)}}]),e}(b.Component);Ta._meta={name:"Message",type:i.TYPES.COLLECTION},Ta.Content=_a,Ta.Header=xa,Ta.List=Sa,Ta.Item=Ea,Ta.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"];var ka=Ta;function Oa(t){var e=t.children,n=t.className,r=Zt()(n),i=ie(Oa,t),o=oe(Oa,t);return x.a.createElement(o,s()({},i,{className:r}),e)}Ta.propTypes={},Oa.handledProps=["as","children","className"],Oa._meta={name:"TableBody",type:i.TYPES.COLLECTION,parent:"Table"},Oa.defaultProps={as:"tbody"},Oa.propTypes={};var Ia=Oa;function Pa(t){var e=t.active,n=t.children,i=t.className,o=t.collapsing,a=t.content,l=t.disabled,u=t.error,c=t.icon,p=t.negative,h=t.positive,f=t.selectable,d=t.singleLine,g=t.textAlign,m=t.verticalAlign,v=t.warning,y=t.width,_=Zt()(ot(e,"active"),ot(o,"collapsing"),ot(l,"disabled"),ot(u,"error"),ot(p,"negative"),ot(h,"positive"),ot(f,"selectable"),ot(d,"single line"),ot(v,"warning"),ut(g),ct(m),pt(y,"wide"),i),b=ie(Pa,t),w=oe(Pa,t);return r.isNil(n)?x.a.createElement(w,s()({},b,{className:_}),rr.create(c),a):x.a.createElement(w,s()({},b,{className:_}),n)}Pa.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],Pa._meta={name:"TableCell",type:i.TYPES.COLLECTION,parent:"Table"},Pa.defaultProps={as:"td"},Pa.propTypes={},Pa.create=$t(Pa,(function(t){return{content:t}}));var Na=Pa;function Ma(t){var e=t.children,n=t.className,i=t.content,o=t.fullWidth,a=Zt()(ot(o,"full-width"),n),l=ie(Ma,t),u=oe(Ma,t);return x.a.createElement(u,s()({},l,{className:a}),r.isNil(e)?i:e)}Ma.handledProps=["as","children","className","content","fullWidth"],Ma._meta={name:"TableHeader",type:i.TYPES.COLLECTION,parent:"Table"},Ma.defaultProps={as:"thead"},Ma.propTypes={};var Aa=Ma;function La(t){var e=t.as,n=ie(La,t);return x.a.createElement(Aa,s()({},n,{as:e}))}La.handledProps=["as"],La._meta={name:"TableFooter",type:i.TYPES.COLLECTION,parent:"Table"},La.propTypes={},La.defaultProps={as:"tfoot"};var Ra=La;function Da(t){var e=t.as,n=t.className,r=t.sorted,i=Zt()(at(r,"sorted"),n),o=ie(Da,t);return x.a.createElement(Na,s()({},o,{as:e,className:i}))}Da.handledProps=["as","className","sorted"],Da._meta={name:"TableHeaderCell",type:i.TYPES.COLLECTION,parent:"Table"},Da.propTypes={},Da.defaultProps={as:"th"};var za=Da;function Fa(t){var e=t.active,n=t.cellAs,i=t.cells,o=t.children,a=t.className,l=t.disabled,u=t.error,c=t.negative,p=t.positive,h=t.textAlign,f=t.verticalAlign,d=t.warning,g=Zt()(ot(e,"active"),ot(l,"disabled"),ot(u,"error"),ot(c,"negative"),ot(p,"positive"),ot(d,"warning"),ut(h),ct(f),a),m=ie(Fa,t),v=oe(Fa,t);return r.isNil(o)?x.a.createElement(v,s()({},m,{className:g}),Ze()(i,(function(t){return Na.create(t,{defaultProps:{as:n}})}))):x.a.createElement(v,s()({},m,{className:g}),o)}Fa.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],Fa._meta={name:"TableRow",type:i.TYPES.COLLECTION,parent:"Table"},Fa.defaultProps={as:"tr",cellAs:"td"},Fa.propTypes={},Fa.create=$t(Fa,(function(t){return{cells:t}}));var ja=Fa;function Ba(t){var e=t.attached,n=t.basic,i=t.celled,o=t.children,a=t.className,l=t.collapsing,u=t.color,c=t.columns,p=t.compact,h=t.definition,f=t.fixed,d=t.footerRow,g=t.headerRow,m=t.inverted,v=t.padded,y=t.renderBodyRow,_=t.selectable,b=t.singleLine,w=t.size,E=t.sortable,C=t.stackable,S=t.striped,T=t.structured,k=t.tableData,O=t.textAlign,I=t.unstackable,P=t.verticalAlign,N=Zt()("ui",u,w,ot(i,"celled"),ot(l,"collapsing"),ot(h,"definition"),ot(f,"fixed"),ot(m,"inverted"),ot(_,"selectable"),ot(b,"single line"),ot(E,"sortable"),ot(C,"stackable"),ot(S,"striped"),ot(T,"structured"),ot(I,"unstackable"),st(e,"attached"),st(n,"basic"),st(p,"compact"),st(v,"padded"),ut(O),ct(P),pt(c,"column"),"table",a),M=ie(Ba,t),A=oe(Ba,t);return r.isNil(o)?x.a.createElement(A,s()({},M,{className:N}),g&&x.a.createElement(Aa,null,ja.create(g,{defaultProps:{cellAs:"th"}})),x.a.createElement(Ia,null,y&&Ze()(k,(function(t,e){return ja.create(y(t,e))}))),d&&x.a.createElement(Ra,null,ja.create(d))):x.a.createElement(A,s()({},M,{className:N}),o)}Ba.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],Ba._meta={name:"Table",type:i.TYPES.COLLECTION},Ba.defaultProps={as:"table"},Ba.propTypes={},Ba.Body=Ia,Ba.Cell=Na,Ba.Footer=Ra,Ba.Header=Aa,Ba.HeaderCell=za,Ba.Row=ja;var Ua=Ba;function Va(t){var e=t.children,n=t.className,i=t.content,o=t.fluid,a=t.text,l=t.textAlign,u=Zt()("ui",ot(a,"text"),ot(o,"fluid"),ut(l),"container",n),c=ie(Va,t),p=oe(Va,t);return x.a.createElement(p,s()({},c,{className:u}),r.isNil(e)?i:e)}Va.handledProps=["as","children","className","content","fluid","text","textAlign"],Va._meta={name:"Container",type:i.TYPES.ELEMENT},Va.propTypes={};var qa=Va;function Ga(t){var e=t.children,n=t.className,i=t.clearing,o=t.content,a=t.fitted,l=t.hidden,u=t.horizontal,c=t.inverted,p=t.section,h=t.vertical,f=Zt()("ui",ot(i,"clearing"),ot(a,"fitted"),ot(l,"hidden"),ot(u,"horizontal"),ot(c,"inverted"),ot(p,"section"),ot(h,"vertical"),"divider",n),d=ie(Ga,t),g=oe(Ga,t);return x.a.createElement(g,s()({},d,{className:f}),r.isNil(e)?o:e)}Ga.handledProps=["as","children","className","clearing","content","fitted","hidden","horizontal","inverted","section","vertical"],Ga._meta={name:"Divider",type:i.TYPES.ELEMENT},Ga.propTypes={};var Wa=Ga;function Ha(t){var e=t.children,n=t.className,i=t.content,o=Zt()("sub header",n),a=ie(Ha,t),l=oe(Ha,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}Ha.handledProps=["as","children","className","content"],Ha._meta={name:"HeaderSubheader",parent:"Header",type:i.TYPES.ELEMENT},Ha.propTypes={},Ha.create=$t(Ha,(function(t){return{content:t}}));var Ya=Ha;function Xa(t){var e=t.children,n=t.className,i=t.content,o=Zt()("content",n),a=ie(Xa,t),l=oe(Xa,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}Xa.handledProps=["as","children","className","content"],Xa._meta={name:"HeaderContent",parent:"Header",type:i.TYPES.VIEW},Xa.propTypes={};var Za=Xa;function Ka(t){var e=t.attached,n=t.block,i=t.children,o=t.className,a=t.color,l=t.content,u=t.disabled,c=t.dividing,p=t.floated,h=t.icon,f=t.image,d=t.inverted,g=t.size,m=t.sub,v=t.subheader,y=t.textAlign,_=Zt()("ui",a,g,ot(n,"block"),ot(u,"disabled"),ot(c,"dividing"),at(p,"floated"),ot(!0===h,"icon"),ot(!0===f,"image"),ot(d,"inverted"),ot(m,"sub"),st(e,"attached"),ut(y),"header",o),b=ie(Ka,t),w=oe(Ka,t);if(!r.isNil(i))return x.a.createElement(w,s()({},b,{className:_}),i);var E=rr.create(h),C=yr.create(f),S=Ya.create(v);return E||C?x.a.createElement(w,s()({},b,{className:_}),E||C,(l||S)&&x.a.createElement(Za,null,l,S)):x.a.createElement(w,s()({},b,{className:_}),l,S)}Ka.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],Ka._meta={name:"Header",type:i.TYPES.ELEMENT},Ka.propTypes={},Ka.Content=Za,Ka.Subheader=Ya;var $a=Ka;function Ja(t){var e=t.children,n=t.className,i=t.content,o=Zt()(n,"description"),a=ie(Ja,t),l=oe(Ja,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}Ja.handledProps=["as","children","className","content"],Ja._meta={name:"ListDescription",parent:"List",type:i.TYPES.ELEMENT},Ja.propTypes={},Ja.create=$t(Ja,(function(t){return{content:t}}));var Qa=Ja;function ts(t){var e=t.children,n=t.className,i=t.content,o=Zt()("header",n),a=ie(ts,t),l=oe(ts,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}ts.handledProps=["as","children","className","content"],ts._meta={name:"ListHeader",parent:"List",type:i.TYPES.ELEMENT},ts.propTypes={},ts.create=$t(ts,(function(t){return{content:t}}));var es=ts;function ns(t){var e=t.children,n=t.className,i=t.content,o=t.description,a=t.floated,l=t.header,u=t.verticalAlign,c=Zt()(at(a,"floated"),ct(u),"content",n),p=ie(ns,t),h=oe(ns,t);return r.isNil(e)?x.a.createElement(h,s()({},p,{className:c}),es.create(l),Qa.create(o),i):x.a.createElement(h,s()({},p,{className:c}),e)}ns.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],ns._meta={name:"ListContent",parent:"List",type:i.TYPES.ELEMENT},ns.propTypes={},ns.create=$t(ns,(function(t){return{content:t}}));var rs=ns;function is(t){var e=t.className,n=t.verticalAlign,r=Zt()(ct(n),e),i=ie(is,t);return x.a.createElement(rr,s()({},i,{className:r}))}is.handledProps=["className","verticalAlign"],is._meta={name:"ListIcon",parent:"List",type:i.TYPES.ELEMENT},is.propTypes={},is.create=$t(is,(function(t){return{name:t}}));var os=is,as=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleClick=function(t){r.props.disabled||_()(r.props,"onClick",t,r.props)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.active,i=t.children,o=t.className,a=t.content,l=t.description,u=t.disabled,c=t.header,p=t.icon,h=t.image,f=t.value,d=oe(e,this.props),g=Zt()(ot(n,"active"),ot(u,"disabled"),ot("li"!==d,"item"),o),m=ie(e,this.props),v="li"===d?{value:f}:{"data-value":f};if(!r.isNil(i))return x.a.createElement(d,s()({},m,v,{role:"listitem",className:g,onClick:this.handleClick}),i);var y=os.create(p),_=yr.create(h);if(!Object(b.isValidElement)(a)&&Ut()(a))return x.a.createElement(d,s()({},m,v,{role:"listitem",className:g,onClick:this.handleClick}),y||_,rs.create(a,{header:c,description:l}));var w=es.create(c),E=Qa.create(l);return y||_?x.a.createElement(d,s()({},m,v,{role:"listitem",className:g,onClick:this.handleClick}),y||_,(a||w||E)&&x.a.createElement(rs,null,w,E,a)):x.a.createElement(d,s()({},m,v,{role:"listitem",className:g,onClick:this.handleClick}),w,E,a)}}]),e}(b.Component);as._meta={name:"ListItem",parent:"List",type:i.TYPES.ELEMENT},as.handledProps=["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"],as.propTypes={},as.create=$t(as,(function(t){return{content:t}}));var ss=as;function ls(t){var e=t.children,n=t.className,i=t.content,o=ie(ls,t),a=oe(ls,t),l=Zt()(ot("ul"!==a&&"ol"!==a,"list"),n);return x.a.createElement(a,s()({},o,{className:l}),r.isNil(e)?i:e)}ls.handledProps=["as","children","className","content"],ls._meta={name:"ListList",parent:"List",type:i.TYPES.ELEMENT},ls.propTypes={};var us=ls,cs=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleItemOverrides=function(t){return{onClick:function(e,n){_()(t,"onClick",e,n),_()(r.props,"onItemClick",e,n)}}},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this,n=this.props,i=n.animated,o=n.bulleted,a=n.celled,l=n.children,u=n.className,c=n.content,p=n.divided,h=n.floated,f=n.horizontal,d=n.inverted,g=n.items,m=n.link,v=n.ordered,y=n.relaxed,_=n.selection,b=n.size,w=n.verticalAlign,E=Zt()("ui",b,ot(i,"animated"),ot(o,"bulleted"),ot(a,"celled"),ot(p,"divided"),ot(f,"horizontal"),ot(d,"inverted"),ot(m,"link"),ot(v,"ordered"),ot(_,"selection"),st(y,"relaxed"),at(h,"floated"),ct(w),"list",u),C=ie(e,this.props),S=oe(e,this.props);return r.isNil(l)?r.isNil(c)?x.a.createElement(S,s()({},C,{role:"list",className:E}),Ze()(g,(function(e){return ss.create(e,{overrideProps:t.handleItemOverrides})}))):x.a.createElement(S,s()({},C,{role:"list",className:E}),c):x.a.createElement(S,s()({},C,{role:"list",className:E}),l)}}]),e}(b.Component);cs._meta={name:"List",type:i.TYPES.ELEMENT},cs.Content=rs,cs.Description=Qa,cs.Header=es,cs.Icon=os,cs.Item=ss,cs.List=us,cs.handledProps=["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"],cs.propTypes={};var ps=cs;function hs(t){var e=t.active,n=t.children,i=t.className,o=t.content,a=t.disabled,l=t.indeterminate,u=t.inline,c=t.inverted,p=t.size,h=Zt()("ui",p,ot(e,"active"),ot(a,"disabled"),ot(l,"indeterminate"),ot(c,"inverted"),ot(n||o,"text"),st(u,"inline"),"loader",i),f=ie(hs,t),d=oe(hs,t);return x.a.createElement(d,s()({},f,{className:h}),r.isNil(n)?o:n)}hs.handledProps=["active","as","children","className","content","disabled","indeterminate","inline","inverted","size"],hs._meta={name:"Loader",type:i.TYPES.ELEMENT},hs.propTypes={};var fs=hs;function ds(t){var e=t.attached,n=t.children,i=t.className,o=t.close,a=t.content,l=t.dividing,u=t.internal,c=t.position,p=t.size,h=Zt()("ui",c,p,ot(e,"attached"),ot(l,"dividing"),ot(u,"internal"),st(o,"close"),"rail",i),f=ie(ds,t),d=oe(ds,t);return x.a.createElement(d,s()({},f,{className:h}),r.isNil(n)?a:n)}ds.handledProps=["as","attached","children","className","close","content","dividing","internal","position","size"],ds._meta={name:"Rail",type:i.TYPES.ELEMENT},ds.propTypes={};var gs=ds;function ms(t){var e=t.children,n=t.className,i=t.content,o=t.hidden,a=t.visible,l=Zt()("ui",ot(o,"hidden"),ot(a,"visible"),"content",n),u=ie(ms,t),c=oe(ms,t);return x.a.createElement(c,s()({},u,{className:l}),r.isNil(e)?i:e)}ms.handledProps=["as","children","className","content","hidden","visible"],ms._meta={name:"RevealContent",parent:"Reveal",type:i.TYPES.ELEMENT},ms.propTypes={};var vs=ms;function ys(t){var e=t.active,n=t.animated,i=t.children,o=t.className,a=t.content,l=t.disabled,u=t.instant,c=Zt()("ui",n,ot(e,"active"),ot(l,"disabled"),ot(u,"instant"),"reveal",o),p=ie(ys,t),h=oe(ys,t);return x.a.createElement(h,s()({},p,{className:c}),r.isNil(i)?a:i)}ys.handledProps=["active","animated","as","children","className","content","disabled","instant"],ys._meta={name:"Reveal",type:i.TYPES.ELEMENT},ys.propTypes={},ys.Content=vs;var _s=ys;function bs(t){var e=t.children,n=t.className,i=t.compact,o=t.content,a=t.horizontal,l=t.piled,u=t.raised,c=t.size,p=t.stacked,h=Zt()("ui",c,ot(i,"compact"),ot(a,"horizontal"),ot(l,"piled"),ot(u,"raised"),ot(p,"stacked"),"segments",n),f=ie(bs,t),d=oe(bs,t);return x.a.createElement(d,s()({},f,{className:h}),r.isNil(e)?o:e)}bs.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],bs._meta={name:"SegmentGroup",parent:"Segment",type:i.TYPES.ELEMENT},bs.propTypes={};var xs=bs;function ws(t){var e=t.attached,n=t.basic,i=t.children,o=t.circular,a=t.className,l=t.clearing,u=t.color,c=t.compact,p=t.content,h=t.disabled,f=t.floated,d=t.inverted,g=t.loading,m=t.padded,v=t.piled,y=t.raised,_=t.secondary,b=t.size,w=t.stacked,E=t.tertiary,C=t.textAlign,S=t.vertical,T=Zt()("ui",u,b,ot(n,"basic"),ot(o,"circular"),ot(l,"clearing"),ot(c,"compact"),ot(h,"disabled"),ot(d,"inverted"),ot(g,"loading"),ot(v,"piled"),ot(y,"raised"),ot(_,"secondary"),ot(w,"stacked"),ot(E,"tertiary"),ot(S,"vertical"),st(e,"attached"),st(m,"padded"),ut(C),at(f,"floated"),"segment",a),k=ie(ws,t),O=oe(ws,t);return x.a.createElement(O,s()({},k,{className:T}),r.isNil(i)?p:i)}ws.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","raised","secondary","size","stacked","tertiary","textAlign","vertical"],ws.Group=xs,ws._meta={name:"Segment",type:i.TYPES.ELEMENT},ws.propTypes={};var Es=ws;function Cs(t){var e=t.children,n=t.className,i=t.content,o=Zt()("description",n),a=ie(Cs,t),l=oe(Cs,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}Cs.handledProps=["as","children","className","content"],Cs._meta={name:"StepDescription",parent:"Step",type:i.TYPES.ELEMENT},Cs.propTypes={},Cs.create=$t(Cs,(function(t){return{content:t}}));var Ss=Cs;function Ts(t){var e=t.children,n=t.className,i=t.content,o=Zt()("title",n),a=ie(Ts,t),l=oe(Ts,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}Ts.handledProps=["as","children","className","content"],Ts._meta={name:"StepTitle",parent:"Step",type:i.TYPES.ELEMENT},Ts.propTypes={},Ts.create=$t(Ts,(function(t){return{content:t}}));var ks=Ts;function Os(t){var e=t.children,n=t.className,i=t.content,o=t.description,a=t.title,l=Zt()("content",n),u=ie(Os,t),c=oe(Os,t);return r.isNil(e)?r.isNil(i)?x.a.createElement(c,s()({},u,{className:l}),ks.create(a),Ss.create(o)):x.a.createElement(c,s()({},u,{className:l}),i):x.a.createElement(c,s()({},u,{className:l}),e)}Os.handledProps=["as","children","className","content","description","title"],Os._meta={name:"StepContent",parent:"Step",type:i.TYPES.ELEMENT},Os.propTypes={},Os.create=$t(Os,(function(t){return{content:t}}));var Is=Os,Ps=n(350);n.n(Ps)()(rt,(function(t,e){return e<=8}));function Ns(t){var e=t.attached,n=t.children,i=t.className,o=t.content,a=t.fluid,l=t.items,u=t.ordered,c=t.size,p=t.stackable,h=t.unstackable,f=t.vertical,d=t.widths,g=Zt()("ui",c,ot(a,"fluid"),ot(u,"ordered"),ot(h,"unstackable"),ot(f,"vertical"),st(e,"attached"),at(p,"stackable"),pt(d),"steps",i),m=ie(Ns,t),v=oe(Ns,t);return r.isNil(n)?r.isNil(o)?x.a.createElement(v,s()({},m,{className:g}),Ze()(l,(function(t){return Ls.create(t)}))):x.a.createElement(v,s()({},m,{className:g}),o):x.a.createElement(v,s()({},m,{className:g}),n)}Ns.handledProps=["as","attached","children","className","content","fluid","items","ordered","size","stackable","unstackable","vertical","widths"],Ns._meta={name:"StepGroup",parent:"Step",type:i.TYPES.ELEMENT},Ns.propTypes={};var Ms=Ns,As=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.computeElementType=function(){if(r.props.onClick)return"a"},r.handleClick=function(t){r.props.disabled||_()(r.props,"onClick",t,r.props)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.active,i=t.children,o=t.className,a=t.completed,l=t.content,u=t.description,c=t.disabled,p=t.href,h=t.icon,f=t.link,d=t.title,g=Zt()(ot(n,"active"),ot(a,"completed"),ot(c,"disabled"),ot(f,"link"),"step",o),m=ie(e,this.props),v=oe(e,this.props,this.computeElementType);return r.isNil(i)?r.isNil(l)?x.a.createElement(v,s()({},m,{className:g,href:p,onClick:this.handleClick}),rr.create(h),Is.create({description:u,title:d})):x.a.createElement(v,s()({},m,{className:g,href:p,onClick:this.handleClick}),l):x.a.createElement(v,s()({},m,{className:g,href:p,onClick:this.handleClick}),i)}}]),e}(b.Component);As._meta={name:"Step",type:i.TYPES.ELEMENT},As.Content=Is,As.Description=Ss,As.Group=Ms,As.Title=ks,As.handledProps=["active","as","children","className","completed","content","description","disabled","href","icon","link","onClick","ordered","title"],As.propTypes={},As.create=$t(As,(function(t){return{content:t}}));var Ls=As;function Rs(t){var e=t.active,n=t.children,i=t.className,o=t.content,a=Zt()("content",ot(e,"active"),i),l=ie(Rs,t),u=oe(Rs,t);return x.a.createElement(u,s()({},l,{className:a}),r.isNil(n)?o:n)}Rs.handledProps=["active","as","children","className","content"],Rs.propTypes={},Rs._meta={name:"AccordionContent",type:i.TYPES.MODULE,parent:"Accordion"},Rs.create=$t(Rs,(function(t){return{content:t}}));var Ds=Rs,zs=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleClick=function(t){return _()(r.props,"onClick",t,r.props)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.active,r=t.children,i=t.className,o=t.content,a=Zt()(ot(n,"active"),"title",i),l=ie(e,this.props),u=oe(e,this.props);return _t()(o)?x.a.createElement(u,s()({},l,{className:a,onClick:this.handleClick}),r):x.a.createElement(u,s()({},l,{className:a,onClick:this.handleClick}),x.a.createElement(rr,{name:"dropdown"}),o)}}]),e}(b.Component);zs._meta={name:"AccordionTitle",type:i.TYPES.MODULE,parent:"Accordion"},zs.handledProps=["active","as","children","className","content","index","onClick"];var Fs=zs;zs.propTypes={},zs.create=$t(zs,(function(t){return{content:t}}));var js=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.computeNewIndex=function(t){var e=r.props.exclusive,n=r.state.activeIndex;return e?t===n?-1:t:se()(n,t)?Ct()(n,t):[].concat(ft()(n),[t])},r.handleTitleOverrides=function(t){return{onClick:function(e,n){var i=n.index,o=r.computeNewIndex(i);r.trySetState({activeIndex:o}),_()(t,"onClick",e,n),_()(r.props,"onTitleClick",e,n)}}},r.isIndexActive=function(t){var e=r.props.exclusive,n=r.state.activeIndex;return e?n===t:se()(n,t)},r.renderPanels=function(){var t=[],e=r.props.panels;return A()(e,(function(e,n){var i=e.content,o=e.title,a=r.isIndexActive(n);t.push(Fs.create(o,{defaultProps:{active:a,index:n},overrideProps:r.handleTitleOverrides})),t.push(Ds.create(i,{defaultProps:{active:a}}))})),t},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"getInitialAutoControlledState",value:function(t){return{activeIndex:t.exclusive?-1:[-1]}}},{key:"render",value:function(){var t=this.props,n=t.className,r=t.children,i=Zt()("accordion",n),o=ie(e,this.props),a=oe(e,this.props);return x.a.createElement(a,s()({},o,{className:i}),_t()(r)?this.renderPanels():r)}}]),e}(F);js.defaultProps={exclusive:!0},js.autoControlledProps=["activeIndex"],js._meta={name:"AccordionAccordion",type:i.TYPES.MODULE,parent:"Accordion"},js.handledProps=["activeIndex","as","children","className","defaultActiveIndex","exclusive","onTitleClick","panels"];var Bs=js;function Us(t){var e=t.className,n=t.fluid,r=t.inverted,i=t.styled,o=Zt()("ui",ot(n,"fluid"),ot(r,"inverted"),ot(i,"styled"),e),a=ie(Us,t);return x.a.createElement(Bs,s()({},a,{className:o}))}js.propTypes={},js.create=$t(js,(function(t){return{content:t}})),Us.handledProps=["className","fluid","inverted","styled"],Us._meta={name:"Accordion",type:i.TYPES.MODULE},Us.propTypes={},Us.Accordion=Bs,Us.Content=Ds,Us.Title=Fs;var Vs=Us,qs=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleClick=function(t){var e=r.props.onClick,n=r.state.active;e&&e(t,s()({},r.props,{active:!0})),n||r.trySetState({active:!0})},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"getSrc",value:function(){var t=this.props,e=t.autoplay,n=void 0===e||e,r=t.brandedUI,i=void 0!==r&&r,o=t.color,a=void 0===o?"#444444":o,s=t.hd,l=void 0===s||s,u=t.id,c=t.source,p=t.url;return"youtube"===c?["//www.youtube.com/embed/"+u,"?autohide=true","&amp;autoplay="+n,"&amp;color="+encodeURIComponent(a),"&amp;hq="+l,"&amp;jsapi=false","&amp;modestbranding="+i,"&amp;rel="+(i?0:1)].join(""):"vimeo"===c?["//player.vimeo.com/video/"+u,"?api=false","&amp;autoplay="+n,"&amp;byline=false","&amp;color="+encodeURIComponent(a),"&amp;portrait=false","&amp;title=false"].join(""):p}},{key:"render",value:function(){var t=this.props,n=t.aspectRatio,r=t.className,i=t.icon,o=t.placeholder,a=this.state.active,l=Zt()("ui",n,ot(a,"active"),"embed",r),u=ie(e,this.props),c=oe(e,this.props);return x.a.createElement(c,s()({},u,{className:l,onClick:this.handleClick}),rr.create(i),o&&x.a.createElement("img",{className:"placeholder",src:o}),this.renderEmbed())}},{key:"renderEmbed",value:function(){var t=this.props,e=t.children,n=t.content,i=t.iframe,o=t.source;return this.state.active?r.isNil(e)?r.isNil(n)?x.a.createElement("div",{className:"embed"},Qt(r.isNil(i)?this.getSrc():i,{defaultProps:{allowFullScreen:!1,frameBorder:0,height:"100%",scrolling:"no",src:this.getSrc(),title:"Embedded content from "+o+".",width:"100%"}})):x.a.createElement("div",{className:"embed"},n):x.a.createElement("div",{className:"embed"},e):null}}]),e}(F);qs.autoControlledProps=["active"],qs.defaultProps={icon:"video play"},qs._meta={name:"Embed",type:i.TYPES.MODULE},qs.handledProps=["active","as","aspectRatio","autoplay","brandedUI","children","className","color","content","defaultActive","hd","icon","id","iframe","onClick","placeholder","source","url"];var Gs=qs;qs.propTypes={};var Ws=n(351),Hs=n.n(Ws);function Ys(t){var e=t.children,n=t.className,i=t.content,o=Zt()("content",n),a=ie(Ys,t),l=oe(Ys,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}function Xs(t){var e=t.children,n=t.className,i=t.content,o=Zt()("header",n),a=ie(Xs,t),l=oe(Xs,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}Ys.handledProps=["as","children","className","content"],Ys.propTypes={},Ys._meta={name:"PopupContent",type:i.TYPES.MODULE,parent:"Popup"},Ys.create=$t(Ys,(function(t){return{children:t}})),Xs.handledProps=["as","children","className","content"],Xs.propTypes={},Xs._meta={name:"PopupHeader",type:i.TYPES.MODULE,parent:"Popup"},Xs.create=$t(Xs,(function(t){return{children:t}}));var Zs=["top left","top right","bottom right","bottom left","right center","left center","top center","bottom center"],Ks=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.state={},r.hideOnScroll=function(t){r.setState({closed:!0}),zt.unsub("scroll",r.hideOnScroll,{target:window}),setTimeout((function(){return r.setState({closed:!1})}),50),r.handleClose(t)},r.handleClose=function(t){_()(r.props,"onClose",t,r.props)},r.handleOpen=function(t){r.coords=t.currentTarget.getBoundingClientRect();var e=r.props.onOpen;e&&e(t,r.props)},r.handlePortalMount=function(t){r.props.hideOnScroll&&zt.sub("scroll",r.hideOnScroll,{target:window}),_()(r.props,"onMount",t,r.props)},r.handlePortalUnmount=function(t){r.props.hideOnScroll&&zt.unsub("scroll",r.hideOnScroll,{target:window}),_()(r.props,"onUnmount",t,r.props)},r.handlePopupRef=function(t){r.popupCoords=t?t.getBoundingClientRect():null,r.setPopupStyle()},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"computePopupStyle",value:function(t){var e={position:"absolute"};if(!wt())return e;var n=this.props,r=n.horizontalOffset,i=n.verticalOffset,o=window,a=o.pageYOffset,s=o.pageXOffset,l=document.documentElement,u=l.clientWidth,c=l.clientHeight;if(se()(t,"right"))e.right=Math.round(u-(this.coords.right+s)),e.left="auto";else if(se()(t,"left"))e.left=Math.round(this.coords.left+s),e.right="auto";else{var p=(this.coords.width-this.popupCoords.width)/2;e.left=Math.round(this.coords.left+p+s),e.right="auto"}if(se()(t,"top"))e.bottom=Math.round(c-(this.coords.top+a)),e.top="auto";else if(se()(t,"bottom"))e.top=Math.round(this.coords.bottom+a),e.bottom="auto";else{var h=(this.coords.height+this.popupCoords.height)/2;e.top=Math.round(this.coords.bottom+a-h),e.bottom="auto";var f=this.popupCoords.width+8;se()(t,"right")?e.right-=f:e.left-=f}return r&&(qt()(e.right)?e.right-=r:e.left-=r),i&&(qt()(e.top)?e.top+=i:e.bottom+=i),e}},{key:"isStyleInViewport",value:function(t){var e=window,n=e.pageYOffset,r=e.pageXOffset,i=document.documentElement,o=i.clientWidth,a=i.clientHeight,s={top:t.top,left:t.left,width:this.popupCoords.width,height:this.popupCoords.height};return qt()(t.right)&&(s.left=o-t.right-s.width),qt()(t.bottom)&&(s.top=a-t.bottom-s.height),!(s.top<n)&&(!(s.top+s.height>n+a)&&(!(s.left<r)&&!(s.left+s.width>r+o)))}},{key:"setPopupStyle",value:function(){if(this.coords&&this.popupCoords){var t=this.props.position,e=this.computePopupStyle(t);if(this.props.keepInViewPort)for(var n=Ct()(Zs,t).concat([t]),r=0;!this.isStyleInViewport(e)&&r<n.length;r+=1)e=this.computePopupStyle(n[r]),t=n[r];e=So()(e,(function(t){return qt()(t)?t+"px":t})),this.setState({style:e,position:t})}}},{key:"getPortalProps",value:function(){var t={},e=this.props,n=e.on,r=e.hoverable,i=Mt()(n)?n:[n];return r&&(t.closeOnPortalMouseLeave=!0,t.mouseLeaveDelay=300),se()(i,"click")&&(t.openOnTriggerClick=!0,t.closeOnTriggerClick=!0,t.closeOnDocumentClick=!0),se()(i,"focus")&&(t.openOnTriggerFocus=!0,t.closeOnTriggerBlur=!0),se()(i,"hover")&&(t.openOnTriggerMouseEnter=!0,t.closeOnTriggerMouseLeave=!0,t.mouseLeaveDelay=70,t.mouseEnterDelay=50),t}},{key:"render",value:function(){var t=this.props,n=t.basic,i=t.children,o=t.className,a=t.content,l=t.flowing,u=t.header,c=t.inverted,p=t.size,h=t.trigger,f=t.wide,d=this.state,g=d.position,m=d.closed,v=Hs()({},this.state.style,this.props.style),y=Zt()("ui",g,p,st(f,"wide"),ot(n,"basic"),ot(l,"flowing"),ot(c,"inverted"),"popup transition visible",o);if(m)return h;var _=ie(e,this.props),b=ur.handledProps,w=Dr()(_,(function(t,e,n){return se()(b,n)||(t[n]=e),t}),{}),E=Lr()(_,b),C=oe(e,this.props),S=x.a.createElement(C,s()({},w,{className:y,style:v,ref:this.handlePopupRef}),i,r.isNil(i)&&Xs.create(u),r.isNil(i)&&Ys.create(a)),T=s()({},this.getPortalProps(),E);return x.a.createElement(ur,s()({},T,{trigger:h,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),S)}}]),e}(b.Component);Ks.defaultProps={position:"top left",on:"hover",keepInViewPort:!0},Ks._meta={name:"Popup",type:i.TYPES.MODULE},Ks.Content=Ys,Ks.Header=Xs,Ks.handledProps=["as","basic","children","className","content","flowing","header","hideOnScroll","horizontalOffset","hoverable","inverted","keepInViewPort","on","onClose","onMount","onOpen","onUnmount","position","size","style","trigger","verticalOffset","wide"];var $s=Ks;Ks.propTypes={};var Js=n(352),Qs=n.n(Js),tl=n(353),el=n.n(tl),nl=function(t){function e(){var t,n,i,o;u()(this,e);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=i=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.calculatePercent=function(){var t=i.props,e=t.percent,n=t.total,r=t.value;return S()(e)?S()(n)||S()(r)?void 0:r/n*100:e},i.computeValueText=function(t){var e=i.props,n=e.progress,r=e.total,o=e.value;return"value"===n?o:"ratio"===n?o+"/"+r:t+"%"},i.getPercent=function(){var t=i.props,e=t.precision,n=t.progress,r=t.total,o=t.value,a=el()(i.calculatePercent(),0,100);return S()(r)||S()(o)||"value"!==n?"value"===n?o:S()(e)?a:Qs()(a,e):o/r*100},i.isAutoSuccess=function(){var t=i.props,e=t.autoSuccess,n=t.percent,r=t.total,o=t.value;return e&&(n>=100||o>=r)},i.renderLabel=function(){var t=i.props,e=t.children,n=t.content,o=t.label;return r.isNil(e)?r.isNil(n)?Jt(o,{defaultProps:{className:"label"}}):x.a.createElement("div",{className:"label"},n):x.a.createElement("div",{className:"label"},e)},i.renderProgress=function(t){var e=i.props,n=e.precision;if(e.progress||!S()(n))return x.a.createElement("div",{className:"progress"},i.computeValueText(t))},o=n,f()(i,o)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.active,r=t.attached,i=t.className,o=t.color,a=t.disabled,l=t.error,u=t.indicating,c=t.inverted,p=t.size,h=t.success,f=t.warning,d=Zt()("ui",o,p,ot(n||u,"active"),ot(a,"disabled"),ot(l,"error"),ot(u,"indicating"),ot(c,"inverted"),ot(h||this.isAutoSuccess(),"success"),ot(f,"warning"),at(r,"attached"),"progress",i),g=ie(e,this.props),m=oe(e,this.props),v=this.getPercent();return x.a.createElement(m,s()({},g,{className:d,"data-percent":Math.floor(v)}),x.a.createElement("div",{className:"bar",style:{width:v+"%"}},this.renderProgress(v)),this.renderLabel())}}]),e}(b.Component);nl._meta={name:"Progress",type:i.TYPES.MODULE},nl.handledProps=["active","as","attached","autoSuccess","children","className","color","content","disabled","error","indicating","inverted","label","percent","precision","progress","size","success","total","value","warning"],nl.propTypes={};var rl=nl,il=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleClick=function(t){var e=r.props.onClick;e&&e(t,r.props)},r.handleKeyUp=function(t){var e=r.props,n=e.onClick,i=e.onKeyUp;if(i&&i(t,r.props),n)switch(Xn.getCode(t)){case Xn.Enter:case Xn.Spacebar:t.preventDefault(),n(t,r.props)}},r.handleMouseEnter=function(t){var e=r.props.onMouseEnter;e&&e(t,r.props)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.active,r=t.className,i=t.selected,o=Zt()(ot(n,"active"),ot(i,"selected"),"icon",r),a=ie(e,this.props),l=oe(e,this.props);return x.a.createElement(l,s()({},a,{className:o,onClick:this.handleClick,onKeyUp:this.handleKeyUp,onMouseEnter:this.handleMouseEnter,tabIndex:0,role:"radio"}))}}]),e}(b.Component);il.defaultProps={as:"i"},il._meta={name:"RatingIcon",parent:"Rating",type:i.TYPES.MODULE},il.handledProps=["active","as","className","index","onClick","onKeyUp","onMouseEnter","selected"];var ol=il;il.propTypes={};var al=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),sl.call(r),i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this,n=this.props,r=n.className,i=n.disabled,o=n.icon,a=n.maxRating,l=n.size,u=this.state,c=u.rating,p=u.selectedIndex,h=u.isSelecting,f=Zt()("ui",o,l,ot(i,"disabled"),ot(h&&!i&&p>=0,"selected"),"rating",r),d=ie(e,this.props),g=oe(e,this.props);return x.a.createElement(g,s()({},d,{className:f,role:"radiogroup",onMouseLeave:this.handleMouseLeave}),Wn()(a,(function(e){return x.a.createElement(ol,{active:c>=e+1,"aria-checked":c===e+1,"aria-posinset":e+1,"aria-setsize":a,index:e,key:e,onClick:t.handleIconClick,onMouseEnter:t.handleIconMouseEnter,selected:p>=e&&h})})))}}]),e}(F);al.autoControlledProps=["rating"],al.defaultProps={clearable:"auto",maxRating:1},al._meta={name:"Rating",type:i.TYPES.MODULE},al.Icon=ol,al.handledProps=["as","className","clearable","defaultRating","disabled","icon","maxRating","onRate","rating","size"];var sl=function(){var t=this;this.handleIconClick=function(e,n){var r=n.index,i=t.props,o=i.clearable,a=i.disabled,l=i.maxRating,u=i.onRate,c=t.state.rating;if(!a){var p=r+1;"auto"===o&&1===l?p=+!c:!0===o&&p===c&&(p=0),t.trySetState({rating:p},{isSelecting:!1}),u&&u(e,s()({},t.props,{rating:p}))}},this.handleIconMouseEnter=function(e,n){var r=n.index;t.props.disabled||t.setState({selectedIndex:r,isSelecting:!0})},this.handleMouseLeave=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];_.a.apply(void 0,[t.props,"onMouseLeave"].concat(n)),t.props.disabled||t.setState({selectedIndex:-1,isSelecting:!1})}},ll=al;al.propTypes={};var ul=n(55),cl=n.n(ul),pl=n(354),hl=n.n(pl);function fl(t){var e=t.active,n=t.children,i=t.className,o=t.content,a=t.renderer,l=Zt()(ot(e,"active"),"category",i),u=ie(fl,t),c=oe(fl,t);return x.a.createElement(c,s()({},u,{className:l}),x.a.createElement("div",{className:"name"},a(t)),r.isNil(n)?o:n)}fl.handledProps=["active","as","children","className","content","name","renderer","results"],fl._meta={name:"SearchCategory",parent:"Search",type:i.TYPES.MODULE},fl.defaultProps={renderer:function(t){return t.name}},fl.propTypes={};var dl=fl,gl=function(t){var e=t.image,n=t.price,r=t.title,i=t.description;return[e&&x.a.createElement("div",{key:"image",className:"image"},te(e)),x.a.createElement("div",{key:"content",className:"content"},n&&x.a.createElement("div",{className:"price"},n),r&&x.a.createElement("div",{className:"title"},r),i&&x.a.createElement("div",{className:"description"},i))]};gl.handledProps=[];var ml=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleClick=function(t){var e=r.props.onClick;e&&e(t,r.props)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.active,r=t.className,i=t.renderer,o=Zt()(ot(n,"active"),"result",r),a=ie(e,this.props),l=oe(e,this.props);return x.a.createElement(l,s()({},a,{className:o,onClick:this.handleClick}),i(this.props))}}]),e}(b.Component);ml.defaultProps={renderer:gl},ml._meta={name:"SearchResult",parent:"Search",type:i.TYPES.MODULE},ml.handledProps=["active","as","className","content","description","id","image","onClick","price","renderer","title"];var vl=ml;function yl(t){var e=t.children,n=t.className,i=t.content,o=Zt()("results transition",n),a=ie(yl,t),l=oe(yl,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}ml.propTypes={},yl.handledProps=["as","children","className","content"],yl._meta={name:"SearchResults",parent:"Search",type:i.TYPES.MODULE},yl.propTypes={};var _l=yl,bl=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleResultSelect=function(t,e){_()(r.props,"onResultSelect",t,s()({},r.props,{result:e}))},r.handleSelectionChange=function(t){var e=r.getSelectedResult();_()(r.props,"onSelectionChange",t,s()({},r.props,{result:e}))},r.closeOnEscape=function(t){Xn.getCode(t)===Xn.Escape&&(t.preventDefault(),r.close())},r.moveSelectionOnKeyDown=function(t){switch(Xn.getCode(t)){case Xn.ArrowDown:t.preventDefault(),r.moveSelectionBy(t,1);break;case Xn.ArrowUp:t.preventDefault(),r.moveSelectionBy(t,-1)}},r.selectItemOnEnter=function(t){if(Xn.getCode(t)===Xn.Enter){var e=r.getSelectedResult();e&&(t.preventDefault(),r.setValue(e.title),r.handleResultSelect(t,e),r.close())}},r.closeOnDocumentClick=function(t){r.close()},r.handleMouseDown=function(t){r.isMouseDown=!0,_()(r.props,"onMouseDown",t,r.props),zt.sub("mouseup",r.handleDocumentMouseUp)},r.handleDocumentMouseUp=function(){r.isMouseDown=!1,zt.unsub("mouseup",r.handleDocumentMouseUp)},r.handleInputClick=function(t){t.nativeEvent.stopImmediatePropagation(),r.tryOpen()},r.handleItemClick=function(t,e){var n=e.id,i=r.getSelectedResult(n);t.nativeEvent.stopImmediatePropagation(),r.setValue(i.title),r.handleResultSelect(t,i),r.close()},r.handleFocus=function(t){var e=r.props.onFocus;e&&e(t,r.props),r.setState({focus:!0})},r.handleBlur=function(t){var e=r.props.onBlur;e&&e(t,r.props),r.setState({focus:!1})},r.handleSearchChange=function(t){t.stopPropagation();var e=r.props.minCharacters,n=r.state.open,i=t.target.value;_()(r.props,"onSearchChange",t,s()({},r.props,{value:i})),i.length<e?r.close():n||r.tryOpen(i),r.setValue(i)},r.getFlattenedResults=function(){var t=r.props,e=t.category,n=t.results;return e?Dr()(n,(function(t,e){return t.concat(e.results)}),[]):n},r.getSelectedResult=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.selectedIndex,e=r.getFlattenedResults();return Ot()(e,t)},r.setValue=function(t){var e=r.props.selectFirstResult;r.trySetState({value:t},{selectedIndex:e?0:-1})},r.moveSelectionBy=function(t,e){var n=r.state.selectedIndex,i=r.getFlattenedResults().length-1,o=n+e;o>i?o=0:o<0&&(o=i),r.setState({selectedIndex:o}),r.scrollSelectedItemIntoView(),r.handleSelectionChange(t)},r.scrollSelectedItemIntoView=function(){if(wt()){var t=document.querySelector(".ui.search.active.visible .results.visible"),e=t.querySelector(".result.active");if(e){var n=e.offsetTop<t.scrollTop,r=e.offsetTop+e.clientHeight>t.scrollTop+t.clientHeight;n?t.scrollTop=e.offsetTop:r&&(t.scrollTop=e.offsetTop+e.clientHeight-t.clientHeight)}}},r.tryOpen=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.value,e=r.props.minCharacters;t.length<e||r.open()},r.open=function(){r.trySetState({open:!0})},r.close=function(){r.trySetState({open:!1})},r.renderSearchInput=function(t){var e=r.props,n=e.icon,i=e.input,o=r.state.value;return ta.create(i,{defaultProps:s()({},t,{icon:n,input:{className:"prompt",tabIndex:"0",autoComplete:"off"},onChange:r.handleSearchChange,onClick:r.handleInputClick,value:o})})},r.renderNoResults=function(){var t=r.props,e=t.noResultsDescription,n=t.noResultsMessage;return x.a.createElement("div",{className:"message empty"},x.a.createElement("div",{className:"header"},n),e&&x.a.createElement("div",{className:"description"},e))},r.renderResult=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=t.childKey,a=cl()(t,["childKey"]),l=r.props.resultRenderer,u=r.state.selectedIndex,c=e+i;return x.a.createElement(vl,s()({key:o||a.title,active:u===c,onClick:r.handleItemClick,renderer:l},a,{id:c}))},r.renderResults=function(){var t=r.props.results;return Ze()(t,r.renderResult)},r.renderCategories=function(){var t=r.props,e=t.categoryRenderer,n=t.results,i=r.state.selectedIndex,o=0;return Ze()(n,(function(t){var n=t.childKey,a=cl()(t,["childKey"]),l=s()({key:n||a.name,active:he()(i,o,o+a.results.length),renderer:e},a),u=hl()(r.renderResult,o);return o+=a.results.length,x.a.createElement(dl,l,a.results.map(u))}))},r.renderMenuContent=function(){var t=r.props,e=t.category,n=t.showNoResults,i=t.results;return I()(i)?n?r.renderNoResults():null:e?r.renderCategories():r.renderResults()},r.renderResultsMenu=function(){var t=r.state.open?"visible":"",e=r.renderMenuContent();if(e)return x.a.createElement(_l,{className:t},e)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"componentWillMount",value:function(){var t=this.state,e=t.open,n=t.value;this.setValue(n),e&&this.open()}},{key:"componentWillReceiveProps",value:function(t){ji()(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"componentWillReceiveProps",this).call(this,t),Qn(t.value,this.props.value)||this.setValue(t.value)}},{key:"shouldComponentUpdate",value:function(t,e){return!Qn(t,this.props)||!Qn(e,this.state)}},{key:"componentDidUpdate",value:function(t,e){!e.focus&&this.state.focus?(this.isMouseDown||this.tryOpen(),this.state.open&&zt.sub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])):e.focus&&!this.state.focus&&(this.isMouseDown||this.close(),zt.unsub("keydown",[this.moveSelectionOnKeyDown,this.selectItemOnEnter])),!e.open&&this.state.open?(this.open(),zt.sub("click",this.closeOnDocumentClick),zt.sub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])):e.open&&!this.state.open&&(this.close(),zt.unsub("click",this.closeOnDocumentClick),zt.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter]))}},{key:"componentWillUnmount",value:function(){zt.unsub("click",this.closeOnDocumentClick),zt.unsub("keydown",[this.closeOnEscape,this.moveSelectionOnKeyDown,this.selectItemOnEnter])}},{key:"render",value:function(){var t=this.state,n=t.searchClasses,r=t.focus,i=t.open,o=this.props,a=o.aligned,l=o.category,u=o.className,c=o.fluid,p=o.loading,h=o.size,f=Zt()("ui",i&&"active visible",h,n,ot(l,"category"),ot(r,"focus"),ot(c,"fluid"),ot(p,"loading"),at(a,"aligned"),"search",u),d=ie(e,this.props),g=oe(e,this.props),m=ce(d,{htmlProps:le}),v=B()(m,2),y=v[0],_=v[1];return x.a.createElement(g,s()({},_,{className:f,onBlur:this.handleBlur,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown}),this.renderSearchInput(y),this.renderResultsMenu())}}]),e}(F);bl.defaultProps={icon:"search",input:"text",minCharacters:1,noResultsMessage:"No results found.",showNoResults:!0},bl.autoControlledProps=["open","value"],bl._meta={name:"Search",type:i.TYPES.MODULE},bl.Category=dl,bl.Result=vl,bl.Results=_l,bl.handledProps=["aligned","as","category","categoryRenderer","className","defaultOpen","defaultValue","fluid","icon","input","loading","minCharacters","noResultsDescription","noResultsMessage","onBlur","onFocus","onMouseDown","onResultSelect","onSearchChange","onSelectionChange","open","resultRenderer","results","selectFirstResult","showNoResults","size","value"];var xl=bl;function wl(t){var e=t.className,n=t.children,i=t.content,o=Zt()("pushable",e),a=ie(wl,t),l=oe(wl,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(n)?i:n)}bl.propTypes={},wl.handledProps=["as","children","className","content"],wl._meta={name:"SidebarPushable",type:i.TYPES.MODULE,parent:"Sidebar"},wl.propTypes={};var El=wl;function Cl(t){var e=t.className,n=t.dimmed,i=t.children,o=t.content,a=Zt()("pusher",ot(n,"dimmed"),e),l=ie(Cl,t),u=oe(Cl,t);return x.a.createElement(u,s()({},l,{className:a}),r.isNil(i)?o:i)}Cl.handledProps=["as","children","className","content","dimmed"],Cl._meta={name:"SidebarPusher",type:i.TYPES.MODULE,parent:"Sidebar"},Cl.propTypes={};var Sl=Cl,Tl=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.startAnimating=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;clearTimeout(r.stopAnimatingTimer),r.setState({animating:!0}),r.stopAnimatingTimer=setTimeout((function(){return r.setState({animating:!1})}),t)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"componentWillReceiveProps",value:function(t){t.visible!==this.props.visible&&this.startAnimating()}},{key:"render",value:function(){var t=this.props,n=t.animation,i=t.className,o=t.children,a=t.content,l=t.direction,u=t.visible,c=t.width,p=this.state.animating,h=Zt()("ui",n,l,c,ot(p,"animating"),ot(u,"visible"),"sidebar",i),f=ie(e,this.props),d=oe(e,this.props);return x.a.createElement(d,s()({},f,{className:h}),r.isNil(o)?a:o)}}]),e}(F);Tl.defaultProps={direction:"left"},Tl.autoControlledProps=["visible"],Tl._meta={name:"Sidebar",type:i.TYPES.MODULE},Tl.Pushable=El,Tl.Pusher=Sl,Tl.handledProps=["animation","as","children","className","content","defaultVisible","direction","visible","width"],Tl.propTypes={};var kl=Tl,Ol=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.state={sticky:!1},r.addListeners=function(t){var e=t.scrollContext;e&&(zt.sub("resize",r.handleUpdate,{target:e}),zt.sub("scroll",r.handleUpdate,{target:e}))},r.removeListeners=function(){var t=r.props.scrollContext;t&&(zt.unsub("resize",r.handleUpdate,{target:t}),zt.unsub("scroll",r.handleUpdate,{target:t}))},r.update=function(t){var e=r.state.pushing;if(r.ticking=!1,r.assignRects(),e)return r.didReachStartingPoint()?r.stickToContextTop(t):r.didTouchScreenBottom()?r.stickToScreenBottom(t):r.stickToContextBottom(t);if(r.isOversized()){if(r.contextRect.top>0)return r.stickToContextTop(t);if(r.contextRect.bottom<window.innerHeight)return r.stickToContextBottom(t)}return r.didTouchScreenTop()?r.didReachContextBottom()?r.stickToContextBottom(t):r.stickToScreenTop(t):r.stickToContextTop(t)},r.handleUpdate=function(t){r.ticking||(r.ticking=!0,requestAnimationFrame((function(){return r.update(t)})))},r.assignRects=function(){var t=r.props.context;r.triggerRect=r.triggerRef.getBoundingClientRect(),r.contextRect=(t||document.body).getBoundingClientRect(),r.stickyRect=r.stickyRef.getBoundingClientRect()},r.didReachContextBottom=function(){var t=r.props.offset;return r.stickyRect.height+t>=r.contextRect.bottom},r.didReachStartingPoint=function(){return r.stickyRect.top<=r.triggerRect.top},r.didTouchScreenTop=function(){return r.triggerRect.top<r.props.offset},r.didTouchScreenBottom=function(){var t=r.props.bottomOffset;return r.contextRect.bottom+t>window.innerHeight},r.isOversized=function(){return r.stickyRect.height>window.innerHeight},r.pushing=function(t){r.props.pushing&&r.setState({pushing:t})},r.stick=function(t){r.setState({sticky:!0}),_()(r.props,"onStick",t,r.props)},r.unstick=function(t){r.setState({sticky:!1}),_()(r.props,"onUnstick",t,r.props)},r.stickToContextBottom=function(t){var e=r.contextRect.bottom-r.stickyRect.height;_()(r.props,"onBottom",t,r.props),r.stick(t),r.setState({top:e,bottom:null}),r.pushing(!0)},r.stickToContextTop=function(t){_()(r.props,"onTop",t,r.props),r.unstick(t),r.pushing(!1)},r.stickToScreenBottom=function(t){var e=r.props.bottomOffset;r.stick(t),r.setState({bottom:e,top:null})},r.stickToScreenTop=function(t){var e=r.props.offset;r.stick(t),r.setState({top:e,bottom:null})},r.handleStickyRef=function(t){return r.stickyRef=t},r.handleTriggerRef=function(t){return r.triggerRef=t},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"componentDidMount",value:function(){wt()&&(this.props.active&&(this.handleUpdate(),this.addListeners(this.props)))}},{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=e.active,r=e.scrollContext,i=t.active,o=t.scrollContext;if(n!==i){if(i)return this.handleUpdate(),void this.addListeners(t);this.removeListeners(),this.setState({sticky:!1})}else r!==o&&(this.removeListeners(),this.addListeners(t))}},{key:"componentWillUnmount",value:function(){wt()&&(this.props.active&&this.removeListeners())}},{key:"computeStyle",value:function(){var t=this.state,e=t.bottom,n=t.sticky,r=t.top;return n?{bottom:e,top:r,position:"fixed",width:this.triggerRect.width}:{}}},{key:"render",value:function(){var t=this.props,n=t.children,r=t.className,i=ie(e,this.props),o=oe(e,this.props);return x.a.createElement(o,s()({},i,{className:r}),x.a.createElement("div",{ref:this.handleTriggerRef}),x.a.createElement("div",{ref:this.handleStickyRef,style:this.computeStyle()},n))}}]),e}(b.Component);Ol.defaultProps={active:!0,bottomOffset:0,offset:0,scrollContext:wt()?window:null},Ol._meta={name:"Sticky",type:i.TYPES.MODULE},Ol.handledProps=["active","as","bottomOffset","children","className","context","offset","onBottom","onStick","onTop","onUnstick","pushing","scrollContext"];var Il=Ol;function Pl(t){var e=t.active,n=t.children,i=t.className,o=t.content,a=t.loading,l=Zt()(ot(e,"active"),ot(a,"loading"),"tab",i),u=ie(Pl,t),c=oe(Pl,t),p={};return c===Es&&(p.attached="bottom"),x.a.createElement(c,s()({},p,u,{className:l}),r.isNil(n)?o:n)}Ol.propTypes={},Pl.handledProps=["active","as","children","className","content","loading"],Pl._meta={name:"TabPane",parent:"Tab",type:i.TYPES.MODULE},Pl.defaultProps={as:Es,active:!0},Pl.propTypes={},Pl.create=$t(Pl,(function(t){return{content:t}}));var Nl=Pl,Ml=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleItemClick=function(t,e){var n=e.index;_()(r.props,"onTabChange",t,s()({},r.props,{activeIndex:n})),r.trySetState({activeIndex:n})},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"getInitialAutoControlledState",value:function(){return{activeIndex:0}}},{key:"renderItems",value:function(){var t=this.props,e=t.panes,n=t.renderActiveOnly,r=this.state.activeIndex;return n?_()(Ot()(e,"["+r+"]"),"render",this.props):Ze()(e,(function(t,e){var n=t.pane;return Nl.create(n,{overrideProps:{active:e===r}})}))}},{key:"renderMenu",value:function(){var t=this.props,e=t.menu,n=t.panes,r=this.state.activeIndex;return Ci.create(e,{overrideProps:{items:Ze()(n,"menuItem"),onItemClick:this.handleItemClick,activeIndex:r}})}},{key:"renderVertical",value:function(t){var e=this.props.grid,n=e.paneWidth,r=e.tabWidth,i=cl()(e,["paneWidth","tabWidth"]);return x.a.createElement(va,i,"right"!==t.props.aligned&&fa.create({width:r,children:t}),fa.create({width:n,children:this.renderItems(),stretched:!0}),"right"===t.props.aligned&&fa.create({width:r,children:t}))}},{key:"render",value:function(){var t=this.renderMenu(),n=ie(e,this.props),r=oe(e,this.props);return t.props.vertical?x.a.createElement(r,n,this.renderVertical(t)):x.a.createElement(r,n,"bottom"!==t.props.attached&&t,this.renderItems(),"bottom"===t.props.attached&&t)}}]),e}(F);Ml.autoControlledProps=["activeIndex"],Ml.defaultProps={grid:{paneWidth:12,tabWidth:4},menu:{attached:!0,tabular:!0,aligned:"left"},renderActiveOnly:!0},Ml._meta={name:"Tab",type:i.TYPES.MODULE},Ml.Pane=Nl,Ml.handledProps=["activeIndex","as","defaultActiveIndex","grid","menu","onTabChange","panes","renderActiveOnly"],Ml.propTypes={};var Al=Ml;function Ll(t){var e=t.centered,n=t.children,i=t.className,o=t.content,a=t.test,l=t.unit,u=Zt()("ui",l,ot(e,"centered"),ot(a,"test"),"ad",i),c=ie(Ll,t),p=oe(Ll,t);return x.a.createElement(p,s()({},c,{className:u,"data-text":a}),r.isNil(n)?o:n)}Ll.handledProps=["as","centered","children","className","content","test","unit"],Ll._meta={name:"Advertisement",type:i.TYPES.VIEW},Ll.propTypes={};var Rl=Ll;function Dl(t){var e=t.children,n=t.className,i=t.content,o=t.textAlign,a=Zt()(ut(o),"description",n),l=ie(Dl,t),u=oe(Dl,t);return x.a.createElement(u,s()({},l,{className:a}),r.isNil(e)?i:e)}Dl.handledProps=["as","children","className","content","textAlign"],Dl._meta={name:"CardDescription",parent:"Card",type:i.TYPES.VIEW},Dl.propTypes={};var zl=Dl;function Fl(t){var e=t.children,n=t.className,i=t.content,o=t.textAlign,a=Zt()(ut(o),"header",n),l=ie(Fl,t),u=oe(Fl,t);return x.a.createElement(u,s()({},l,{className:a}),r.isNil(e)?i:e)}Fl.handledProps=["as","children","className","content","textAlign"],Fl._meta={name:"CardHeader",parent:"Card",type:i.TYPES.VIEW},Fl.propTypes={};var jl=Fl;function Bl(t){var e=t.children,n=t.className,i=t.content,o=t.textAlign,a=Zt()(ut(o),"meta",n),l=ie(Bl,t),u=oe(Bl,t);return x.a.createElement(u,s()({},l,{className:a}),r.isNil(e)?i:e)}Bl.handledProps=["as","children","className","content","textAlign"],Bl._meta={name:"CardMeta",parent:"Card",type:i.TYPES.VIEW},Bl.propTypes={};var Ul=Bl;function Vl(t){var e=t.children,n=t.className,i=t.content,o=t.description,a=t.extra,l=t.header,u=t.meta,c=t.textAlign,p=Zt()(ot(a,"extra"),ut(c),"content",n),h=ie(Vl,t),f=oe(Vl,t);return r.isNil(e)?r.isNil(i)?x.a.createElement(f,s()({},h,{className:p}),Kt(jl,(function(t){return{content:t}}),l),Kt(Ul,(function(t){return{content:t}}),u),Kt(zl,(function(t){return{content:t}}),o)):x.a.createElement(f,s()({},h,{className:p}),i):x.a.createElement(f,s()({},h,{className:p}),e)}Vl.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],Vl._meta={name:"CardContent",parent:"Card",type:i.TYPES.VIEW},Vl.propTypes={};var ql=Vl;function Gl(t){var e=t.centered,n=t.children,i=t.className,o=t.content,a=t.doubling,l=t.items,u=t.itemsPerRow,c=t.stackable,p=t.textAlign,h=Zt()("ui",ot(e,"centered"),ot(a,"doubling"),ot(c,"stackable"),ut(p),pt(u),"cards",i),f=ie(Gl,t),d=oe(Gl,t);if(!r.isNil(n))return x.a.createElement(d,s()({},f,{className:h}),n);if(!r.isNil(o))return x.a.createElement(d,s()({},f,{className:h}),o);var g=Ze()(l,(function(t){var e=t.key||[t.header,t.description].join("-");return x.a.createElement(Yl,s()({key:e},t))}));return x.a.createElement(d,s()({},f,{className:h}),g)}Gl.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],Gl._meta={name:"CardGroup",parent:"Card",type:i.TYPES.VIEW},Gl.propTypes={};var Wl=Gl,Hl=function(t){function e(){var t,n,r,i;u()(this,e);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=f()(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),r.handleClick=function(t){var e=r.props.onClick;e&&e(t,r.props)},i=n,f()(r,i)}return g()(e,t),p()(e,[{key:"render",value:function(){var t=this.props,n=t.centered,i=t.children,o=t.className,a=t.color,l=t.content,u=t.description,c=t.extra,p=t.fluid,h=t.header,f=t.href,d=t.image,g=t.link,m=t.meta,v=t.onClick,y=t.raised,_=Zt()("ui",a,ot(n,"centered"),ot(p,"fluid"),ot(g,"link"),ot(y,"raised"),"card",o),b=ie(e,this.props),w=oe(e,this.props,(function(){if(v)return"a"}));return r.isNil(i)?r.isNil(l)?x.a.createElement(w,s()({},b,{className:_,href:f,onClick:this.handleClick}),yr.create(d),(u||h||m)&&x.a.createElement(ql,{description:u,header:h,meta:m}),c&&x.a.createElement(ql,{extra:!0},c)):x.a.createElement(w,s()({},b,{className:_,href:f,onClick:this.handleClick}),l):x.a.createElement(w,s()({},b,{className:_,href:f,onClick:this.handleClick}),i)}}]),e}(b.Component);Hl._meta={name:"Card",type:i.TYPES.VIEW},Hl.Content=ql,Hl.Description=zl,Hl.Group=Wl,Hl.Header=jl,Hl.Meta=Ul,Hl.handledProps=["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"];var Yl=Hl;function Xl(t){var e=t.active,n=t.className,i=t.children,o=t.content,a=Zt()(ot(e,"active"),n),l=ie(Xl,t),u=oe(Xl,t);return x.a.createElement(u,s()({},l,{className:a}),r.isNil(i)?o:i)}Hl.propTypes={},Xl.handledProps=["active","as","children","className","content"],Xl._meta={name:"CommentAction",parent:"Comment",type:i.TYPES.VIEW},Xl.defaultProps={as:"a"},Xl.propTypes={};var Zl=Xl;function Kl(t){var e=t.className,n=t.children,i=t.content,o=Zt()("actions",e),a=ie(Kl,t),l=oe(Kl,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(n)?i:n)}Kl.handledProps=["as","children","className","content"],Kl._meta={name:"CommentActions",parent:"Comment",type:i.TYPES.VIEW},Kl.propTypes={};var $l=Kl;function Jl(t){var e=t.className,n=t.children,i=t.content,o=Zt()("author",e),a=ie(Jl,t),l=oe(Jl,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(n)?i:n)}Jl.handledProps=["as","children","className","content"],Jl._meta={name:"CommentAuthor",parent:"Comment",type:i.TYPES.VIEW},Jl.propTypes={};var Ql=Jl;function tu(t){var e=t.className,n=t.src,r=Zt()("avatar",e),i=ie(tu,t),o=oe(tu,t);return x.a.createElement(o,s()({},i,{className:r}),te(n))}tu.handledProps=["as","className","src"],tu._meta={name:"CommentAvatar",parent:"Comment",type:i.TYPES.VIEW},tu.propTypes={};var eu=tu;function nu(t){var e=t.className,n=t.children,i=t.content,o=Zt()(e,"content"),a=ie(nu,t),l=oe(nu,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(n)?i:n)}nu.handledProps=["as","children","className","content"],nu._meta={name:"CommentContent",parent:"Comment",type:i.TYPES.VIEW},nu.propTypes={};var ru=nu;function iu(t){var e=t.className,n=t.children,i=t.collapsed,o=t.content,a=t.minimal,l=t.size,u=t.threaded,c=Zt()("ui",l,ot(i,"collapsed"),ot(a,"minimal"),ot(u,"threaded"),"comments",e),p=ie(iu,t),h=oe(iu,t);return x.a.createElement(h,s()({},p,{className:c}),r.isNil(n)?o:n)}iu.handledProps=["as","children","className","collapsed","content","minimal","size","threaded"],iu._meta={name:"CommentGroup",parent:"Comment",type:i.TYPES.VIEW},iu.propTypes={};var ou=iu;function au(t){var e=t.className,n=t.children,i=t.content,o=Zt()("metadata",e),a=ie(au,t),l=oe(au,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(n)?i:n)}au.handledProps=["as","children","className","content"],au._meta={name:"CommentMetadata",parent:"Comment",type:i.TYPES.VIEW},au.propTypes={};var su=au;function lu(t){var e=t.className,n=t.children,i=t.content,o=Zt()(e,"text"),a=ie(lu,t),l=oe(lu,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(n)?i:n)}lu.handledProps=["as","children","className","content"],lu._meta={name:"CommentText",parent:"Comment",type:i.TYPES.VIEW},lu.propTypes={};var uu=lu;function cu(t){var e=t.className,n=t.children,i=t.collapsed,o=t.content,a=Zt()(ot(i,"collapsed"),"comment",e),l=ie(cu,t),u=oe(cu,t);return x.a.createElement(u,s()({},l,{className:a}),r.isNil(n)?o:n)}cu.handledProps=["as","children","className","collapsed","content"],cu._meta={name:"Comment",type:i.TYPES.VIEW},cu.propTypes={},cu.Author=Ql,cu.Action=Zl,cu.Actions=$l,cu.Avatar=eu,cu.Content=ru,cu.Group=ou,cu.Metadata=su,cu.Text=uu;var pu=cu;function hu(t){var e=t.children,n=t.className,i=t.content,o=Zt()("date",n),a=ie(hu,t),l=oe(hu,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}hu.handledProps=["as","children","className","content"],hu._meta={name:"FeedDate",parent:"Feed",type:i.TYPES.VIEW},hu.propTypes={};var fu=hu;function du(t){var e=t.children,n=t.className,i=t.content,o=t.images,a=t.text,l=Zt()(ot(o,"images"),ot(i||a,"text"),"extra",n),u=ie(du,t),c=oe(du,t);if(!r.isNil(e))return x.a.createElement(c,s()({},u,{className:l}),e);var p=Ze()(o,(function(t,e){var n=[e,t].join("-");return te(t,{key:n})}));return x.a.createElement(c,s()({},u,{className:l}),i,p)}du.handledProps=["as","children","className","content","images","text"],du._meta={name:"FeedExtra",parent:"Feed",type:i.TYPES.VIEW},du.propTypes={};var gu=du;function mu(t){var e=t.children,n=t.className,i=t.content,o=t.icon,a=Zt()("like",n),l=ie(mu,t),u=oe(mu,t);return r.isNil(e)?x.a.createElement(u,s()({},l,{className:a}),rr.create(o),i):x.a.createElement(u,s()({},l,{className:a}),e)}mu.handledProps=["as","children","className","content","icon"],mu._meta={name:"FeedLike",parent:"Feed",type:i.TYPES.VIEW},mu.defaultProps={as:"a"},mu.propTypes={};var vu=mu;function yu(t){var e=t.children,n=t.className,i=t.content,o=t.like,a=Zt()("meta",n),l=ie(yu,t),u=oe(yu,t);return r.isNil(e)?x.a.createElement(u,s()({},l,{className:a}),Kt(vu,(function(t){return{content:t}}),o),i):x.a.createElement(u,s()({},l,{className:a}),e)}yu.handledProps=["as","children","className","content","like"],yu._meta={name:"FeedMeta",parent:"Feed",type:i.TYPES.VIEW},yu.propTypes={};var _u=yu;function bu(t){var e=t.children,n=t.className,i=t.content,o=Zt()("user",n),a=ie(bu,t),l=oe(bu,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}bu.handledProps=["as","children","className","content"],bu._meta={name:"FeedUser",parent:"Feed",type:i.TYPES.VIEW},bu.propTypes={},bu.defaultProps={as:"a"};var xu=bu;function wu(t){var e=t.children,n=t.className,i=t.content,o=t.date,a=t.user,l=Zt()("summary",n),u=ie(wu,t),c=oe(wu,t);return r.isNil(e)?x.a.createElement(c,s()({},u,{className:l}),Kt(xu,(function(t){return{content:t}}),a),i,Kt(fu,(function(t){return{content:t}}),o)):x.a.createElement(c,s()({},u,{className:l}),e)}wu.handledProps=["as","children","className","content","date","user"],wu._meta={name:"FeedSummary",parent:"Feed",type:i.TYPES.VIEW},wu.propTypes={};var Eu=wu;function Cu(t){var e=t.children,n=t.className,i=t.content,o=t.extraImages,a=t.extraText,l=t.date,u=t.meta,c=t.summary,p=Zt()("content",n),h=ie(Cu,t),f=oe(Cu,t);return r.isNil(e)?x.a.createElement(f,s()({},h,{className:p}),Kt(fu,(function(t){return{content:t}}),l),Kt(Eu,(function(t){return{content:t}}),c),i,Kt(gu,(function(t){return{text:!0,content:t}}),a),Kt(gu,(function(t){return{images:t}}),o),Kt(_u,(function(t){return{content:t}}),u)):x.a.createElement(f,s()({},h,{className:p}),e)}Cu.handledProps=["as","children","className","content","date","extraImages","extraText","meta","summary"],Cu._meta={name:"FeedContent",parent:"Feed",type:i.TYPES.VIEW},Cu.propTypes={};var Su=Cu;function Tu(t){var e=t.children,n=t.className,i=t.content,o=t.icon,a=t.image,l=Zt()("label",n),u=ie(Tu,t),c=oe(Tu,t);return r.isNil(e)?x.a.createElement(c,s()({},u,{className:l}),i,rr.create(o),te(a)):x.a.createElement(c,s()({},u,{className:l}),e)}Tu.handledProps=["as","children","className","content","icon","image"],Tu._meta={name:"FeedLabel",parent:"Feed",type:i.TYPES.VIEW},Tu.propTypes={};var ku=Tu;function Ou(t){var e=t.content,n=t.children,r=t.className,i=t.date,o=t.extraImages,a=t.extraText,l=t.image,u=t.icon,c=t.meta,p=t.summary,h=Zt()("event",r),f=ie(Ou,t),d=oe(Ou,t),g=e||i||o||a||c||p,m={content:e,date:i,extraImages:o,extraText:a,meta:c,summary:p};return x.a.createElement(d,s()({},f,{className:h}),Kt(ku,(function(t){return{icon:t}}),u),Kt(ku,(function(t){return{image:t}}),l),g&&x.a.createElement(Su,m),n)}Ou.handledProps=["as","children","className","content","date","extraImages","extraText","icon","image","meta","summary"],Ou._meta={name:"FeedEvent",parent:"Feed",type:i.TYPES.VIEW},Ou.propTypes={};var Iu=Ou;function Pu(t){var e=t.children,n=t.className,i=t.events,o=t.size,a=Zt()("ui",o,"feed",n),l=ie(Pu,t),u=oe(Pu,t);if(!r.isNil(e))return x.a.createElement(u,s()({},l,{className:a}),e);var c=Ze()(i,(function(t){var e=t.childKey,n=t.date,r=t.meta,i=t.summary,o=cl()(t,["childKey","date","meta","summary"]),a=e||[n,r,i].join("-");return x.a.createElement(Iu,s()({date:n,key:a,meta:r,summary:i},o))}));return x.a.createElement(u,s()({},l,{className:a}),c)}Pu.handledProps=["as","children","className","events","size"],Pu._meta={name:"Feed",type:i.TYPES.VIEW},Pu.propTypes={},Pu.Content=Su,Pu.Date=fu,Pu.Event=Iu,Pu.Extra=gu,Pu.Label=ku,Pu.Like=vu,Pu.Meta=_u,Pu.Summary=Eu,Pu.User=xu;var Nu=Pu;function Mu(t){var e=t.children,n=t.className,i=t.content,o=Zt()("header",n),a=ie(Mu,t),l=oe(Mu,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}Mu.handledProps=["as","children","className","content"],Mu._meta={name:"ItemHeader",parent:"Item",type:i.TYPES.VIEW},Mu.propTypes={},Mu.create=$t(Mu,(function(t){return{content:t}}));var Au=Mu;function Lu(t){var e=t.children,n=t.className,i=t.content,o=Zt()("description",n),a=ie(Lu,t),l=oe(Lu,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}Lu.handledProps=["as","children","className","content"],Lu._meta={name:"ItemDescription",parent:"Item",type:i.TYPES.VIEW},Lu.propTypes={},Lu.create=$t(Lu,(function(t){return{content:t}}));var Ru=Lu;function Du(t){var e=t.children,n=t.className,i=t.content,o=Zt()("extra",n),a=ie(Du,t),l=oe(Du,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}Du.handledProps=["as","children","className","content"],Du._meta={name:"ItemExtra",parent:"Item",type:i.TYPES.VIEW},Du.propTypes={},Du.create=$t(Du,(function(t){return{content:t}}));var zu=Du;function Fu(t){var e=t.children,n=t.className,i=t.content,o=Zt()("meta",n),a=ie(Fu,t),l=oe(Fu,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}Fu.handledProps=["as","children","className","content"],Fu._meta={name:"ItemMeta",parent:"Item",type:i.TYPES.VIEW},Fu.propTypes={},Fu.create=$t(Fu,(function(t){return{content:t}}));var ju=Fu;function Bu(t){var e=t.children,n=t.className,i=t.content,o=t.description,a=t.extra,l=t.header,u=t.meta,c=t.verticalAlign,p=Zt()(ct(c),"content",n),h=ie(Bu,t),f=oe(Bu,t);return r.isNil(e)?x.a.createElement(f,s()({},h,{className:p}),Au.create(l),ju.create(u),Ru.create(o),zu.create(a),i):x.a.createElement(f,s()({},h,{className:p}),e)}Bu.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],Bu._meta={name:"ItemContent",parent:"Item",type:i.TYPES.VIEW},Bu.propTypes={};var Uu=Bu;function Vu(t){var e=t.children,n=t.className,i=t.content,o=t.divided,a=t.items,l=t.link,u=t.relaxed,c=t.unstackable,p=Zt()("ui",ot(o,"divided"),ot(l,"link"),ot(c,"unstackable"),st(u,"relaxed"),"items",n),h=ie(Vu,t),f=oe(Vu,t);if(!r.isNil(e))return x.a.createElement(f,s()({},h,{className:p}),e);if(!r.isNil(i))return x.a.createElement(f,s()({},h,{className:p}),i);var d=Ze()(a,(function(t){var e=t.childKey,n=cl()(t,["childKey"]),r=e||[n.content,n.description,n.header,n.meta].join("-");return x.a.createElement(Yu,s()({},n,{key:r}))}));return x.a.createElement(f,s()({},h,{className:p}),d)}Vu.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],Vu._meta={name:"ItemGroup",type:i.TYPES.VIEW,parent:"Item"},Vu.propTypes={};var qu=Vu;function Gu(t){var e=t.size,n=ie(Gu,t);return x.a.createElement(yr,s()({},n,{size:e,ui:!!e,wrapped:!0}))}Gu.handledProps=["size"],Gu._meta={name:"ItemImage",parent:"Item",type:i.TYPES.VIEW},Gu.propTypes={},Gu.create=$t(Gu,(function(t){return{src:t}}));var Wu=Gu;function Hu(t){var e=t.children,n=t.className,i=t.content,o=t.description,a=t.extra,l=t.header,u=t.image,c=t.meta,p=Zt()("item",n),h=ie(Hu,t),f=oe(Hu,t);return r.isNil(e)?x.a.createElement(f,s()({},h,{className:p}),Wu.create(u),x.a.createElement(Uu,{content:i,description:o,extra:a,header:l,meta:c})):x.a.createElement(f,s()({},h,{className:p}),e)}Hu.handledProps=["as","children","className","content","description","extra","header","image","meta"],Hu._meta={name:"Item",type:i.TYPES.VIEW},Hu.Content=Uu,Hu.Description=Ru,Hu.Extra=zu,Hu.Group=qu,Hu.Header=Au,Hu.Image=Wu,Hu.Meta=ju,Hu.propTypes={};var Yu=Hu;function Xu(t){var e=t.children,n=t.className,i=t.color,o=t.content,a=t.horizontal,l=t.inverted,u=t.items,c=t.size,p=t.widths,h=Zt()("ui",i,c,ot(a,"horizontal"),ot(l,"inverted"),pt(p),"statistics",n),f=ie(Xu,t),d=oe(Xu,t);return r.isNil(e)?r.isNil(o)?x.a.createElement(d,s()({},f,{className:h}),Ze()(u,(function(t){return ec.create(t)}))):x.a.createElement(d,s()({},f,{className:h}),o):x.a.createElement(d,s()({},f,{className:h}),e)}Xu.handledProps=["as","children","className","color","content","horizontal","inverted","items","size","widths"],Xu._meta={name:"StatisticGroup",type:i.TYPES.VIEW,parent:"Statistic"},Xu.propTypes={};var Zu=Xu;function Ku(t){var e=t.children,n=t.className,i=t.content,o=Zt()("label",n),a=ie(Ku,t),l=oe(Ku,t);return x.a.createElement(l,s()({},a,{className:o}),r.isNil(e)?i:e)}Ku.handledProps=["as","children","className","content"],Ku._meta={name:"StatisticLabel",parent:"Statistic",type:i.TYPES.VIEW},Ku.propTypes={},Ku.create=$t(Ku,(function(t){return{content:t}}));var $u=Ku;function Ju(t){var e=t.children,n=t.className,i=t.content,o=t.text,a=Zt()(ot(o,"text"),"value",n),l=ie(Ju,t),u=oe(Ju,t);return x.a.createElement(u,s()({},l,{className:a}),r.isNil(e)?i:e)}Ju.handledProps=["as","children","className","content","text"],Ju._meta={name:"StatisticValue",parent:"Statistic",type:i.TYPES.VIEW},Ju.propTypes={},Ju.create=$t(Ju,(function(t){return{content:t}}));var Qu=Ju;function tc(t){var e=t.children,n=t.className,i=t.color,o=t.content,a=t.floated,l=t.horizontal,u=t.inverted,c=t.label,p=t.size,h=t.text,f=t.value,d=Zt()("ui",i,p,at(a,"floated"),ot(l,"horizontal"),ot(u,"inverted"),"statistic",n),g=ie(tc,t),m=oe(tc,t);return r.isNil(e)?r.isNil(o)?x.a.createElement(m,s()({},g,{className:d}),Qu.create(f,{defaultProps:{text:h}}),$u.create(c)):x.a.createElement(m,s()({},g,{className:d}),o):x.a.createElement(m,s()({},g,{className:d}),e)}tc.handledProps=["as","children","className","color","content","floated","horizontal","inverted","label","size","text","value"],tc._meta={name:"Statistic",type:i.TYPES.VIEW},tc.propTypes={},tc.Group=Zu,tc.Label=$u,tc.Value=Qu,tc.create=$t(tc,(function(t){return{content:t}}));var ec=tc;n.d(e,"Confirm",(function(){return di})),n.d(e,"MountNode",(function(){return ni})),n.d(e,"Pagination",(function(){return Oi})),n.d(e,"PaginationItem",(function(){return Ti})),n.d(e,"Portal",(function(){return ur})),n.d(e,"Radio",(function(){return Mi})),n.d(e,"Ref",(function(){return sr})),n.d(e,"Responsive",(function(){return Ri})),n.d(e,"Select",(function(){return _o})),n.d(e,"TextArea",(function(){return Eo})),n.d(e,"TransitionablePortal",(function(){return Lo})),n.d(e,"Visibility",(function(){return Do})),n.d(e,"Breadcrumb",(function(){return Vo})),n.d(e,"BreadcrumbDivider",(function(){return Fo})),n.d(e,"BreadcrumbSection",(function(){return Bo})),n.d(e,"Form",(function(){return pa})),n.d(e,"FormButton",(function(){return Ho})),n.d(e,"FormCheckbox",(function(){return Xo})),n.d(e,"FormDropdown",(function(){return Ko})),n.d(e,"FormField",(function(){return Go})),n.d(e,"FormGroup",(function(){return Jo})),n.d(e,"FormInput",(function(){return na})),n.d(e,"FormRadio",(function(){return ia})),n.d(e,"FormSelect",(function(){return aa})),n.d(e,"FormTextArea",(function(){return la})),n.d(e,"Grid",(function(){return va})),n.d(e,"GridColumn",(function(){return fa})),n.d(e,"GridRow",(function(){return ga})),n.d(e,"Menu",(function(){return Ci})),n.d(e,"MenuHeader",(function(){return mi})),n.d(e,"MenuItem",(function(){return bi})),n.d(e,"MenuMenu",(function(){return wi})),n.d(e,"Message",(function(){return ka})),n.d(e,"MessageContent",(function(){return _a})),n.d(e,"MessageHeader",(function(){return xa})),n.d(e,"MessageItem",(function(){return Ea})),n.d(e,"MessageList",(function(){return Sa})),n.d(e,"Table",(function(){return Ua})),n.d(e,"TableBody",(function(){return Ia})),n.d(e,"TableCell",(function(){return Na})),n.d(e,"TableFooter",(function(){return Ra})),n.d(e,"TableHeader",(function(){return Aa})),n.d(e,"TableHeaderCell",(function(){return za})),n.d(e,"TableRow",(function(){return ja})),n.d(e,"Button",(function(){return Mr})),n.d(e,"ButtonContent",(function(){return Tr})),n.d(e,"ButtonGroup",(function(){return Or})),n.d(e,"ButtonOr",(function(){return Pr})),n.d(e,"Container",(function(){return qa})),n.d(e,"Divider",(function(){return Wa})),n.d(e,"Flag",(function(){return oo})),n.d(e,"Header",(function(){return $a})),n.d(e,"HeaderContent",(function(){return Za})),n.d(e,"HeaderSubheader",(function(){return Ya})),n.d(e,"Icon",(function(){return rr})),n.d(e,"IconGroup",(function(){return er})),n.d(e,"Image",(function(){return yr})),n.d(e,"ImageGroup",(function(){return gr})),n.d(e,"Input",(function(){return ta})),n.d(e,"Label",(function(){return Cr})),n.d(e,"LabelDetail",(function(){return br})),n.d(e,"LabelGroup",(function(){return wr})),n.d(e,"List",(function(){return ps})),n.d(e,"ListContent",(function(){return rs})),n.d(e,"ListDescription",(function(){return Qa})),n.d(e,"ListHeader",(function(){return es})),n.d(e,"ListIcon",(function(){return os})),n.d(e,"ListItem",(function(){return ss})),n.d(e,"ListList",(function(){return us})),n.d(e,"Loader",(function(){return fs})),n.d(e,"Rail",(function(){return gs})),n.d(e,"Reveal",(function(){return _s})),n.d(e,"RevealContent",(function(){return vs})),n.d(e,"Segment",(function(){return Es})),n.d(e,"SegmentGroup",(function(){return xs})),n.d(e,"Step",(function(){return Ls})),n.d(e,"StepContent",(function(){return Is})),n.d(e,"StepDescription",(function(){return Ss})),n.d(e,"StepGroup",(function(){return Ms})),n.d(e,"StepTitle",(function(){return ks})),n.d(e,"Accordion",(function(){return Vs})),n.d(e,"AccordionAccordion",(function(){return Bs})),n.d(e,"AccordionContent",(function(){return Ds})),n.d(e,"AccordionTitle",(function(){return Fs})),n.d(e,"Checkbox",(function(){return Pi})),n.d(e,"Dimmer",(function(){return fr})),n.d(e,"DimmerDimmable",(function(){return pr})),n.d(e,"Dropdown",(function(){return vo})),n.d(e,"DropdownDivider",(function(){return ro})),n.d(e,"DropdownHeader",(function(){return uo})),n.d(e,"DropdownItem",(function(){return so})),n.d(e,"DropdownMenu",(function(){return po})),n.d(e,"DropdownSearchInput",(function(){return fo})),n.d(e,"Embed",(function(){return Gs})),n.d(e,"Modal",(function(){return hi})),n.d(e,"ModalActions",(function(){return li})),n.d(e,"ModalContent",(function(){return ai})),n.d(e,"ModalDescription",(function(){return ci})),n.d(e,"ModalHeader",(function(){return ii})),n.d(e,"Popup",(function(){return $s})),n.d(e,"PopupContent",(function(){return Ys})),n.d(e,"PopupHeader",(function(){return Xs})),n.d(e,"Progress",(function(){return rl})),n.d(e,"Rating",(function(){return ll})),n.d(e,"RatingIcon",(function(){return ol})),n.d(e,"Search",(function(){return xl})),n.d(e,"SearchCategory",(function(){return dl})),n.d(e,"SearchResult",(function(){return vl})),n.d(e,"SearchResults",(function(){return _l})),n.d(e,"Sidebar",(function(){return kl})),n.d(e,"SidebarPushable",(function(){return El})),n.d(e,"SidebarPusher",(function(){return Sl})),n.d(e,"Sticky",(function(){return Il})),n.d(e,"Tab",(function(){return Al})),n.d(e,"TabPane",(function(){return Nl})),n.d(e,"Transition",(function(){return Mo})),n.d(e,"TransitionGroup",(function(){return Oo})),n.d(e,"Advertisement",(function(){return Rl})),n.d(e,"Card",(function(){return Yl})),n.d(e,"CardContent",(function(){return ql})),n.d(e,"CardDescription",(function(){return zl})),n.d(e,"CardGroup",(function(){return Wl})),n.d(e,"CardHeader",(function(){return jl})),n.d(e,"CardMeta",(function(){return Ul})),n.d(e,"Comment",(function(){return pu})),n.d(e,"CommentAction",(function(){return Zl})),n.d(e,"CommentActions",(function(){return $l})),n.d(e,"CommentAuthor",(function(){return Ql})),n.d(e,"CommentAvatar",(function(){return eu})),n.d(e,"CommentContent",(function(){return ru})),n.d(e,"CommentGroup",(function(){return ou})),n.d(e,"CommentMetadata",(function(){return su})),n.d(e,"CommentText",(function(){return uu})),n.d(e,"Feed",(function(){return Nu})),n.d(e,"FeedContent",(function(){return Su})),n.d(e,"FeedDate",(function(){return fu})),n.d(e,"FeedEvent",(function(){return Iu})),n.d(e,"FeedExtra",(function(){return gu})),n.d(e,"FeedLabel",(function(){return ku})),n.d(e,"FeedLike",(function(){return vu})),n.d(e,"FeedMeta",(function(){return _u})),n.d(e,"FeedSummary",(function(){return Eu})),n.d(e,"FeedUser",(function(){return xu})),n.d(e,"Item",(function(){return Yu})),n.d(e,"ItemContent",(function(){return Uu})),n.d(e,"ItemDescription",(function(){return Ru})),n.d(e,"ItemExtra",(function(){return zu})),n.d(e,"ItemGroup",(function(){return qu})),n.d(e,"ItemHeader",(function(){return Au})),n.d(e,"ItemImage",(function(){return Wu})),n.d(e,"ItemMeta",(function(){return ju})),n.d(e,"Statistic",(function(){return ec})),n.d(e,"StatisticGroup",(function(){return Zu})),n.d(e,"StatisticLabel",(function(){return $u})),n.d(e,"StatisticValue",(function(){return Qu}))}]);